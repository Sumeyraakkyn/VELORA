"use strict";var uFe=Object.create;var aL=Object.defineProperty;var lFe=Object.getOwnPropertyDescriptor;var dFe=Object.getOwnPropertyNames;var fFe=Object.getPrototypeOf,hFe=Object.prototype.hasOwnProperty;var Ci=(r,e)=>()=>(r&&(e=r(r=0)),e);var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),BR=(r,e)=>{for(var t in e)aL(r,t,{get:e[t],enumerable:!0})},mse=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dFe(e))!hFe.call(r,i)&&i!==t&&aL(r,i,{get:()=>e[i],enumerable:!(n=lFe(e,i))||n.enumerable});return r};var Me=(r,e,t)=>(t=r!=null?uFe(fFe(r)):{},mse(e||!r||!r.__esModule?aL(t,"default",{value:r,enumerable:!0}):t,r)),vS=r=>mse(aL({},"__esModule",{value:!0}),r);var GR=P((HEt,Dse)=>{var pFe="2.0.0",mFe=Number.MAX_SAFE_INTEGER||9007199254740991,gFe=16,vFe=250,_Fe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Dse.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:gFe,MAX_SAFE_BUILD_LENGTH:vFe,MAX_SAFE_INTEGER:mFe,RELEASE_TYPES:_Fe,SEMVER_SPEC_VERSION:pFe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var KR=P((BEt,Pse)=>{var yFe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Pse.exports=yFe});var aD=P((Nb,Ese)=>{var{MAX_SAFE_COMPONENT_LENGTH:z$,MAX_SAFE_BUILD_LENGTH:bFe,MAX_LENGTH:wFe}=GR(),SFe=KR();Nb=Ese.exports={};var CFe=Nb.re=[],TFe=Nb.safeRe=[],fn=Nb.src=[],hn=Nb.t={},DFe=0,U$="[a-zA-Z0-9-]",PFe=[["\\s",1],["\\d",wFe],[U$,bFe]],EFe=r=>{for(let[e,t]of PFe)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Yi=(r,e,t)=>{let n=EFe(e),i=DFe++;SFe(r,i,e),hn[r]=i,fn[i]=e,CFe[i]=new RegExp(e,t?"g":void 0),TFe[i]=new RegExp(n,t?"g":void 0)};Yi("NUMERICIDENTIFIER","0|[1-9]\\d*");Yi("NUMERICIDENTIFIERLOOSE","\\d+");Yi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${U$}*`);Yi("MAINVERSION",`(${fn[hn.NUMERICIDENTIFIER]})\\.(${fn[hn.NUMERICIDENTIFIER]})\\.(${fn[hn.NUMERICIDENTIFIER]})`);Yi("MAINVERSIONLOOSE",`(${fn[hn.NUMERICIDENTIFIERLOOSE]})\\.(${fn[hn.NUMERICIDENTIFIERLOOSE]})\\.(${fn[hn.NUMERICIDENTIFIERLOOSE]})`);Yi("PRERELEASEIDENTIFIER",`(?:${fn[hn.NUMERICIDENTIFIER]}|${fn[hn.NONNUMERICIDENTIFIER]})`);Yi("PRERELEASEIDENTIFIERLOOSE",`(?:${fn[hn.NUMERICIDENTIFIERLOOSE]}|${fn[hn.NONNUMERICIDENTIFIER]})`);Yi("PRERELEASE",`(?:-(${fn[hn.PRERELEASEIDENTIFIER]}(?:\\.${fn[hn.PRERELEASEIDENTIFIER]})*))`);Yi("PRERELEASELOOSE",`(?:-?(${fn[hn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fn[hn.PRERELEASEIDENTIFIERLOOSE]})*))`);Yi("BUILDIDENTIFIER",`${U$}+`);Yi("BUILD",`(?:\\+(${fn[hn.BUILDIDENTIFIER]}(?:\\.${fn[hn.BUILDIDENTIFIER]})*))`);Yi("FULLPLAIN",`v?${fn[hn.MAINVERSION]}${fn[hn.PRERELEASE]}?${fn[hn.BUILD]}?`);Yi("FULL",`^${fn[hn.FULLPLAIN]}$`);Yi("LOOSEPLAIN",`[v=\\s]*${fn[hn.MAINVERSIONLOOSE]}${fn[hn.PRERELEASELOOSE]}?${fn[hn.BUILD]}?`);Yi("LOOSE",`^${fn[hn.LOOSEPLAIN]}$`);Yi("GTLT","((?:<|>)?=?)");Yi("XRANGEIDENTIFIERLOOSE",`${fn[hn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Yi("XRANGEIDENTIFIER",`${fn[hn.NUMERICIDENTIFIER]}|x|X|\\*`);Yi("XRANGEPLAIN",`[v=\\s]*(${fn[hn.XRANGEIDENTIFIER]})(?:\\.(${fn[hn.XRANGEIDENTIFIER]})(?:\\.(${fn[hn.XRANGEIDENTIFIER]})(?:${fn[hn.PRERELEASE]})?${fn[hn.BUILD]}?)?)?`);Yi("XRANGEPLAINLOOSE",`[v=\\s]*(${fn[hn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fn[hn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fn[hn.XRANGEIDENTIFIERLOOSE]})(?:${fn[hn.PRERELEASELOOSE]})?${fn[hn.BUILD]}?)?)?`);Yi("XRANGE",`^${fn[hn.GTLT]}\\s*${fn[hn.XRANGEPLAIN]}$`);Yi("XRANGELOOSE",`^${fn[hn.GTLT]}\\s*${fn[hn.XRANGEPLAINLOOSE]}$`);Yi("COERCE",`(^|[^\\d])(\\d{1,${z$}})(?:\\.(\\d{1,${z$}}))?(?:\\.(\\d{1,${z$}}))?(?:$|[^\\d])`);Yi("COERCERTL",fn[hn.COERCE],!0);Yi("LONETILDE","(?:~>?)");Yi("TILDETRIM",`(\\s*)${fn[hn.LONETILDE]}\\s+`,!0);Nb.tildeTrimReplace="$1~";Yi("TILDE",`^${fn[hn.LONETILDE]}${fn[hn.XRANGEPLAIN]}$`);Yi("TILDELOOSE",`^${fn[hn.LONETILDE]}${fn[hn.XRANGEPLAINLOOSE]}$`);Yi("LONECARET","(?:\\^)");Yi("CARETTRIM",`(\\s*)${fn[hn.LONECARET]}\\s+`,!0);Nb.caretTrimReplace="$1^";Yi("CARET",`^${fn[hn.LONECARET]}${fn[hn.XRANGEPLAIN]}$`);Yi("CARETLOOSE",`^${fn[hn.LONECARET]}${fn[hn.XRANGEPLAINLOOSE]}$`);Yi("COMPARATORLOOSE",`^${fn[hn.GTLT]}\\s*(${fn[hn.LOOSEPLAIN]})$|^$`);Yi("COMPARATOR",`^${fn[hn.GTLT]}\\s*(${fn[hn.FULLPLAIN]})$|^$`);Yi("COMPARATORTRIM",`(\\s*)${fn[hn.GTLT]}\\s*(${fn[hn.LOOSEPLAIN]}|${fn[hn.XRANGEPLAIN]})`,!0);Nb.comparatorTrimReplace="$1$2$3";Yi("HYPHENRANGE",`^\\s*(${fn[hn.XRANGEPLAIN]})\\s+-\\s+(${fn[hn.XRANGEPLAIN]})\\s*$`);Yi("HYPHENRANGELOOSE",`^\\s*(${fn[hn.XRANGEPLAINLOOSE]})\\s+-\\s+(${fn[hn.XRANGEPLAINLOOSE]})\\s*$`);Yi("STAR","(<|>)?=?\\s*\\*");Yi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Yi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var uL=P((WEt,xse)=>{var xFe=Object.freeze({loose:!0}),RFe=Object.freeze({}),OFe=r=>r?typeof r!="object"?xFe:r:RFe;xse.exports=OFe});var H$=P(($Et,Ise)=>{var Rse=/^[0-9]+$/,Ose=(r,e)=>{let t=Rse.test(r),n=Rse.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},IFe=(r,e)=>Ose(e,r);Ise.exports={compareIdentifiers:Ose,rcompareIdentifiers:IFe}});var _f=P((VEt,Lse)=>{var lL=KR(),{MAX_LENGTH:kse,MAX_SAFE_INTEGER:dL}=GR(),{safeRe:Ase,t:Mse}=aD(),kFe=uL(),{compareIdentifiers:cD}=H$(),B$=class r{constructor(e,t){if(t=kFe(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>kse)throw new TypeError(`version is longer than ${kse} characters`);lL("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Ase[Mse.LOOSE]:Ase[Mse.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>dL||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dL||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dL||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<dL)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(lL("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),cD(this.major,e.major)||cD(this.minor,e.minor)||cD(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(lL("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return cD(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(lL("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return cD(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),cD(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Lse.exports=B$});var yS=P((GEt,qse)=>{var Nse=_f(),AFe=(r,e,t=!1)=>{if(r instanceof Nse)return r;try{return new Nse(r,e)}catch(n){if(!t)return null;throw n}};qse.exports=AFe});var jse=P((KEt,Fse)=>{var MFe=yS(),LFe=(r,e)=>{let t=MFe(r,e);return t?t.version:null};Fse.exports=LFe});var Use=P((YEt,zse)=>{var NFe=yS(),qFe=(r,e)=>{let t=NFe(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};zse.exports=qFe});var Wse=P((JEt,Bse)=>{var Hse=_f(),FFe=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new Hse(r instanceof Hse?r.version:r,t).inc(e,n,i).version}catch{return null}};Bse.exports=FFe});var Gse=P((XEt,Vse)=>{var $se=yS(),jFe=(r,e)=>{let t=$se(r,null,!0),n=$se(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};Vse.exports=jFe});var Yse=P((QEt,Kse)=>{var zFe=_f(),UFe=(r,e)=>new zFe(r,e).major;Kse.exports=UFe});var Xse=P((ZEt,Jse)=>{var HFe=_f(),BFe=(r,e)=>new HFe(r,e).minor;Jse.exports=BFe});var Zse=P((ext,Qse)=>{var WFe=_f(),$Fe=(r,e)=>new WFe(r,e).patch;Qse.exports=$Fe});var tae=P((txt,eae)=>{var VFe=yS(),GFe=(r,e)=>{let t=VFe(r,e);return t&&t.prerelease.length?t.prerelease:null};eae.exports=GFe});var Ng=P((rxt,nae)=>{var rae=_f(),KFe=(r,e,t)=>new rae(r,t).compare(new rae(e,t));nae.exports=KFe});var oae=P((nxt,iae)=>{var YFe=Ng(),JFe=(r,e,t)=>YFe(e,r,t);iae.exports=JFe});var aae=P((ixt,sae)=>{var XFe=Ng(),QFe=(r,e)=>XFe(r,e,!0);sae.exports=QFe});var fL=P((oxt,uae)=>{var cae=_f(),ZFe=(r,e,t)=>{let n=new cae(r,t),i=new cae(e,t);return n.compare(i)||n.compareBuild(i)};uae.exports=ZFe});var dae=P((sxt,lae)=>{var e2e=fL(),t2e=(r,e)=>r.sort((t,n)=>e2e(t,n,e));lae.exports=t2e});var hae=P((axt,fae)=>{var r2e=fL(),n2e=(r,e)=>r.sort((t,n)=>r2e(n,t,e));fae.exports=n2e});var YR=P((cxt,pae)=>{var i2e=Ng(),o2e=(r,e,t)=>i2e(r,e,t)>0;pae.exports=o2e});var hL=P((uxt,mae)=>{var s2e=Ng(),a2e=(r,e,t)=>s2e(r,e,t)<0;mae.exports=a2e});var W$=P((lxt,gae)=>{var c2e=Ng(),u2e=(r,e,t)=>c2e(r,e,t)===0;gae.exports=u2e});var $$=P((dxt,vae)=>{var l2e=Ng(),d2e=(r,e,t)=>l2e(r,e,t)!==0;vae.exports=d2e});var pL=P((fxt,_ae)=>{var f2e=Ng(),h2e=(r,e,t)=>f2e(r,e,t)>=0;_ae.exports=h2e});var mL=P((hxt,yae)=>{var p2e=Ng(),m2e=(r,e,t)=>p2e(r,e,t)<=0;yae.exports=m2e});var V$=P((pxt,bae)=>{var g2e=W$(),v2e=$$(),_2e=YR(),y2e=pL(),b2e=hL(),w2e=mL(),S2e=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return g2e(r,t,n);case"!=":return v2e(r,t,n);case">":return _2e(r,t,n);case">=":return y2e(r,t,n);case"<":return b2e(r,t,n);case"<=":return w2e(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};bae.exports=S2e});var Sae=P((mxt,wae)=>{var C2e=_f(),T2e=yS(),{safeRe:gL,t:vL}=aD(),D2e=(r,e)=>{if(r instanceof C2e)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(gL[vL.COERCE]);else{let n;for(;(n=gL[vL.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),gL[vL.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;gL[vL.COERCERTL].lastIndex=-1}return t===null?null:T2e(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};wae.exports=D2e});var Tae=P((gxt,Cae)=>{"use strict";Cae.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Pae=P((vxt,Dae)=>{"use strict";Dae.exports=ts;ts.Node=f0;ts.create=ts;function ts(r){var e=this;if(e instanceof ts||(e=new ts),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}ts.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};ts.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};ts.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};ts.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)E2e(this,arguments[r]);return this.length};ts.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)x2e(this,arguments[r]);return this.length};ts.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};ts.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};ts.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};ts.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};ts.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};ts.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};ts.prototype.map=function(r,e){e=e||this;for(var t=new ts,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};ts.prototype.mapReverse=function(r,e){e=e||this;for(var t=new ts,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};ts.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};ts.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};ts.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};ts.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};ts.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ts;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};ts.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ts;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};ts.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=P2e(this,i,t[n]);return o};ts.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function P2e(r,e,t){var n=e===r.head?new f0(t,null,e,r):new f0(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function E2e(r,e){r.tail=new f0(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function x2e(r,e){r.head=new f0(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function f0(r,e,t,n){if(!(this instanceof f0))return new f0(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Tae()(ts)}catch{}});var Iae=P((_xt,Oae)=>{"use strict";var R2e=Pae(),h0=Symbol("max"),Fb=Symbol("length"),uD=Symbol("lengthCalculator"),XR=Symbol("allowStale"),p0=Symbol("maxAge"),qb=Symbol("dispose"),Eae=Symbol("noDisposeOnSet"),Ul=Symbol("lruList"),Wv=Symbol("cache"),Rae=Symbol("updateAgeOnGet"),G$=()=>1,Y$=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[h0]=e.max||1/0,n=e.length||G$;if(this[uD]=typeof n!="function"?G$:n,this[XR]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[p0]=e.maxAge||0,this[qb]=e.dispose,this[Eae]=e.noDisposeOnSet||!1,this[Rae]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[h0]=e||1/0,JR(this)}get max(){return this[h0]}set allowStale(e){this[XR]=!!e}get allowStale(){return this[XR]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[p0]=e,JR(this)}get maxAge(){return this[p0]}set lengthCalculator(e){typeof e!="function"&&(e=G$),e!==this[uD]&&(this[uD]=e,this[Fb]=0,this[Ul].forEach(t=>{t.length=this[uD](t.value,t.key),this[Fb]+=t.length})),JR(this)}get lengthCalculator(){return this[uD]}get length(){return this[Fb]}get itemCount(){return this[Ul].length}rforEach(e,t){t=t||this;for(let n=this[Ul].tail;n!==null;){let i=n.prev;xae(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[Ul].head;n!==null;){let i=n.next;xae(this,e,n,t),n=i}}keys(){return this[Ul].toArray().map(e=>e.key)}values(){return this[Ul].toArray().map(e=>e.value)}reset(){this[qb]&&this[Ul]&&this[Ul].length&&this[Ul].forEach(e=>this[qb](e.key,e.value)),this[Wv]=new Map,this[Ul]=new R2e,this[Fb]=0}dump(){return this[Ul].map(e=>_L(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ul]}set(e,t,n){if(n=n||this[p0],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[uD](t,e);if(this[Wv].has(e)){if(o>this[h0])return lD(this,this[Wv].get(e)),!1;let c=this[Wv].get(e).value;return this[qb]&&(this[Eae]||this[qb](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[Fb]+=o-c.length,c.length=o,this.get(e),JR(this),!0}let s=new J$(e,t,o,i,n);return s.length>this[h0]?(this[qb]&&this[qb](e,t),!1):(this[Fb]+=s.length,this[Ul].unshift(s),this[Wv].set(e,this[Ul].head),JR(this),!0)}has(e){if(!this[Wv].has(e))return!1;let t=this[Wv].get(e).value;return!_L(this,t)}get(e){return K$(this,e,!0)}peek(e){return K$(this,e,!1)}pop(){let e=this[Ul].tail;return e?(lD(this,e),e.value):null}del(e){lD(this,this[Wv].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Wv].forEach((e,t)=>K$(this,t,!1))}},K$=(r,e,t)=>{let n=r[Wv].get(e);if(n){let i=n.value;if(_L(r,i)){if(lD(r,n),!r[XR])return}else t&&(r[Rae]&&(n.value.now=Date.now()),r[Ul].unshiftNode(n));return i.value}},_L=(r,e)=>{if(!e||!e.maxAge&&!r[p0])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[p0]&&t>r[p0]},JR=r=>{if(r[Fb]>r[h0])for(let e=r[Ul].tail;r[Fb]>r[h0]&&e!==null;){let t=e.prev;lD(r,e),e=t}},lD=(r,e)=>{if(e){let t=e.value;r[qb]&&r[qb](t.key,t.value),r[Fb]-=t.length,r[Wv].delete(t.key),r[Ul].removeNode(e)}},J$=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},xae=(r,e,t,n)=>{let i=t.value;_L(r,i)&&(lD(r,t),r[XR]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};Oae.exports=Y$});var qg=P((yxt,Lae)=>{var X$=class r{constructor(e,t){if(t=I2e(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof Q$)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Aae(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&F2e(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&N2e)|(this.options.loose&&q2e))+":"+e,i=kae.get(n);if(i)return i;let o=this.options.loose,s=o?Pp[Sh.HYPHENRANGELOOSE]:Pp[Sh.HYPHENRANGE];e=e.replace(s,K2e(this.options.includePrerelease)),Da("hyphen replace",e),e=e.replace(Pp[Sh.COMPARATORTRIM],A2e),Da("comparator trim",e),e=e.replace(Pp[Sh.TILDETRIM],M2e),Da("tilde trim",e),e=e.replace(Pp[Sh.CARETTRIM],L2e),Da("caret trim",e);let a=e.split(" ").map(d=>j2e(d,this.options)).join(" ").split(/\s+/).map(d=>G2e(d,this.options));o&&(a=a.filter(d=>(Da("loose invalid filter",d,this.options),!!d.match(Pp[Sh.COMPARATORLOOSE])))),Da("range list",a);let c=new Map,u=a.map(d=>new Q$(d,this.options));for(let d of u){if(Aae(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return kae.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>Mae(n,t)&&e.set.some(i=>Mae(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new k2e(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Y2e(this.set[t],e,this.options))return!0;return!1}};Lae.exports=X$;var O2e=Iae(),kae=new O2e({max:1e3}),I2e=uL(),Q$=QR(),Da=KR(),k2e=_f(),{safeRe:Pp,t:Sh,comparatorTrimReplace:A2e,tildeTrimReplace:M2e,caretTrimReplace:L2e}=aD(),{FLAG_INCLUDE_PRERELEASE:N2e,FLAG_LOOSE:q2e}=GR(),Aae=r=>r.value==="<0.0.0-0",F2e=r=>r.value==="",Mae=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},j2e=(r,e)=>(Da("comp",r,e),r=H2e(r,e),Da("caret",r),r=z2e(r,e),Da("tildes",r),r=W2e(r,e),Da("xrange",r),r=V2e(r,e),Da("stars",r),r),Ch=r=>!r||r.toLowerCase()==="x"||r==="*",z2e=(r,e)=>r.trim().split(/\s+/).map(t=>U2e(t,e)).join(" "),U2e=(r,e)=>{let t=e.loose?Pp[Sh.TILDELOOSE]:Pp[Sh.TILDE];return r.replace(t,(n,i,o,s,a)=>{Da("tilde",r,n,i,o,s,a);let c;return Ch(i)?c="":Ch(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Ch(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Da("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Da("tilde return",c),c})},H2e=(r,e)=>r.trim().split(/\s+/).map(t=>B2e(t,e)).join(" "),B2e=(r,e)=>{Da("caret",r,e);let t=e.loose?Pp[Sh.CARETLOOSE]:Pp[Sh.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Da("caret",r,i,o,s,a,c);let u;return Ch(o)?u="":Ch(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Ch(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Da("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Da("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Da("caret return",u),u})},W2e=(r,e)=>(Da("replaceXRanges",r,e),r.split(/\s+/).map(t=>$2e(t,e)).join(" ")),$2e=(r,e)=>{r=r.trim();let t=e.loose?Pp[Sh.XRANGELOOSE]:Pp[Sh.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Da("xRange",r,n,i,o,s,a,c);let u=Ch(o),l=u||Ch(s),d=l||Ch(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Da("xRange return",n),n})},V2e=(r,e)=>(Da("replaceStars",r,e),r.trim().replace(Pp[Sh.STAR],"")),G2e=(r,e)=>(Da("replaceGTE0",r,e),r.trim().replace(Pp[e.includePrerelease?Sh.GTE0PRE:Sh.GTE0],"")),K2e=r=>(e,t,n,i,o,s,a,c,u,l,d,f,_)=>(Ch(n)?t="":Ch(i)?t=`>=${n}.0.0${r?"-0":""}`:Ch(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Ch(u)?c="":Ch(l)?c=`<${+u+1}.0.0-0`:Ch(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Y2e=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Da(r[n].semver),r[n].semver!==Q$.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var QR=P((bxt,Uae)=>{var ZR=Symbol("SemVer ANY"),t3=class r{static get ANY(){return ZR}constructor(e,t){if(t=Nae(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),e3("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ZR?this.value="":this.value=this.operator+this.semver.version,e3("comp",this)}parse(e){let t=this.options.loose?qae[Fae.COMPARATORLOOSE]:qae[Fae.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new jae(n[2],this.options.loose):this.semver=ZR}toString(){return this.value}test(e){if(e3("Comparator.test",e,this.options.loose),this.semver===ZR||e===ZR)return!0;if(typeof e=="string")try{e=new jae(e,this.options)}catch{return!1}return Z$(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new zae(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new zae(this.value,t).test(e.semver):(t=Nae(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Z$(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Z$(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Uae.exports=t3;var Nae=uL(),{safeRe:qae,t:Fae}=aD(),Z$=V$(),e3=KR(),jae=_f(),zae=qg()});var dD=P((wxt,Hae)=>{var J2e=qg(),X2e=(r,e,t)=>{try{e=new J2e(e,t)}catch{return!1}return e.test(r)};Hae.exports=X2e});var Wae=P((Sxt,Bae)=>{var Q2e=qg(),Z2e=(r,e)=>new Q2e(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Bae.exports=Z2e});var Vae=P((Cxt,$ae)=>{var eje=_f(),tje=qg(),rje=(r,e,t)=>{let n=null,i=null,o=null;try{o=new tje(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new eje(n,t))}),n};$ae.exports=rje});var Kae=P((Txt,Gae)=>{var nje=_f(),ije=qg(),oje=(r,e,t)=>{let n=null,i=null,o=null;try{o=new ije(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new nje(n,t))}),n};Gae.exports=oje});var Xae=P((Dxt,Jae)=>{var r3=_f(),sje=qg(),Yae=YR(),aje=(r,e)=>{r=new sje(r,e);let t=new r3("0.0.0");if(r.test(t)||(t=new r3("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new r3(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Yae(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||Yae(t,o))&&(t=o)}return t&&r.test(t)?t:null};Jae.exports=aje});var Zae=P((Pxt,Qae)=>{var cje=qg(),uje=(r,e)=>{try{return new cje(r,e).range||"*"}catch{return null}};Qae.exports=uje});var yL=P((Ext,nce)=>{var lje=_f(),rce=QR(),{ANY:dje}=rce,fje=qg(),hje=dD(),ece=YR(),tce=hL(),pje=mL(),mje=pL(),gje=(r,e,t,n)=>{r=new lje(r,n),e=new fje(e,n);let i,o,s,a,c;switch(t){case">":i=ece,o=pje,s=tce,a=">",c=">=";break;case"<":i=tce,o=mje,s=ece,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hje(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(_=>{_.semver===dje&&(_=new rce(">=0.0.0")),d=d||_,f=f||_,i(_.semver,d.semver,n)?d=_:s(_.semver,f.semver,n)&&(f=_)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};nce.exports=gje});var oce=P((xxt,ice)=>{var vje=yL(),_je=(r,e,t)=>vje(r,e,">",t);ice.exports=_je});var ace=P((Rxt,sce)=>{var yje=yL(),bje=(r,e,t)=>yje(r,e,"<",t);sce.exports=bje});var lce=P((Oxt,uce)=>{var cce=qg(),wje=(r,e,t)=>(r=new cce(r,t),e=new cce(e,t),r.intersects(e,t));uce.exports=wje});var fce=P((Ixt,dce)=>{var Sje=dD(),Cje=Ng();dce.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>Cje(l,d,t));for(let l of s)Sje(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var _ce=P((kxt,vce)=>{var hce=qg(),i3=QR(),{ANY:n3}=i3,eO=dD(),o3=Ng(),Tje=(r,e,t={})=>{if(r===e)return!0;r=new hce(r,t),e=new hce(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=Pje(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},Dje=[new i3(">=0.0.0-0")],pce=[new i3(">=0.0.0")],Pje=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===n3){if(e.length===1&&e[0].semver===n3)return!0;t.includePrerelease?r=Dje:r=pce}if(e.length===1&&e[0].semver===n3){if(t.includePrerelease)return!0;e=pce}let n=new Set,i,o;for(let _ of r)_.operator===">"||_.operator===">="?i=mce(i,_,t):_.operator==="<"||_.operator==="<="?o=gce(o,_,t):n.add(_.semver);if(n.size>1)return null;let s;if(i&&o){if(s=o3(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let _ of n){if(i&&!eO(_,String(i),t)||o&&!eO(_,String(o),t))return null;for(let y of e)if(!eO(_,String(y),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let _ of e){if(l=l||_.operator===">"||_.operator===">=",u=u||_.operator==="<"||_.operator==="<=",i){if(f&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===f.major&&_.semver.minor===f.minor&&_.semver.patch===f.patch&&(f=!1),_.operator===">"||_.operator===">="){if(a=mce(i,_,t),a===_&&a!==i)return!1}else if(i.operator===">="&&!eO(i.semver,String(_),t))return!1}if(o){if(d&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===d.major&&_.semver.minor===d.minor&&_.semver.patch===d.patch&&(d=!1),_.operator==="<"||_.operator==="<="){if(c=gce(o,_,t),c===_&&c!==o)return!1}else if(o.operator==="<="&&!eO(o.semver,String(_),t))return!1}if(!_.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},mce=(r,e,t)=>{if(!r)return e;let n=o3(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},gce=(r,e,t)=>{if(!r)return e;let n=o3(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};vce.exports=Tje});var bS=P((Axt,wce)=>{var s3=aD(),yce=GR(),Eje=_f(),bce=H$(),xje=yS(),Rje=jse(),Oje=Use(),Ije=Wse(),kje=Gse(),Aje=Yse(),Mje=Xse(),Lje=Zse(),Nje=tae(),qje=Ng(),Fje=oae(),jje=aae(),zje=fL(),Uje=dae(),Hje=hae(),Bje=YR(),Wje=hL(),$je=W$(),Vje=$$(),Gje=pL(),Kje=mL(),Yje=V$(),Jje=Sae(),Xje=QR(),Qje=qg(),Zje=dD(),eze=Wae(),tze=Vae(),rze=Kae(),nze=Xae(),ize=Zae(),oze=yL(),sze=oce(),aze=ace(),cze=lce(),uze=fce(),lze=_ce();wce.exports={parse:xje,valid:Rje,clean:Oje,inc:Ije,diff:kje,major:Aje,minor:Mje,patch:Lje,prerelease:Nje,compare:qje,rcompare:Fje,compareLoose:jje,compareBuild:zje,sort:Uje,rsort:Hje,gt:Bje,lt:Wje,eq:$je,neq:Vje,gte:Gje,lte:Kje,cmp:Yje,coerce:Jje,Comparator:Xje,Range:Qje,satisfies:Zje,toComparators:eze,maxSatisfying:tze,minSatisfying:rze,minVersion:nze,validRange:ize,outside:oze,gtr:sze,ltr:aze,intersects:cze,simplifyRange:uze,subset:lze,SemVer:Eje,re:s3.re,src:s3.src,tokens:s3.t,SEMVER_SPEC_VERSION:yce.SEMVER_SPEC_VERSION,RELEASE_TYPES:yce.RELEASE_TYPES,compareIdentifiers:bce.compareIdentifiers,rcompareIdentifiers:bce.rcompareIdentifiers}});var Hl=P(l3=>{"use strict";l3.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};l3.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var Ace=P((Jxt,kce)=>{var TS=require("constants"),yze=process.cwd,kL=null,bze=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return kL||(kL=yze.call(process)),kL};try{process.cwd()}catch{}typeof process.chdir=="function"&&(d3=process.chdir,process.chdir=function(r){kL=null,d3.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,d3));var d3;kce.exports=wze;function wze(r){TS.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,_){_&&process.nextTick(_)},r.lchownSync=function(){}),bze==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,_,y){var D=Date.now(),k=0;l(f,_,function H(M){if(M&&(M.code==="EACCES"||M.code==="EPERM"||M.code==="EBUSY")&&Date.now()-D<6e4){setTimeout(function(){r.stat(_,function(z,re){z&&z.code==="ENOENT"?l(f,_,H):y(M)})},k),k<100&&(k+=10);return}y&&y(M)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,_,y,D,k,H){var M;if(H&&typeof H=="function"){var z=0;M=function(re,ce,_e){if(re&&re.code==="EAGAIN"&&z<10)return z++,l.call(r,f,_,y,D,k,M);H.apply(this,arguments)}}return l.call(r,f,_,y,D,k,M)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,_,y,D){for(var k=0;;)try{return l.call(r,d,f,_,y,D)}catch(H){if(H.code==="EAGAIN"&&k<10){k++;continue}throw H}}}(r.readSync);function e(l){l.lchmod=function(d,f,_){l.open(d,TS.O_WRONLY|TS.O_SYMLINK,f,function(y,D){if(y){_&&_(y);return}l.fchmod(D,f,function(k){l.close(D,function(H){_&&_(k||H)})})})},l.lchmodSync=function(d,f){var _=l.openSync(d,TS.O_WRONLY|TS.O_SYMLINK,f),y=!0,D;try{D=l.fchmodSync(_,f),y=!1}finally{if(y)try{l.closeSync(_)}catch{}else l.closeSync(_)}return D}}function t(l){TS.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,_,y){l.open(d,TS.O_SYMLINK,function(D,k){if(D){y&&y(D);return}l.futimes(k,f,_,function(H){l.close(k,function(M){y&&y(H||M)})})})},l.lutimesSync=function(d,f,_){var y=l.openSync(d,TS.O_SYMLINK),D,k=!0;try{D=l.futimesSync(y,f,_),k=!1}finally{if(k)try{l.closeSync(y)}catch{}else l.closeSync(y)}return D}):l.futimes&&(l.lutimes=function(d,f,_,y){y&&process.nextTick(y)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,_){return l.call(r,d,f,function(y){u(y)&&(y=null),_&&_.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(_){if(!u(_))throw _}}}function o(l){return l&&function(d,f,_,y){return l.call(r,d,f,_,function(D){u(D)&&(D=null),y&&y.apply(this,arguments)})}}function s(l){return l&&function(d,f,_){try{return l.call(r,d,f,_)}catch(y){if(!u(y))throw y}}}function a(l){return l&&function(d,f,_){typeof f=="function"&&(_=f,f=null);function y(D,k){k&&(k.uid<0&&(k.uid+=4294967296),k.gid<0&&(k.gid+=4294967296)),_&&_.apply(this,arguments)}return f?l.call(r,d,f,y):l.call(r,d,y)}}function c(l){return l&&function(d,f){var _=f?l.call(r,d,f):l.call(r,d);return _&&(_.uid<0&&(_.uid+=4294967296),_.gid<0&&(_.gid+=4294967296)),_}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var Nce=P((Xxt,Lce)=>{var Mce=require("stream").Stream;Lce.exports=Sze;function Sze(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);Mce.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);Mce.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Fce=P((Qxt,qce)=>{"use strict";qce.exports=Tze;var Cze=Object.getPrototypeOf||function(r){return r.__proto__};function Tze(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:Cze(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var gD=P((Zxt,p3)=>{var yc=require("fs"),Dze=Ace(),Pze=Nce(),Eze=Fce(),AL=require("util"),Ad,LL;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Ad=Symbol.for("graceful-fs.queue"),LL=Symbol.for("graceful-fs.previous")):(Ad="___graceful-fs.queue",LL="___graceful-fs.previous");function xze(){}function Uce(r,e){Object.defineProperty(r,Ad,{get:function(){return e}})}var b0=xze;AL.debuglog?b0=AL.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(b0=function(){var r=AL.format.apply(AL,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});yc[Ad]||(jce=global[Ad]||[],Uce(yc,jce),yc.close=function(r){function e(t,n){return r.call(yc,t,function(i){i||zce(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,LL,{value:r}),e}(yc.close),yc.closeSync=function(r){function e(t){r.apply(yc,arguments),zce()}return Object.defineProperty(e,LL,{value:r}),e}(yc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){b0(yc[Ad]),require("assert").equal(yc[Ad].length,0)}));var jce;global[Ad]||Uce(global,yc[Ad]);p3.exports=f3(Eze(yc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!yc.__patched&&(p3.exports=f3(yc),yc.__patched=!0);function f3(r){Dze(r),r.gracefulify=f3,r.createReadStream=ce,r.createWriteStream=_e;var e=r.readFile;r.readFile=t;function t(te,Te,ae){return typeof Te=="function"&&(ae=Te,Te=null),ue(te,Te,ae);function ue(Fe,qe,le,Ce){return e(Fe,qe,function(be){be&&(be.code==="EMFILE"||be.code==="ENFILE")?mD([ue,[Fe,qe,le],be,Ce||Date.now(),Date.now()]):typeof le=="function"&&le.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(te,Te,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(te,Te,ae,ue);function Fe(qe,le,Ce,be,xe){return n(qe,le,Ce,function(Le){Le&&(Le.code==="EMFILE"||Le.code==="ENFILE")?mD([Fe,[qe,le,Ce,be],Le,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(te,Te,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(te,Te,ae,ue);function Fe(qe,le,Ce,be,xe){return o(qe,le,Ce,function(Le){Le&&(Le.code==="EMFILE"||Le.code==="ENFILE")?mD([Fe,[qe,le,Ce,be],Le,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(te,Te,ae,ue){return typeof ae=="function"&&(ue=ae,ae=0),Fe(te,Te,ae,ue);function Fe(qe,le,Ce,be,xe){return a(qe,le,Ce,function(Le){Le&&(Le.code==="EMFILE"||Le.code==="ENFILE")?mD([Fe,[qe,le,Ce,be],Le,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(te,Te,ae){typeof Te=="function"&&(ae=Te,Te=null);var ue=l.test(process.version)?function(le,Ce,be,xe){return u(le,Fe(le,Ce,be,xe))}:function(le,Ce,be,xe){return u(le,Ce,Fe(le,Ce,be,xe))};return ue(te,Te,ae);function Fe(qe,le,Ce,be){return function(xe,Le){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?mD([ue,[qe,le,Ce],xe,be||Date.now(),Date.now()]):(Le&&Le.sort&&Le.sort(),typeof Ce=="function"&&Ce.call(this,xe,Le))}}}if(process.version.substr(0,4)==="v0.8"){var f=Pze(r);H=f.ReadStream,z=f.WriteStream}var _=r.ReadStream;_&&(H.prototype=Object.create(_.prototype),H.prototype.open=M);var y=r.WriteStream;y&&(z.prototype=Object.create(y.prototype),z.prototype.open=re),Object.defineProperty(r,"ReadStream",{get:function(){return H},set:function(te){H=te},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return z},set:function(te){z=te},enumerable:!0,configurable:!0});var D=H;Object.defineProperty(r,"FileReadStream",{get:function(){return D},set:function(te){D=te},enumerable:!0,configurable:!0});var k=z;Object.defineProperty(r,"FileWriteStream",{get:function(){return k},set:function(te){k=te},enumerable:!0,configurable:!0});function H(te,Te){return this instanceof H?(_.apply(this,arguments),this):H.apply(Object.create(H.prototype),arguments)}function M(){var te=this;$(te.path,te.flags,te.mode,function(Te,ae){Te?(te.autoClose&&te.destroy(),te.emit("error",Te)):(te.fd=ae,te.emit("open",ae),te.read())})}function z(te,Te){return this instanceof z?(y.apply(this,arguments),this):z.apply(Object.create(z.prototype),arguments)}function re(){var te=this;$(te.path,te.flags,te.mode,function(Te,ae){Te?(te.destroy(),te.emit("error",Te)):(te.fd=ae,te.emit("open",ae))})}function ce(te,Te){return new r.ReadStream(te,Te)}function _e(te,Te){return new r.WriteStream(te,Te)}var G=r.open;r.open=$;function $(te,Te,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(te,Te,ae,ue);function Fe(qe,le,Ce,be,xe){return G(qe,le,Ce,function(Le,Ge){Le&&(Le.code==="EMFILE"||Le.code==="ENFILE")?mD([Fe,[qe,le,Ce,be],Le,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}return r}function mD(r){b0("ENQUEUE",r[0].name,r[1]),yc[Ad].push(r),h3()}var ML;function zce(){for(var r=Date.now(),e=0;e<yc[Ad].length;++e)yc[Ad][e].length>2&&(yc[Ad][e][3]=r,yc[Ad][e][4]=r);h3()}function h3(){if(clearTimeout(ML),ML=void 0,yc[Ad].length!==0){var r=yc[Ad].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)b0("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){b0("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(b0("RETRY",e.name,t),e.apply(null,t.concat([i]))):yc[Ad].push(r)}ML===void 0&&(ML=setTimeout(h3,0))}}});var Dh=P(zb=>{"use strict";var Hce=Hl().fromCallback,Th=gD(),Rze=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof Th[r]=="function");Object.assign(zb,Th);Rze.forEach(r=>{zb[r]=Hce(Th[r])});zb.exists=function(r,e){return typeof e=="function"?Th.exists(r,e):new Promise(t=>Th.exists(r,t))};zb.read=function(r,e,t,n,i,o){return typeof o=="function"?Th.read(r,e,t,n,i,o):new Promise((s,a)=>{Th.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};zb.write=function(r,e,...t){return typeof t[t.length-1]=="function"?Th.write(r,e,...t):new Promise((n,i)=>{Th.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};zb.readv=function(r,e,...t){return typeof t[t.length-1]=="function"?Th.readv(r,e,...t):new Promise((n,i)=>{Th.readv(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesRead:s,buffers:a})})})};zb.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?Th.writev(r,e,...t):new Promise((n,i)=>{Th.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})};typeof Th.realpath.native=="function"?zb.realpath.native=Hce(Th.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Wce=P((tRt,Bce)=>{"use strict";var Oze=require("path");Bce.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Oze.parse(e).root,""))){let n=new Error(`Path contains invalid characters: ${e}`);throw n.code="EINVAL",n}}});var Kce=P((rRt,m3)=>{"use strict";var $ce=Dh(),{checkPath:Vce}=Wce(),Gce=r=>{let e={mode:511};return typeof r=="number"?r:{...e,...r}.mode};m3.exports.makeDir=async(r,e)=>(Vce(r),$ce.mkdir(r,{mode:Gce(e),recursive:!0}));m3.exports.makeDirSync=(r,e)=>(Vce(r),$ce.mkdirSync(r,{mode:Gce(e),recursive:!0}))});var $v=P((nRt,Yce)=>{"use strict";var Ize=Hl().fromPromise,{makeDir:kze,makeDirSync:g3}=Kce(),v3=Ize(kze);Yce.exports={mkdirs:v3,mkdirsSync:g3,mkdirp:v3,mkdirpSync:g3,ensureDir:v3,ensureDirSync:g3}});var DS=P((iRt,Xce)=>{"use strict";var Aze=Hl().fromPromise,Jce=Dh();function Mze(r){return Jce.access(r).then(()=>!0).catch(()=>!1)}Xce.exports={pathExists:Aze(Mze),pathExistsSync:Jce.existsSync}});var _3=P((oRt,Qce)=>{"use strict";var vD=Dh(),Lze=Hl().fromPromise;async function Nze(r,e,t){let n=await vD.open(r,"r+"),i=null;try{await vD.futimes(n,e,t)}finally{try{await vD.close(n)}catch(o){i=o}}if(i)throw i}function qze(r,e,t){let n=vD.openSync(r,"r+");return vD.futimesSync(n,e,t),vD.closeSync(n)}Qce.exports={utimesMillis:Lze(Nze),utimesMillisSync:qze}});var w0=P((sRt,rue)=>{"use strict";var _D=Dh(),Bl=require("path"),Zce=Hl().fromPromise;function Fze(r,e,t){let n=t.dereference?i=>_D.stat(i,{bigint:!0}):i=>_D.lstat(i,{bigint:!0});return Promise.all([n(r),n(e).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function jze(r,e,t){let n,i=t.dereference?s=>_D.statSync(s,{bigint:!0}):s=>_D.lstatSync(s,{bigint:!0}),o=i(r);try{n=i(e)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:n}}async function zze(r,e,t,n){let{srcStat:i,destStat:o}=await Fze(r,e,n);if(o){if(iO(i,o)){let s=Bl.basename(r),a=Bl.basename(e);if(t==="move"&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${r}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${r}'.`)}if(i.isDirectory()&&y3(r,e))throw new Error(NL(r,e,t));return{srcStat:i,destStat:o}}function Uze(r,e,t,n){let{srcStat:i,destStat:o}=jze(r,e,n);if(o){if(iO(i,o)){let s=Bl.basename(r),a=Bl.basename(e);if(t==="move"&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${r}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${r}'.`)}if(i.isDirectory()&&y3(r,e))throw new Error(NL(r,e,t));return{srcStat:i,destStat:o}}async function eue(r,e,t,n){let i=Bl.resolve(Bl.dirname(r)),o=Bl.resolve(Bl.dirname(t));if(o===i||o===Bl.parse(o).root)return;let s;try{s=await _D.stat(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(iO(e,s))throw new Error(NL(r,t,n));return eue(r,e,o,n)}function tue(r,e,t,n){let i=Bl.resolve(Bl.dirname(r)),o=Bl.resolve(Bl.dirname(t));if(o===i||o===Bl.parse(o).root)return;let s;try{s=_D.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(iO(e,s))throw new Error(NL(r,t,n));return tue(r,e,o,n)}function iO(r,e){return e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev}function y3(r,e){let t=Bl.resolve(r).split(Bl.sep).filter(i=>i),n=Bl.resolve(e).split(Bl.sep).filter(i=>i);return t.every((i,o)=>n[o]===i)}function NL(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}rue.exports={checkPaths:Zce(zze),checkPathsSync:Uze,checkParentPaths:Zce(eue),checkParentPathsSync:tue,isSrcSubdir:y3,areIdentical:iO}});var aue=P((aRt,sue)=>{"use strict";var yf=Dh(),oO=require("path"),{mkdirs:Hze}=$v(),{pathExists:Bze}=DS(),{utimesMillis:Wze}=_3(),sO=w0();async function $ze(r,e,t={}){typeof t=="function"&&(t={filter:t}),t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:i}=await sO.checkPaths(r,e,"copy",t);if(await sO.checkParentPaths(r,n,e,"copy"),!await iue(r,e,t))return;let s=oO.dirname(e);await Bze(s)||await Hze(s),await oue(i,r,e,t)}async function iue(r,e,t){return t.filter?t.filter(r,e):!0}async function oue(r,e,t,n){let o=await(n.dereference?yf.stat:yf.lstat)(e);if(o.isDirectory())return Yze(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Vze(o,r,e,t,n);if(o.isSymbolicLink())return Jze(r,e,t,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${e}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}async function Vze(r,e,t,n,i){if(!e)return nue(r,t,n,i);if(i.overwrite)return await yf.unlink(n),nue(r,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function nue(r,e,t,n){if(await yf.copyFile(e,t),n.preserveTimestamps){Gze(r.mode)&&await Kze(t,r.mode);let i=await yf.stat(e);await Wze(t,i.atime,i.mtime)}return yf.chmod(t,r.mode)}function Gze(r){return(r&128)===0}function Kze(r,e){return yf.chmod(r,e|128)}async function Yze(r,e,t,n,i){e||await yf.mkdir(n);let o=[];for await(let s of await yf.opendir(t)){let a=oO.join(t,s.name),c=oO.join(n,s.name);o.push(iue(a,c,i).then(u=>{if(u)return sO.checkPaths(a,c,"copy",i).then(({destStat:l})=>oue(l,a,c,i))}))}await Promise.all(o),e||await yf.chmod(n,r.mode)}async function Jze(r,e,t,n){let i=await yf.readlink(e);if(n.dereference&&(i=oO.resolve(process.cwd(),i)),!r)return yf.symlink(i,t);let o=null;try{o=await yf.readlink(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return yf.symlink(i,t);throw s}if(n.dereference&&(o=oO.resolve(process.cwd(),o)),sO.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(sO.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return await yf.unlink(t),yf.symlink(i,t)}sue.exports=$ze});var fue=P((cRt,due)=>{"use strict";var Ph=gD(),aO=require("path"),Xze=$v().mkdirsSync,Qze=_3().utimesMillisSync,cO=w0();function Zze(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=cO.checkPathsSync(r,e,"copy",t);if(cO.checkParentPathsSync(r,n,e,"copy"),t.filter&&!t.filter(r,e))return;let o=aO.dirname(e);return Ph.existsSync(o)||Xze(o),cue(i,r,e,t)}function cue(r,e,t,n){let o=(n.dereference?Ph.statSync:Ph.lstatSync)(e);if(o.isDirectory())return sUe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return eUe(o,r,e,t,n);if(o.isSymbolicLink())return uUe(r,e,t,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${e}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function eUe(r,e,t,n,i){return e?tUe(r,t,n,i):uue(r,t,n,i)}function tUe(r,e,t,n){if(n.overwrite)return Ph.unlinkSync(t),uue(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function uue(r,e,t,n){return Ph.copyFileSync(e,t),n.preserveTimestamps&&rUe(r.mode,e,t),b3(t,r.mode)}function rUe(r,e,t){return nUe(r)&&iUe(t,r),oUe(e,t)}function nUe(r){return(r&128)===0}function iUe(r,e){return b3(r,e|128)}function b3(r,e){return Ph.chmodSync(r,e)}function oUe(r,e){let t=Ph.statSync(r);return Qze(e,t.atime,t.mtime)}function sUe(r,e,t,n,i){return e?lue(t,n,i):aUe(r.mode,t,n,i)}function aUe(r,e,t,n){return Ph.mkdirSync(t),lue(e,t,n),b3(t,r)}function lue(r,e,t){let n=Ph.opendirSync(r);try{let i;for(;(i=n.readSync())!==null;)cUe(i.name,r,e,t)}finally{n.closeSync()}}function cUe(r,e,t,n){let i=aO.join(e,r),o=aO.join(t,r);if(n.filter&&!n.filter(i,o))return;let{destStat:s}=cO.checkPathsSync(i,o,"copy",n);return cue(s,i,o,n)}function uUe(r,e,t,n){let i=Ph.readlinkSync(e);if(n.dereference&&(i=aO.resolve(process.cwd(),i)),r){let o;try{o=Ph.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return Ph.symlinkSync(i,t);throw s}if(n.dereference&&(o=aO.resolve(process.cwd(),o)),cO.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(cO.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return lUe(i,t)}else return Ph.symlinkSync(i,t)}function lUe(r,e){return Ph.unlinkSync(e),Ph.symlinkSync(r,e)}due.exports=Zze});var qL=P((uRt,hue)=>{"use strict";var dUe=Hl().fromPromise;hue.exports={copy:dUe(aue()),copySync:fue()}});var uO=P((lRt,mue)=>{"use strict";var pue=gD(),fUe=Hl().fromCallback;function hUe(r,e){pue.rm(r,{recursive:!0,force:!0},e)}function pUe(r){pue.rmSync(r,{recursive:!0,force:!0})}mue.exports={remove:fUe(hUe),removeSync:pUe}});var Cue=P((dRt,Sue)=>{"use strict";var mUe=Hl().fromPromise,_ue=Dh(),yue=require("path"),bue=$v(),wue=uO(),gue=mUe(async function(e){let t;try{t=await _ue.readdir(e)}catch{return bue.mkdirs(e)}return Promise.all(t.map(n=>wue.remove(yue.join(e,n))))});function vue(r){let e;try{e=_ue.readdirSync(r)}catch{return bue.mkdirsSync(r)}e.forEach(t=>{t=yue.join(r,t),wue.removeSync(t)})}Sue.exports={emptyDirSync:vue,emptydirSync:vue,emptyDir:gue,emptydir:gue}});var Eue=P((fRt,Pue)=>{"use strict";var gUe=Hl().fromPromise,Tue=require("path"),Ub=Dh(),Due=$v();async function vUe(r){let e;try{e=await Ub.stat(r)}catch{}if(e&&e.isFile())return;let t=Tue.dirname(r),n=null;try{n=await Ub.stat(t)}catch(i){if(i.code==="ENOENT"){await Due.mkdirs(t),await Ub.writeFile(r,"");return}else throw i}n.isDirectory()?await Ub.writeFile(r,""):await Ub.readdir(t)}function _Ue(r){let e;try{e=Ub.statSync(r)}catch{}if(e&&e.isFile())return;let t=Tue.dirname(r);try{Ub.statSync(t).isDirectory()||Ub.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")Due.mkdirsSync(t);else throw n}Ub.writeFileSync(r,"")}Pue.exports={createFile:gUe(vUe),createFileSync:_Ue}});var kue=P((hRt,Iue)=>{"use strict";var yUe=Hl().fromPromise,xue=require("path"),PS=Dh(),Rue=$v(),{pathExists:bUe}=DS(),{areIdentical:Oue}=w0();async function wUe(r,e){let t;try{t=await PS.lstat(e)}catch{}let n;try{n=await PS.lstat(r)}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}if(t&&Oue(n,t))return;let i=xue.dirname(e);await bUe(i)||await Rue.mkdirs(i),await PS.link(r,e)}function SUe(r,e){let t;try{t=PS.lstatSync(e)}catch{}try{let o=PS.lstatSync(r);if(t&&Oue(o,t))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=xue.dirname(e);return PS.existsSync(n)||Rue.mkdirsSync(n),PS.linkSync(r,e)}Iue.exports={createLink:yUe(wUe),createLinkSync:SUe}});var Mue=P((pRt,Aue)=>{"use strict";var ES=require("path"),lO=Dh(),{pathExists:CUe}=DS(),TUe=Hl().fromPromise;async function DUe(r,e){if(ES.isAbsolute(r)){try{await lO.lstat(r)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:r,toDst:r}}let t=ES.dirname(e),n=ES.join(t,r);if(await CUe(n))return{toCwd:n,toDst:r};try{await lO.lstat(r)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:r,toDst:ES.relative(t,r)}}function PUe(r,e){if(ES.isAbsolute(r)){if(!lO.existsSync(r))throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}let t=ES.dirname(e),n=ES.join(t,r);if(lO.existsSync(n))return{toCwd:n,toDst:r};if(!lO.existsSync(r))throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:ES.relative(t,r)}}Aue.exports={symlinkPaths:TUe(DUe),symlinkPathsSync:PUe}});var que=P((mRt,Nue)=>{"use strict";var Lue=Dh(),EUe=Hl().fromPromise;async function xUe(r,e){if(e)return e;let t;try{t=await Lue.lstat(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}function RUe(r,e){if(e)return e;let t;try{t=Lue.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}Nue.exports={symlinkType:EUe(xUe),symlinkTypeSync:RUe}});var Uue=P((gRt,zue)=>{"use strict";var OUe=Hl().fromPromise,Fue=require("path"),oy=Dh(),{mkdirs:IUe,mkdirsSync:kUe}=$v(),{symlinkPaths:AUe,symlinkPathsSync:MUe}=Mue(),{symlinkType:LUe,symlinkTypeSync:NUe}=que(),{pathExists:qUe}=DS(),{areIdentical:jue}=w0();async function FUe(r,e,t){let n;try{n=await oy.lstat(e)}catch{}if(n&&n.isSymbolicLink()){let[a,c]=await Promise.all([oy.stat(r),oy.stat(e)]);if(jue(a,c))return}let i=await AUe(r,e);r=i.toDst;let o=await LUe(i.toCwd,t),s=Fue.dirname(e);return await qUe(s)||await IUe(s),oy.symlink(r,e,o)}function jUe(r,e,t){let n;try{n=oy.lstatSync(e)}catch{}if(n&&n.isSymbolicLink()){let a=oy.statSync(r),c=oy.statSync(e);if(jue(a,c))return}let i=MUe(r,e);r=i.toDst,t=NUe(i.toCwd,t);let o=Fue.dirname(e);return oy.existsSync(o)||kUe(o),oy.symlinkSync(r,e,t)}zue.exports={createSymlink:OUe(FUe),createSymlinkSync:jUe}});var Yue=P((vRt,Kue)=>{"use strict";var{createFile:Hue,createFileSync:Bue}=Eue(),{createLink:Wue,createLinkSync:$ue}=kue(),{createSymlink:Vue,createSymlinkSync:Gue}=Uue();Kue.exports={createFile:Hue,createFileSync:Bue,ensureFile:Hue,ensureFileSync:Bue,createLink:Wue,createLinkSync:$ue,ensureLink:Wue,ensureLinkSync:$ue,createSymlink:Vue,createSymlinkSync:Gue,ensureSymlink:Vue,ensureSymlinkSync:Gue}});var FL=P((_Rt,Jue)=>{function zUe(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function UUe(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}Jue.exports={stringify:zUe,stripBom:UUe}});var ele=P((yRt,Zue)=>{var yD;try{yD=gD()}catch{yD=require("fs")}var jL=Hl(),{stringify:Xue,stripBom:Que}=FL();async function HUe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||yD,n="throws"in e?e.throws:!0,i=await jL.fromCallback(t.readFile)(r,e);i=Que(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var BUe=jL.fromPromise(HUe);function WUe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||yD,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=Que(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function $Ue(r,e,t={}){let n=t.fs||yD,i=Xue(e,t);await jL.fromCallback(n.writeFile)(r,i,t)}var VUe=jL.fromPromise($Ue);function GUe(r,e,t={}){let n=t.fs||yD,i=Xue(e,t);return n.writeFileSync(r,i,t)}var KUe={readFile:BUe,readFileSync:WUe,writeFile:VUe,writeFileSync:GUe};Zue.exports=KUe});var rle=P((bRt,tle)=>{"use strict";var zL=ele();tle.exports={readJson:zL.readFile,readJsonSync:zL.readFileSync,writeJson:zL.writeFile,writeJsonSync:zL.writeFileSync}});var UL=P((wRt,ole)=>{"use strict";var YUe=Hl().fromPromise,w3=Dh(),nle=require("path"),ile=$v(),JUe=DS().pathExists;async function XUe(r,e,t="utf-8"){let n=nle.dirname(r);return await JUe(n)||await ile.mkdirs(n),w3.writeFile(r,e,t)}function QUe(r,...e){let t=nle.dirname(r);w3.existsSync(t)||ile.mkdirsSync(t),w3.writeFileSync(r,...e)}ole.exports={outputFile:YUe(XUe),outputFileSync:QUe}});var ale=P((SRt,sle)=>{"use strict";var{stringify:ZUe}=FL(),{outputFile:eHe}=UL();async function tHe(r,e,t={}){let n=ZUe(e,t);await eHe(r,n,t)}sle.exports=tHe});var ule=P((CRt,cle)=>{"use strict";var{stringify:rHe}=FL(),{outputFileSync:nHe}=UL();function iHe(r,e,t){let n=rHe(e,t);nHe(r,n,t)}cle.exports=iHe});var dle=P((TRt,lle)=>{"use strict";var oHe=Hl().fromPromise,Eh=rle();Eh.outputJson=oHe(ale());Eh.outputJsonSync=ule();Eh.outputJSON=Eh.outputJson;Eh.outputJSONSync=Eh.outputJsonSync;Eh.writeJSON=Eh.writeJson;Eh.writeJSONSync=Eh.writeJsonSync;Eh.readJSON=Eh.readJson;Eh.readJSONSync=Eh.readJsonSync;lle.exports=Eh});var gle=P((DRt,mle)=>{"use strict";var sHe=Dh(),fle=require("path"),{copy:aHe}=qL(),{remove:ple}=uO(),{mkdirp:cHe}=$v(),{pathExists:uHe}=DS(),hle=w0();async function lHe(r,e,t={}){let n=t.overwrite||t.clobber||!1,{srcStat:i,isChangingCase:o=!1}=await hle.checkPaths(r,e,"move",t);await hle.checkParentPaths(r,i,e,"move");let s=fle.dirname(e);return fle.parse(s).root!==s&&await cHe(s),dHe(r,e,n,o)}async function dHe(r,e,t,n){if(!n){if(t)await ple(e);else if(await uHe(e))throw new Error("dest already exists.")}try{await sHe.rename(r,e)}catch(i){if(i.code!=="EXDEV")throw i;await fHe(r,e,t)}}async function fHe(r,e,t){return await aHe(r,e,{overwrite:t,errorOnExist:!0,preserveTimestamps:!0}),ple(r)}mle.exports=lHe});var wle=P((PRt,ble)=>{"use strict";var _le=gD(),C3=require("path"),hHe=qL().copySync,yle=uO().removeSync,pHe=$v().mkdirpSync,vle=w0();function mHe(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i,isChangingCase:o=!1}=vle.checkPathsSync(r,e,"move",t);return vle.checkParentPathsSync(r,i,e,"move"),gHe(e)||pHe(C3.dirname(e)),vHe(r,e,n,o)}function gHe(r){let e=C3.dirname(r);return C3.parse(e).root===e}function vHe(r,e,t,n){if(n)return S3(r,e,t);if(t)return yle(e),S3(r,e,t);if(_le.existsSync(e))throw new Error("dest already exists.");return S3(r,e,t)}function S3(r,e,t){try{_le.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return _He(r,e,t)}}function _He(r,e,t){return hHe(r,e,{overwrite:t,errorOnExist:!0,preserveTimestamps:!0}),yle(r)}ble.exports=mHe});var Cle=P((ERt,Sle)=>{"use strict";var yHe=Hl().fromPromise;Sle.exports={move:yHe(gle()),moveSync:wle()}});var xS=P((xRt,Tle)=>{"use strict";Tle.exports={...Dh(),...qL(),...Cue(),...Yue(),...dle(),...$v(),...Cle(),...UL(),...DS(),...uO()}});var wD=P(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});function SHe(r){return typeof r=="function"}A3.isFunction=SHe});var hO=P(L3=>{"use strict";Object.defineProperty(L3,"__esModule",{value:!0});var M3=!1;L3.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else M3&&console.log("RxJS: Back to a better error behavior. Thank you. <3");M3=r},get useDeprecatedSynchronousErrorHandling(){return M3}}});var VL=P(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});function CHe(r){setTimeout(function(){throw r},0)}N3.hostReportError=CHe});var F3=P(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});var THe=hO(),DHe=VL();q3.empty={closed:!0,next:function(r){},error:function(r){if(THe.config.useDeprecatedSynchronousErrorHandling)throw r;DHe.hostReportError(r)},complete:function(){}}});var Rh=P(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var GL=P(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});function PHe(r){return r!==null&&typeof r=="object"}z3.isObject=PHe});var H3=P(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});var EHe=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();U3.UnsubscriptionError=EHe});var al=P(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});var xHe=Rh(),RHe=GL(),OHe=wD(),KL=H3(),IHe=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(OHe.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof KL.UnsubscriptionError?xle(d.errors):[d]}}if(xHe.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(RHe.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof KL.UnsubscriptionError?e=e.concat(xle(f.errors)):e.push(f)}}if(e)throw new KL.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();B3.Subscription=IHe;function xle(r){return r.reduce(function(e,t){return e.concat(t instanceof KL.UnsubscriptionError?t.errors:t)},[])}});var YL=P(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();pO.$$rxSubscriber=pO.rxSubscriber});var mi=P(CD=>{"use strict";var Ole=CD&&CD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CD,"__esModule",{value:!0});var Rle=wD(),W3=F3(),kHe=al(),AHe=YL(),SD=hO(),JL=VL(),Ile=function(r){Ole(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=W3.empty;break;case 1:if(!t){o.destination=W3.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new $3(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new $3(o,t,n,i);break}return o}return e.prototype[AHe.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(kHe.Subscription);CD.Subscriber=Ile;var $3=function(r){Ole(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return Rle.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==W3.empty&&(c=Object.create(n),Rle.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!SD.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=SD.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):JL.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;JL.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!SD.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),SD.config.useDeprecatedSynchronousErrorHandling)throw i;JL.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!SD.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return SD.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(JL.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Ile);CD.SafeSubscriber=$3});var XL=P(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});var MHe=mi();function LHe(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof MHe.Subscriber?r=n:r=null}return!0}V3.canReportError=LHe});var Ale=P(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});var G3=mi(),kle=YL(),NHe=F3();function qHe(r,e,t){if(r){if(r instanceof G3.Subscriber)return r;if(r[kle.rxSubscriber])return r[kle.rxSubscriber]()}return!r&&!e&&!t?new G3.Subscriber(NHe.empty):new G3.Subscriber(r,e,t)}K3.toSubscriber=qHe});var C0=P(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var IS=P(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});function FHe(r){return r}J3.identity=FHe});var ZL=P(QL=>{"use strict";Object.defineProperty(QL,"__esModule",{value:!0});var jHe=IS();function zHe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Mle(r)}QL.pipe=zHe;function Mle(r){return r.length===0?jHe.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}QL.pipeFromArray=Mle});var Ao=P(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});var UHe=XL(),HHe=Ale(),BHe=C0(),WHe=ZL(),eN=hO(),$He=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=HHe.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||eN.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),eN.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){eN.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),UHe.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Lle(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[BHe.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:WHe.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Lle(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();X3.Observable=$He;function Lle(r){if(r||(r=eN.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var mO=P(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});var VHe=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();Q3.ObjectUnsubscribedError=VHe});var Z3=P(gO=>{"use strict";var GHe=gO&&gO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gO,"__esModule",{value:!0});var KHe=al(),YHe=function(r){GHe(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(KHe.Subscription);gO.SubjectSubscription=YHe});var bf=P(T0=>{"use strict";var rV=T0&&T0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(T0,"__esModule",{value:!0});var Nle=Ao(),JHe=mi(),eV=al(),vO=mO(),XHe=Z3(),QHe=YL(),qle=function(r){rV(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(JHe.Subscriber);T0.SubjectSubscriber=qle;var Fle=function(r){rV(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[QHe.rxSubscriber]=function(){return new qle(this)},e.prototype.lift=function(t){var n=new tV(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new vO.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new vO.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new vO.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new vO.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new vO.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),eV.Subscription.EMPTY):this.isStopped?(t.complete(),eV.Subscription.EMPTY):(this.observers.push(t),new XHe.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Nle.Observable;return t.source=this,t},e.create=function(t,n){return new tV(t,n)},e}(Nle.Observable);T0.Subject=Fle;var tV=function(r){rV(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):eV.Subscription.EMPTY},e}(Fle);T0.AnonymousSubject=tV});var tN=P(_O=>{"use strict";var ZHe=_O&&_O.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_O,"__esModule",{value:!0});var eBe=mi();function tBe(){return function(e){return e.lift(new rBe(e))}}_O.refCount=tBe;var rBe=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new nBe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),nBe=function(r){ZHe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(eBe.Subscriber)});var iV=P(TD=>{"use strict";var nV=TD&&TD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(TD,"__esModule",{value:!0});var iBe=bf(),oBe=Ao(),sBe=mi(),jle=al(),aBe=tN(),zle=function(r){nV(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new jle.Subscription,t.add(this.source.subscribe(new cBe(this.getSubject(),this))),t.closed&&(this._connection=null,t=jle.Subscription.EMPTY)),t},e.prototype.refCount=function(){return aBe.refCount()(this)},e}(oBe.Observable);TD.ConnectableObservable=zle;TD.connectableObservableDescriptor=function(){var r=zle.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var cBe=function(r){nV(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(iBe.SubjectSubscriber),ZRt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new uBe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),uBe=function(r){nV(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(sBe.Subscriber)});var sV=P(DD=>{"use strict";var rN=DD&&DD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(DD,"__esModule",{value:!0});var Ule=mi(),Hle=al(),lBe=Ao(),dBe=bf();function fBe(r,e,t,n){return function(i){return i.lift(new hBe(r,e,t,n))}}DD.groupBy=fBe;var hBe=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new pBe(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),pBe=function(r){rN(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new dBe.Subject,i.set(n,o);var a=new oV(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new oV(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new mBe(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(Ule.Subscriber),mBe=function(r){rN(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Ule.Subscriber),oV=function(r){rN(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new Hle.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new gBe(o)),n.add(s.subscribe(t)),n},e}(lBe.Observable);DD.GroupedObservable=oV;var gBe=function(r){rN(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(Hle.Subscription)});var aV=P(yO=>{"use strict";var vBe=yO&&yO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yO,"__esModule",{value:!0});var _Be=bf(),yBe=mO(),bBe=function(r){vBe(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yBe.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(_Be.Subject);yO.BehaviorSubject=bBe});var Ble=P(bO=>{"use strict";var wBe=bO&&bO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bO,"__esModule",{value:!0});var SBe=al(),CBe=function(r){wBe(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(SBe.Subscription);bO.Action=CBe});var PD=P(wO=>{"use strict";var TBe=wO&&wO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wO,"__esModule",{value:!0});var DBe=Ble(),PBe=function(r){TBe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(DBe.Action);wO.AsyncAction=PBe});var Wle=P(SO=>{"use strict";var EBe=SO&&SO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SO,"__esModule",{value:!0});var xBe=PD(),RBe=function(r){EBe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(xBe.AsyncAction);SO.QueueAction=RBe});var uV=P(cV=>{"use strict";Object.defineProperty(cV,"__esModule",{value:!0});var OBe=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();cV.Scheduler=OBe});var ED=P(CO=>{"use strict";var IBe=CO&&CO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CO,"__esModule",{value:!0});var $le=uV(),kBe=function(r){IBe(e,r);function e(t,n){n===void 0&&(n=$le.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}($le.Scheduler);CO.AsyncScheduler=kBe});var Vle=P(TO=>{"use strict";var ABe=TO&&TO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(TO,"__esModule",{value:!0});var MBe=ED(),LBe=function(r){ABe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(MBe.AsyncScheduler);TO.QueueScheduler=LBe});var lV=P(DO=>{"use strict";Object.defineProperty(DO,"__esModule",{value:!0});var NBe=Wle(),qBe=Vle();DO.queueScheduler=new qBe.QueueScheduler(NBe.QueueAction);DO.queue=DO.queueScheduler});var Vv=P(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0});var Gle=Ao();PO.EMPTY=new Gle.Observable(function(r){return r.complete()});function FBe(r){return r?jBe(r):PO.EMPTY}PO.empty=FBe;function jBe(r){return new Gle.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var Gv=P(dV=>{"use strict";Object.defineProperty(dV,"__esModule",{value:!0});function zBe(r){return r&&typeof r.schedule=="function"}dV.isScheduler=zBe});var hV=P(fV=>{"use strict";Object.defineProperty(fV,"__esModule",{value:!0});fV.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var nN=P(pV=>{"use strict";Object.defineProperty(pV,"__esModule",{value:!0});var UBe=Ao(),HBe=al();function BBe(r,e){return new UBe.Observable(function(t){var n=new HBe.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}pV.scheduleArray=BBe});var xD=P(mV=>{"use strict";Object.defineProperty(mV,"__esModule",{value:!0});var WBe=Ao(),$Be=hV(),VBe=nN();function GBe(r,e){return e?VBe.scheduleArray(r,e):new WBe.Observable($Be.subscribeToArray(r))}mV.fromArray=GBe});var EO=P(gV=>{"use strict";Object.defineProperty(gV,"__esModule",{value:!0});var KBe=Gv(),YBe=xD(),JBe=nN();function XBe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return KBe.isScheduler(t)?(r.pop(),JBe.scheduleArray(r,t)):YBe.fromArray(r)}gV.of=XBe});var iN=P(vV=>{"use strict";Object.defineProperty(vV,"__esModule",{value:!0});var Kle=Ao();function QBe(r,e){return e?new Kle.Observable(function(t){return e.schedule(ZBe,0,{error:r,subscriber:t})}):new Kle.Observable(function(t){return t.error(r)})}vV.throwError=QBe;function ZBe(r){var e=r.error,t=r.subscriber;t.error(e)}});var RO=P(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});var eWe=Vv(),tWe=EO(),rWe=iN(),nWe;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(nWe=xO.NotificationKind||(xO.NotificationKind={}));var iWe=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return tWe.of(this.value);case"E":return rWe.throwError(this.error);case"C":return eWe.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();xO.Notification=iWe});var yV=P(kS=>{"use strict";var oWe=kS&&kS.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kS,"__esModule",{value:!0});var sWe=mi(),_V=RO();function aWe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Yle(r,e))}}kS.observeOn=aWe;var Yle=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new Jle(e,this.scheduler,this.delay))},r}();kS.ObserveOnOperator=Yle;var Jle=function(r){oWe(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Xle(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(_V.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(_V.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(_V.Notification.createComplete()),this.unsubscribe()},e}(sWe.Subscriber);kS.ObserveOnSubscriber=Jle;var Xle=function(){function r(e,t){this.notification=e,this.destination=t}return r}();kS.ObserveOnMessage=Xle});var oN=P(OO=>{"use strict";var cWe=OO&&OO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OO,"__esModule",{value:!0});var uWe=bf(),lWe=lV(),dWe=al(),fWe=yV(),hWe=mO(),pWe=Z3(),mWe=function(r){cWe(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new gWe(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new hWe.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=dWe.Subscription.EMPTY:(this.observers.push(t),a=new pWe.SubjectSubscription(this,t)),o&&t.add(t=new fWe.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||lWe.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(uWe.Subject);OO.ReplaySubject=mWe;var gWe=function(){function r(e,t){this.time=e,this.value=t}return r}()});var kO=P(IO=>{"use strict";var vWe=IO&&IO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(IO,"__esModule",{value:!0});var _We=bf(),Qle=al(),yWe=function(r){vWe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Qle.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Qle.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(_We.Subject);IO.AsyncSubject=yWe});var ede=P(aN=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0});var bWe=1,wWe=function(){return Promise.resolve()}(),sN={};function Zle(r){return r in sN?(delete sN[r],!0):!1}aN.Immediate={setImmediate:function(r){var e=bWe++;return sN[e]=!0,wWe.then(function(){return Zle(e)&&r()}),e},clearImmediate:function(r){Zle(r)}};aN.TestTools={pending:function(){return Object.keys(sN).length}}});var rde=P(AO=>{"use strict";var SWe=AO&&AO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AO,"__esModule",{value:!0});var tde=ede(),CWe=PD(),TWe=function(r){SWe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=tde.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(tde.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(CWe.AsyncAction);AO.AsapAction=TWe});var nde=P(MO=>{"use strict";var DWe=MO&&MO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(MO,"__esModule",{value:!0});var PWe=ED(),EWe=function(r){DWe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(PWe.AsyncScheduler);MO.AsapScheduler=EWe});var bV=P(LO=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});var xWe=rde(),RWe=nde();LO.asapScheduler=new RWe.AsapScheduler(xWe.AsapAction);LO.asap=LO.asapScheduler});var Oh=P(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});var OWe=PD(),IWe=ED();NO.asyncScheduler=new IWe.AsyncScheduler(OWe.AsyncAction);NO.async=NO.asyncScheduler});var ide=P(qO=>{"use strict";var kWe=qO&&qO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qO,"__esModule",{value:!0});var AWe=PD(),MWe=function(r){kWe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(AWe.AsyncAction);qO.AnimationFrameAction=MWe});var ode=P(FO=>{"use strict";var LWe=FO&&FO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FO,"__esModule",{value:!0});var NWe=ED(),qWe=function(r){LWe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(NWe.AsyncScheduler);FO.AnimationFrameScheduler=qWe});var sde=P(jO=>{"use strict";Object.defineProperty(jO,"__esModule",{value:!0});var FWe=ide(),jWe=ode();jO.animationFrameScheduler=new jWe.AnimationFrameScheduler(FWe.AnimationFrameAction);jO.animationFrame=jO.animationFrameScheduler});var ude=P(RD=>{"use strict";var ade=RD&&RD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RD,"__esModule",{value:!0});var zWe=PD(),UWe=ED(),HWe=function(r){ade(e,r);function e(t,n){t===void 0&&(t=cde),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(UWe.AsyncScheduler);RD.VirtualTimeScheduler=HWe;var cde=function(r){ade(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(zWe.AsyncAction);RD.VirtualAction=cde});var cN=P(wV=>{"use strict";Object.defineProperty(wV,"__esModule",{value:!0});function BWe(){}wV.noop=BWe});var lde=P(SV=>{"use strict";Object.defineProperty(SV,"__esModule",{value:!0});var WWe=Ao();function $We(r){return!!r&&(r instanceof WWe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}SV.isObservable=$We});var OD=P(CV=>{"use strict";Object.defineProperty(CV,"__esModule",{value:!0});var VWe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();CV.ArgumentOutOfRangeError=VWe});var ID=P(TV=>{"use strict";Object.defineProperty(TV,"__esModule",{value:!0});var GWe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();TV.EmptyError=GWe});var PV=P(DV=>{"use strict";Object.defineProperty(DV,"__esModule",{value:!0});var KWe=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();DV.TimeoutError=KWe});var Om=P(kD=>{"use strict";var YWe=kD&&kD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kD,"__esModule",{value:!0});var JWe=mi();function XWe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new dde(r,e))}}kD.map=XWe;var dde=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new QWe(e,this.project,this.thisArg))},r}();kD.MapOperator=dde;var QWe=function(r){YWe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(JWe.Subscriber)});var pde=P(EV=>{"use strict";Object.defineProperty(EV,"__esModule",{value:!0});var ZWe=Ao(),fde=kO(),e$e=Om(),t$e=XL(),r$e=Rh(),n$e=Gv();function hde(r,e,t){if(e)if(n$e.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return hde(r,t).apply(void 0,n).pipe(e$e.map(function(o){return r$e.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new ZWe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(i$e,0,l)}else{if(!s){s=new fde.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){t$e.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}EV.bindCallback=hde;function i$e(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new fde.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var _=d.length<=1?d[0]:d;e.add(c.schedule(o$e,0,{value:_,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function o$e(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var _de=P(xV=>{"use strict";Object.defineProperty(xV,"__esModule",{value:!0});var s$e=Ao(),gde=kO(),a$e=Om(),c$e=XL(),u$e=Gv(),l$e=Rh();function vde(r,e,t){if(e)if(u$e.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return vde(r,t).apply(void 0,n).pipe(a$e.map(function(o){return l$e.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new s$e.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(d$e,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new gde.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){c$e.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}xV.bindNodeCallback=vde;function d$e(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new gde.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(mde,0,{err:f,subject:c}));else{var _=l.length<=1?l[0]:l;e.add(a.schedule(f$e,0,{value:_,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(mde,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function f$e(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function mde(r){var e=r.err,t=r.subject;t.error(e)}});var AS=P(zO=>{"use strict";var h$e=zO&&zO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zO,"__esModule",{value:!0});var p$e=mi(),m$e=function(r){h$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(p$e.Subscriber);zO.OuterSubscriber=m$e});var yde=P(UO=>{"use strict";var g$e=UO&&UO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(UO,"__esModule",{value:!0});var v$e=mi(),_$e=function(r){g$e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(v$e.Subscriber);UO.InnerSubscriber=_$e});var bde=P(RV=>{"use strict";Object.defineProperty(RV,"__esModule",{value:!0});var y$e=VL();RV.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,y$e.hostReportError),e}}});var MD=P(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});function wde(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}AD.getSymbolIterator=wde;AD.iterator=wde();AD.$$iterator=AD.iterator});var Sde=P(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});var b$e=MD();OV.subscribeToIterable=function(r){return function(e){var t=r[b$e.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var Cde=P(IV=>{"use strict";Object.defineProperty(IV,"__esModule",{value:!0});var w$e=C0();IV.subscribeToObservable=function(r){return function(e){var t=r[w$e.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var AV=P(kV=>{"use strict";Object.defineProperty(kV,"__esModule",{value:!0});kV.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var LV=P(MV=>{"use strict";Object.defineProperty(MV,"__esModule",{value:!0});function S$e(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}MV.isPromise=S$e});var HO=P(NV=>{"use strict";Object.defineProperty(NV,"__esModule",{value:!0});var C$e=hV(),T$e=bde(),D$e=Sde(),P$e=Cde(),E$e=AV(),x$e=LV(),R$e=GL(),O$e=MD(),I$e=C0();NV.subscribeTo=function(r){if(r&&typeof r[I$e.observable]=="function")return P$e.subscribeToObservable(r);if(E$e.isArrayLike(r))return C$e.subscribeToArray(r);if(x$e.isPromise(r))return T$e.subscribeToPromise(r);if(r&&typeof r[O$e.iterator]=="function")return D$e.subscribeToIterable(r);var e=R$e.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var MS=P(qV=>{"use strict";Object.defineProperty(qV,"__esModule",{value:!0});var k$e=yde(),A$e=HO(),M$e=Ao();function L$e(r,e,t,n,i){if(i===void 0&&(i=new k$e.InnerSubscriber(r,t,n)),!i.closed)return e instanceof M$e.Observable?e.subscribe(i):A$e.subscribeTo(e)(i)}qV.subscribeToResult=L$e});var uN=P(D0=>{"use strict";var N$e=D0&&D0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(D0,"__esModule",{value:!0});var q$e=Gv(),F$e=Rh(),j$e=AS(),z$e=MS(),U$e=xD(),Tde={};function H$e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return q$e.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&F$e.isArray(r[0])&&(r=r[0]),U$e.fromArray(r,n).lift(new Dde(t))}D0.combineLatest=H$e;var Dde=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Pde(e,this.resultSelector))},r}();D0.CombineLatestOperator=Dde;var Pde=function(r){N$e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(Tde),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(z$e.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Tde?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(j$e.OuterSubscriber);D0.CombineLatestSubscriber=Pde});var Ede=P(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});var B$e=Ao(),W$e=al(),$$e=C0();function V$e(r,e){return new B$e.Observable(function(t){var n=new W$e.Subscription;return n.add(e.schedule(function(){var i=r[$$e.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}FV.scheduleObservable=V$e});var xde=P(jV=>{"use strict";Object.defineProperty(jV,"__esModule",{value:!0});var G$e=Ao(),K$e=al();function Y$e(r,e){return new G$e.Observable(function(t){var n=new K$e.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}jV.schedulePromise=Y$e});var Rde=P(zV=>{"use strict";Object.defineProperty(zV,"__esModule",{value:!0});var J$e=Ao(),X$e=al(),Q$e=MD();function Z$e(r,e){if(!r)throw new Error("Iterable cannot be null");return new J$e.Observable(function(t){var n=new X$e.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[Q$e.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}zV.scheduleIterable=Z$e});var Ode=P(UV=>{"use strict";Object.defineProperty(UV,"__esModule",{value:!0});var e3e=C0();function t3e(r){return r&&typeof r[e3e.observable]=="function"}UV.isInteropObservable=t3e});var Ide=P(HV=>{"use strict";Object.defineProperty(HV,"__esModule",{value:!0});var r3e=MD();function n3e(r){return r&&typeof r[r3e.iterator]=="function"}HV.isIterable=n3e});var WV=P(BV=>{"use strict";Object.defineProperty(BV,"__esModule",{value:!0});var i3e=Ede(),o3e=xde(),s3e=nN(),a3e=Rde(),c3e=Ode(),u3e=LV(),l3e=AV(),d3e=Ide();function f3e(r,e){if(r!=null){if(c3e.isInteropObservable(r))return i3e.scheduleObservable(r,e);if(u3e.isPromise(r))return o3e.schedulePromise(r,e);if(l3e.isArrayLike(r))return s3e.scheduleArray(r,e);if(d3e.isIterable(r)||typeof r=="string")return a3e.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}BV.scheduled=f3e});var Kv=P($V=>{"use strict";Object.defineProperty($V,"__esModule",{value:!0});var kde=Ao(),h3e=HO(),p3e=WV();function m3e(r,e){return e?p3e.scheduled(r,e):r instanceof kde.Observable?r:new kde.Observable(h3e.subscribeTo(r))}$V.from=m3e});var bc=P(Hb=>{"use strict";var lN=Hb&&Hb.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hb,"__esModule",{value:!0});var dN=mi(),g3e=Ao(),v3e=HO(),_3e=function(r){lN(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(dN.Subscriber);Hb.SimpleInnerSubscriber=_3e;var y3e=function(r){lN(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(dN.Subscriber);Hb.ComplexInnerSubscriber=y3e;var b3e=function(r){lN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(dN.Subscriber);Hb.SimpleOuterSubscriber=b3e;var w3e=function(r){lN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(dN.Subscriber);Hb.ComplexOuterSubscriber=w3e;function S3e(r,e){if(!e.closed){if(r instanceof g3e.Observable)return r.subscribe(e);var t;try{t=v3e.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}Hb.innerSubscribe=S3e});var BO=P(LS=>{"use strict";var C3e=LS&&LS.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LS,"__esModule",{value:!0});var T3e=Om(),D3e=Kv(),VV=bc();function GV(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(GV(function(i,o){return D3e.from(r(i,o)).pipe(T3e.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Ade(r,t))})}LS.mergeMap=GV;var Ade=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Mde(e,this.project,this.concurrent))},r}();LS.MergeMapOperator=Ade;var Mde=function(r){C3e(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new VV.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=VV.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(VV.SimpleOuterSubscriber);LS.MergeMapSubscriber=Mde;LS.flatMap=GV});var fN=P(KV=>{"use strict";Object.defineProperty(KV,"__esModule",{value:!0});var P3e=BO(),E3e=IS();function x3e(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),P3e.mergeMap(E3e.identity,r)}KV.mergeAll=x3e});var JV=P(YV=>{"use strict";Object.defineProperty(YV,"__esModule",{value:!0});var R3e=fN();function O3e(){return R3e.mergeAll(1)}YV.concatAll=O3e});var WO=P(XV=>{"use strict";Object.defineProperty(XV,"__esModule",{value:!0});var I3e=EO(),k3e=JV();function A3e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return k3e.concatAll()(I3e.of.apply(void 0,r))}XV.concat=A3e});var hN=P(QV=>{"use strict";Object.defineProperty(QV,"__esModule",{value:!0});var M3e=Ao(),L3e=Kv(),N3e=Vv();function q3e(r){return new M3e.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?L3e.from(t):N3e.empty();return n.subscribe(e)})}QV.defer=q3e});var Nde=P(ZV=>{"use strict";Object.defineProperty(ZV,"__esModule",{value:!0});var F3e=Ao(),Lde=Rh(),j3e=Om(),z3e=GL(),U3e=Kv();function H3e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Lde.isArray(t))return pN(t,null);if(z3e.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return pN(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Lde.isArray(r[0])?r[0]:r,pN(r,null).pipe(j3e.map(function(o){return i.apply(void 0,o)}))}return pN(r,null)}ZV.forkJoin=H3e;function pN(r,e){return new F3e.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=U3e.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,_,y){return f[_]=i[y],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var jde=P(e4=>{"use strict";Object.defineProperty(e4,"__esModule",{value:!0});var B3e=Ao(),W3e=Rh(),$3e=wD(),V3e=Om();function qde(r,e,t,n){return $3e.isFunction(t)&&(n=t,t=void 0),n?qde(r,e,t).pipe(V3e.map(function(i){return W3e.isArray(i)?n.apply(void 0,i):n(i)})):new B3e.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Fde(r,e,o,i,t)})}e4.fromEvent=qde;function Fde(r,e,t,n,i){var o;if(Y3e(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(K3e(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(G3e(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)Fde(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function G3e(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function K3e(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function Y3e(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var Ude=P(t4=>{"use strict";Object.defineProperty(t4,"__esModule",{value:!0});var J3e=Ao(),X3e=Rh(),Q3e=wD(),Z3e=Om();function zde(r,e,t){return t?zde(r,e).pipe(Z3e.map(function(n){return X3e.isArray(n)?t.apply(void 0,n):t(n)})):new J3e.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(Q3e.isFunction(e))return function(){return e(i,o)}})}t4.fromEventPattern=zde});var Bde=P(r4=>{"use strict";Object.defineProperty(r4,"__esModule",{value:!0});var eVe=Ao(),Hde=IS(),tVe=Gv();function rVe(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||Hde.identity,i=a.scheduler}else n===void 0||tVe.isScheduler(n)?(s=r,o=Hde.identity,i=n):(s=r,o=n);return new eVe.Observable(function(c){var u=s;if(i)return i.schedule(nVe,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}r4.generate=rVe;function nVe(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var $de=P(n4=>{"use strict";Object.defineProperty(n4,"__esModule",{value:!0});var iVe=hN(),Wde=Vv();function oVe(r,e,t){return e===void 0&&(e=Wde.EMPTY),t===void 0&&(t=Wde.EMPTY),iVe.defer(function(){return r()?e:t})}n4.iif=oVe});var $O=P(i4=>{"use strict";Object.defineProperty(i4,"__esModule",{value:!0});var sVe=Rh();function aVe(r){return!sVe.isArray(r)&&r-parseFloat(r)+1>=0}i4.isNumeric=aVe});var Gde=P(o4=>{"use strict";Object.defineProperty(o4,"__esModule",{value:!0});var cVe=Ao(),Vde=Oh(),uVe=$O();function lVe(r,e){return r===void 0&&(r=0),e===void 0&&(e=Vde.async),(!uVe.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=Vde.async),new cVe.Observable(function(t){return t.add(e.schedule(dVe,r,{subscriber:t,counter:0,period:r})),t})}o4.interval=lVe;function dVe(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var a4=P(s4=>{"use strict";Object.defineProperty(s4,"__esModule",{value:!0});var fVe=Ao(),hVe=Gv(),pVe=fN(),mVe=xD();function gVe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return hVe.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof fVe.Observable?r[0]:pVe.mergeAll(t)(mVe.fromArray(r,n))}s4.merge=gVe});var c4=P(VO=>{"use strict";Object.defineProperty(VO,"__esModule",{value:!0});var vVe=Ao(),_Ve=cN();VO.NEVER=new vVe.Observable(_Ve.noop);function yVe(){return VO.NEVER}VO.never=yVe});var Kde=P(l4=>{"use strict";Object.defineProperty(l4,"__esModule",{value:!0});var bVe=Ao(),wVe=Kv(),SVe=Rh(),CVe=Vv();function u4(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return CVe.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&SVe.isArray(t)?u4.apply(void 0,t):new bVe.Observable(function(i){var o=function(){return i.add(u4.apply(void 0,n).subscribe(i))};return wVe.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}l4.onErrorResumeNext=u4});var Xde=P(mN=>{"use strict";Object.defineProperty(mN,"__esModule",{value:!0});var Yde=Ao(),TVe=al();function DVe(r,e){return e?new Yde.Observable(function(t){var n=Object.keys(r),i=new TVe.Subscription;return i.add(e.schedule(Jde,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new Yde.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}mN.pairs=DVe;function Jde(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}mN.dispatch=Jde});var f4=P(d4=>{"use strict";Object.defineProperty(d4,"__esModule",{value:!0});function PVe(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}d4.not=PVe});var P0=P(GO=>{"use strict";var EVe=GO&&GO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GO,"__esModule",{value:!0});var xVe=mi();function RVe(r,e){return function(n){return n.lift(new OVe(r,e))}}GO.filter=RVe;var OVe=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new IVe(e,this.predicate,this.thisArg))},r}(),IVe=function(r){EVe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(xVe.Subscriber)});var tfe=P(h4=>{"use strict";Object.defineProperty(h4,"__esModule",{value:!0});var kVe=f4(),Qde=HO(),Zde=P0(),efe=Ao();function AVe(r,e,t){return[Zde.filter(e,t)(new efe.Observable(Qde.subscribeTo(r))),Zde.filter(kVe.not(e,t))(new efe.Observable(Qde.subscribeTo(r)))]}h4.partition=AVe});var p4=P(E0=>{"use strict";var MVe=E0&&E0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(E0,"__esModule",{value:!0});var LVe=Rh(),NVe=xD(),qVe=AS(),FVe=MS();function jVe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(LVe.isArray(r[0]))r=r[0];else return r[0];return NVe.fromArray(r,void 0).lift(new rfe)}E0.race=jVe;var rfe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new nfe(e))},r}();E0.RaceOperator=rfe;var nfe=function(r){MVe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=FVe.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(qVe.OuterSubscriber);E0.RaceSubscriber=nfe});var ofe=P(gN=>{"use strict";Object.defineProperty(gN,"__esModule",{value:!0});var zVe=Ao();function UVe(r,e,t){return r===void 0&&(r=0),new zVe.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(ife,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}gN.range=UVe;function ife(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}gN.dispatch=ife});var g4=P(m4=>{"use strict";Object.defineProperty(m4,"__esModule",{value:!0});var HVe=Ao(),BVe=Oh(),sfe=$O(),afe=Gv();function WVe(r,e,t){r===void 0&&(r=0);var n=-1;return sfe.isNumeric(e)?n=Number(e)<1&&1||Number(e):afe.isScheduler(e)&&(t=e),afe.isScheduler(t)||(t=BVe.async),new HVe.Observable(function(i){var o=sfe.isNumeric(r)?r:+r-t.now();return t.schedule($Ve,o,{index:0,period:n,subscriber:i})})}m4.timer=WVe;function $Ve(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var cfe=P(v4=>{"use strict";Object.defineProperty(v4,"__esModule",{value:!0});var VVe=Ao(),GVe=Kv(),KVe=Vv();function YVe(r,e){return new VVe.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?GVe.from(i):KVe.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}v4.using=YVe});var _N=P(x0=>{"use strict";var ufe=x0&&x0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(x0,"__esModule",{value:!0});var JVe=xD(),XVe=Rh(),QVe=mi(),vN=MD(),_4=bc();function ZVe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),JVe.fromArray(r,void 0).lift(new lfe(t))}x0.zip=ZVe;var lfe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new dfe(e,this.resultSelector))},r}();x0.ZipOperator=lfe;var dfe=function(r){ufe(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;XVe.isArray(t)?n.push(new t4e(t)):typeof t[vN.iterator]=="function"?n.push(new e4e(t[vN.iterator]())):n.push(new r4e(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(QVe.Subscriber);x0.ZipSubscriber=dfe;var e4e=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),t4e=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[vN.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),r4e=function(r){ufe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[vN.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return _4.innerSubscribe(this.observable,new _4.SimpleInnerSubscriber(this))},e}(_4.SimpleOuterSubscriber)});var NS=P(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var n4e=Ao();pn.Observable=n4e.Observable;var i4e=iV();pn.ConnectableObservable=i4e.ConnectableObservable;var o4e=sV();pn.GroupedObservable=o4e.GroupedObservable;var s4e=C0();pn.observable=s4e.observable;var a4e=bf();pn.Subject=a4e.Subject;var c4e=aV();pn.BehaviorSubject=c4e.BehaviorSubject;var u4e=oN();pn.ReplaySubject=u4e.ReplaySubject;var l4e=kO();pn.AsyncSubject=l4e.AsyncSubject;var ffe=bV();pn.asap=ffe.asap;pn.asapScheduler=ffe.asapScheduler;var hfe=Oh();pn.async=hfe.async;pn.asyncScheduler=hfe.asyncScheduler;var pfe=lV();pn.queue=pfe.queue;pn.queueScheduler=pfe.queueScheduler;var mfe=sde();pn.animationFrame=mfe.animationFrame;pn.animationFrameScheduler=mfe.animationFrameScheduler;var gfe=ude();pn.VirtualTimeScheduler=gfe.VirtualTimeScheduler;pn.VirtualAction=gfe.VirtualAction;var d4e=uV();pn.Scheduler=d4e.Scheduler;var f4e=al();pn.Subscription=f4e.Subscription;var h4e=mi();pn.Subscriber=h4e.Subscriber;var vfe=RO();pn.Notification=vfe.Notification;pn.NotificationKind=vfe.NotificationKind;var p4e=ZL();pn.pipe=p4e.pipe;var m4e=cN();pn.noop=m4e.noop;var g4e=IS();pn.identity=g4e.identity;var v4e=lde();pn.isObservable=v4e.isObservable;var _4e=OD();pn.ArgumentOutOfRangeError=_4e.ArgumentOutOfRangeError;var y4e=ID();pn.EmptyError=y4e.EmptyError;var b4e=mO();pn.ObjectUnsubscribedError=b4e.ObjectUnsubscribedError;var w4e=H3();pn.UnsubscriptionError=w4e.UnsubscriptionError;var S4e=PV();pn.TimeoutError=S4e.TimeoutError;var C4e=pde();pn.bindCallback=C4e.bindCallback;var T4e=_de();pn.bindNodeCallback=T4e.bindNodeCallback;var D4e=uN();pn.combineLatest=D4e.combineLatest;var P4e=WO();pn.concat=P4e.concat;var E4e=hN();pn.defer=E4e.defer;var x4e=Vv();pn.empty=x4e.empty;var R4e=Nde();pn.forkJoin=R4e.forkJoin;var O4e=Kv();pn.from=O4e.from;var I4e=jde();pn.fromEvent=I4e.fromEvent;var k4e=Ude();pn.fromEventPattern=k4e.fromEventPattern;var A4e=Bde();pn.generate=A4e.generate;var M4e=$de();pn.iif=M4e.iif;var L4e=Gde();pn.interval=L4e.interval;var N4e=a4();pn.merge=N4e.merge;var q4e=c4();pn.never=q4e.never;var F4e=EO();pn.of=F4e.of;var j4e=Kde();pn.onErrorResumeNext=j4e.onErrorResumeNext;var z4e=Xde();pn.pairs=z4e.pairs;var U4e=tfe();pn.partition=U4e.partition;var H4e=p4();pn.race=H4e.race;var B4e=ofe();pn.range=B4e.range;var W4e=iN();pn.throwError=W4e.throwError;var $4e=g4();pn.timer=$4e.timer;var V4e=cfe();pn.using=V4e.using;var G4e=_N();pn.zip=G4e.zip;var K4e=WV();pn.scheduled=K4e.scheduled;var Y4e=Vv();pn.EMPTY=Y4e.EMPTY;var J4e=c4();pn.NEVER=J4e.NEVER;var X4e=hO();pn.config=X4e.config});var Nfe=P(EN=>{"use strict";Object.defineProperty(EN,"__esModule",{value:!0});EN.BaseTelemetryReporter=void 0;var E4=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};EN.BaseTelemetryReporter=E4});var qfe=P(xN=>{"use strict";Object.defineProperty(xN,"__esModule",{value:!0});xN.BaseTelemetrySender=void 0;var Bb;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(Bb||(Bb={}));var x4=class{constructor(e,t){this._instantiationStatus=Bb.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Bb.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Bb.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Bb.NOT_INSTANTIATED&&(this._instantiationStatus=Bb.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Bb.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Bb.INSTANTIATED}))}};xN.BaseTelemetrySender=x4});var O4=P(RN=>{"use strict";Object.defineProperty(RN,"__esModule",{value:!0});RN.TelemetryUtil=void 0;var R4=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};RN.TelemetryUtil=R4});var jfe=P((ON,Ffe)=>{(function(r,e){typeof ON=="object"&&typeof Ffe<"u"?e(ON):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(ON,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",_="object",y="prototype",D="__proto__",k="string",H="undefined",M="constructor",z="Symbol",re="_polyfill",ce="indexOf",_e="length",G="done",$="value",te="name",Te="slice",ae=Object,ue=ae[y],Fe=String,qe=Fe[y],le=Math,Ce=Array,be=Ce[y];function xe(p,b){var O=b;try{O=p()}catch{}return O}var Le=[k,f,l,H,"symbol","bigint"];function Ge(p){return function(b){return typeof b===p}}function Ct(p){var b="[object "+p+"]";return function(O){return!!(O&&ze(O)===b)}}function ze(p){return ue.toString.call(p)}function at(p,b){return typeof p===b}function ct(p){return typeof p===H||p===H}function tt(p){return p===c||ct(p)}function pr(p){return p===c||!Nr(p)}function Nr(p){return!!p||p!==a}var Hr=function(p){return p!==_&&Le.indexOf(p)!==-1},fr=Ge(k),It=Ge(d);function mr(p){return!p&&tt(p)?!1:!!p&&typeof p===_}var Lt=Ce.isArray,nn=Ct("Date"),cn=Ge(f),xn=Ge(l),Rr=Ct("Error");function Un(p){return!!p&&It(p.then)}function Wr(p){return!p||!xe(function(){return p&&0+p},p)}function un(p){return!(!p||xe(function(){return!(p&&0+p)},!p))}var ni=ae.getOwnPropertyDescriptor;function $r(p,b){return p&&ue.hasOwnProperty.call(p,b)}var In=ae.hasOwn||Ei;function Ei(p,b){return $r(p,b)||!!ni(p,b)}function Vr(p,b,O){if(p&&mr(p)){for(var F in p)if(In(p,F)&&b.call(O||p,F,p[F])===-1)break}}function Vi(p,b,O,F){var W={};return Vr(p,function(ie,ge){W[ie]=b?ge:ie,W[ge]=O?ge:ie}),F(W)}function ii(p){throw new Error(p)}function ln(p){throw new TypeError(p)}var Re=ae.freeze,oe=function(p){return p},Q=function(p){return p[D]||c},ye=ae.assign;function Ke(p){return(!mr(p)||p===c)&&ln("objKeys called on non-object"),ae.keys(p)}function ft(p){return Re&&Vr(p,function(b,O){(Lt(O)||mr(O))&&Re(O)}),Jt(p)}var Jt=Re||oe,nr=ae.seal||oe,Xt=ae.getPrototypeOf||Q;function Vt(p){return Vi(p,1,0,ft)}function kt(p){return Vi(p,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ne=Fe,Bt="__tsUtils$gblCfg",Tr;function He(){var p;return typeof globalThis!==H&&(p=globalThis),!p&&typeof self!==H&&(p=self),!p&&typeof window!==H&&(p=window),!p&&typeof global!==H&&(p=global),p}function ne(){if(!Tr){var p=He()||{};Tr=p[Bt]=p[Bt]||{}}return Tr}function Ee(p,b){var O=u;if(Rr(p))O="{ stack: '"+p.stack+"', message: '"+p.message+"', name: '"+p.name+"'";else try{O=JSON.stringify(p,c,b?cn(b)?b:4:a)}catch(F){O=" - "+Ee(F,b)}return ze(p)+": "+O}var je=be[Te],he=function(p,b){ln("'"+Ne(p)+"' not defined for "+Ee(b))},S=function(p){return function(b){return b[p].apply(b,je.call(arguments,1))}},fe=function(p,b){var O=b&&b[p];return function(F){var W=F&&F[p]||O;if(W)return W.apply(F,je.call(arguments,1));he(p,F)}},Je=function(p,b,O){var F=b&&b[p];return function(W){var ie=W&&W[p]||F;if(ie||O){var ge=arguments;return(ie||O).apply(W,ie?je.call(ge,1):ge)}he(p,W)}};function Cr(p){return function(b){return b[p]}}var Br=le.max,Jr=fe(Te,qe),qn=fe("substring",qe),xi=Je("substr",qe,ws);function ws(p,b,O){return tt(p)&&ln("'polyStrSubstr called with invalid "+Ee(p)),O<0?u:(b=b||0,b<0&&(b=Br(b+p[_e],0)),ct(O)?Jr(p,b):Jr(p,b,b+O))}function bn(p,b){return qn(p,0,b)}var Go=Je("startsWith",qe,Is);function Is(p,b,O){fr(p)||ln("'"+Ee(p)+"' is not a string");var F=fr(b)?b:Ne(b),W=F[_e],ie=O>0?O:0;return qn(p,ie,ie+W)===F}var Ws="_urid",Oo;function bo(){if(!Oo){var p=ne();Oo=p.gblSym=p.gblSym||{k:{},s:{}}}return Oo}var U={};function Ue(p){var b={description:Ne(p),toString:function(){return z+"("+p+")"}};return b[re]=!0,b}function vt(p){var b=bo();if(!In(b.k,p)){var O=Ue(p),F=Ke(b.s).length;O[Ws]=function(){return F+"_"+O.toString()},b.k[p]=O,b.s[O[Ws]()]=Ne(p)}return b.k[p]}function qr(p){var b,O=K[p];return O&&(b=U[O]=U[O]||Ue(z+"."+O)),b}var to={e:"enumerable",c:"configurable",v:$,w:"writable",g:"get",s:"set"};function zi(p){var b={};if(b[to.c]=!0,b[to.e]=!0,p.l){b.get=function(){return p.l.v};var O=ni(p.l,"v");O&&O.set&&(b.set=function(F){p.l.v=F})}return Vr(p,function(F,W){b[to[F]]=ct(W)?b[to[F]]:W}),b}var L=ae.defineProperty;function Ae(p,b,O,F,W,ie){var ge={e:ie,c:W};return O&&(ge.g=O),F&&(ge.s=F),L(p,b,zi(ge))}function rt(p,b,O){return L(p,b,zi(O))}var Ut,kn=function(){Ut=ne(),kn=c};function wn(p){var b={};return kn&&kn(),b.b=Ut.lzy,L(b,"v",{configurable:!0,get:function(){var O=p();return Ut.lzy||(L(b,"v",{value:O}),b.b&&delete b.b),Ut.lzy&&b.b!==Ut.lzy&&(b.b=Ut.lzy),O}}),b}function Mn(p,b){return wn(function(){return xe(p,b)})}var ro="window",Li,wo,Hi,Yn,Qc,Ko,fo=function(p){return Mn(function(){return ki(p)||a},a)},Wu=function(p){return(!Li||p===!1||Ut&&Ut.lzy&&!Li.b)&&(Li=Mn(He,c)),Li.v},ki=function(p,b){var O=!Li||b===!1?Wu(b):Li.v;return O&&O[p]?O[p]:p===ro&&wo?wo.v:c},qa=function(){return!!Fa()},Fa=function(){return(!Hi||Ut&&Ut.lzy&&!Hi.b)&&(Hi=fo("document")),Hi.v},na=function(){return!!$u()},$u=function(){return(!wo||Ut&&Ut.lzy&&!wo.b)&&(wo=fo(ro)),wo.v},Gf=function(){return!!ac()},ac=function(){return(!Yn||Ut&&Ut.lzy&&!Yn.b)&&(Yn=fo("navigator")),Yn.v},$s=function(){return!!Zc()},Zc=function(){return(!Qc||Ut&&Ut.lzy&&!Qc.b)&&(Qc=fo("history")),Qc.v},Kf=function(){return!Ko&&(Ko=Mn(function(){return!!(process&&(process.versions||{}).node)},!1)),Ko.v},Mo,ks,Cn;function As(p){return Mn(function(){return Mo.v?Mo.v[p]:a},a)}function eu(){return!!oi()}function oi(){var p=!Mo||Ut&&Ut.lzy&&!Mo.b;return p&&(Mo=fo(z)),(!ks||p)&&(ks=As("for")),(!Cn||p)&&(Cn=As("keyFor")),Mo.v}function ha(p,b){var O=K[p];return(!Mo||Ut.lzy&&!Mo.b)&&oi(),Mo.v?Mo.v[O||p]:b?a:qr(p)}function Mc(p,b){return(!Mo||Ut.lzy&&!Mo.b)&&oi(),Mo.v?Mo.v(p):b?c:Ue(p)}function Yf(p){return(!ks||Ut.lzy&&!Mo.b)&&oi(),(ks.v||vt)(p)}function Hd(p){return!!p&&It(p.next)}function Wh(p){return!pr(p)&&It(p[ha(3)])}var Bd;function $h(p,b,O){if(p&&(Hd(p)||(!Bd&&(Bd=wn(function(){return ha(3)})),p=p[Bd.v]?p[Bd.v]():null),Hd(p))){var F=void 0,W=void 0;try{for(var ie=0;!(W=p.next())[G]&&b.call(O||p,W[$],ie,p)!==-1;)ie++}catch(ge){F={e:ge},p.throw&&(W=null,p.throw(F))}finally{try{W&&!W[G]&&p.return&&p.return(W)}finally{if(F)throw F.e}}}}var Wd=S("apply");function pl(p,b){return!ct(b)&&p&&(Lt(b)?Wd(p.push,p,b):Hd(b)||Wh(b)?$h(b,function(O){p.push(O)}):p.push(b)),p}function Jn(p,b,O){if(p)for(var F=p[_e]>>>0,W=0;W<F&&!(W in p&&b.call(O||p,p[W],W,p)===-1);W++);}var Ms=fe(ce,be),ml=fe("map",be),no=fe(Te,be),Jf=S("call");function Xf(p,b,O){return Ms(p,b,O)!==-1}var Ls=Je("includes",be,Xf),tu=fe("reduce",be),Qf=ae.create,rd=Qf||ds;function ds(p){if(!p)return{};var b=typeof p;if(b!==_&&b!==d)throw new TypeError("Prototype must be an Object or function: "+Ee(p));function O(){}return O[y]=p,new O}var gl;function Lc(p,b){var O=ae.setPrototypeOf||function(F,W){!gl&&(gl=wn(function(){var ie;return ie={},ie[D]=[],ie instanceof Array})),gl.v?F[D]=W:Vr(W,function(ie,ge){return F[ie]=ge})};return O(p,b)}var Gp=function(p,b,O){$d(b,p),b=Lc(b,O);function F(){this.constructor=b,$d(this,p)}return b[y]=O===c?rd(O):(F[y]=O[y],new F),b},nd=function(p,b){try{b&&(p[te]=b)}catch{}},$d=function(p,b){try{rt(p,te,{v:b,c:!0,e:!1})}catch{}};function Vd(p,b,O){var F=O||Error,W=F[y][te],ie=Error.captureStackTrace;return Gp(p,function(){var ge=this;try{nd(F,p);var Oe=Wd(F,ge,no(arguments))||ge;if(Oe!==ge){var Be=Xt(ge);Be!==Xt(Oe)&&Lc(Oe,Be)}return ie&&ie(Oe,ge[M]),b&&b(Oe,arguments),Oe}finally{nd(F,W)}},F)}function cc(){return(Date.now||ho)()}function ho(){return new Date().getTime()}function Vh(p){return function(O){return tt(O)&&ln("strTrim called ["+Ee(O)+"]"),O&&O.replace&&(O=O.replace(p,u)),O}}var Gd=Vh(/^\s+|(?=\s)\s+$/g),Vs=Je("trim",qe,Gd),Vu,ru,pv;function Gs(p){if(!p||typeof p!==_)return!1;pv||(pv=na()?$u():!0);var b=!1;if(p!==pv){ru||(Vu=Function[y].toString,ru=Jf(Vu,ae));try{var O=Xt(p);b=!O,b||($r(O,M)&&(O=O[M]),b=O&&typeof O===d&&Vu.call(O)===ru)}catch{}}return b}var P_=function(p){return p.value&&_l(p),!0},yu=[od,_l,Gh,eh];function id(p,b,O,F){var W;return Jn(p,function(ie){if(ie.k===b)return W=ie,-1}),W||(W={k:b,v:b},p.push(W),F(W)),W.v}function Lo(p,b,O,F){var W=O.handler,ie=O.path?F?O.path.concat(F):O.path:[],ge={handler:O.handler,src:O.src,path:ie},Oe=typeof b,Be=!1,et=!1;b&&Oe===_?Be=Gs(b):et=b===c||Hr(Oe);var $e={type:Oe,isPrim:et,isPlain:Be,value:b,result:b,path:ie,origin:O.src,copy:function(wt,ot){return Lo(p,wt,ot?ge:O,ot)},copyTo:function(wt,ot){return vl(p,wt,ot,ge)}};return $e.isPrim?W&&Jf(W,O,$e)?$e.result:b:id(p,b,ie,function(wt){rt($e,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,yt=W;!Jf(yt||(ot<yu.length?yu[ot++]:P_),O,$e);)yt=c})}function vl(p,b,O,F){if(!tt(O))for(var W in O)b[W]=Lo(p,O[W],F,W);return b}function Zf(p,b,O){var F={handler:O,src:b,path:[]};return vl([],p,b,F)}function tg(p,b){var O={handler:b,src:p};return Lo([],p,O)}function od(p){var b=p.value;if(Lt(b)){var O=p.result=[];return O.length=b.length,p.copyTo(O,b),!0}return!1}function eh(p){var b=p.value;return nn(b)?(p.result=new Date(b.getTime()),!0):!1}function Gh(p){return p.type===d}function _l(p){var b=p.value;if(b&&p.isPlain){var O=p.result={};return p.copyTo(O,b),!0}return!1}function Kh(p,b){return Jn(b,function(O){Zf(p,O)}),p}function bu(p,b,O,F,W,ie,ge){return Kh(tg(p)||{},no(arguments))}var th=Cr(_e),nu;function Kd(){return(!nu||!nu.b&&Ut&&Ut.lzy)&&(nu=fo("performance")),nu.v}function sd(){var p=Kd();return p&&p.now?p.now():cc()}var Yd=Je("endsWith",qe,ad);function ad(p,b,O){fr(p)||ln("'"+Ee(p)+"' is not a string");var F=fr(b)?b:Ne(b),W=F[_e],ie=p[_e],ge=!ct(O)&&O<ie?O:ie;return qn(p,ge-W,ge)===F}var Ns=fe(ce,qe),pa="ref",So="un"+pa,Nc="hasRef",ja="enabled";function rg(p,b,O){var F,W=!0,ie=p?b(c):c,ge,Oe=function(){return W=!1,ie&&ie[So]&&ie[So](),ge},Be=function(){return W=!0,ie&&ie[pa]&&ie[pa](),ge},et=function(){return ie&&ie[Nc]?ie[Nc]():W},$e=function(){return ie=b(ie),W||Oe(),ge},wt=function(){ie&&O(ie),ie=c},ot=function(yt){!yt&&ie&&wt(),yt&&!ie&&$e()};return ge=(F={cancel:wt,refresh:$e},F[Nc]=et,F[pa]=Be,F[So]=Oe,F[ja]=!1,F),L(ge,ja,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function wu(p,b,O,F){var W=Lt(O),ie=W?O.length:0,ge=(ie>0?O[0]:W?a:O)||setTimeout,Oe=(ie>1?O[1]:a)||clearTimeout,Be=F[0];F[0]=function(){et.dn(),Wd(Be,p,no(arguments))};var et=rg(b,function($e){if($e){if($e.refresh)return $e.refresh(),$e;Wd(Oe,p,[$e])}return Wd(ge,p,F)},function($e){Wd(Oe,p,[$e])});return et.h}function qs(p,b){return wu(this,!0,a,no(arguments))}function yl(p,b){return wu(this,!1,a,no(arguments))}(Wu()||{}).Symbol,(Wu()||{}).Reflect;var Yh="hasOwnProperty",iu=function(p,b){return iu=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,F){O.__proto__=F}||function(O,F){for(var W in F)F[Yh](W)&&(O[W]=F[W])},iu(p,b)};function Gu(p,b){typeof b!==e&&b!==null&&ln("Class extends value "+String(b)+" is not a constructor or null"),iu(p,b);function O(){this.constructor=p}p[i]=b===null?rd(b):(O[i]=b[i],new O)}function rh(p,b){for(var O=0,F=b.length,W=p.length;O<F;O++,W++)p[W]=b[O];return p}var uc,Su="constructor",fs="prototype",qc="function",Cu="_dynInstFuncs",Tu="_isDynProxy",Ks="_dynClass",ng="_dynCls$",za="_dynInstChk",Ku=za,No="_dfOpts",qo="_unknown_",Jd="__proto__",Du="_dyn"+Jd,Xd="__dynProto$Gbl",Io="_dynInstProto",bl="useBaseInst",Qd="setInstFuncs",ia=Object,ou=ia.getPrototypeOf,Ys=ia.getOwnPropertyNames,Ss=Wu(),wl=Ss[Xd]||(Ss[Xd]={o:(uc={},uc[Qd]=!0,uc[bl]=!0,uc),n:1e3});function mv(p){return p&&(p===ia[fs]||p===Array[fs])}function is(p){return mv(p)||p===Function[fs]}function Fc(p){var b;if(p){if(ou)return ou(p);var O=p[Jd]||p[fs]||(p[Su]?p[Su][fs]:null);b=p[Du]||O,$r(p,Du)||(delete p[Io],b=p[Du]=p[Io]||p[Du],p[Io]=O)}return b}function Yu(p,b){var O=[];if(Ys)O=Ys(p);else for(var F in p)typeof F=="string"&&$r(p,F)&&O.push(F);if(O&&O.length>0)for(var W=0;W<O.length;W++)b(O[W])}function nh(p,b,O){return b!==Su&&typeof p[b]===qc&&(O||$r(p,b))}function cd(p){ln("DynamicProto: "+p)}function Jh(p){var b={};return Yu(p,function(O){!b[O]&&nh(p,O,!1)&&(b[O]=p[O])}),b}function Ua(p,b){for(var O=p.length-1;O>=0;O--)if(p[O]===b)return!0;return!1}function Kp(p,b,O,F){function W(Be,et,$e){var wt=et[$e];if(wt[Tu]&&F){var ot=Be[Cu]||{};ot[Ku]!==!1&&(wt=(ot[et[Ks]]||{})[$e]||wt)}return function(){return wt.apply(Be,arguments)}}var ie={};Yu(O,function(Be){ie[Be]=W(b,O,Be)});for(var ge=Fc(p),Oe=[];ge&&!is(ge)&&!Ua(Oe,ge);)Yu(ge,function(Be){!ie[Be]&&nh(ge,Be,!ou)&&(ie[Be]=W(b,ge,Be))}),Oe.push(ge),ge=Fc(ge);return ie}function Ni(p,b,O,F){var W=null;if(p&&$r(O,Ks)){var ie=p[Cu]||{};if(W=(ie[O[Ks]]||{})[b],W||cd("Missing ["+b+"] "+qc),!W[za]&&ie[Ku]!==!1){for(var ge=!$r(p,b),Oe=Fc(p),Be=[];ge&&Oe&&!is(Oe)&&!Ua(Be,Oe);){var et=Oe[b];if(et){ge=et===F;break}Be.push(Oe),Oe=Fc(Oe)}try{ge&&(p[b]=W),W[za]=1}catch{ie[Ku]=!1}}}return W}function Yo(p,b,O){var F=b[p];return F===O&&(F=Fc(b)[p]),typeof F!==qc&&cd("["+p+"] is not a "+qc),F}function Pu(p,b,O,F,W){function ie(Be,et){var $e=function(){var wt=Ni(this,et,Be,$e)||Yo(et,Be,$e);return wt.apply(this,arguments)};return $e[Tu]=1,$e}if(!mv(p)){var ge=O[Cu]=O[Cu]||{},Oe=ge[b]=ge[b]||{};ge[Ku]!==!1&&(ge[Ku]=!!W),Yu(O,function(Be){nh(O,Be,!1)&&O[Be]!==F[Be]&&(Oe[Be]=O[Be],delete O[Be],(!$r(p,Be)||p[Be]&&!p[Be][Tu])&&(p[Be]=ie(p,Be)))})}}function lc(p,b){if(ou){for(var O=[],F=Fc(b);F&&!is(F)&&!Ua(O,F);){if(F===p)return!0;O.push(F),F=Fc(F)}return!1}return!0}function dc(p,b){return $r(p,fs)?p.name||b||qo:((p||{})[Su]||{}).name||b||qo}function Js(p,b,O,F){$r(p,fs)||cd("theClass is an invalid class definition.");var W=p[fs];lc(W,b)||cd("["+dc(p)+"] not in hierarchy of ["+dc(b)+"]");var ie=null;$r(W,Ks)?ie=W[Ks]:(ie=ng+dc(p,"_")+"$"+wl.n,wl.n++,W[Ks]=ie);var ge=Js[No],Oe=!!ge[bl];Oe&&F&&F[bl]!==void 0&&(Oe=!!F[bl]);var Be=Jh(b),et=Kp(W,b,Be,Oe);O(b,et);var $e=!!ou&&!!ge[Qd];$e&&F&&($e=!!F[Qd]),Pu(W,ie,b,Be,$e!==!1)}Js[No]=wl.o;var Ju=100,Bi=Vt,Zd=Bi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),bi="toLowerCase",ma="blkVal",Hn="length",ud="rdOnly",Sl="notify",fc="warnToConsole",Fo="throwInternal",Ha="setDf",Xs="watch",io="logger",su="apply",Ln="push",jc="splice",Co="hdlr",si="cancel",Cl="initialize",ga="identifier",oa="isInitialized",Qs="getPlugin",Tl="pollInternalLogs",Ba="name",ld="time",hs="processNext",zc="getProcessTelContext",Xu="getNotifyMgr",Dl="addNotificationListener",dd="removeNotificationListener",m="enabled",g="stopPollingInternalLogs",E="unload",R="onComplete",N="version",J="loggingLevelConsole",Z="createNew",pe="teardown",Ie="messageId",Qe="message",ht="isAsync",Ht="diagLog",Sr="_doTeardown",on="update",Fr="getNext",Bn="setNextPlugin",Fs="userAgent",Wa="split",au="nodeType",Xh="replace",Yp="logInternalMessage",va="type",Qh="handler",ih="isChildEvt",fd="getCtx",cu="setCtx",ig="complete",E_="traceId",Zh="spanId",ep="traceFlags",x_;function R_(p,b){x_||(x_=Vd("AggregationError",function(F,W){W[Hn]>1&&(F.errors=W[1])}));var O=p||"One or more errors occurred.";throw Jn(b,function(F,W){O+=`
`.concat(W," > ").concat(Ee(F))}),new x_(O,b||[])}function O_(p,b){return ib(p,function(O){b&&b({value:O,rejected:!1})},function(O){b&&b({rejected:!0,reason:O})})}function ib(p,b,O,F){var W=p;return Un(p)?(b||O)&&(W=p.then(b,O)):b&&b(p),F&&(W=Jp(W,F)),W}function Jp(p,b){var O=p;return b&&(Un(p)?p.finally?O=p.finally(b):O=p.then(function(F){return b(),F},function(F){throw b(),F}):b()),O}var gv=["pending","resolving","resolved","rejected"],I_="dispatchEvent",k_;function Xp(p,b,O,F){var W=Fa();!k_&&(k_=Mn(function(){var Be;return W&&W.createEvent&&(Be=W.createEvent("Event")),!!Be&&Be.initEvent},null));var ie=k_.v?W.createEvent("Event"):F?new Event(b):{};if(O&&O(ie),k_.v&&ie.initEvent(b,!1,!0),ie&&p[I_])p[I_](ie);else{var ge=p["on"+b];if(ge)ge(ie);else{var Oe=ki("console");Oe&&(Oe.error||Oe.log)(b,Ee(ie))}}}var tp="Promise",ob="unhandledRejection",A_=ob.toLowerCase(),rp=10,vv;function hd(p){return It(p)?p.toString():Ee(p)}function Gi(p,b,O){var F=no(arguments,3),W=0,ie=!1,ge,Oe=[],Be=!1,et=null,$e;!vv&&(vv=fo(tp+"RejectionEvent"));var wt=function(Or,An){try{Be=!0,et&&et.cancel(),et=null;var Ri=p(function(Do,Ve){Oe.push(function(){try{var At=W===2?Or:An,er=ct(At)?ge:It(At)?At(ge):At;Un(er)?er.then(Do,Ve):At?Do(er):W===3?Ve(er):Do(er)}catch(dr){Ve(dr)}}),ie&&Zt()},F);return Ri}finally{}},ot=function(Or){return wt(void 0,Or)},yt=function(Or){var An=Or,Ri=Or;return It(Or)&&(An=function(Do){return Or&&Or(),Do},Ri=function(Do){throw Or&&Or(),Do}),wt(An,Ri)},it=function(){return gv[W]},Zt=function(){if(Oe.length>0){var Or=Oe.slice();Oe=[],Be=!0,b(Or),et&&et.cancel(),et=null}},Gt=function(Or,An){return function(Ri){if(W===An){if(Or===2&&Un(Ri)){W=1,Ri.then(Gt(2,1),Gt(3,1));return}W=Or,ie=!0,ge=Ri,Zt(),!Be&&Or===3&&!et&&(et=qs(yr,rp))}}},yr=function(){if(!Be)if(Kf())process.emit(ob,ge,$e);else{var Or=$u()||Wu();Xp(Or,A_,function(An){return rt(An,"promise",{g:function(){return $e}}),An.reason=ge,An},!!vv.v)}};$e={then:wt,catch:ot,finally:yt},L($e,"state",{get:it}),eu()&&($e[ha(11)]="IPromise");var Er=function(){return"IPromise "+it()+(ie?" - "+hd(ge):"")};return $e.toString=Er,function(){It(O)||ln(tp+": executor is not a function - "+hd(O));var An=Gt(3,0);try{O.call($e,Gt(2,0),An)}catch(Ri){An(Ri)}}(),$e}function Qp(p){return function(b){var O=no(arguments,1);return p(function(F,W){try{var ie=[],ge=1;Jn(b,function(Oe,Be){Oe&&(ge++,ib(Oe,function(et){ie[Be]=et,--ge===0&&F(ie)},W))}),ge--,ge===0&&F(ie)}catch(Oe){W(Oe)}},O)}}var oo=function(p){Jn(p,function(b){try{b()}catch{}})};function M_(p){var b=cn(p)?p:0;return function(O){qs(function(){oo(O)},b)}}function _v(p,b){return Gi(_v,M_(b),p,b)}var pd;function np(p,b){!pd&&(pd=fo(tp));var O=pd.v;if(!O)return _v(p);It(p)||ln(tp+": executor is not a function - "+Ee(p));var F=0;function W(){return gv[F]}var ie=new O(function(ge,Oe){function Be($e){F=2,ge($e)}function et($e){F=3,Oe($e)}p(Be,et)});return L(ie,"state",{get:W}),ie}var Uc;function md(p,b){return!Uc&&(Uc=wn(function(){return np})),Uc.v.call(this,p,b)}var gd=Qp(md),Cs=void 0,di="",uu="channels",Jo="core",vd="createPerfMgr",Zp="disabled",ip="extensionConfig",op="extensions",ef="processTelemetry",L_="priority",em="eventsSent",tm="eventsDiscarded",_a="eventsSendRequest",_d="perfEvent",hc="getPerfMgr",lu="domain",rm="path",Qu="Not dynamic - ",nm=/-([a-z])/g,og=/([^\w\d_$])/g,sp=/^(\d+[\w\d_$])/;function Tn(p){return!tt(p)}function yd(p){var b=p;return b&&fr(b)&&(b=b[Xh](nm,function(O,F){return F.toUpperCase()}),b=b[Xh](og,"_"),b=b[Xh](sp,function(O,F){return"_"+F})),b}function Ts(p,b){return p&&b?Ns(p,b)!==-1:!1}function tf(p){return p&&p.toISOString()||""}function yv(p){return Rr(p)?p[Ba]:di}function $a(p,b,O,F,W){var ie=O;return p&&(ie=p[b],ie!==O&&(!W||W(ie))&&(!F||F(O))&&(ie=O,p[b]=ie)),ie}function bd(p,b,O){var F;return p?(F=p[b],!F&&tt(F)&&(F=ct(O)?{}:O,p[b]=F)):F=ct(O)?{}:O,F}function ap(p,b){var O=null,F=null;return It(p)?O=p:F=p,function(){var W=arguments;if(O&&(F=O()),F)return F[b][su](F,W)}}function bv(p,b,O){if(p&&b&&mr(p)&&mr(b)){var F=function(ie){if(fr(ie)){var ge=b[ie];It(ge)?(!O||O(ie,!0,b,p))&&(p[ie]=ap(b,ie)):(!O||O(ie,!1,b,p))&&(In(p,ie)&&delete p[ie],rt(p,ie,{g:function(){return b[ie]},s:function(Oe){b[ie]=Oe}}))}};for(var W in b)F(W)}return p}function Zu(p,b,O,F,W){p&&b&&O&&(W!==!1||ct(p[b]))&&(p[b]=ap(O,F))}function sg(p,b,O,F){return p&&b&&mr(p)&&Lt(O)&&Jn(O,function(W){fr(W)&&Zu(p,W,b,W,F)}),p}function im(p){return p&&ye&&(p=o(ye({},p))),p}var wv="documentMode",ag="location",wd="console",rf="JSON",om="crypto",cp="msCrypto",cg="ReactNative",Hc="msie",Va="trident/",nf="XMLHttpRequest",Eu=null,du=null,oh=!1,Sd=null,ug=null;function up(p,b){var O=!1;if(p){try{if(O=b in p,!O){var F=p[i];F&&(O=b in F)}}catch{}if(!O)try{var W=new p;O=!ct(W[b])}catch{}}return O}function lp(p){oh=p}function sh(p){if(p&&oh){var b=ki("__mockLocation");if(b)return b}return typeof location===t&&location?location:ki(ag)}function Cd(){return typeof console!==n?console:ki(wd)}function sm(){return!!(typeof JSON===t&&JSON||ki(rf)!==null)}function dp(){return sm()?JSON||ki(rf):null}function am(){return ki(om)}function of(){return ki(cp)}function ah(){var p=ac();return p&&p.product?p.product===cg:!1}function cm(){var p=ac();if(p&&(p[Fs]!==du||Eu===null)){du=p[Fs];var b=(du||di)[bi]();Eu=Ts(b,Hc)||Ts(b,Va)}return Eu}function sb(p){if(p===void 0&&(p=null),!p){var b=ac()||{};p=b?(b.userAgent||di)[bi]():di}var O=(p||di)[bi]();if(Ts(O,Hc)){var F=Fa()||{};return Math.max(parseInt(O[Wa](Hc)[1]),F[wv]||0)}else if(Ts(O,Va)){var W=parseInt(O[Wa](Va)[1]);if(W)return W+4}return null}function Ga(p){return(ug===null||p===!1)&&(ug=Gf()&&!!ac().sendBeacon),ug}function Sv(p){var b=!1;try{b=!!ki("fetch");var O=ki("Request");b&&p&&O&&(b=up(O,"keepalive"))}catch{}return b}function Td(){return Sd===null&&(Sd=typeof XDomainRequest!==n,Sd&&lg()&&(Sd=Sd&&!up(ki(nf),"withCredentials"))),Sd}function lg(){var p=!1;try{var b=ki(nf);p=!!b}catch{}return p}function Dd(p,b){if(p)for(var O=0;O<p[Hn];O++){var F=p[O];if(F[Ba]&&F[Ba]===b)return F}return{}}function sf(p){var b=Fa();return b&&p?Dd(b.querySelectorAll("meta"),p).content:null}function um(p){var b,O=Kd();if(O){var F=O.getEntriesByType("navigation")||[];b=Dd((F[Hn]>0?F[0]:{}).serverTiming,p).description}return b}var dg=4294967296,pc=4294967295,el=123456789,fg=987654321,Cv=!1,Pd=el,fp=fg;function ch(p){p<0&&(p>>>=0),Pd=el+p&pc,fp=fg-p&pc,Cv=!0}function ab(){try{var p=cc()&2147483647;ch((Math.random()*dg^p)+p)}catch{}}function Zw(p){return p>0?Math.floor(Ed()/pc*(p+1))>>>0:0}function Ed(p){var b=0,O=am()||of();return O&&O.getRandomValues&&(b=O.getRandomValues(new Uint32Array(1))[0]&pc),b===0&&cm()&&(Cv||ab(),b=Tv()&pc),b===0&&(b=Math.floor(dg*Math.random()|0)),p||(b>>>=0),b}function Tv(p){fp=36969*(fp&65535)+(fp>>16)&pc,Pd=18e3*(Pd&65535)+(Pd>>16)&pc;var b=(fp<<16)+(Pd&65535)>>>0&pc|0;return p||(b>>>=0),b}function Dv(p){p===void 0&&(p=22);for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=Ed()>>>0,F=0,W=di;W[Hn]<p;)F++,W+=b.charAt(O&63),O>>>=6,F===5&&(O=(Ed()<<2&4294967295|O&3)>>>0,F=0);return W}var Pv="3.0.5",hg="."+Dv(6),HC=0;function pg(p){return p[au]===1||p[au]===9||!+p[au]}function BC(p,b){var O=b[p.id];if(!O){O={};try{pg(b)&&rt(b,p.id,{e:!1,v:O})}catch{}}return O}function Pl(p,b){return b===void 0&&(b=!1),yd(p+HC+++(b?"."+Pv:di)+hg)}function uh(p){var b={id:Pl("_aiData-"+(p||di)+"."+Pv),accept:function(O){return pg(O)},get:function(O,F,W,ie){var ge=O[b.id];return ge?ge[yd(F)]:(ie&&(ge=BC(b,O),ge[yd(F)]=W),W)},kill:function(O,F){if(O&&O[F])try{delete O[F]}catch{}}};return b}function lm(p){return p&&mr(p)&&(p.isVal||p.fb||In(p,"v")||In(p,"mrg")||In(p,"ref")||p.set)}function N_(p,b,O){var F,W=O.dfVal||Nr;if(b&&O.fb){var ie=O.fb;Lt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Hn];ge++){var Oe=ie[ge],Be=b[Oe];if(W(Be)?F=Be:p&&(Be=p.cfg[Oe],W(Be)&&(F=Be),p.set(p.cfg,Ne(Oe),Be)),W(F))break}}return!W(F)&&W(O.v)&&(F=O.v),F}function dm(p,b,O){var F=O;if(O&&lm(O)&&(F=N_(p,b,O)),F){lm(F)&&(F=dm(p,b,F));var W;Lt(F)?(W=[],W[Hn]=F[Hn]):Gs(F)&&(W={}),W&&(Vr(F,function(ie,ge){ge&&lm(ge)&&(ge=dm(p,b,ge)),W[ie]=ge}),F=W)}return F}function El(p,b,O,F){var W,ie,ge,Oe=F,Be,et,$e,wt;lm(Oe)?(W=Oe.isVal,ie=Oe.set,$e=Oe[ud],wt=Oe[ma],Be=Oe.mrg,et=Oe.ref,!et&&ct(et)&&(et=!!Be),ge=N_(p,b,Oe)):ge=F,wt&&p[ma](b,O);var ot,yt=!0,it=b[O];(it||!tt(it))&&(ot=it,yt=!1,W&&ot!==ge&&!W(ot)&&(ot=ge,yt=!0),ie&&(ot=ie(ot,ge,b),yt=ot===ge)),yt?ge?ot=dm(p,b,ge):ot=ge:(Gs(ot)||Lt(ge))&&Be&&ge&&(Gs(ge)||Lt(ge))&&Vr(ge,function(Zt,Gt){El(p,ot,Zt,Gt)}),p.set(b,O,ot),et&&p.ref(b,O),$e&&p[ud](b,O)}var tl=Yf("[[ai_dynCfg_1]]"),af=Yf("[[ai_blkDynCfg_1]]"),cf=Yf("[[ai_frcDynCfg_1]]");function Ev(p){if(p){var b;if(Lt(p)?(b=[],b[Hn]=p[Hn]):Gs(p)&&(b={}),b)return Vr(p,function(O,F){b[O]=Ev(F)}),b}return p}function hp(p){if(p){var b=p[tl]||p;if(b.cfg&&(b.cfg===p||b.cfg[tl]===b))return b}return null}function ya(p){if(p&&(Gs(p)||Lt(p)))try{p[af]=!0}catch{}return p}function lh(p){if(p)try{p[cf]=!0}catch{}return p}function dh(p,b,O){var F=!1;return O&&!p[b.blkVal]&&(F=O[cf],!F&&!O[af]&&(F=Gs(O)||Lt(O))),F}function q_(p){ln("InvalidAccess:"+p)}var eS=["push","pop","shift","unshift","splice"],fh=function(p,b,O,F){p&&p[Fo](3,108,"".concat(O," [").concat(b,"] failed - ")+Ee(F))};function tS(p,b,O){Lt(b)&&Jn(eS,function(F){var W=b[F];b[F]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Oe=W[su](this,ie);return pp(p,b,O,"Patching"),Oe}})}function fm(p,b){var O=ni(p,b);return O&&O.get}function hh(p,b,O,F){var W={n:O,h:[],trk:function(et){et&&et.fn&&(Ms(W.h,et)===-1&&W.h[Ln](et),p.trk(et,W))},clr:function(et){var $e=Ms(W.h,et);$e!==-1&&W.h[jc]($e,1)}},ie=!0,ge=!1;function Oe(){ie&&(ge=ge||dh(Oe,p,F),F&&!F[tl]&&ge&&(F=pp(p,F,O,"Converting")),ie=!1);var et=p.act;return et&&W.trk(et),F}Oe[p.prop]={chng:function(){p.add(W)}};function Be(et){if(F!==et){Oe[p.ro]&&!p.upd&&q_("["+O+"] is read-only:"+Ee(b)),ie&&(ge=ge||dh(Oe,p,F),ie=!1);var $e=ge&&Oe[p.rf];if(ge)if($e){Vr(F,function(ot){F[ot]=et?et[ot]:Cs});try{Vr(et,function(ot,yt){xl(p,F,ot,yt)}),et=F}catch(ot){fh((p.hdlr||{})[io],O,"Assigning",ot),ge=!1}}else F&&F[tl]&&Vr(F,function(ot){var yt=fm(F,ot);if(yt){var it=yt[p.prop];it&&it.chng()}});if(et!==F){var wt=et&&dh(Oe,p,et);!$e&&wt&&(et=pp(p,et,O,"Converting")),F=et,ge=wt}p.add(W)}}rt(b,W.n,{g:Oe,s:Be})}function xl(p,b,O,F){if(b){var W=fm(b,O),ie=W&&!!W[p.prop];ie?b[O]=F:hh(p,b,O,F)}return b}function mg(p,b,O,F){if(b){var W=fm(b,O),ie=W&&!!W[p.prop],ge=F&&F[0],Oe=F&&F[1],Be=F&&F[2];if(!ie){if(Be)try{ya(b)}catch(et){fh((p.hdlr||{})[io],O,"Blocking",et)}try{xl(p,b,O,b[O]),W=fm(b,O)}catch(et){fh((p.hdlr||{})[io],O,"State",et)}}ge&&(W[p.rf]=ge),Oe&&(W[p.ro]=Oe),Be&&(W[p.blkVal]=!0)}return b}function pp(p,b,O,F){try{Vr(b,function(W,ie){xl(p,b,W,ie)}),b[tl]||(L(b,tl,{get:function(){return p[Co]}}),tS(p,b,O))}catch(W){fh((p.hdlr||{})[io],O,F,W)}return b}var hm="[[ai_",gg="]]";function cb(p){var b,O=Mc(hm+"get"+p.uid+gg),F=Mc(hm+"ro"+p.uid+gg),W=Mc(hm+"rf"+p.uid+gg),ie=Mc(hm+"blkVal"+p.uid+gg),ge=Mc(hm+"dtl"+p.uid+gg),Oe=null,Be=null,et;function $e(it,Zt){var Gt=et.act;try{et.act=it,it&&it[ge]&&(Jn(it[ge],function(Er){Er.clr(it)}),it[ge]=[]),Zt({cfg:p.cfg,set:p.set.bind(p),setDf:p[Ha].bind(p),ref:p.ref.bind(p),rdOnly:p[ud].bind(p)})}catch(Er){var yr=p[io];throw yr&&yr[Fo](1,107,Ee(Er)),Er}finally{et.act=Gt||null}}function wt(){if(Oe){var it=Oe;Oe=null,Be&&Be[si](),Be=null;var Zt=[];if(Jn(it,function(Gt){if(Gt&&(Gt[ge]&&(Jn(Gt[ge],function(yr){yr.clr(Gt)}),Gt[ge]=null),Gt.fn))try{$e(Gt,Gt.fn)}catch(yr){Zt[Ln](yr)}}),Oe)try{wt()}catch(Gt){Zt[Ln](Gt)}Zt[Hn]>0&&R_("Watcher error(s): ",Zt)}}function ot(it){if(it&&it.h[Hn]>0){Oe||(Oe=[]),Be||(Be=qs(function(){Be=null,wt()},0));for(var Zt=0;Zt<it.h[Hn];Zt++){var Gt=it.h[Zt];Gt&&Ms(Oe,Gt)===-1&&Oe[Ln](Gt)}}}function yt(it,Zt){if(it){var Gt=it[ge]=it[ge]||[];Ms(Gt,Zt)===-1&&Gt[Ln](Zt)}}return et=(b={prop:O,ro:F,rf:W},b[ma]=ie,b[Co]=p,b.add=ot,b[Sl]=wt,b.use=$e,b.trk=yt,b),et}function WC(p,b){var O={fn:b,rm:function(){O.fn=null,p=null,b=null}};return p.use(O,b),O}function pm(p,b,O){var F,W=hp(b);if(W)return W;var ie=Pl("dyncfg",!0),ge=b&&O!==!1?b:Ev(b),Oe;function Be(){Oe[Sl]()}function et(yr,Er,Or){try{yr=xl(Oe,yr,Er,Or)}catch(An){fh(p,Er,"Setting value",An)}return yr[Er]}function $e(yr){return WC(Oe,yr)}function wt(yr,Er){Oe.use(null,function(Or){var An=Oe.upd;try{ct(Er)||(Oe.upd=Er),yr(Or)}finally{Oe.upd=An}})}function ot(yr,Er){var Or;return mg(Oe,yr,Er,(Or={},Or[0]=!0,Or))[Er]}function yt(yr,Er){var Or;return mg(Oe,yr,Er,(Or={},Or[1]=!0,Or))[Er]}function it(yr,Er){var Or;return mg(Oe,yr,Er,(Or={},Or[2]=!0,Or))[Er]}function Zt(yr,Er){return Er&&Vr(Er,function(Or,An){El(Gt,yr,Or,An)}),yr}var Gt=(F={uid:null,cfg:ge},F[io]=p,F[Sl]=Be,F.set=et,F[Ha]=Zt,F[Xs]=$e,F.ref=ot,F[ud]=yt,F[ma]=it,F._block=wt,F);return rt(Gt,"uid",{c:!1,e:!1,w:!1,v:ie}),Oe=cb(Gt),pp(Oe,ge,"config","Creating"),Gt}function rS(p,b){p?(p[fc](b),p[Fo](2,108,b)):q_(b)}function Ka(p,b,O,F){var W=pm(O,p||{},F);return b&&W[Ha](W.cfg,b),W}function mm(p,b,O){var F=p[tl]||p;return F.cfg&&(F.cfg===p||F.cfg[tl]===F)?F[Xs](b):(rS(O,Qu+Ee(p)),Ka(p,null,O)[Xs](b))}function gm(p,b){if(p&&p[E])return p[E](b)}function nS(p,b,O){var F;return O||(F=md(function(W){O=W})),p&&th(p)>0?O_(gm(p[0],b),function(){nS(no(p,1),b,O)}):O(),F}var $C=500;function Rl(p){return{mrg:!0,v:p}}var Ya=[em,tm,_a,_d],Ol=null,vm;function vg(p,b){return function(){var O=arguments,F=vn(b);if(F){var W=F.listener;W&&W[p]&&W[p][su](W,O)}}}function F_(){var p=ki("Microsoft");return p&&(Ol=p.ApplicationInsights),Ol}function vn(p){var b=Ol;return!b&&p.disableDbgExt!==!0&&(b=Ol||F_()),b?b.ChromeDbgExt:null}function xv(p){if(!vm){vm={};for(var b=0;b<Ya[Hn];b++)vm[Ya[b]]=vg(Ya[b],p)}return vm}var mp,uf="warnToConsole",_m="AI (Internal): ",ba="AI: ",j_="AITR_",_g={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},z_=(mp={},mp[0]=null,mp[1]="errorToConsole",mp[2]=uf,mp[3]="debugToConsole",mp);function Il(p){return p?'"'+p[Xh](/\"/g,di)+'"':di}function ym(p,b){var O=Cd();if(O){var F="log";O[p]&&(F=p),It(O[F])&&O[F](b)}}var ph=function(){function p(b,O,F,W){F===void 0&&(F=!1);var ie=this;ie[Ie]=b,ie[Qe]=(F?ba:_m)+b;var ge=di;sm()&&(ge=dp().stringify(W));var Oe=(O?" message:"+Il(O):di)+(W?" props:"+Il(ge):di);ie[Qe]+=Oe}return p.dataType="MessageData",p}();function yg(p,b){return(p||{})[io]||new bm(b)}var bm=function(){function p(b){this.identifier="DiagnosticLogger",this.queue=[];var O=0,F={},W,ie,ge,Oe,Be;Js(p,this,function(et){Be=wt(b||{}),et.consoleLoggingLevel=function(){return W},et[Fo]=function(it,Zt,Gt,yr,Er){Er===void 0&&(Er=!1);var Or=new ph(Zt,Gt,Er,yr);if(Oe)throw Ee(Or);var An=z_[it]||uf;if(ct(Or[Qe]))yt("throw"+(it===1?"Critical":"Warning"),Or);else{if(Er){var Ri=+Or[Ie];!F[Ri]&&W>=it&&(et[An](Or[Qe]),F[Ri]=!0)}else W>=it&&et[An](Or[Qe]);$e(it,Or)}},et.debugToConsole=function(it){ym("debug",it),yt("warning",it)},et[fc]=function(it){ym("warn",it),yt("warning",it)},et.errorToConsole=function(it){ym("error",it),yt("error",it)},et.resetInternalMessageCount=function(){O=0,F={}},et[Yp]=$e,et[E]=function(it){Be&&Be.rm(),Be=null};function $e(it,Zt){if(!ot()){var Gt=!0,yr=j_+Zt[Ie];if(F[yr]?Gt=!1:F[yr]=!0,Gt&&(it<=ie&&(et.queue[Ln](Zt),O++,yt(it===1?"error":"warn",Zt)),O===ge)){var Er="Internal events throttle limit per PageView reached for this app.",Or=new ph(23,Er,!1);et.queue[Ln](Or),it===1?et.errorToConsole(Er):et[fc](Er)}}}function wt(it){return mm(Ka(it,_g,et).cfg,function(Zt){var Gt=Zt.cfg;W=Gt[J],ie=Gt.loggingLevelTelemetry,ge=Gt.maxMessageLimit,Oe=Gt.enableDebug})}function ot(){return O>=ge}function yt(it,Zt){var Gt=vn(b||{});Gt&&Gt[Ht]&&Gt[Ht](it,Zt)}})}return p.__ieDyn=1,p}();function fu(p){return p||new bm}function xd(p,b,O,F,W,ie){ie===void 0&&(ie=!1),fu(p)[Fo](b,O,F,W,ie)}function ub(p,b){fu(p)[fc](b)}function kl(p,b,O){fu(p)[Yp](b,O)}var Rv,Al,lb="toGMTString",Ov="toUTCString",Ml="cookie",db="expires",fb="isCookieUseDisabled",U_="disableCookiesUsage",lf="_ckMgr",wm=null,hb=null,df=null,Ja,jo={},rl={},bg=(Rv={cookieCfg:Rl((Al={},Al[lu]={fb:"cookieDomain",dfVal:Tn},Al.path={fb:"cookiePath",dfVal:Tn},Al.enabled=Cs,Al.ignoreCookies=Cs,Al.blockedCookies=Cs,Al)),cookieDomain:Cs,cookiePath:Cs},Rv[U_]=Cs,Rv);function Ll(){!Ja&&(Ja=wn(function(){return Fa()}))}function ff(p,b){var O=gp[lf]||rl[lf];return O||(O=gp[lf]=gp(p,b),rl[lf]=O),O}function hu(p){return p?p.isEnabled():!0}function wg(p,b){return b&&p&&Lt(p.ignoreCookies)?Ms(p.ignoreCookies,b)!==-1:!1}function Iv(p,b){return b&&p&&Lt(p.blockedCookies)&&Ms(p.blockedCookies,b)!==-1?!0:wg(p,b)}function pb(p,b){var O=b[m];if(tt(O)){var F=void 0;ct(p[fb])||(F=!p[fb]),ct(p[U_])||(F=!p[U_]),O=F}return O}function H_(p,b){var O;if(p)O=p.getCookieMgr();else if(b){var F=b.cookieCfg;F&&F[lf]?O=F[lf]:O=gp(b)}return O||(O=ff(b,(p||{})[io])),O}function gp(p,b){var O,F,W,ie,ge,Oe,Be,et,$e;p=Ka(p||rl,null,b).cfg,ge=mm(p,function(ot){ot[Ha](ot.cfg,bg),F=ot.ref(ot.cfg,"cookieCfg"),W=F[rm]||"/",ie=F[lu],Oe=pb(p,F)!==!1,Be=F.getCookie||oS,et=F.setCookie||T,$e=F.delCookie||T},b);var wt=(O={isEnabled:function(){var ot=pb(p,F)!==!1&&Oe&&Sg(b),yt=rl[lf];return ot&&yt&&wt!==yt&&(ot=hu(yt)),ot},setEnabled:function(ot){Oe=ot!==!1,F[m]=ot},set:function(ot,yt,it,Zt,Gt){var yr=!1;if(hu(wt)&&!Iv(F,ot)){var Er={},Or=Vs(yt||di),An=Ns(Or,";");if(An!==-1&&(Or=Vs(bn(yt,An)),Er=iS(qn(yt,An+1))),$a(Er,lu,Zt||ie,un,ct),!tt(it)){var Ri=cm();if(ct(Er[db])){var Do=cc(),Ve=Do+it*1e3;if(Ve>0){var At=new Date;At.setTime(Ve),$a(Er,db,mb(At,Ri?lb:Ov)||mb(At,Ri?lb:Ov)||di,un)}}Ri||$a(Er,"max-age",di+it,null,ct)}var er=sh();er&&er.protocol==="https:"&&($a(Er,"secure",null,null,ct),hb===null&&(hb=!I((ac()||{})[Fs])),hb&&$a(Er,"SameSite","None",null,ct)),$a(Er,rm,Gt||W,null,ct),et(ot,gb(Or,Er)),yr=!0}return yr},get:function(ot){var yt=di;return hu(wt)&&!wg(F,ot)&&(yt=Be(ot)),yt},del:function(ot,yt){var it=!1;return hu(wt)&&(it=wt.purge(ot,yt)),it},purge:function(ot,yt){var it,Zt=!1;if(Sg(b)){var Gt=(it={},it[rm]=yt||"/",it[db]="Thu, 01 Jan 1970 00:00:01 GMT",it);cm()||(Gt["max-age"]="0"),$e(ot,gb(di,Gt)),Zt=!0}return Zt}},O[E]=function(ot){ge&&ge.rm(),ge=null},O);return wt[lf]=wt,wt}function Sg(p){if(wm===null){wm=!1,!Ja&&Ll();try{var b=Ja.v||{};wm=b[Ml]!==void 0}catch(O){xd(p,2,68,"Cannot access document.cookie - "+yv(O),{exception:Ee(O)})}}return wm}function iS(p){var b={};if(p&&p[Hn]){var O=Vs(p)[Wa](";");Jn(O,function(F){if(F=Vs(F||di),F){var W=Ns(F,"=");W===-1?b[F]=null:b[Vs(bn(F,W))]=Vs(qn(F,W+1))}})}return b}function mb(p,b){return It(p[b])?p[b]():null}function gb(p,b){var O=p||di;return Vr(b,function(F,W){O+="; "+F+(tt(W)?di:"="+W)}),O}function oS(p){var b=di;if(!Ja&&Ll(),Ja.v){var O=Ja.v[Ml]||di;df!==O&&(jo=iS(O),df=O),b=Vs(jo[p]||di)}return b}function T(p,b){!Ja&&Ll(),Ja.v&&(Ja.v[Ml]=p+"="+b)}function I(p){return fr(p)?!!(Ts(p,"CPU iPhone OS 12")||Ts(p,"iPad; CPU OS 12")||Ts(p,"Macintosh; Intel Mac OS X 10_14")&&Ts(p,"Version/")&&Ts(p,"Safari")||Ts(p,"Macintosh; Intel Mac OS X 10_14")&&Yd(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ts(p,"Chrome/5")||Ts(p,"Chrome/6")||Ts(p,"UnrealEngine")&&!Ts(p,"Chrome")||Ts(p,"UCBrowser/12")||Ts(p,"UCBrowser/11")):!1}var j={perfEvtsSendAll:!1};function Y(p,b,O,F){Jn(p,function(W){if(W&&W[b])if(O)qs(function(){return F(W)},0);else try{F(W)}catch{}})}var ve=function(){function p(b){this.listeners=[];var O,F,W=[],ie=Ka(b,j);F=ie[Xs](function(ge){O=!!ge.cfg.perfEvtsSendAll}),Js(p,this,function(ge){rt(ge,"listeners",{g:function(){return W}}),ge[Dl]=function(Oe){W[Ln](Oe)},ge[dd]=function(Oe){for(var Be=Ms(W,Oe);Be>-1;)W[jc](Be,1),Be=Ms(W,Oe)},ge[em]=function(Oe){Y(W,em,!0,function(Be){Be[em](Oe)})},ge[tm]=function(Oe,Be){Y(W,tm,!0,function(et){et[tm](Oe,Be)})},ge[_a]=function(Oe,Be){Y(W,_a,Be,function(et){et[_a](Oe,Be)})},ge[_d]=function(Oe){Oe&&(O||!Oe[ih]())&&Y(W,_d,!1,function(Be){Oe[ht]?qs(function(){return Be[_d](Oe)},0):Be[_d](Oe)})},ge[E]=function(Oe){var Be=function(){F&&F.rm(),F=null,W=[]},et;if(Y(W,"unload",!1,function($e){var wt=$e[E](Oe);wt&&(et||(et=[]),et[Ln](wt))}),et)return md(function($e){return O_(gd(et),function(){Be(),$e()})});Be()}})}return p.__ieDyn=1,p}(),We="ctx",Ze="ParentContextKey",st="ChildrenContextKey",Dt=null,Yt=function(){function p(b,O,F){var W=this;if(W.start=cc(),W[Ba]=b,W[ht]=F,W[ih]=function(){return!1},It(O)){var ie;rt(W,"payload",{g:function(){return!ie&&It(O)&&(ie=O(),O=null),ie}})}W[fd]=function(ge){return ge?ge===p[Ze]||ge===p[st]?W[ge]:(W[We]||{})[ge]:null},W[cu]=function(ge,Oe){if(ge)if(ge===p[Ze])W[ge]||(W[ih]=function(){return!0}),W[ge]=Oe;else if(ge===p[st])W[ge]=Oe;else{var Be=W[We]=W[We]||{};Be[ge]=Oe}},W[ig]=function(){var ge=0,Oe=W[fd](p[st]);if(Lt(Oe))for(var Be=0;Be<Oe[Hn];Be++){var et=Oe[Be];et&&(ge+=et[ld])}W[ld]=cc()-W.start,W.exTime=W[ld]-ge,W[ig]=function(){}}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),kr=function(){function p(b){this.ctx={},Js(p,this,function(O){O.create=function(F,W,ie){return new Yt(F,W,ie)},O.fire=function(F){F&&(F[ig](),b&&It(b[_d])&&b[_d](F))},O[cu]=function(F,W){if(F){var ie=O[We]=O[We]||{};ie[F]=W}},O[fd]=function(F){return(O[We]||{})[F]}})}return p.__ieDyn=1,p}(),Fn="CoreUtils.doPerf";function Rn(p,b,O,F,W){if(p){var ie=p;if(ie[hc]&&(ie=ie[hc]()),ie){var ge=void 0,Oe=ie[fd](Fn);try{if(ge=ie.create(b(),F,W),ge){if(Oe&&ge[cu]&&(ge[cu](Yt[Ze],Oe),Oe[fd]&&Oe[cu])){var Be=Oe[fd](Yt[st]);Be||(Be=[],Oe[cu](Yt[st],Be)),Be[Ln](ge)}return ie[cu](Fn,ge),O(ge)}}catch(et){ge&&ge[cu]&&ge[cu]("exception",et)}finally{ge&&ie.fire(ge),ie[cu](Fn,Oe)}}}return O()}function Xn(){return Dt}function Xr(){var p=Qn();return qn(p,0,8)+"-"+qn(p,8,12)+"-"+qn(p,12,16)+"-"+qn(p,16,20)+"-"+qn(p,20)}function Qn(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=di,O,F=0;F<4;F++)O=Ed(),b+=p[O&15]+p[O>>4&15]+p[O>>8&15]+p[O>>12&15]+p[O>>16&15]+p[O>>20&15]+p[O>>24&15]+p[O>>28&15];var W=p[8+(Ed()&3)|0];return xi(b,0,8)+xi(b,9,4)+"4"+xi(b,13,3)+W+xi(b,16,3)+xi(b,19,12)}var br=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,wi="00",Wn="ff",Dn="00000000000000000000000000000000",Xo="0000000000000000",Xa=1;function wa(p,b,O){return p&&p[Hn]===b&&p!==O?!!p.match(/^[\da-f]*$/i):!1}function Cg(p,b,O){return wa(p,b)?p:O}function Sm(p){(isNaN(p)||p<0||p>255)&&(p=1);for(var b=p.toString(16);b[Hn]<2;)b="0"+b;return b}function kv(p,b,O,F){var W;return W={},W[N]=wa(F,2,Wn)?F:wi,W[E_]=mh(p)?p:Qn(),W[Zh]=Av(b)?b:bn(Qn(),16),W.traceFlags=O>=0&&O<=255?O:1,W}function Nl(p,b){var O;if(!p||(Lt(p)&&(p=p[0]||""),!p||!fr(p)||p[Hn]>8192))return null;if(p.indexOf(",")!==-1){var F=p[Wa](",");p=F[b>0&&F[Hn]>b?b:0]}var W=br.exec(Vs(p));return!W||W[1]===Wn||W[2]===Dn||W[3]===Xo?null:(O={version:(W[1]||di)[bi](),traceId:(W[2]||di)[bi](),spanId:(W[3]||di)[bi]()},O[ep]=parseInt(W[4],16),O)}function mh(p){return wa(p,32,Dn)}function Av(p){return wa(p,16,Xo)}function Mv(p){return!(!p||!wa(p[N],2,Wn)||!wa(p[E_],32,Dn)||!wa(p[Zh],16,Xo)||!wa(Sm(p[ep]),2))}function sr(p){return Mv(p)?(p[ep]&Xa)===Xa:!1}function an(p){if(p){var b=Sm(p[ep]);wa(b,2)||(b="01");var O=p[N]||wi;return O!=="00"&&O!=="ff"&&(O=wi),"".concat(O.toLowerCase(),"-").concat(Cg(p.traceId,32,Dn).toLowerCase(),"-").concat(Cg(p.spanId,16,Xo).toLowerCase(),"-").concat(b.toLowerCase())}return""}function fi(p){var b="traceparent",O=Nl(sf(b),p);return O||(O=Nl(um(b),p)),O}var Qo=uh("plugin");function ps(p){return Qo.get(p,"state",{},!0)}function ms(p,b){for(var O=[],F=null,W=p[Fr](),ie;W;){var ge=W[Qs]();if(ge){F&&F[Bn]&&ge[ef]&&F[Bn](ge),ie=ps(ge);var Oe=!!ie[oa];ge[oa]&&(Oe=ge[oa]()),Oe||O[Ln](ge),F=ge,W=W[Fr]()}}Jn(O,function(Be){var et=p[Jo]();Be[Cl](p.getCfg(),et,b,p[Fr]()),ie=ps(Be),!Be[Jo]&&!ie[Jo]&&(ie[Jo]=et),ie[oa]=!0,delete ie[pe]})}function Ds(p){return p.sort(function(b,O){var F=0;if(O){var W=O[ef];b[ef]?F=W?b[L_]-O[L_]:1:W&&(F=-1)}else F=b?1:-1;return F})}function Cm(p){var b={};return{getName:function(){return b[Ba]},setName:function(O){p&&p.setName(O),b[Ba]=O},getTraceId:function(){return b[E_]},setTraceId:function(O){p&&p.setTraceId(O),mh(O)&&(b[E_]=O)},getSpanId:function(){return b[Zh]},setSpanId:function(O){p&&p.setSpanId(O),Av(O)&&(b[Zh]=O)},getTraceFlags:function(){return b[ep]},setTraceFlags:function(O){p&&p.setTraceFlags(O),b[ep]=O}}}var vp="TelemetryPluginChain",_p="_hasRun",vb="_getTelCtx",Tm=0;function gh(p,b,O){for(;p;){if(p[Qs]()===O)return p;p=p[Fr]()}return Tg([O],b.config||{},b)}function Lv(p,b,O,F){var W=null,ie=[];b||(b=Ka({},null,O[io])),F!==null&&(W=F?gh(p,O,F):p);var ge={_next:Be,ctx:{core:function(){return O},diagLog:function(){return yg(O,b.cfg)},getCfg:function(){return b.cfg},getExtCfg:$e,getConfig:wt,hasNext:function(){return!!W},getNext:function(){return W},setNext:function(yt){W=yt},iterate:ot,onComplete:Oe}};function Oe(yt,it){for(var Zt=[],Gt=2;Gt<arguments.length;Gt++)Zt[Gt-2]=arguments[Gt];yt&&ie[Ln]({func:yt,self:ct(it)?ge.ctx:it,args:Zt})}function Be(){var yt=W;if(W=yt?yt[Fr]():null,!yt){var it=ie;it&&it[Hn]>0&&(Jn(it,function(Zt){try{Zt.func.call(Zt.self,Zt.args)}catch(Gt){xd(O[io],2,73,"Unexpected Exception during onComplete - "+Ee(Gt))}}),ie=[])}return yt}function et(yt,it){var Zt=null,Gt=b.cfg;if(Gt&&yt){var yr=Gt[ip];!yr&&it&&(yr={}),Gt[ip]=yr,yr=b.ref(Gt,ip),yr&&(Zt=yr[yt],!Zt&&it&&(Zt={}),yr[yt]=Zt,Zt=b.ref(yr,yt))}return Zt}function $e(yt,it){var Zt=et(yt,!0);return it&&Vr(it,function(Gt,yr){if(tt(Zt[Gt])){var Er=b.cfg[Gt];(Er||!tt(Er))&&(Zt[Gt]=Er)}El(b,Zt,Gt,yr)}),b[Ha](Zt,it)}function wt(yt,it,Zt){Zt===void 0&&(Zt=!1);var Gt,yr=et(yt,!1),Er=b.cfg;return yr&&(yr[it]||!tt(yr[it]))?Gt=yr[it]:(Er[it]||!tt(Er[it]))&&(Gt=Er[it]),Gt||!tt(Gt)?Gt:Zt}function ot(yt){for(var it;it=ge._next();){var Zt=it[Qs]();Zt&&yt(Zt)}}return ge}function pu(p,b,O,F){var W=Ka(b),ie=Lv(p,W,O,F),ge=ie.ctx;function Oe(et){var $e=ie._next();return $e&&$e[ef](et,ge),!$e}function Be(et,$e){return et===void 0&&(et=null),Lt(et)&&(et=Tg(et,W.cfg,O,$e)),pu(et||ge[Fr](),W.cfg,O,$e)}return ge[hs]=Oe,ge[Z]=Be,ge}function Dm(p,b,O){var F=Ka(b.config),W=Lv(p,F,b,O),ie=W.ctx;function ge(Be){var et=W._next();return et&&et[E](ie,Be),!et}function Oe(Be,et){return Be===void 0&&(Be=null),Lt(Be)&&(Be=Tg(Be,F.cfg,b,et)),Dm(Be||ie[Fr](),b,et)}return ie[hs]=ge,ie[Z]=Oe,ie}function vh(p,b,O){var F=Ka(b.config),W=Lv(p,F,b,O),ie=W.ctx;function ge(Be){return ie.iterate(function(et){It(et[on])&&et[on](ie,Be)})}function Oe(Be,et){return Be===void 0&&(Be=null),Lt(Be)&&(Be=Tg(Be,F.cfg,b,et)),vh(Be||ie[Fr](),b,et)}return ie[hs]=ge,ie[Z]=Oe,ie}function Tg(p,b,O,F){var W=null,ie=!F;if(Lt(p)&&p[Hn]>0){var ge=null;Jn(p,function(Oe){if(!ie&&F===Oe&&(ie=!0),ie&&Oe&&It(Oe[ef])){var Be=YT(Oe,b,O);W||(W=Be),ge&&ge._setNext(Be),ge=Be}})}return F&&!W?Tg([F],b,O):W}function YT(p,b,O){var F=null,W=It(p[ef]),ie=It(p[Bn]),ge;p?ge=p[ga]+"-"+p[L_]+"-"+Tm++:ge="Unknown-0-"+Tm++;var Oe={getPlugin:function(){return p},getNext:function(){return F},processTelemetry:$e,unload:wt,update:ot,_id:ge,_setNext:function(yt){F=yt}};function Be(){var yt;return p&&It(p[vb])&&(yt=p[vb]()),yt||(yt=pu(Oe,b,O)),yt}function et(yt,it,Zt,Gt,yr){var Er=!1,Or=p?p[ga]:vp,An=yt[_p];return An||(An=yt[_p]={}),yt.setNext(F),p&&Rn(yt[Jo](),function(){return Or+":"+Zt},function(){An[ge]=!0;try{var Ri=F?F._id:di;Ri&&(An[Ri]=!1),Er=it(yt)}catch(Ve){var Do=F?An[F._id]:!0;Do&&(Er=!0),(!F||!Do)&&xd(yt[Ht](),1,73,"Plugin ["+Or+"] failed during "+Zt+" - "+Ee(Ve)+", run flags: "+Ee(An))}},Gt,yr),Er}function $e(yt,it){it=it||Be();function Zt(Gt){if(!p||!W)return!1;var yr=ps(p);return yr[pe]||yr[Zp]?!1:(ie&&p[Bn](F),p[ef](yt,Gt),!0)}et(it,Zt,"processTelemetry",function(){return{item:yt}},!yt.sync)||it[hs](yt)}function wt(yt,it){function Zt(){var Gt=!1;if(p){var yr=ps(p),Er=p[Jo]||yr[Jo];p&&(!Er||Er===yt.core())&&!yr[pe]&&(yr[Jo]=null,yr[pe]=!0,yr[oa]=!1,p[pe]&&p[pe](yt,it)===!0&&(Gt=!0))}return Gt}et(yt,Zt,"unload",function(){},it[ht])||yt[hs](it)}function ot(yt,it){function Zt(){var Gt=!1;if(p){var yr=ps(p),Er=p[Jo]||yr[Jo];p&&(!Er||Er===yt.core())&&!yr[pe]&&p[on]&&p[on](yt,it)===!0&&(Gt=!0)}return Gt}et(yt,Zt,"update",function(){},!1)||yt[hs](it)}return Jt(Oe)}var Dg=function(){function p(b,O,F,W){var ie=this,ge=pu(b,O,F,W);sg(ie,ge,Ke(ge))}return p}();function xu(){var p=[];function b(F){F&&p[Ln](F)}function O(F,W){Jn(p,function(ie){try{ie(F,W)}catch(ge){xd(F[Ht](),2,73,"Unexpected error calling unload handler - "+Ee(ge))}}),p=[]}return{add:b,run:O}}function nl(){var p=[];function b(F){var W=p;p=[],Jn(W,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){xd(F,2,73,"Unloading:"+Ee(ge))}})}function O(F){F&&pl(p,F)}return{run:b,add:O}}var Nv,hf="getPlugin",VC=(Nv={},Nv[ip]={isVal:Tn,v:{}},Nv),sS=function(){function p(){var b=this,O,F,W,ie,ge;et(),Js(p,b,function($e){$e[Cl]=function(wt,ot,yt,it){Be(wt,ot,it),O=!0},$e[pe]=function(wt,ot){var yt,it=$e[Jo];if(!it||wt&&it!==wt[Jo]())return;var Zt,Gt=!1,yr=wt||Dm(null,it,W&&W[hf]?W[hf]():W),Er=ot||(yt={reason:0},yt[ht]=!1,yt);function Or(){Gt||(Gt=!0,ie.run(yr,ot),ge.run(yr[Ht]()),Zt===!0&&yr[hs](Er),et())}return!$e[Sr]||$e[Sr](yr,Er,Or)!==!0?Or():Zt=!0,Zt},$e[on]=function(wt,ot){var yt=$e[Jo];if(!yt||wt&&yt!==wt[Jo]())return;var it,Zt=!1,Gt=wt||vh(null,yt,W&&W[hf]?W[hf]():W),yr=ot||{reason:0};function Er(){Zt||(Zt=!0,Be(Gt.getCfg(),Gt.core(),Gt[Fr]()))}return!$e._doUpdate||$e._doUpdate(Gt,yr,Er)!==!0?Er():it=!0,it},Zu($e,"_addUnloadCb",function(){return ie},"add"),Zu($e,"_addHook",function(){return ge},"add"),rt($e,"_unloadHooks",{g:function(){return ge}})}),b[Ht]=function($e){return Oe($e)[Ht]()},b[oa]=function(){return O},b.setInitialized=function($e){O=$e},b[Bn]=function($e){W=$e},b[hs]=function($e,wt){wt?wt[hs]($e):W&&It(W[ef])&&W[ef]($e,null)},b._getTelCtx=Oe;function Oe($e){$e===void 0&&($e=null);var wt=$e;if(!wt){var ot=F||pu(null,{},b[Jo]);W&&W[hf]?wt=ot[Z](null,W[hf]):wt=ot[Z](null,W)}return wt}function Be($e,wt,ot){Ka($e,VC,yg(wt)),!ot&&wt&&(ot=wt[zc]()[Fr]());var yt=W;W&&W[hf]&&(yt=W[hf]()),b[Jo]=wt,F=pu(ot,$e,wt,yt)}function et(){O=!1,b[Jo]=null,F=null,W=null,ge=nl(),ie=xu()}}return p.__ieDyn=1,p}();function JT(p,b,O){var F={id:b,fn:O};pl(p,F);var W={remove:function(){Jn(p,function(ie,ge){if(ie.id===F.id)return p[jc](ge,1),-1})}};return W}function XT(p,b,O){for(var F=!1,W=p[Hn],ie=0;ie<W;++ie){var ge=p[ie];if(ge)try{if(ge.fn[su](null,[b])===!1){F=!0;break}}catch(Oe){xd(O,2,64,"Telemetry initializer failed: "+yv(Oe),{exception:Ee(Oe)},!0)}}return!F}var aS=function(p){Gu(b,p);function b(){var O=p.call(this)||this;O.identifier="TelemetryInitializerPlugin",O.priority=199;var F,W;ie(),Js(b,O,function(ge,Oe){ge.addTelemetryInitializer=function(Be){return JT(W,F++,Be)},ge[ef]=function(Be,et){XT(W,Be,et?et[Ht]():ge[Ht]())&&ge[hs](Be,et)},ge[Sr]=function(){ie()}});function ie(){F=0,W=[]}return O}return b.__ieDyn=1,b}(sS),pf,GC="Plugins must provide initialize method",B_="_notificationManager",_b="SDK is still unloading...",yb="SDK is not initialized",bb=ft((pf={cookieCfg:{}},pf[op]={rdOnly:!0,ref:!0,v:[]},pf[uu]={rdOnly:!0,ref:!0,v:[]},pf[ip]={ref:!0,v:{}},pf[vd]=Cs,pf.loggingLevelConsole=0,pf.diagnosticLogInterval=Cs,pf));function cS(p,b){return new kr(b)}function W_(p,b,O){var F,W=[],ie=[],ge={};return Jn(O,function(Oe){(tt(Oe)||tt(Oe[Cl]))&&ii(GC);var Be=Oe[L_],et=Oe[ga];Oe&&Be&&(tt(ge[Be])?ge[Be]=et:ub(p,"Two extensions have same priority #"+Be+" - "+ge[Be]+", "+et)),!Be||Be<b?W[Ln](Oe):ie[Ln](Oe)}),F={},F[Jo]=W,F[uu]=ie,F}function mf(p,b){var O=!1;return Jn(b,function(F){if(F===p)return O=!0,-1}),O}function $_(p,b,O,F){O&&Vr(O,function(W,ie){F&&Gs(ie)&&Gs(b[W])&&$_(p,b[W],ie,F),F&&Gs(ie)&&Gs(b[W])?$_(p,b[W],ie,F):p.set(b,W,ie)})}function wb(p,b){var O=null,F=-1;return Jn(p,function(W,ie){if(W.w===b)return O=W,F=ie,-1}),{i:F,l:O}}function Xi(p,b){var O=wb(p,b).l;return O||(O={w:b,rm:function(){var F=wb(p,b);F.i!==-1&&p[jc](F.i,1)}},p[Ln](O)),O}function uS(p,b,O){Jn(b,function(F){var W=mm(p,F.w,O);delete F.w,F.rm=function(){W.rm()}})}var Pg=function(){function p(){var b,O,F,W,ie,ge,Oe,Be,et,$e,wt,ot,yt,it,Zt,Gt,yr,Er,Or,An,Ri,Do,Ve,At,er,dr,tn,Zn;Js(p,this,function(St){Rt(),St._getDbgPlgTargets=function(){return[Ve]},St[oa]=function(){return O},St[Cl]=function($t,Gr,ci,$n){yt&&ii(_b),St[oa]()&&ii("Core cannot be initialized more than once"),b=Ka($t,bb,ci||St[io],!1),$t=b.cfg,Rb(b[Xs](function(Zo){Ri=Zo.cfg.instrumentationKey;var vc=Zo.ref(Zo.cfg,ip);Vr(vc,function(mu){Zo.ref(vc,mu)}),tt(Ri)&&ii("Please provide instrumentation key")})),ie=$n,Rd(),Q_(),St[io]=ci;var pi=$t[op];if($e=[],$e[Ln].apply($e,rh(rh([],Gr,!1),pi)),wt=$t[uu],xr(null),(!ot||ot[Hn]===0)&&ii("No "+uu+" available"),wt&&wt[Hn]>1){var ko=St[Qs]("TeeChannelController");(!ko||!ko.plugin)&&xd(F,1,28,"TeeChannel required")}uS($t,Do,F),Do=null,O=!0,St.releaseQueue(),St[Tl]()},St.getChannels=function(){var $t=[];return ot&&Jn(ot,function(Gr){$t[Ln](Gr)}),Jt($t)},St.track=function($t){Rn(St[hc](),function(){return"AppInsightsCore:track"},function(){$t===null&&(n0($t),ii("Invalid telemetry item")),!$t[Ba]&&tt($t[Ba])&&(n0($t),ii("telemetry name required")),$t.iKey=$t.iKey||Ri,$t[ld]=$t[ld]||tf(new Date),$t.ver=$t.ver||"4.0",!yt&&St[oa]()?gr()[hs]($t):W[Ln]($t)},function(){return{item:$t}},!$t.sync)},St[zc]=gr,St[Xu]=function(){return ie||(ie=new ve(b.cfg),St[B_]=ie),ie},St[Dl]=function($t){St[Xu]()[Dl]($t)},St[dd]=function($t){ie&&ie[dd]($t)},St.getCookieMgr=function(){return Be||(Be=gp(b.cfg,St[io])),Be},St.setCookieMgr=function($t){Be!==$t&&(gm(Be,!1),Be=$t)},St[hc]=function(){return!ge&&!Oe&&Rb(b[Xs](function($t){if($t.cfg.enablePerfMgr){var Gr=$t.cfg[vd];It(Gr)&&(Oe=Gr(St,St[Xu]()))}})),ge||Oe||Xn()},St.setPerfMgr=function($t){ge=$t},St.eventCnt=function(){return W[Hn]},St.releaseQueue=function(){if(O&&W[Hn]>0){var $t=W;W=[],Jn($t,function(Gr){gr()[hs](Gr)})}},St[Tl]=function($t){return Zt=$t||null,Zn=!1,dr&&dr[si](),nt(!0)};function nt($t){if((!dr||!dr[m])&&!Zn){var Gr=$t||F&&F.queue[Hn]>0;Gr&&(tn||(tn=!0,Rb(b[Xs](function(ci){var $n=ci.cfg.diagnosticLogInterval;(!$n||!($n>0))&&($n=1e4);var pi=!1;dr&&(pi=dr[m],dr[si]()),dr=yl(mo,$n),dr.unref(),dr[m]=pi}))),dr[m]=!0)}return dr}St[g]=function(){Zn=!0,dr&&dr[si](),mo()},sg(St,function(){return it},["addTelemetryInitializer"]),St[E]=function($t,Gr,ci){var $n;$t===void 0&&($t=!0),O||ii(yb),yt&&ii(_b);var pi=($n={reason:50},$n[ht]=$t,$n.flushComplete=!1,$n),ko;$t&&!Gr&&(ko=md(function(mu){Gr=mu}));var Zo=Dm(ei(),St);Zo[R](function(){Er.run(St[io]),nS([Be,ie,F],$t,function(){Rt(),Gr&&Gr(pi)})},St);function vc(mu){pi.flushComplete=mu,yt=!0,yr.run(Zo,pi),St[g](),Zo[hs](pi)}return mo(),wh($t,vc,6,ci),ko},St[Qs]=Mr,St.addPlugin=function($t,Gr,ci,$n){if(!$t){$n&&$n(!1),Dp(GC);return}var pi=Mr($t[ga]);if(pi&&!Gr){$n&&$n(!1),Dp("Plugin ["+$t[ga]+"] is already loaded!");return}var ko={reason:16};function Zo(Lg){$e[Ln]($t),ko.added=[$t],xr(ko),$n&&$n(!0)}if(pi){var vc=[pi.plugin],mu={reason:2,isAsync:!!ci};Uo(vc,mu,function(Lg){Lg?(ko.removed=vc,ko.reason|=32,Zo()):$n&&$n(!1)})}else Zo()},St.updateCfg=function($t,Gr){Gr===void 0&&(Gr=!0);var ci;if(St[oa]()){ci={reason:1,cfg:b.cfg,oldCfg:bu({},b.cfg),newConfig:bu({},$t),merge:Gr},$t=ci.newConfig;var $n=b.cfg;$t[op]=$n[op],$t[uu]=$n[uu]}b._block(function(pi){var ko=pi.cfg;$_(pi,ko,$t,Gr),Gr||Vr(ko,function(Zo){In($t,Zo)||pi.set(ko,Zo,Cs)}),pi[Ha](ko,bb)},!0),b[Sl](),ci&&vf(ci)},St.evtNamespace=function(){return Gt},St.flush=wh,St.getTraceCtx=function($t){return An||(An=Cm()),An},St.setTraceCtx=function($t){An=$t||null},St.addUnloadHook=Rb,Zu(St,"addUnloadCb",function(){return yr},"add"),St.onCfgChange=function($t){var Gr;return O?Gr=mm(b.cfg,$t,St[io]):Gr=Xi(Do,$t),{rm:function(){Gr.rm()}}},St.getWParam=function(){return qa()||b.cfg.enableWParam?0:-1};function Tt(){var $t={};At=[];var Gr=function(ci){ci&&Jn(ci,function($n){if($n[ga]&&$n[N]&&!$t[$n.identifier]){var pi=$n[ga]+"="+$n[N];At[Ln](pi),$t[$n.identifier]=$n}})};Gr(ot),wt&&Jn(wt,function(ci){Gr(ci)}),Gr($e)}function Rt(){O=!1,b=Ka({},bb,St[io]),b.cfg[J]=1,rt(St,"config",{g:function(){return b.cfg},s:function(Gr){St.updateCfg(Gr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Tt(),At}}),rt(St,"pluginVersionString",{g:function(){return er||(At||Tt(),er=At.join(";")),er||di}}),rt(St,"logger",{g:function(){return F||(F=new bm(b.cfg),b[io]=F),F},s:function(Gr){b[io]=Gr,F!==Gr&&(gm(F,!1),F=Gr)}}),St[io]=new bm(b.cfg),Ve=[];var $t=St.config[op]||[];$t.splice(0,$t[Hn]),pl($t,Ve),it=new aS,W=[],gm(ie,!1),ie=null,ge=null,Oe=null,gm(Be,!1),Be=null,et=null,$e=[],wt=null,ot=null,yt=!1,Zt=null,Gt=Pl("AIBaseCore",!0),yr=xu(),An=null,Ri=null,Er=nl(),Do=[],er=null,At=null,Zn=!1}function gr(){var $t=pu(ei(),b.cfg,St);return $t[R](nt),$t}function xr($t){var Gr=W_(St[io],$C,$e);et=null,er=null,At=null,ot=(wt||[])[0]||[],ot=Ds(pl(ot,Gr[uu]));var ci=pl(Ds(Gr[Jo]),ot);Ve=Jt(ci);var $n=St.config[op]||[];$n.splice(0,$n[Hn]),pl($n,Ve);var pi=gr();ot&&ot[Hn]>0&&ms(pi[Z](ot),ci),ms(pi,ci),$t&&vf($t)}function Mr($t){var Gr=null,ci=null,$n=[];return Jn(Ve,function(pi){if(pi[ga]===$t&&pi!==it)return ci=pi,-1;pi.getChannel&&$n[Ln](pi)}),!ci&&$n[Hn]>0&&Jn($n,function(pi){if(ci=pi.getChannel($t),!ci)return-1}),ci&&(Gr={plugin:ci,setEnabled:function(pi){ps(ci)[Zp]=!pi},isEnabled:function(){var pi=ps(ci);return!pi[pe]&&!pi[Zp]},remove:function(pi,ko){var Zo;pi===void 0&&(pi=!0);var vc=[ci],mu=(Zo={reason:1},Zo[ht]=pi,Zo);Uo(vc,mu,function(Lg){Lg&&xr({reason:32,removed:vc}),ko&&ko(Lg)})}}),Gr}function ei(){if(!et){var $t=(Ve||[]).slice();Ms($t,it)===-1&&$t[Ln](it),et=Tg(Ds($t),b.cfg,St)}return et}function Uo($t,Gr,ci){if($t&&$t[Hn]>0){var $n=Tg($t,b.cfg,St),pi=Dm($n,St);pi[R](function(){var ko=!1,Zo=[];Jn($e,function(mu,Lg){mf(mu,$t)?ko=!0:Zo[Ln](mu)}),$e=Zo,er=null,At=null;var vc=[];wt&&(Jn(wt,function(mu,Lg){var Uv=[];Jn(mu,function(eD){mf(eD,$t)?ko=!0:Uv[Ln](eD)}),vc[Ln](Uv)}),wt=vc),ci&&ci(ko),nt()}),pi[hs](Gr)}else ci(!1)}function mo(){if(F&&F.queue){var $t=F.queue.slice(0);F.queue[Hn]=0,Jn($t,function(Gr){var ci,$n=(ci={},ci[Ba]=Zt||"InternalMessageId: "+Gr[Ie],ci.iKey=Ri,ci[ld]=tf(new Date),ci.baseType=ph.dataType,ci.baseData={message:Gr[Qe]},ci);St.track($n)})}}function wh($t,Gr,ci,$n){var pi=1,ko=!1,Zo=null;$n=$n||5e3;function vc(){pi--,ko&&pi===0&&(Zo&&Zo[si](),Zo=null,Gr&&Gr(ko),Gr=null)}if(ot&&ot[Hn]>0){var mu=gr()[Z](ot);mu.iterate(function(Lg){if(Lg.flush){pi++;var Uv=!1;Lg.flush($t,function(){Uv=!0,vc()},ci)||Uv||($t&&Zo==null?Zo=qs(function(){Zo=null,vc()},$n):vc())}})}return ko=!0,vc(),!0}function Rd(){!ie&&St[Xu](),Rb(b[Xs](function($t){var Gr=$t.cfg.disableDbgExt;Gr===!0&&Or&&(ie[dd](Or),Or=null),ie&&!Or&&Gr!==!0&&(Or=xv($t.cfg),ie[Dl](Or))}))}function Q_(){Rb(b[Xs](function($t){var Gr=$t.cfg.enablePerfMgr;!Gr&&Oe&&(Oe=null),Gr&&bd($t.cfg,vd,cS)}))}function vf($t){var Gr=vh(ei(),St);Gr[R](nt),(!St._updateHook||St._updateHook(Gr,$t)!==!0)&&Gr[hs]($t)}function Dp($t){var Gr=St[io];Gr?(xd(Gr,2,73,$t),nt()):ii($t)}function n0($t){var Gr=St[Xu]();Gr&&Gr[tm]([$t],2)}function Rb($t){Er.add($t)}})}return p.__ieDyn=1,p}(),qv="on",QT="attachEvent",gf="addEventListener",ql="detachEvent",lS="removeEventListener",_h="events",Eg="visibilitychange",yp="pagehide",il="pageshow",yh="unload",bp="beforeunload",xg=Pl("aiEvtPageHide"),wp=Pl("aiEvtPageShow"),Sb=/\.[\.]+/g,dS=/[\.]+$/,KC=1,V_=uh("events"),Fv=/^([^.]*)(?:\.(.+)|)/;function Rg(p){return p&&p[Xh]?p[Xh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,di):p}function jv(p,b){var O;if(b){var F=di;Lt(b)?(F=di,Jn(b,function(ie){ie=Rg(ie),ie&&(ie[0]!=="."&&(ie="."+ie),F+=ie)})):F=Rg(b),F&&(F[0]!=="."&&(F="."+F),p=(p||di)+F)}var W=Fv.exec(p||di)||[];return O={},O[va]=W[1],O.ns=(W[2]||di).replace(Sb,".").replace(dS,di)[Wa](".").sort().join("."),O}function Cb(p,b,O){var F=[],W=V_.get(p,_h,{},!1),ie=jv(b,O);return Vr(W,function(ge,Oe){Jn(Oe,function(Be){var et;(!ie[va]||ie[va]===Be.evtName[va])&&(!ie.ns||ie.ns===ie.ns)&&F[Ln]((et={},et[Ba]=Be.evtName[va]+(Be.evtName.ns?"."+Be.evtName.ns:di),et.handler=Be[Qh],et))})}),F}function Og(p,b,O){O===void 0&&(O=!0);var F=V_.get(p,_h,{},O),W=F[b];return W||(W=F[b]=[]),W}function G_(p,b,O,F){p&&b&&b[va]&&(p[lS]?p[lS](b[va],O,F):p[ql]&&p[ql](qv+b[va],O))}function Tb(p,b,O,F){var W=!1;return p&&b&&b[va]&&O&&(p[gf]?(p[gf](b[va],O,F),W=!0):p[QT]&&(p[QT](qv+b[va],O),W=!0)),W}function K_(p,b,O,F){for(var W=b[Hn];W--;){var ie=b[W];ie&&(!O.ns||O.ns===ie.evtName.ns)&&(!F||F(ie))&&(G_(p,ie.evtName,ie[Qh],ie.capture),b[jc](W,1))}}function ZT(p,b,O){if(b[va])K_(p,Og(p,b[va]),b,O);else{var F=V_.get(p,_h,{});Vr(F,function(W,ie){K_(p,ie,b,O)}),Ke(F)[Hn]===0&&V_.kill(p,_h)}}function Db(p,b){var O;return b?(Lt(b)?O=[p].concat(b):O=[p,b],O=jv("xx",O).ns[Wa](".")):O=p,O}function Sa(p,b,O,F,W){var ie;W===void 0&&(W=!1);var ge=!1;if(p)try{var Oe=jv(b,F);if(ge=Tb(p,Oe,O,W),ge&&V_.accept(p)){var Be=(ie={guid:KC++,evtName:Oe},ie[Qh]=O,ie.capture=W,ie);Og(p,Oe.type)[Ln](Be)}}catch{}return ge}function Sp(p,b,O,F,W){if(W===void 0&&(W=!1),p)try{var ie=jv(b,F),ge=!1;ZT(p,ie,function(Oe){return ie.ns&&!O||Oe[Qh]===O?(ge=!0,!0):!1}),ge||G_(p,ie,O,W)}catch{}}function Ig(p,b,O,F){return F===void 0&&(F=!1),Sa(p,b,O,null,F)}function YC(p,b,O,F){F===void 0&&(F=!1),Sp(p,b,O,null,F)}function Pm(p,b,O){var F=!1,W=$u();W&&(F=Sa(W,p,b,O),F=Sa(W.body,p,b,O)||F);var ie=Fa();return ie&&(F=Sa(ie,p,b,O)||F),F}function kg(p,b,O){var F=$u();F&&(Sp(F,p,b,O),Sp(F.body,p,b,O));var W=Fa();W&&Sp(W,p,b,O)}function Y_(p,b,O,F){var W=!1;return b&&p&&p[Hn]>0&&Jn(p,function(ie){ie&&(!O||Ms(O,ie)===-1)&&(W=Pm(ie,b,F)||W)}),W}function Pb(p,b,O,F){var W=!1;return b&&p&&Lt(p)&&(W=Y_(p,b,O,F),!W&&O&&O[Hn]>0&&(W=Y_(p,b,null,F))),W}function Ag(p,b,O){p&&Lt(p)&&Jn(p,function(F){F&&kg(F,b,O)})}function Mg(p,b,O){return Pb([bp,yh,yp],p,b,O)}function JC(p,b){Ag([bp,yh,yp],p,b)}function XC(p,b,O){function F(ge){var Oe=Fa();p&&Oe&&Oe.visibilityState==="hidden"&&p(ge)}var W=Db(xg,O),ie=Y_([yp],p,b,W);return(!b||Ms(b,Eg)===-1)&&(ie=Y_([Eg],F,b,W)||ie),!ie&&b&&(ie=XC(p,null,O)),ie}function J_(p,b){var O=Db(xg,b);Ag([yp],p,O),Ag([Eg],null,O)}function QC(p,b,O){function F(ge){var Oe=Fa();p&&Oe&&Oe.visibilityState==="visible"&&p(ge)}var W=Db(wp,O),ie=Y_([il],p,b,W);return ie=Y_([Eg],F,b,W)||ie,!ie&&b&&(ie=QC(p,null,O)),ie}function qR(p,b){var O=Db(wp,b);Ag([il],p,O),Ag([Eg],null,O)}var FR=Bi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Em="",jR="https://browser.events.data.microsoft.com/OneCollector/1.0/",Eb="version",zv="properties",fS="initialize",hS="logger",xb="indexOf",xm="timings",ZC="pollInternalLogs",js="value",bh="kind",zs="length",e0="processTelemetryStart",t0="handleField",r0="rmSanitizer",C="rmFieldSanitizer",A="canHandle",B,X="4.0.4",se="1DS-Web-JS-"+X,we=s.hasOwnProperty,Se="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),zt=null,Pr=qa(),wr=na();function Mt(p){return!(p===Em||tt(p))}function Et(p){if(p){var b=Ns(p,"-");if(b>-1)return bn(p,b)}return Em}function jt(){return zt===null&&(zt=!ct(Uint8Array)&&!To()&&!ah()),zt}function Pt(p){return!!(p&&cn(p)&&p>=1&&p<=4)}function lr(p,b,O){if(!b&&!Mt(b)||typeof p!="string")return null;var F=typeof b;if(F==="string"||F==="number"||F==="boolean"||Lt(b))b={value:b};else if(F==="object"&&!we.call(b,"value"))b={value:O?JSON.stringify(b):b};else if(tt(b[js])||b[js]===Em||!fr(b[js])&&!cn(b[js])&&!xn(b[js])&&!Lt(b[js]))return null;if(Lt(b[js])&&!Ps(b[js]))return null;if(!tt(b[bh])){if(Lt(b[js])||!so(b[bh]))return null;b[js]=b[js].toString()}return b}function ir(p,b,O){var F=-1;if(!ct(p))if(b>0&&(b===32?F=8192:b<=13&&(F=b<<5)),zo(O))F===-1&&(F=0),F|=O;else{var W=gt[Ki(p)]||-1;F!==-1&&W!==-1?F|=W:W===6&&(F=W)}return F}function _r(p,b,O){O===void 0&&(O=!0);var F;return p&&(F=p.get(b),O&&F&&decodeURIComponent&&(F=decodeURIComponent(F))),F||Em}function dn(p){p===void 0&&(p="D");var b=Xr();return p==="B"?b="{"+b+"}":p==="P"?b="("+b+")":p==="N"&&(b=b.replace(/-/g,Em)),b}function hi(p,b,O,F,W){var ie={},ge=!1,Oe=0,Be=arguments[zs],et=arguments;for(xn(et[0])&&(ge=et[0],Oe++);Oe<Be;Oe++){var p=et[Oe];Vr(p,function(wt,ot){ge&&ot&&mr(ot)?Lt(ot)?(ie[wt]=ie[wt]||[],Jn(ot,function(yt,it){yt&&mr(yt)?ie[wt][it]=hi(!0,ie[wt][it],yt):ie[wt][it]=yt})):ie[wt]=hi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ai=sd;function so(p){return p===0||p>0&&p<=13||p===32}function zo(p){return p>=0&&p<=9}function To(){var p=ac();if(!ct(p)&&p.userAgent){var b=p.userAgent.toLowerCase();if((b[xb]("safari")>=0||b[xb]("firefox")>=0)&&b[xb]("chrome")<0)return!0}return!1}function Ps(p){return p[zs]>0}function Qa(p,b){var O=p;O[xm]=O[xm]||{},O[xm][e0]=O[xm][e0]||{},O[xm][e0][b]=ai()}function Ki(p){var b=0;if(p!=null){var O=typeof p;O==="string"?b=1:O==="number"?b=2:O==="boolean"?b=3:O===t&&(b=4,Lt(p)?(b=4096,p[zs]>0&&(b|=Ki(p[0]))):we.call(p,"value")&&(b=8192|Ki(p[js])))}return b}function mc(){return!!ki("chrome")}function gc(p,b,O,F,W,ie){F===void 0&&(F=!1),W===void 0&&(W=!1);function ge(Be,et,$e){try{Be[et]=$e}catch{}}var Oe=new XMLHttpRequest;return F&&ge(Oe,Se,F),O&&ge(Oe,Xe,O),Oe.open(p,b,!W),O&&ge(Oe,Xe,O),!W&&ie&&ge(Oe,lt,ie),Oe}function Zs(p){return p>0}var ol=ft({endpointUrl:jR,propertyStorageOverride:{isVal:sa}});function sa(p){return p&&(!p.getProperty||!p.setProperty)&&ii("Invalid property storage override passed."),!0}var aa=function(p){Gu(b,p);function b(){var O=p.call(this)||this;return Js(b,O,function(F,W){F[fS]=function(ie,ge,Oe,Be){Rn(F,function(){return"AppInsightsCore.initialize"},function(){try{W[fS](Ka(ie,ol,Oe||F[hS],!1).cfg,ge,Oe,Be)}catch(wt){var et=F[hS],$e=Ee(wt);$e[xb]("channels")!==-1&&($e+=`
 - Channels must be provided through config.channels only!`),xd(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+$e)}},function(){return{config:ie,extensions:ge,logger:Oe,notificationManager:Be}})},F.track=function(ie){Rn(F,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[xm]=ge[xm]||{},ge[xm].trackStart=ai(),Pt(ge.latency)||(ge.latency=1);var Oe=ge.ext=ge.ext||{};Oe.sdk=Oe.sdk||{},Oe.sdk.ver=se;var Be=ge.baseData=ge.baseData||{};Be[zv]=Be[zv]||{};var et=Be[zv];et[Eb]=et[Eb]||F.pluginVersionString||Em}W.track(ge)},function(){return{item:ie}},!ie.sync)},F[ZC]=function(ie){return W[ZC](ie||"InternalLog")}}),O}return b.__ieDyn=1,b}(Pg),Si=Bi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),Qi=Bi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Fl=Bi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),X_=Bi({Normal:1,Critical:2}),Cp=Bi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Tp=function(){function p(b){var O=this,F={},W=[],ie=[];b&&ie.push(b);function ge($e,wt){var ot,yt=F[$e];if(yt&&(ot=yt[wt]),!ot&&ot!==null){if(fr($e)&&fr(wt))if(ie[zs]>0){for(var it=0;it<ie[zs];it++)if(ie[it][t0]($e,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else W[zs]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<W[zs];it++)if(W[it][t0]($e,wt)){ot={canHandle:!0,handler:W[it],fieldHandler:null};break}}yt||(yt=F[$e]={}),yt[wt]=ot}return ot}O.clearCache=function(){F={}},O.addSanitizer=function($e){$e&&(Ls(W,$e)||W.push($e),F={})},O.addFieldSanitizer=function($e){$e&&(Ls(ie,$e)||ie.push($e),F={})},O[r0]=function($e){if($e){var wt=Ms(W,$e);wt!==-1&&(W.splice(wt,1),F={}),Jn(W,function(ot){ot&&ot[r0]&&ot[r0]($e)})}},O[C]=function($e){if($e){var wt=Ms(ie,$e);wt!==-1&&(ie.splice(wt,1),F={}),Jn(W,function(ot){ot&&ot[C]&&ot[C]($e)})}},O.isEmpty=function(){return th(W)+th(ie)===0},O[t0]=function($e,wt){var ot=ge($e,wt);return ot?ot[A]:!1},O[js]=function($e,wt,ot,yt){var it=ge($e,wt);if(it&&it[A]){if(!it||!it[A])return null;if(it.handler)return it.handler[js]($e,wt,ot,yt);if(!fr(wt)||tt(ot)||ot===Em)return null;var Zt=null,Gt=Ki(ot);if((Gt&8192)===8192){var yr=Gt&-8193;if(Zt=ot,!Mt(Zt[js])||yr!==1&&yr!==2&&yr!==3&&(yr&4096)!==4096)return null}else Gt===1||Gt===2||Gt===3||(Gt&4096)===4096?Zt=Be($e,wt,ot):Gt===4&&(Zt=Be($e,wt,yt?JSON.stringify(ot):ot));if(Zt)return Oe(it,$e,wt,Gt,Zt,yt)}return null},O.property=function($e,wt,ot,yt){var it=ge($e,wt);if(!it||!it[A]||!fr(wt)||tt(ot)||!Mt(ot[js]))return null;var Zt=Ki(ot[js]);return Zt===0?null:Oe(it,$e,wt,Zt,ot,yt)};function Oe($e,wt,ot,yt,it,Zt){if($e.handler)return $e.handler.property(wt,ot,it,Zt);if(!tt(it[bh])){if((yt&4096)===4096||!so(it[bh]))return null;it[js]=it[js].toString()}return et($e.fieldHandler,wt,ot,yt,it)}function Be($e,wt,ot){return Mt(ot)?{value:ot}:null}function et($e,wt,ot,yt,it){if(it&&$e){var Zt=$e.getSanitizer(wt,ot,yt,it[bh],it.propertyType);if(Zt)if(yt===4){var Gt={},yr=it[js];Vr(yr,function(Or,An){var Ri=wt+"."+ot;if(Mt(An)){var Do=Be(Ri,Or,An);Do=et($e,Ri,Or,Ki(An),Do),Do&&(Gt[Or]=Do[js])}}),it[js]=Gt}else{var Er={path:wt,name:ot,type:yt,prop:it,sanitizer:O};it=Zt.call(O,Er)}}return it}}return p.getFieldType=Ki,p}();r.AppInsightsCore=aa,r.BaseTelemetryPlugin=sS,r.DiagnosticLogger=bm,r.EventLatency=Qi,r.EventPersistence=X_,r.EventPropertyType=Fl,r.EventsDiscardedReason=Zd,r.FullVersionString=se,r.InternalAppInsightsCore=Pg,r.LoggingSeverity=FR,r.MinChannelPriorty=Ju,r.NotificationManager=ve,r.PerfEvent=Yt,r.PerfManager=kr,r.ProcessTelemetryContext=Dg,r.TraceLevel=Cp,r.Undefined=n,r.ValueKind=Si,r.ValueSanitizer=Tp,r.Version=X,r._InternalLogMessage=ph,r.__getRegisteredEvents=Cb,r._logInternalMessage=kl,r._throwInternal=xd,r._warnToConsole=ub,r.addEventHandler=Pm,r.addEventListeners=Pb,r.addPageHideEventListener=XC,r.addPageShowEventListener=QC,r.addPageUnloadEventListener=Mg,r.areCookiesSupported=Sg,r.arrForEach=Jn,r.arrIndexOf=Ms,r.arrMap=ml,r.arrReduce=tu,r.attachEvent=Ig,r.blockDynamicConversion=ya,r.cookieAvailable=Sg,r.createCookieMgr=gp,r.createDynamicConfig=Ka,r.createEnumStyle=Bi,r.createGuid=dn,r.createProcessTelemetryContext=pu,r.createTraceParent=kv,r.createUniqueNamespace=Pl,r.createUnloadHandlerContainer=xu,r.dateNow=cc,r.detachEvent=YC,r.disallowsSameSiteNone=I,r.doPerf=Rn,r.dumpObj=Ee,r.eventOff=Sp,r.eventOn=Sa,r.extend=hi,r.findW3cTraceParent=fi,r.forceDynamicConversion=lh,r.formatTraceParent=an,r.generateW3CId=Qn,r.getCommonSchemaMetaData=ir,r.getConsole=Cd,r.getCookieValue=_r,r.getCrypto=am,r.getDocument=Fa,r.getDynamicConfigHandler=hp,r.getExceptionName=yv,r.getFieldValueType=Ki,r.getGlobal=Wu,r.getGlobalInst=ki,r.getHistory=Zc,r.getIEVersion=sb,r.getISOString=tf,r.getJSON=dp,r.getLocation=sh,r.getMsCrypto=of,r.getNavigator=ac,r.getPerformance=Kd,r.getSetValue=bd,r.getTenantId=Et,r.getTime=ai,r.getWindow=$u,r.hasDocument=qa,r.hasHistory=$s,r.hasJSON=sm,r.hasNavigator=Gf,r.hasOwnProperty=$r,r.hasWindow=na,r.isArray=Lt,r.isArrayValid=Ps,r.isBeaconsSupported=Ga,r.isBoolean=xn,r.isChromium=mc,r.isDate=nn,r.isDocumentObjectAvailable=Pr,r.isError=Rr,r.isFetchSupported=Sv,r.isFunction=It,r.isGreaterThanZero=Zs,r.isIE=cm,r.isLatency=Pt,r.isNotTruthy=Wr,r.isNullOrUndefined=tt,r.isNumber=cn,r.isObject=mr,r.isReactNative=ah,r.isSampledFlag=sr,r.isString=fr,r.isTruthy=un,r.isTypeof=at,r.isUint8ArrayAvailable=jt,r.isUndefined=ct,r.isValidSpanId=Av,r.isValidTraceId=mh,r.isValidTraceParent=Mv,r.isValueAssigned=Mt,r.isValueKind=so,r.isWindowObjectAvailable=wr,r.isXhrSupported=lg,r.mergeEvtNamespace=Db,r.newGuid=Xr,r.newId=Dv,r.normalizeJsName=yd,r.objDefineAccessors=Ae,r.objForEachKey=Vr,r.objFreeze=Jt,r.objKeys=Ke,r.objSeal=nr,r.onConfigChange=mm,r.openXhr=gc,r.optimizeObject=im,r.parseTraceParent=Nl,r.perfNow=sd,r.proxyAssign=bv,r.proxyFunctionAs=Zu,r.proxyFunctions=sg,r.random32=Ed,r.randomValue=Zw,r.removeEventHandler=kg,r.removeEventListeners=Ag,r.removePageHideEventListener=J_,r.removePageShowEventListener=qR,r.removePageUnloadEventListener=JC,r.safeGetCookieMgr=H_,r.safeGetLogger=yg,r.sanitizeProperty=lr,r.setEnableEnvMocks=lp,r.setProcessTelemetryTimings=Qa,r.setValue=$a,r.strContains=Ts,r.strEndsWith=Yd,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=Go,r.strTrim=Vs,r.strUndefined=n,r.throwError=ii,r.toISOString=tf,r.useXDomainRequest=Td})});var Ufe=P((IN,zfe)=>{(function(r,e){typeof IN=="object"&&typeof zfe<"u"?e(IN):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(IN,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",_="boolean",y="function",D="number",k="object",H="prototype",M="__proto__",z="string",re="undefined",ce="constructor",_e="Symbol",G="_polyfill",$="indexOf",te="length",Te="done",ae="value",ue="name",Fe="slice",qe=Object,le=qe[H],Ce=String,be=Ce[H],xe=Math,Le=Array,Ge=Le[H];function Ct(C,A){var B=A;try{B=C()}catch{}return B}function ze(C){return function(A){return typeof A===C}}function at(C){var A="[object "+C+"]";return function(B){return!!(B&&ct(B)===A)}}function ct(C){return le.toString.call(C)}function tt(C){return typeof C===re||C===re}function pr(C){return C===d||tt(C)}function Nr(C){return C===d||!Hr(C)}function Hr(C){return!!C||C!==l}var fr=ze(z),It=ze(y);function mr(C){return!C&&pr(C)?!1:!!C&&typeof C===k}var Lt=Le.isArray,nn=ze(D),cn=ze(_),xn=at("Error");function Rr(C){return!!C&&It(C.then)}var Un=qe.getOwnPropertyDescriptor;function Wr(C,A){return C&&le.hasOwnProperty.call(C,A)}var un=qe.hasOwn||ni;function ni(C,A){return Wr(C,A)||!!Un(C,A)}function $r(C,A,B){if(C&&mr(C)){for(var X in C)if(un(C,X)&&A.call(B||C,X,C[X])===-1)break}}function In(C,A,B,X){var se={};return $r(C,function(we,Se){se[we]=A?Se:we,se[Se]=B?Se:we}),X(se)}function Ei(C){throw new TypeError(C)}var Vr=qe.freeze,Vi=function(C){return C},ii=function(C){return C[M]||d},ln=qe.assign;function Re(C){return(!mr(C)||C===d)&&Ei("objKeys called on non-object"),qe.keys(C)}function oe(C){return Vr&&$r(C,function(A,B){(Lt(B)||mr(B))&&Vr(B)}),Q(C)}var Q=Vr||Vi,ye=qe.getPrototypeOf||ii;function Ke(C){return In(C,1,0,oe)}function ft(C){return In(C,0,0,oe)}var Jt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),nr=Ce,Xt="__tsUtils$gblCfg",Vt;function kt(){var C;return typeof globalThis!==re&&(C=globalThis),!C&&typeof self!==re&&(C=self),!C&&typeof window!==re&&(C=window),!C&&typeof global!==re&&(C=global),C}function K(){if(!Vt){var C=kt()||{};Vt=C[Xt]=C[Xt]||{}}return Vt}function Ne(C,A){var B=f;if(xn(C))B="{ stack: '"+C.stack+"', message: '"+C.message+"', name: '"+C.name+"'";else try{B=JSON.stringify(C,d,A?nn(A)?A:4:l)}catch(X){B=" - "+Ne(X,A)}return ct(C)+": "+B}var Bt=Ge[Fe],Tr=function(C,A){Ei("'"+nr(C)+"' not defined for "+Ne(A))},He=function(C){return function(A){return A[C].apply(A,Bt.call(arguments,1))}},ne=function(C,A){var B=A&&A[C];return function(X){var se=X&&X[C]||B;if(se)return se.apply(X,Bt.call(arguments,1));Tr(C,X)}},Ee=function(C,A,B){var X=A&&A[C];return function(se){var we=se&&se[C]||X;if(we||B){var Se=arguments;return(we||B).apply(se,we?Bt.call(Se,1):Se)}Tr(C,se)}},je=xe.max,he=ne(Fe,be),S=ne("substring",be),fe=Ee("substr",be,Je);function Je(C,A,B){return pr(C)&&Ei("'polyStrSubstr called with invalid "+Ne(C)),B<0?f:(A=A||0,A<0&&(A=je(A+C[te],0)),tt(B)?he(C,A):he(C,A,A+B))}function Cr(C,A){return S(C,0,A)}var Br=Ee("startsWith",be,Jr);function Jr(C,A,B){fr(C)||Ei("'"+Ne(C)+"' is not a string");var X=fr(A)?A:nr(A),se=X[te],we=B>0?B:0;return S(C,we,we+se)===X}var qn="_urid",xi;function ws(){if(!xi){var C=K();xi=C.gblSym=C.gblSym||{k:{},s:{}}}return xi}var bn={};function Go(C){var A={description:nr(C),toString:function(){return _e+"("+C+")"}};return A[G]=!0,A}function Is(C){var A=ws();if(!un(A.k,C)){var B=Go(C),X=Re(A.s).length;B[qn]=function(){return X+"_"+B.toString()},A.k[C]=B,A.s[B[qn]()]=nr(C)}return A.k[C]}function Ws(C){var A,B=Jt[C];return B&&(A=bn[B]=bn[B]||Go(_e+"."+B)),A}var Oo={e:"enumerable",c:"configurable",v:ae,w:"writable",g:"get",s:"set"};function bo(C){var A={};if(A[Oo.c]=!0,A[Oo.e]=!0,C.l){A.get=function(){return C.l.v};var B=Un(C.l,"v");B&&B.set&&(A.set=function(X){C.l.v=X})}return $r(C,function(X,se){A[Oo[X]]=tt(se)?A[Oo[X]]:se}),A}var U=qe.defineProperty;function Ue(C,A,B){return U(C,A,bo(B))}var vt,qr=function(){vt=K(),qr=d};function to(C){var A={};return qr&&qr(),A.b=vt.lzy,U(A,"v",{configurable:!0,get:function(){var B=C();return vt.lzy||(U(A,"v",{value:B}),A.b&&delete A.b),vt.lzy&&A.b!==vt.lzy&&(A.b=vt.lzy),B}}),A}function zi(C,A){return to(function(){return Ct(C,A)})}var L="window",Ae,rt,Ut,kn,wn,Mn=function(C){return zi(function(){return Li(C)||l},l)},ro=function(C){return(!Ae||C===!1||vt&&vt.lzy&&!Ae.b)&&(Ae=zi(kt,d)),Ae.v},Li=function(C,A){var B=!Ae||A===!1?ro(A):Ae.v;return B&&B[C]?B[C]:C===L&&rt?rt.v:d},wo=function(){return!!Hi()},Hi=function(){return(!Ut||vt&&vt.lzy&&!Ut.b)&&(Ut=Mn("document")),Ut.v},Yn=function(){return!!Qc()},Qc=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Mn(L)),rt.v},Ko=function(){return!!fo()},fo=function(){return(!kn||vt&&vt.lzy&&!kn.b)&&(kn=Mn("navigator")),kn.v},Wu=function(){return!wn&&(wn=zi(function(){return!!(process&&(process.versions||{}).node)},!1)),wn.v},ki,qa,Fa;function na(C){return zi(function(){return ki.v?ki.v[C]:l},l)}function $u(){return!!Gf()}function Gf(){var C=!ki||vt&&vt.lzy&&!ki.b;return C&&(ki=Mn(_e)),(!qa||C)&&(qa=na("for")),(!Fa||C)&&(Fa=na("keyFor")),ki.v}function ac(C,A){var B=Jt[C];return(!ki||vt.lzy&&!ki.b)&&Gf(),ki.v?ki.v[B||C]:A?l:Ws(C)}function $s(C,A){return(!ki||vt.lzy&&!ki.b)&&Gf(),ki.v?ki.v(C):A?d:Go(C)}function Zc(C){return(!qa||vt.lzy&&!ki.b)&&Gf(),(qa.v||Is)(C)}function Kf(C){return!!C&&It(C.next)}function Mo(C){return!Nr(C)&&It(C[ac(3)])}var ks;function Cn(C,A,B){if(C&&(Kf(C)||(!ks&&(ks=to(function(){return ac(3)})),C=C[ks.v]?C[ks.v]():null),Kf(C))){var X=void 0,se=void 0;try{for(var we=0;!(se=C.next())[Te]&&A.call(B||C,se[ae],we,C)!==-1;)we++}catch(Se){X={e:Se},C.throw&&(se=null,C.throw(X))}finally{try{se&&!se[Te]&&C.return&&C.return(se)}finally{if(X)throw X.e}}}}var As=He("apply");function eu(C,A){return!tt(A)&&C&&(Lt(A)?As(C.push,C,A):Kf(A)||Mo(A)?Cn(A,function(B){C.push(B)}):C.push(A)),C}function oi(C,A,B){if(C)for(var X=C[te]>>>0,se=0;se<X&&!(se in C&&A.call(B||C,C[se],se,C)===-1);se++);}var ha=ne($,Ge),Mc=ne(Fe,Ge),Yf=He("call"),Hd=qe.create,Wh=Hd||Bd;function Bd(C){if(!C)return{};var A=typeof C;if(A!==k&&A!==y)throw new TypeError("Prototype must be an Object or function: "+Ne(C));function B(){}return B[H]=C,new B}var $h;function Wd(C,A){var B=qe.setPrototypeOf||function(X,se){!$h&&($h=to(function(){var we;return we={},we[M]=[],we instanceof Array})),$h.v?X[M]=se:$r(se,function(we,Se){return X[we]=Se})};return B(C,A)}var pl=function(C,A,B){Ms(A,C),A=Wd(A,B);function X(){this.constructor=A,Ms(this,C)}return A[H]=B===d?Wh(B):(X[H]=B[H],new X),A},Jn=function(C,A){try{A&&(C[ue]=A)}catch{}},Ms=function(C,A){try{Ue(C,ue,{v:A,c:!0,e:!1})}catch{}};function ml(C,A,B){var X=B||Error,se=X[H][ue],we=Error.captureStackTrace;return pl(C,function(){var Se=this;try{Jn(X,C);var Xe=As(X,Se,Mc(arguments))||Se;if(Xe!==Se){var lt=ye(Se);lt!==ye(Xe)&&Wd(Xe,lt)}return we&&we(Xe,Se[ce]),A&&A(Xe,arguments),Xe}finally{Jn(X,se)}},X)}function no(){return(Date.now||Jf)()}function Jf(){return new Date().getTime()}function Xf(C){return function(B){return pr(B)&&Ei("strTrim called ["+Ne(B)+"]"),B&&B.replace&&(B=B.replace(C,f)),B}}var Ls=Xf(/^\s+|(?=\s)\s+$/g),tu=Ee("trim",be,Ls),Qf,rd,ds;function gl(C){if(!C||typeof C!==k)return!1;ds||(ds=Yn()?Qc():!0);var A=!1;if(C!==ds){rd||(Qf=Function[H].toString,rd=Yf(Qf,qe));try{var B=ye(C);A=!B,A||(Wr(B,ce)&&(B=B[ce]),A=B&&typeof B===y&&Qf.call(B)===rd)}catch{}}return A}var Lc;function Gp(){return(!Lc||!Lc.b&&vt&&vt.lzy)&&(Lc=Mn("performance")),Lc.v}function nd(){var C=Gp();return C&&C.now?C.now():no()}var $d=ne($,be),Vd="ref",cc="un"+Vd,ho="hasRef",Vh="enabled";function Gd(C,A,B){var X,se=!0,we=C?A(d):d,Se,Xe=function(){return se=!1,we&&we[cc]&&we[cc](),Se},lt=function(){return se=!0,we&&we[Vd]&&we[Vd](),Se},gt=function(){return we&&we[ho]?we[ho]():se},zt=function(){return we=A(we),se||Xe(),Se},Pr=function(){we&&B(we),we=d},wr=function(Mt){!Mt&&we&&Pr(),Mt&&!we&&zt()};return Se=(X={cancel:Pr,refresh:zt},X[ho]=gt,X[Vd]=lt,X[cc]=Xe,X[Vh]=!1,X),U(Se,Vh,{get:function(){return!!we},set:wr}),{h:Se,dn:function(){we=d}}}function Vs(C,A,B,X){var se=Lt(B),we=se?B.length:0,Se=(we>0?B[0]:se?l:B)||setTimeout,Xe=(we>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),As(lt,C,Mc(arguments))};var gt=Gd(A,function(zt){if(zt){if(zt.refresh)return zt.refresh(),zt;As(Xe,C,[zt])}return As(Se,C,X)},function(zt){As(Xe,C,[zt])});return gt.h}function Vu(C,A){return Vs(this,!0,l,Mc(arguments))}function ru(C,A,B){return Vs(this,!0,C,Mc(arguments,1))}(ro()||{}).Symbol,(ro()||{}).Reflect;var pv="hasOwnProperty",Gs=function(C,A){return Gs=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var se in X)X[pv](se)&&(B[se]=X[se])},Gs(C,A)};function P_(C,A){typeof A!==i&&A!==null&&Ei("Class extends value "+String(A)+" is not a constructor or null"),Gs(C,A);function B(){this.constructor=C}C[a]=A===null?Wh(A):(B[a]=A[a],new B)}var yu,id="constructor",Lo="prototype",vl="function",Zf="_dynInstFuncs",tg="_isDynProxy",od="_dynClass",eh="_dynCls$",Gh="_dynInstChk",_l=Gh,Kh="_dfOpts",bu="_unknown_",th="__proto__",nu="_dyn"+th,Kd="__dynProto$Gbl",sd="_dynInstProto",Yd="useBaseInst",ad="setInstFuncs",Ns=Object,pa=Ns.getPrototypeOf,So=Ns.getOwnPropertyNames,Nc=ro(),ja=Nc[Kd]||(Nc[Kd]={o:(yu={},yu[ad]=!0,yu[Yd]=!0,yu),n:1e3});function rg(C){return C&&(C===Ns[Lo]||C===Array[Lo])}function wu(C){return rg(C)||C===Function[Lo]}function qs(C){var A;if(C){if(pa)return pa(C);var B=C[th]||C[Lo]||(C[id]?C[id][Lo]:null);A=C[nu]||B,Wr(C,nu)||(delete C[sd],A=C[nu]=C[sd]||C[nu],C[sd]=B)}return A}function yl(C,A){var B=[];if(So)B=So(C);else for(var X in C)typeof X=="string"&&Wr(C,X)&&B.push(X);if(B&&B.length>0)for(var se=0;se<B.length;se++)A(B[se])}function Yh(C,A,B){return A!==id&&typeof C[A]===vl&&(B||Wr(C,A))}function iu(C){Ei("DynamicProto: "+C)}function Gu(C){var A={};return yl(C,function(B){!A[B]&&Yh(C,B,!1)&&(A[B]=C[B])}),A}function rh(C,A){for(var B=C.length-1;B>=0;B--)if(C[B]===A)return!0;return!1}function uc(C,A,B,X){function se(lt,gt,zt){var Pr=gt[zt];if(Pr[tg]&&X){var wr=lt[Zf]||{};wr[_l]!==!1&&(Pr=(wr[gt[od]]||{})[zt]||Pr)}return function(){return Pr.apply(lt,arguments)}}var we={};yl(B,function(lt){we[lt]=se(A,B,lt)});for(var Se=qs(C),Xe=[];Se&&!wu(Se)&&!rh(Xe,Se);)yl(Se,function(lt){!we[lt]&&Yh(Se,lt,!pa)&&(we[lt]=se(A,Se,lt))}),Xe.push(Se),Se=qs(Se);return we}function Su(C,A,B,X){var se=null;if(C&&Wr(B,od)){var we=C[Zf]||{};if(se=(we[B[od]]||{})[A],se||iu("Missing ["+A+"] "+vl),!se[Gh]&&we[_l]!==!1){for(var Se=!Wr(C,A),Xe=qs(C),lt=[];Se&&Xe&&!wu(Xe)&&!rh(lt,Xe);){var gt=Xe[A];if(gt){Se=gt===X;break}lt.push(Xe),Xe=qs(Xe)}try{Se&&(C[A]=se),se[Gh]=1}catch{we[_l]=!1}}}return se}function fs(C,A,B){var X=A[C];return X===B&&(X=qs(A)[C]),typeof X!==vl&&iu("["+C+"] is not a "+vl),X}function qc(C,A,B,X,se){function we(lt,gt){var zt=function(){var Pr=Su(this,gt,lt,zt)||fs(gt,lt,zt);return Pr.apply(this,arguments)};return zt[tg]=1,zt}if(!rg(C)){var Se=B[Zf]=B[Zf]||{},Xe=Se[A]=Se[A]||{};Se[_l]!==!1&&(Se[_l]=!!se),yl(B,function(lt){Yh(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!Wr(C,lt)||C[lt]&&!C[lt][tg])&&(C[lt]=we(C,lt)))})}}function Cu(C,A){if(pa){for(var B=[],X=qs(A);X&&!wu(X)&&!rh(B,X);){if(X===C)return!0;B.push(X),X=qs(X)}return!1}return!0}function Tu(C,A){return Wr(C,Lo)?C.name||A||bu:((C||{})[id]||{}).name||A||bu}function Ks(C,A,B,X){Wr(C,Lo)||iu("theClass is an invalid class definition.");var se=C[Lo];Cu(se,A)||iu("["+Tu(C)+"] not in hierarchy of ["+Tu(A)+"]");var we=null;Wr(se,od)?we=se[od]:(we=eh+Tu(C,"_")+"$"+ja.n,ja.n++,se[od]=we);var Se=Ks[Kh],Xe=!!Se[Yd];Xe&&X&&X[Yd]!==void 0&&(Xe=!!X[Yd]);var lt=Gu(A),gt=uc(se,A,lt,Xe);B(A,gt);var zt=!!pa&&!!Se[ad];zt&&X&&(zt=!!X[ad]),qc(se,we,A,lt,zt!==!1)}Ks[Kh]=ja.o;var ng=Ke,za=ng({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Ku="toLowerCase",No="blkVal",qo="length",Jd="rdOnly",Du="notify",Xd="warnToConsole",Io="throwInternal",bl="setDf",Qd="watch",ia="logger",ou="apply",Ys="push",Ss="splice",wl="hdlr",mv="cancel",is="initialize",Fc="identifier",Yu="isInitialized",nh="getPlugin",cd="name",Jh="time",Ua="processNext",Kp="getProcessTelContext",Ni="unload",Yo="loggingLevelConsole",Pu="createNew",lc="teardown",dc="messageId",Js="message",Ju="isAsync",Bi="diagLog",Zd="_doTeardown",bi="update",ma="getNext",Hn="setNextPlugin",ud="userAgent",Sl="split",fc="nodeType",Fo="replace",Ha="logInternalMessage",Xs="type",io="handler",su="isChildEvt",Ln="getCtx",jc="setCtx",Co="complete",si;function Cl(C,A){si||(si=ml("AggregationError",function(X,se){se[qo]>1&&(X.errors=se[1])}));var B=C||"One or more errors occurred.";throw oi(A,function(X,se){B+=`
`.concat(se," > ").concat(Ne(X))}),new si(B,A||[])}var ga=["pending","resolving","resolved","rejected"],oa="dispatchEvent",Qs;function Tl(C,A,B,X){var se=Hi();!Qs&&(Qs=zi(function(){var lt;return se&&se.createEvent&&(lt=se.createEvent("Event")),!!lt&&lt.initEvent},null));var we=Qs.v?se.createEvent("Event"):X?new Event(A):{};if(B&&B(we),Qs.v&&we.initEvent(A,!1,!0),we&&C[oa])C[oa](we);else{var Se=C["on"+A];if(Se)Se(we);else{var Xe=Li("console");Xe&&(Xe.error||Xe.log)(A,Ne(we))}}}var Ba="Promise",ld="unhandledRejection",hs=ld.toLowerCase(),zc=10,Xu;function Dl(C){return It(C)?C.toString():Ne(C)}function dd(C,A,B){var X=Mc(arguments,3),se=0,we=!1,Se,Xe=[],lt=!1,gt=null,zt;!Xu&&(Xu=Mn(Ba+"RejectionEvent"));var Pr=function(_r,dn){try{lt=!0,gt&&gt.cancel(),gt=null;var hi=C(function(ai,so){Xe.push(function(){try{var zo=se===2?_r:dn,To=tt(zo)?Se:It(zo)?zo(Se):zo;Rr(To)?To.then(ai,so):zo?ai(To):se===3?so(To):ai(To)}catch(Ps){so(Ps)}}),we&&jt()},X);return hi}finally{}},wr=function(_r){return Pr(void 0,_r)},Mt=function(_r){var dn=_r,hi=_r;return It(_r)&&(dn=function(ai){return _r&&_r(),ai},hi=function(ai){throw _r&&_r(),ai}),Pr(dn,hi)},Et=function(){return ga[se]},jt=function(){if(Xe.length>0){var _r=Xe.slice();Xe=[],lt=!0,A(_r),gt&&gt.cancel(),gt=null}},Pt=function(_r,dn){return function(hi){if(se===dn){if(_r===2&&Rr(hi)){se=1,hi.then(Pt(2,1),Pt(3,1));return}se=_r,we=!0,Se=hi,jt(),!lt&&_r===3&&!gt&&(gt=Vu(lr,zc))}}},lr=function(){if(!lt)if(Wu())process.emit(ld,Se,zt);else{var _r=Qc()||ro();Tl(_r,hs,function(dn){return Ue(dn,"promise",{g:function(){return zt}}),dn.reason=Se,dn},!!Xu.v)}};zt={then:Pr,catch:wr,finally:Mt},U(zt,"state",{get:Et}),$u()&&(zt[ac(11)]="IPromise");var ir=function(){return"IPromise "+Et()+(we?" - "+Dl(Se):"")};return zt.toString=ir,function(){It(B)||Ei(Ba+": executor is not a function - "+Dl(B));var dn=Pt(3,0);try{B.call(zt,Pt(2,0),dn)}catch(hi){dn(hi)}}(),zt}var m=function(C){oi(C,function(A){try{A()}catch{}})};function g(C){var A=nn(C)?C:0;return function(B){Vu(function(){m(B)},A)}}function E(C,A){return dd(E,g(A),C,A)}var R;function N(C,A){!R&&(R=Mn(Ba));var B=R.v;if(!B)return E(C);It(C)||Ei(Ba+": executor is not a function - "+Ne(C));var X=0;function se(){return ga[X]}var we=new B(function(Se,Xe){function lt(zt){X=2,Se(zt)}function gt(zt){X=3,Xe(zt)}C(lt,gt)});return U(we,"state",{get:se}),we}var J;function Z(C,A){return!J&&(J=to(function(){return N})),J.v.call(this,C,A)}var pe=void 0,Ie="",Qe="core",ht="disabled",Ht="extensionConfig",Sr="processTelemetry",on="priority",Fr="getPerfMgr",Bn="Not dynamic - ",Fs=/-([a-z])/g,Wa=/([^\w\d_$])/g,au=/^(\d+[\w\d_$])/;function Xh(C){return!pr(C)}function Yp(C){var A=C;return A&&fr(A)&&(A=A[Fo](Fs,function(B,X){return X.toUpperCase()}),A=A[Fo](Wa,"_"),A=A[Fo](au,function(B,X){return"_"+X})),A}function va(C,A){return C&&A?$d(C,A)!==-1:!1}function Qh(C,A){var B=null,X=null;return It(C)?B=C:X=C,function(){var se=arguments;if(B&&(X=B()),X)return X[A][ou](X,se)}}function ih(C,A,B,X,se){C&&A&&B&&(se!==!1||tt(C[A]))&&(C[A]=Qh(B,X))}function fd(C,A,B,X){return C&&A&&mr(C)&&Lt(B)&&oi(B,function(se){fr(se)&&ih(C,se,A,se,X)}),C}function cu(C){return C&&ln&&(C=c(ln({},C))),C}var ig="location",E_="console",Zh="JSON",ep="crypto",x_="msCrypto",R_="ReactNative",O_="msie",ib="trident/",Jp="XMLHttpRequest",gv=null,I_=null,k_=!1,Xp=null,tp=null;function ob(C,A){var B=!1;if(C){try{if(B=A in C,!B){var X=C[a];X&&(B=A in X)}}catch{}if(!B)try{var se=new C;B=!tt(se[A])}catch{}}return B}function A_(C){if(C&&k_){var A=Li("__mockLocation");if(A)return A}return typeof location===o&&location?location:Li(ig)}function rp(){return typeof console!==s?console:Li(E_)}function vv(){return!!(typeof JSON===o&&JSON||Li(Zh)!==null)}function hd(){return vv()?JSON||Li(Zh):null}function Gi(){return Li(ep)}function Qp(){return Li(x_)}function oo(){var C=fo();return C&&C.product?C.product===R_:!1}function M_(){var C=fo();if(C&&(C[ud]!==I_||gv===null)){I_=C[ud];var A=(I_||Ie)[Ku]();gv=va(A,O_)||va(A,ib)}return gv}function _v(C){return(tp===null||C===!1)&&(tp=Ko()&&!!fo().sendBeacon),tp}function pd(C){var A=!1;try{A=!!Li("fetch");var B=Li("Request");A&&C&&B&&(A=ob(B,"keepalive"))}catch{}return A}function np(){return Xp===null&&(Xp=typeof XDomainRequest!==s,Xp&&Uc()&&(Xp=Xp&&!ob(Li(Jp),"withCredentials"))),Xp}function Uc(){var C=!1;try{var A=Li(Jp);C=!!A}catch{}return C}var md=4294967296,gd=4294967295,Cs=123456789,di=987654321,uu=!1,Jo=Cs,vd=di;function Zp(C){C<0&&(C>>>=0),Jo=Cs+C&gd,vd=di-C&gd,uu=!0}function ip(){try{var C=no()&2147483647;Zp((Math.random()*md^C)+C)}catch{}}function op(C){var A=0,B=Gi()||Qp();return B&&B.getRandomValues&&(A=B.getRandomValues(new Uint32Array(1))[0]&gd),A===0&&M_()&&(uu||ip(),A=ef()&gd),A===0&&(A=Math.floor(md*Math.random()|0)),C||(A>>>=0),A}function ef(C){vd=36969*(vd&65535)+(vd>>16)&gd,Jo=18e3*(Jo&65535)+(Jo>>16)&gd;var A=(vd<<16)+(Jo&65535)>>>0&gd|0;return C||(A>>>=0),A}function L_(C){C===void 0&&(C=22);for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=op()>>>0,X=0,se=Ie;se[qo]<C;)X++,se+=A.charAt(B&63),B>>>=6,X===5&&(B=(op()<<2&4294967295|B&3)>>>0,X=0);return se}var em="3.0.5",tm="."+L_(6),_a=0;function _d(C){return C[fc]===1||C[fc]===9||!+C[fc]}function hc(C,A){var B=A[C.id];if(!B){B={};try{_d(A)&&Ue(A,C.id,{e:!1,v:B})}catch{}}return B}function lu(C,A){return A===void 0&&(A=!1),Yp(C+_a+++(A?"."+em:Ie)+tm)}function rm(C){var A={id:lu("_aiData-"+(C||Ie)+"."+em),accept:function(B){return _d(B)},get:function(B,X,se,we){var Se=B[A.id];return Se?Se[Yp(X)]:(we&&(Se=hc(A,B),Se[Yp(X)]=se),se)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return A}function Qu(C){return C&&mr(C)&&(C.isVal||C.fb||un(C,"v")||un(C,"mrg")||un(C,"ref")||C.set)}function nm(C,A,B){var X,se=B.dfVal||Hr;if(A&&B.fb){var we=B.fb;Lt(we)||(we=[we]);for(var Se=0;Se<we[qo];Se++){var Xe=we[Se],lt=A[Xe];if(se(lt)?X=lt:C&&(lt=C.cfg[Xe],se(lt)&&(X=lt),C.set(C.cfg,nr(Xe),lt)),se(X))break}}return!se(X)&&se(B.v)&&(X=B.v),X}function og(C,A,B){var X=B;if(B&&Qu(B)&&(X=nm(C,A,B)),X){Qu(X)&&(X=og(C,A,X));var se;Lt(X)?(se=[],se[qo]=X[qo]):gl(X)&&(se={}),se&&($r(X,function(we,Se){Se&&Qu(Se)&&(Se=og(C,A,Se)),se[we]=Se}),X=se)}return X}function sp(C,A,B,X){var se,we,Se,Xe=X,lt,gt,zt,Pr;Qu(Xe)?(se=Xe.isVal,we=Xe.set,zt=Xe[Jd],Pr=Xe[No],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),Se=nm(C,A,Xe)):Se=X,Pr&&C[No](A,B);var wr,Mt=!0,Et=A[B];(Et||!pr(Et))&&(wr=Et,Mt=!1,se&&wr!==Se&&!se(wr)&&(wr=Se,Mt=!0),we&&(wr=we(wr,Se,A),Mt=wr===Se)),Mt?Se?wr=og(C,A,Se):wr=Se:(gl(wr)||Lt(Se))&&lt&&Se&&(gl(Se)||Lt(Se))&&$r(Se,function(jt,Pt){sp(C,wr,jt,Pt)}),C.set(A,B,wr),gt&&C.ref(A,B),zt&&C[Jd](A,B)}var Tn=Zc("[[ai_dynCfg_1]]"),yd=Zc("[[ai_blkDynCfg_1]]"),Ts=Zc("[[ai_frcDynCfg_1]]");function tf(C){if(C){var A;if(Lt(C)?(A=[],A[qo]=C[qo]):gl(C)&&(A={}),A)return $r(C,function(B,X){A[B]=tf(X)}),A}return C}function yv(C){if(C){var A=C[Tn]||C;if(A.cfg&&(A.cfg===C||A.cfg[Tn]===A))return A}return null}function $a(C){if(C&&(gl(C)||Lt(C)))try{C[yd]=!0}catch{}return C}function bd(C,A,B){var X=!1;return B&&!C[A.blkVal]&&(X=B[Ts],!X&&!B[yd]&&(X=gl(B)||Lt(B))),X}function ap(C){Ei("InvalidAccess:"+C)}var bv=["push","pop","shift","unshift","splice"],Zu=function(C,A,B,X){C&&C[Io](3,108,"".concat(B," [").concat(A,"] failed - ")+Ne(X))};function sg(C,A,B){Lt(A)&&oi(bv,function(X){var se=A[X];A[X]=function(){for(var we=[],Se=0;Se<arguments.length;Se++)we[Se]=arguments[Se];var Xe=se[ou](this,we);return rf(C,A,B,"Patching"),Xe}})}function im(C,A){var B=Un(C,A);return B&&B.get}function wv(C,A,B,X){var se={n:B,h:[],trk:function(gt){gt&&gt.fn&&(ha(se.h,gt)===-1&&se.h[Ys](gt),C.trk(gt,se))},clr:function(gt){var zt=ha(se.h,gt);zt!==-1&&se.h[Ss](zt,1)}},we=!0,Se=!1;function Xe(){we&&(Se=Se||bd(Xe,C,X),X&&!X[Tn]&&Se&&(X=rf(C,X,B,"Converting")),we=!1);var gt=C.act;return gt&&se.trk(gt),X}Xe[C.prop]={chng:function(){C.add(se)}};function lt(gt){if(X!==gt){Xe[C.ro]&&!C.upd&&ap("["+B+"] is read-only:"+Ne(A)),we&&(Se=Se||bd(Xe,C,X),we=!1);var zt=Se&&Xe[C.rf];if(Se)if(zt){$r(X,function(wr){X[wr]=gt?gt[wr]:pe});try{$r(gt,function(wr,Mt){ag(C,X,wr,Mt)}),gt=X}catch(wr){Zu((C.hdlr||{})[ia],B,"Assigning",wr),Se=!1}}else X&&X[Tn]&&$r(X,function(wr){var Mt=im(X,wr);if(Mt){var Et=Mt[C.prop];Et&&Et.chng()}});if(gt!==X){var Pr=gt&&bd(Xe,C,gt);!zt&&Pr&&(gt=rf(C,gt,B,"Converting")),X=gt,Se=Pr}C.add(se)}}Ue(A,se.n,{g:Xe,s:lt})}function ag(C,A,B,X){if(A){var se=im(A,B),we=se&&!!se[C.prop];we?A[B]=X:wv(C,A,B,X)}return A}function wd(C,A,B,X){if(A){var se=im(A,B),we=se&&!!se[C.prop],Se=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!we){if(lt)try{$a(A)}catch(gt){Zu((C.hdlr||{})[ia],B,"Blocking",gt)}try{ag(C,A,B,A[B]),se=im(A,B)}catch(gt){Zu((C.hdlr||{})[ia],B,"State",gt)}}Se&&(se[C.rf]=Se),Xe&&(se[C.ro]=Xe),lt&&(se[C.blkVal]=!0)}return A}function rf(C,A,B,X){try{$r(A,function(se,we){ag(C,A,se,we)}),A[Tn]||(U(A,Tn,{get:function(){return C[wl]}}),sg(C,A,B))}catch(se){Zu((C.hdlr||{})[ia],B,X,se)}return A}var om="[[ai_",cp="]]";function cg(C){var A,B=$s(om+"get"+C.uid+cp),X=$s(om+"ro"+C.uid+cp),se=$s(om+"rf"+C.uid+cp),we=$s(om+"blkVal"+C.uid+cp),Se=$s(om+"dtl"+C.uid+cp),Xe=null,lt=null,gt;function zt(Et,jt){var Pt=gt.act;try{gt.act=Et,Et&&Et[Se]&&(oi(Et[Se],function(ir){ir.clr(Et)}),Et[Se]=[]),jt({cfg:C.cfg,set:C.set.bind(C),setDf:C[bl].bind(C),ref:C.ref.bind(C),rdOnly:C[Jd].bind(C)})}catch(ir){var lr=C[ia];throw lr&&lr[Io](1,107,Ne(ir)),ir}finally{gt.act=Pt||null}}function Pr(){if(Xe){var Et=Xe;Xe=null,lt&&lt[mv](),lt=null;var jt=[];if(oi(Et,function(Pt){if(Pt&&(Pt[Se]&&(oi(Pt[Se],function(lr){lr.clr(Pt)}),Pt[Se]=null),Pt.fn))try{zt(Pt,Pt.fn)}catch(lr){jt[Ys](lr)}}),Xe)try{Pr()}catch(Pt){jt[Ys](Pt)}jt[qo]>0&&Cl("Watcher error(s): ",jt)}}function wr(Et){if(Et&&Et.h[qo]>0){Xe||(Xe=[]),lt||(lt=Vu(function(){lt=null,Pr()},0));for(var jt=0;jt<Et.h[qo];jt++){var Pt=Et.h[jt];Pt&&ha(Xe,Pt)===-1&&Xe[Ys](Pt)}}}function Mt(Et,jt){if(Et){var Pt=Et[Se]=Et[Se]||[];ha(Pt,jt)===-1&&Pt[Ys](jt)}}return gt=(A={prop:B,ro:X,rf:se},A[No]=we,A[wl]=C,A.add=wr,A[Du]=Pr,A.use=zt,A.trk=Mt,A),gt}function Hc(C,A){var B={fn:A,rm:function(){B.fn=null,C=null,A=null}};return C.use(B,A),B}function Va(C,A,B){var X,se=yv(A);if(se)return se;var we=lu("dyncfg",!0),Se=A&&B!==!1?A:tf(A),Xe;function lt(){Xe[Du]()}function gt(lr,ir,_r){try{lr=ag(Xe,lr,ir,_r)}catch(dn){Zu(C,ir,"Setting value",dn)}return lr[ir]}function zt(lr){return Hc(Xe,lr)}function Pr(lr,ir){Xe.use(null,function(_r){var dn=Xe.upd;try{tt(ir)||(Xe.upd=ir),lr(_r)}finally{Xe.upd=dn}})}function wr(lr,ir){var _r;return wd(Xe,lr,ir,(_r={},_r[0]=!0,_r))[ir]}function Mt(lr,ir){var _r;return wd(Xe,lr,ir,(_r={},_r[1]=!0,_r))[ir]}function Et(lr,ir){var _r;return wd(Xe,lr,ir,(_r={},_r[2]=!0,_r))[ir]}function jt(lr,ir){return ir&&$r(ir,function(_r,dn){sp(Pt,lr,_r,dn)}),lr}var Pt=(X={uid:null,cfg:Se},X[ia]=C,X[Du]=lt,X.set=gt,X[bl]=jt,X[Qd]=zt,X.ref=wr,X[Jd]=Mt,X[No]=Et,X._block=Pr,X);return Ue(Pt,"uid",{c:!1,e:!1,w:!1,v:we}),Xe=cg(Pt),rf(Xe,Se,"config","Creating"),Pt}function nf(C,A){C?(C[Xd](A),C[Io](2,108,A)):ap(A)}function Eu(C,A,B,X){var se=Va(B,C||{},X);return A&&se[bl](se.cfg,A),se}function du(C,A,B){var X=C[Tn]||C;return X.cfg&&(X.cfg===C||X.cfg[Tn]===X)?X[Qd](A):(nf(B,Bn+Ne(C)),Eu(C,null,B)[Qd](A))}var oh=null;function Sd(){var C=Li("Microsoft");return C&&(oh=C.ApplicationInsights),oh}function ug(C){var A=oh;return!A&&C.disableDbgExt!==!0&&(A=oh||Sd()),A?A.ChromeDbgExt:null}var up,lp="warnToConsole",sh="AI (Internal): ",Cd="AI: ",sm="AITR_",dp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},am=(up={},up[0]=null,up[1]="errorToConsole",up[2]=lp,up[3]="debugToConsole",up);function of(C){return C?'"'+C[Fo](/\"/g,Ie)+'"':Ie}function ah(C,A){var B=rp();if(B){var X="log";B[C]&&(X=C),It(B[X])&&B[X](A)}}var cm=function(){function C(A,B,X,se){X===void 0&&(X=!1);var we=this;we[dc]=A,we[Js]=(X?Cd:sh)+A;var Se=Ie;vv()&&(Se=hd().stringify(se));var Xe=(B?" message:"+of(B):Ie)+(se?" props:"+of(Se):Ie);we[Js]+=Xe}return C.dataType="MessageData",C}();function sb(C,A){return(C||{})[ia]||new Ga(A)}var Ga=function(){function C(A){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},se,we,Se,Xe,lt;Ks(C,this,function(gt){lt=Pr(A||{}),gt.consoleLoggingLevel=function(){return se},gt[Io]=function(Et,jt,Pt,lr,ir){ir===void 0&&(ir=!1);var _r=new cm(jt,Pt,ir,lr);if(Xe)throw Ne(_r);var dn=am[Et]||lp;if(tt(_r[Js]))Mt("throw"+(Et===1?"Critical":"Warning"),_r);else{if(ir){var hi=+_r[dc];!X[hi]&&se>=Et&&(gt[dn](_r[Js]),X[hi]=!0)}else se>=Et&&gt[dn](_r[Js]);zt(Et,_r)}},gt.debugToConsole=function(Et){ah("debug",Et),Mt("warning",Et)},gt[Xd]=function(Et){ah("warn",Et),Mt("warning",Et)},gt.errorToConsole=function(Et){ah("error",Et),Mt("error",Et)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[Ha]=zt,gt[Ni]=function(Et){lt&&lt.rm(),lt=null};function zt(Et,jt){if(!wr()){var Pt=!0,lr=sm+jt[dc];if(X[lr]?Pt=!1:X[lr]=!0,Pt&&(Et<=we&&(gt.queue[Ys](jt),B++,Mt(Et===1?"error":"warn",jt)),B===Se)){var ir="Internal events throttle limit per PageView reached for this app.",_r=new cm(23,ir,!1);gt.queue[Ys](_r),Et===1?gt.errorToConsole(ir):gt[Xd](ir)}}}function Pr(Et){return du(Eu(Et,dp,gt).cfg,function(jt){var Pt=jt.cfg;se=Pt[Yo],we=Pt.loggingLevelTelemetry,Se=Pt.maxMessageLimit,Xe=Pt.enableDebug})}function wr(){return B>=Se}function Mt(Et,jt){var Pt=ug(A||{});Pt&&Pt[Bi]&&Pt[Bi](Et,jt)}})}return C.__ieDyn=1,C}();function Sv(C){return C||new Ga}function Td(C,A,B,X,se,we){we===void 0&&(we=!1),Sv(C)[Io](A,B,X,se,we)}function lg(C,A){Sv(C)[Xd](A)}var Dd="ctx",sf="ParentContextKey",um="ChildrenContextKey",dg=function(){function C(A,B,X){var se=this;if(se.start=no(),se[cd]=A,se[Ju]=X,se[su]=function(){return!1},It(B)){var we;Ue(se,"payload",{g:function(){return!we&&It(B)&&(we=B(),B=null),we}})}se[Ln]=function(Se){return Se?Se===C[sf]||Se===C[um]?se[Se]:(se[Dd]||{})[Se]:null},se[jc]=function(Se,Xe){if(Se)if(Se===C[sf])se[Se]||(se[su]=function(){return!0}),se[Se]=Xe;else if(Se===C[um])se[Se]=Xe;else{var lt=se[Dd]=se[Dd]||{};lt[Se]=Xe}},se[Co]=function(){var Se=0,Xe=se[Ln](C[um]);if(Lt(Xe))for(var lt=0;lt<Xe[qo];lt++){var gt=Xe[lt];gt&&(Se+=gt[Jh])}se[Jh]=no()-se.start,se.exTime=se[Jh]-Se,se[Co]=function(){}}}return C.ParentContextKey="parent",C.ChildrenContextKey="childEvts",C}(),pc="CoreUtils.doPerf";function el(C,A,B,X,se){if(C){var we=C;if(we[Fr]&&(we=we[Fr]()),we){var Se=void 0,Xe=we[Ln](pc);try{if(Se=we.create(A(),X,se),Se){if(Xe&&Se[jc]&&(Se[jc](dg[sf],Xe),Xe[Ln]&&Xe[jc])){var lt=Xe[Ln](dg[um]);lt||(lt=[],Xe[jc](dg[um],lt)),lt[Ys](Se)}return we[jc](pc,Se),B(Se)}}catch(gt){Se&&Se[jc]&&Se[jc]("exception",gt)}finally{Se&&we.fire(Se),we[jc](pc,Xe)}}}return B()}var fg=rm("plugin");function Cv(C){return fg.get(C,"state",{},!0)}var Pd="TelemetryPluginChain",fp="_hasRun",ch="_getTelCtx",ab=0;function Zw(C,A,B){for(;C;){if(C[nh]()===B)return C;C=C[ma]()}return hg([B],A.config||{},A)}function Ed(C,A,B,X){var se=null,we=[];A||(A=Eu({},null,B[ia])),X!==null&&(se=X?Zw(C,B,X):C);var Se={_next:lt,ctx:{core:function(){return B},diagLog:function(){return sb(B,A.cfg)},getCfg:function(){return A.cfg},getExtCfg:zt,getConfig:Pr,hasNext:function(){return!!se},getNext:function(){return se},setNext:function(Mt){se=Mt},iterate:wr,onComplete:Xe}};function Xe(Mt,Et){for(var jt=[],Pt=2;Pt<arguments.length;Pt++)jt[Pt-2]=arguments[Pt];Mt&&we[Ys]({func:Mt,self:tt(Et)?Se.ctx:Et,args:jt})}function lt(){var Mt=se;if(se=Mt?Mt[ma]():null,!Mt){var Et=we;Et&&Et[qo]>0&&(oi(Et,function(jt){try{jt.func.call(jt.self,jt.args)}catch(Pt){Td(B[ia],2,73,"Unexpected Exception during onComplete - "+Ne(Pt))}}),we=[])}return Mt}function gt(Mt,Et){var jt=null,Pt=A.cfg;if(Pt&&Mt){var lr=Pt[Ht];!lr&&Et&&(lr={}),Pt[Ht]=lr,lr=A.ref(Pt,Ht),lr&&(jt=lr[Mt],!jt&&Et&&(jt={}),lr[Mt]=jt,jt=A.ref(lr,Mt))}return jt}function zt(Mt,Et){var jt=gt(Mt,!0);return Et&&$r(Et,function(Pt,lr){if(pr(jt[Pt])){var ir=A.cfg[Pt];(ir||!pr(ir))&&(jt[Pt]=ir)}sp(A,jt,Pt,lr)}),A[bl](jt,Et)}function Pr(Mt,Et,jt){jt===void 0&&(jt=!1);var Pt,lr=gt(Mt,!1),ir=A.cfg;return lr&&(lr[Et]||!pr(lr[Et]))?Pt=lr[Et]:(ir[Et]||!pr(ir[Et]))&&(Pt=ir[Et]),Pt||!pr(Pt)?Pt:jt}function wr(Mt){for(var Et;Et=Se._next();){var jt=Et[nh]();jt&&Mt(jt)}}return Se}function Tv(C,A,B,X){var se=Eu(A),we=Ed(C,se,B,X),Se=we.ctx;function Xe(gt){var zt=we._next();return zt&&zt[Sr](gt,Se),!zt}function lt(gt,zt){return gt===void 0&&(gt=null),Lt(gt)&&(gt=hg(gt,se.cfg,B,zt)),Tv(gt||Se[ma](),se.cfg,B,zt)}return Se[Ua]=Xe,Se[Pu]=lt,Se}function Dv(C,A,B){var X=Eu(A.config),se=Ed(C,X,A,B),we=se.ctx;function Se(lt){var gt=se._next();return gt&&gt[Ni](we,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Lt(lt)&&(lt=hg(lt,X.cfg,A,gt)),Dv(lt||we[ma](),A,gt)}return we[Ua]=Se,we[Pu]=Xe,we}function Pv(C,A,B){var X=Eu(A.config),se=Ed(C,X,A,B),we=se.ctx;function Se(lt){return we.iterate(function(gt){It(gt[bi])&&gt[bi](we,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Lt(lt)&&(lt=hg(lt,X.cfg,A,gt)),Pv(lt||we[ma](),A,gt)}return we[Ua]=Se,we[Pu]=Xe,we}function hg(C,A,B,X){var se=null,we=!X;if(Lt(C)&&C[qo]>0){var Se=null;oi(C,function(Xe){if(!we&&X===Xe&&(we=!0),we&&Xe&&It(Xe[Sr])){var lt=HC(Xe,A,B);se||(se=lt),Se&&Se._setNext(lt),Se=lt}})}return X&&!se?hg([X],A,B):se}function HC(C,A,B){var X=null,se=It(C[Sr]),we=It(C[Hn]),Se;C?Se=C[Fc]+"-"+C[on]+"-"+ab++:Se="Unknown-0-"+ab++;var Xe={getPlugin:function(){return C},getNext:function(){return X},processTelemetry:zt,unload:Pr,update:wr,_id:Se,_setNext:function(Mt){X=Mt}};function lt(){var Mt;return C&&It(C[ch])&&(Mt=C[ch]()),Mt||(Mt=Tv(Xe,A,B)),Mt}function gt(Mt,Et,jt,Pt,lr){var ir=!1,_r=C?C[Fc]:Pd,dn=Mt[fp];return dn||(dn=Mt[fp]={}),Mt.setNext(X),C&&el(Mt[Qe](),function(){return _r+":"+jt},function(){dn[Se]=!0;try{var hi=X?X._id:Ie;hi&&(dn[hi]=!1),ir=Et(Mt)}catch(so){var ai=X?dn[X._id]:!0;ai&&(ir=!0),(!X||!ai)&&Td(Mt[Bi](),1,73,"Plugin ["+_r+"] failed during "+jt+" - "+Ne(so)+", run flags: "+Ne(dn))}},Pt,lr),ir}function zt(Mt,Et){Et=Et||lt();function jt(Pt){if(!C||!se)return!1;var lr=Cv(C);return lr[lc]||lr[ht]?!1:(we&&C[Hn](X),C[Sr](Mt,Pt),!0)}gt(Et,jt,"processTelemetry",function(){return{item:Mt}},!Mt.sync)||Et[Ua](Mt)}function Pr(Mt,Et){function jt(){var Pt=!1;if(C){var lr=Cv(C),ir=C[Qe]||lr[Qe];C&&(!ir||ir===Mt.core())&&!lr[lc]&&(lr[Qe]=null,lr[lc]=!0,lr[Yu]=!1,C[lc]&&C[lc](Mt,Et)===!0&&(Pt=!0))}return Pt}gt(Mt,jt,"unload",function(){},Et[Ju])||Mt[Ua](Et)}function wr(Mt,Et){function jt(){var Pt=!1;if(C){var lr=Cv(C),ir=C[Qe]||lr[Qe];C&&(!ir||ir===Mt.core())&&!lr[lc]&&C[bi]&&C[bi](Mt,Et)===!0&&(Pt=!0)}return Pt}gt(Mt,jt,"update",function(){},!1)||Mt[Ua](Et)}return Q(Xe)}function pg(){var C=[];function A(X){X&&C[Ys](X)}function B(X,se){oi(C,function(we){try{we(X,se)}catch(Se){Td(X[Bi](),2,73,"Unexpected error calling unload handler - "+Ne(Se))}}),C=[]}return{add:A,run:B}}function BC(){var C=[];function A(X){var se=C;C=[],oi(se,function(we){try{(we.rm||we.remove).call(we)}catch(Se){Td(X,2,73,"Unloading:"+Ne(Se))}})}function B(X){X&&eu(C,X)}return{run:A,add:B}}var Pl,uh="getPlugin",lm=(Pl={},Pl[Ht]={isVal:Xh,v:{}},Pl),N_=function(){function C(){var A=this,B,X,se,we,Se;gt(),Ks(C,A,function(zt){zt[is]=function(Pr,wr,Mt,Et){lt(Pr,wr,Et),B=!0},zt[lc]=function(Pr,wr){var Mt,Et=zt[Qe];if(!Et||Pr&&Et!==Pr[Qe]())return;var jt,Pt=!1,lr=Pr||Dv(null,Et,se&&se[uh]?se[uh]():se),ir=wr||(Mt={reason:0},Mt[Ju]=!1,Mt);function _r(){Pt||(Pt=!0,we.run(lr,wr),Se.run(lr[Bi]()),jt===!0&&lr[Ua](ir),gt())}return!zt[Zd]||zt[Zd](lr,ir,_r)!==!0?_r():jt=!0,jt},zt[bi]=function(Pr,wr){var Mt=zt[Qe];if(!Mt||Pr&&Mt!==Pr[Qe]())return;var Et,jt=!1,Pt=Pr||Pv(null,Mt,se&&se[uh]?se[uh]():se),lr=wr||{reason:0};function ir(){jt||(jt=!0,lt(Pt.getCfg(),Pt.core(),Pt[ma]()))}return!zt._doUpdate||zt._doUpdate(Pt,lr,ir)!==!0?ir():Et=!0,Et},ih(zt,"_addUnloadCb",function(){return we},"add"),ih(zt,"_addHook",function(){return Se},"add"),Ue(zt,"_unloadHooks",{g:function(){return Se}})}),A[Bi]=function(zt){return Xe(zt)[Bi]()},A[Yu]=function(){return B},A.setInitialized=function(zt){B=zt},A[Hn]=function(zt){se=zt},A[Ua]=function(zt,Pr){Pr?Pr[Ua](zt):se&&It(se[Sr])&&se[Sr](zt,null)},A._getTelCtx=Xe;function Xe(zt){zt===void 0&&(zt=null);var Pr=zt;if(!Pr){var wr=X||Tv(null,{},A[Qe]);se&&se[uh]?Pr=wr[Pu](null,se[uh]):Pr=wr[Pu](null,se)}return Pr}function lt(zt,Pr,wr){Eu(zt,lm,sb(Pr)),!wr&&Pr&&(wr=Pr[Kp]()[ma]());var Mt=se;se&&se[uh]&&(Mt=se[uh]()),A[Qe]=Pr,X=Tv(wr,zt,Pr,Mt)}function gt(){B=!1,A[Qe]=null,X=null,se=null,Se=BC(),we=pg()}}return C.__ieDyn=1,C}(),dm="on",El="attachEvent",tl="addEventListener",af="detachEvent",cf="removeEventListener",Ev="events",hp="visibilitychange",ya="pagehide",lh="pageshow",dh="unload",q_="beforeunload",eS=lu("aiEvtPageHide"),fh=lu("aiEvtPageShow"),tS=/\.[\.]+/g,fm=/[\.]+$/,hh=1,xl=rm("events"),mg=/^([^.]*)(?:\.(.+)|)/;function pp(C){return C&&C[Fo]?C[Fo](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ie):C}function hm(C,A){var B;if(A){var X=Ie;Lt(A)?(X=Ie,oi(A,function(we){we=pp(we),we&&(we[0]!=="."&&(we="."+we),X+=we)})):X=pp(A),X&&(X[0]!=="."&&(X="."+X),C=(C||Ie)+X)}var se=mg.exec(C||Ie)||[];return B={},B[Xs]=se[1],B.ns=(se[2]||Ie).replace(tS,".").replace(fm,Ie)[Sl](".").sort().join("."),B}function gg(C,A,B){B===void 0&&(B=!0);var X=xl.get(C,Ev,{},B),se=X[A];return se||(se=X[A]=[]),se}function cb(C,A,B,X){C&&A&&A[Xs]&&(C[cf]?C[cf](A[Xs],B,X):C[af]&&C[af](dm+A[Xs],B))}function WC(C,A,B,X){var se=!1;return C&&A&&A[Xs]&&B&&(C[tl]?(C[tl](A[Xs],B,X),se=!0):C[El]&&(C[El](dm+A[Xs],B),se=!0)),se}function pm(C,A,B,X){for(var se=A[qo];se--;){var we=A[se];we&&(!B.ns||B.ns===we.evtName.ns)&&(!X||X(we))&&(cb(C,we.evtName,we[io],we.capture),A[Ss](se,1))}}function rS(C,A,B){if(A[Xs])pm(C,gg(C,A[Xs]),A,B);else{var X=xl.get(C,Ev,{});$r(X,function(se,we){pm(C,we,A,B)}),Re(X)[qo]===0&&xl.kill(C,Ev)}}function Ka(C,A){var B;return A?(Lt(A)?B=[C].concat(A):B=[C,A],B=hm("xx",B).ns[Sl](".")):B=C,B}function mm(C,A,B,X,se){var we;se===void 0&&(se=!1);var Se=!1;if(C)try{var Xe=hm(A,X);if(Se=WC(C,Xe,B,se),Se&&xl.accept(C)){var lt=(we={guid:hh++,evtName:Xe},we[io]=B,we.capture=se,we);gg(C,Xe.type)[Ys](lt)}}catch{}return Se}function gm(C,A,B,X,se){if(se===void 0&&(se=!1),C)try{var we=hm(A,X),Se=!1;rS(C,we,function(Xe){return we.ns&&!B||Xe[io]===B?(Se=!0,!0):!1}),Se||cb(C,we,B,se)}catch{}}function nS(C,A,B){var X=!1,se=Qc();se&&(X=mm(se,C,A,B),X=mm(se.body,C,A,B)||X);var we=Hi();return we&&(X=mm(we,C,A,B)||X),X}function $C(C,A,B){var X=Qc();X&&(gm(X,C,A,B),gm(X.body,C,A,B));var se=Hi();se&&gm(se,C,A,B)}function Rl(C,A,B,X){var se=!1;return A&&C&&C[qo]>0&&oi(C,function(we){we&&(!B||ha(B,we)===-1)&&(se=nS(we,A,X)||se)}),se}function Ya(C,A,B,X){var se=!1;return A&&C&&Lt(C)&&(se=Rl(C,A,B,X),!se&&B&&B[qo]>0&&(se=Rl(C,A,null,X))),se}function Ol(C,A,B){C&&Lt(C)&&oi(C,function(X){X&&$C(X,A,B)})}function vm(C,A,B){return Ya([q_,dh,ya],C,A,B)}function vg(C,A){Ol([q_,dh,ya],C,A)}function F_(C,A,B){function X(Se){var Xe=Hi();C&&Xe&&Xe.visibilityState==="hidden"&&C(Se)}var se=Ka(eS,B),we=Rl([ya],C,A,se);return(!A||ha(A,hp)===-1)&&(we=Rl([hp],X,A,se)||we),!we&&A&&(we=F_(C,null,B)),we}function vn(C,A){var B=Ka(eS,A);Ol([ya],C,B),Ol([hp],null,B)}function xv(C,A,B){function X(Se){var Xe=Hi();C&&Xe&&Xe.visibilityState==="visible"&&C(Se)}var se=Ka(fh,B),we=Rl([lh],C,A,se);return we=Rl([hp],X,A,se)||we,!we&&A&&(we=xv(C,null,B)),we}function mp(C,A){var B=Ka(fh,A);Ol([lh],C,B),Ol([hp],null,B)}var uf="",_m="timings",ba="value",j_="kind",_g="length",z_="processTelemetryStart",Il,ym="4.0.4",ph="1DS-Web-JS-"+ym,yg=u.hasOwnProperty,bm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",fu="withCredentials",xd="timeout",ub=(Il={},Il[0]=0,Il[2]=6,Il[1]=1,Il[3]=7,Il[4098]=6,Il[4097]=1,Il[4099]=7,Il);wo(),Yn();function kl(C){return!(C===uf||pr(C))}function Rv(C){if(C){var A=$d(C,"-");if(A>-1)return Cr(C,A)}return uf}function Al(C,A,B){if(!A&&!kl(A)||typeof C!="string")return null;var X=typeof A;if(X==="string"||X==="number"||X==="boolean"||Lt(A))A={value:A};else if(X==="object"&&!yg.call(A,"value"))A={value:B?JSON.stringify(A):A};else if(pr(A[ba])||A[ba]===uf||!fr(A[ba])&&!nn(A[ba])&&!cn(A[ba])&&!Lt(A[ba]))return null;if(Lt(A[ba])&&!U_(A[ba]))return null;if(!pr(A[j_])){if(Lt(A[ba])||!db(A[j_]))return null;A[ba]=A[ba].toString()}return A}function lb(C,A,B){var X=-1;if(!tt(C))if(A>0&&(A===32?X=8192:A<=13&&(X=A<<5)),fb(B))X===-1&&(X=0),X|=B;else{var se=ub[wm(C)]||-1;X!==-1&&se!==-1?X|=se:se===6&&(X=se)}return X}function Ov(C,A,B,X,se){var we={},Se=!1,Xe=0,lt=arguments[_g],gt=arguments;for(cn(gt[0])&&(Se=gt[0],Xe++);Xe<lt;Xe++){var C=gt[Xe];$r(C,function(Pr,wr){Se&&wr&&mr(wr)?Lt(wr)?(we[Pr]=we[Pr]||[],oi(wr,function(Mt,Et){Mt&&mr(Mt)?we[Pr][Et]=Ov(!0,we[Pr][Et],Mt):we[Pr][Et]=Mt})):we[Pr]=Ov(!0,we[Pr],wr):we[Pr]=wr})}return we}var Ml=nd;function db(C){return C===0||C>0&&C<=13||C===32}function fb(C){return C>=0&&C<=9}function U_(C){return C[_g]>0}function lf(C,A){var B=C;B[_m]=B[_m]||{},B[_m][z_]=B[_m][z_]||{},B[_m][z_][A]=Ml()}function wm(C){var A=0;if(C!=null){var B=typeof C;B==="string"?A=1:B==="number"?A=2:B==="boolean"?A=3:B===o&&(A=4,Lt(C)?(A=4096,C[_g]>0&&(A|=wm(C[0]))):yg.call(C,"value")&&(A=8192|wm(C[ba])))}return A}function hb(){return!!Li("chrome")}function df(C,A,B,X,se,we){X===void 0&&(X=!1),se===void 0&&(se=!1);function Se(lt,gt,zt){try{lt[gt]=zt}catch{}}var Xe=new XMLHttpRequest;return X&&Se(Xe,bm,X),B&&Se(Xe,fu,B),Xe.open(C,A,!se),B&&Se(Xe,fu,B),!se&&we&&Se(Xe,xd,we),Xe}function Ja(C){return C>0}var jo="",rl="POST",bg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ll="drop",ff="send",hu="requeue",wg="rspFail",Iv="oth",pb="no-cache, no-store",H_="application/x-json-stream",gp="cache-control",Sg="content-type",iS="kill-tokens",mb="kill-duration",gb="kill-duration-seconds",oS="time-delta-millis",T="client-version",I="client-id",j="time-delta-to-apply-millis",Y="upload-time",ve="apikey",We="AuthMsaDeviceTicket",Ze="AuthXToken",st="NoResponseBody",Dt="msfpc",Yt="trace",kr="user",Fn="allowRequestSending",Rn="firstRequestSent",Xn="shouldAddClockSkewHeaders",Xr="getClockSkewHeaderValue",Qn="setClockSkew",br="length",wi="concat",Wn="iKey",Dn="count",Xo="events",Xa="push",wa="split",Cg="splice",Sm="toLowerCase",kv="hdrs",Nl="useHdrs",mh="initialize",Av="setTimeoutOverride",Mv="clearTimeoutOverride",sr="payloadPreprocessor",an="overrideEndpointUrl",fi="avoidOptions",Qo="disableEventTimings",ps="stringifyObjects",ms="enableCompoundKey",Ds="disableXhrSync",Cm="disableFetchKeepAlive",vp="useSendBeacon",_p="alwaysUseXhrOverride",vb="unloadTransports",Tm="urlString",gh="timeout",Lv="ontimeout",pu="data",Dm="_sendReason",vh="headers",Tg="getResponseHeader",YT="getAllResponseHeaders",Dg="_thePayload",xu="batches",nl="sendType",Nv="canSendRequest",hf="sendQueuedRequests",VC="isCompletelyIdle",sS="setUnloading",JT="isTenantKilled",XT="sendSynchronousBatch",aS="_transport",pf="getWParam",GC="isBeacon",B_="timings",_b="isTeardown",yb="isSync",bb="sendPOST",cS="setKillSwitchTenants",W_="_backOffTransmission",mf="identifier",$_="disableOptimizeObj",wb="ignoreMc1Ms0CookieProcessing",Xi="eventsLimitInMem",uS="autoFlushEventsLimit",Pg="disableAutoBatchFlushLimit",qv="overrideInstrumentationKey",QT="disableTelemetry",gf="sendAttempt",ql="latency",lS="baseData",_h="sync";function Eg(C){var A=(C.ext||{}).intweb;return A&&kl(A[Dt])?A[Dt]:null}function yp(C){for(var A=null,B=0;A===null&&B<C[br];B++)A=Eg(C[B]);return A}var il=function(){function C(A,B){var X=B?[][wi](B):[],se=this,we=yp(X);se[Wn]=function(){return A},se.Msfpc=function(){return we||jo},se[Dn]=function(){return X[br]},se[Xo]=function(){return X},se.addEvent=function(Se){return Se?(X[Xa](Se),we||(we=Eg(Se)),!0):!1},se[wa]=function(Se,Xe){var lt;if(Se<X[br]){var gt=X[br]-Se;pr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[Cg](Se,gt),we=yp(X)}return new C(A,lt)}}return C.create=function(A,B){return new C(A,B)},C}(),yh=function(){function C(){var A=!0,B=!0,X=!0,se="use-collector-delta",we=!1;Ks(C,this,function(Se){Se[Fn]=function(){return A},Se[Rn]=function(){X&&(X=!1,we||(A=!1))},Se[Xn]=function(){return B},Se[Xr]=function(){return se},Se[Qn]=function(Xe){we||(Xe?(se=Xe,B=!0,we=!0):B=!1,A=!0)}})}return C.__ieDyn=1,C}(),bp=1e3,xg=function(){function C(){var A={};function B(X){var se=[];return X&&oi(X,function(we){se[Xa](tu(we))}),se}Ks(C,this,function(X){X[cS]=function(se,we){if(se&&we)try{var Se=B(se[wa](","));if(we==="this-request-only")return Se;for(var Xe=parseInt(we,10)*bp,lt=0;lt<Se[br];++lt)A[Se[lt]]=no()+Xe}catch{return[]}return[]},X[JT]=function(se){var we=A,Se=tu(se);return we[Se]!==void 0&&we[Se]>no()?!0:(delete we[Se],!1)}})}return C.__ieDyn=1,C}(),wp=.8,Sb=1.2,dS=3e3,KC=6e5;function V_(C){return!(C>=300&&C<500&&C!=408&&C!=429||C==501||C==505)}function Fv(C){var A=0,B=dS*wp,X=dS*Sb,se=Math.floor(Math.random()*(X-B))+B;return A=Math.pow(2,C)*se,Math.min(A,KC)}var Rg=20,jv=3984588,Cb=65e3,Og=2e6,G_=Math.min(Og,Cb),Tb="metadata",K_="f",ZT=/\./,Db=function(){function C(A,B,X,se){var we="data",Se="baseData",Xe="ext",lt=!!se,gt=!0,zt=B,Pr={};Ks(C,this,function(wr){wr.createPayload=function(jt,Pt,lr,ir,_r,dn){return{apiKeys:[],payloadBlob:jo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:jt,isTeardown:Pt,isSync:lr,isBeacon:ir,sendType:dn,sendReason:_r}},wr.appendPayload=function(jt,Pt,lr){var ir=jt&&Pt&&!jt.overflow;return ir&&el(A,function(){return"Serializer:appendPayload"},function(){for(var _r=Pt.events(),dn=jt.payloadBlob,hi=jt.numEvents,ai=!1,so=[],zo=[],To=jt.isBeacon,Ps=To?Cb:jv,Qa=To?G_:Og,Ki=0,mc=0;Ki<_r.length;){var gc=_r[Ki];if(gc){if(hi>=lr){jt.overflow=Pt.split(Ki);break}var Zs=wr.getEventBlob(gc);if(Zs&&Zs.length<=Qa){var ol=Zs.length,sa=dn.length;if(sa+ol>Ps){jt.overflow=Pt.split(Ki);break}dn&&(dn+=`
`),dn+=Zs,mc++,mc>Rg&&(fe(dn,0,1),mc=0),ai=!0,hi++}else Zs?so.push(gc):zo.push(gc),_r.splice(Ki,1),Ki--}Ki++}if(so.length>0&&jt.sizeExceed.push(il.create(Pt.iKey(),so)),zo.length>0&&jt.failedEvts.push(il.create(Pt.iKey(),zo)),ai){jt.batches.push(Pt),jt.payloadBlob=dn,jt.numEvents=hi;var aa=Pt.iKey();ha(jt.apiKeys,aa)===-1&&jt.apiKeys.push(aa)}},function(){return{payload:jt,theBatch:{iKey:Pt.iKey(),evts:Pt.events()},max:lr}}),ir},wr.getEventBlob=function(jt){try{return el(A,function(){return"Serializer.getEventBlob"},function(){var Pt={};Pt.name=jt.name,Pt.time=jt.time,Pt.ver=jt.ver,Pt.iKey="o:"+Rv(jt.iKey);var lr={},ir=jt[Xe];ir&&(Pt[Xe]=lr,$r(ir,function(hi,ai){var so=lr[hi]={};Et(ai,so,"ext."+hi,!0,null,null,!0)}));var _r=Pt[we]={};_r.baseType=jt.baseType;var dn=_r[Se]={};return Et(jt.baseData,dn,Se,!1,[Se],function(hi,ai,so){Sa(lr,hi,ai,so)},gt),Et(jt.data,_r,we,!1,[],function(hi,ai,so){Sa(lr,hi,ai,so)},gt),JSON.stringify(Pt)},function(){return{item:jt}})}catch{return null}};function Mt(jt,Pt){var lr=Pr[jt];return lr===void 0&&(jt.length>=7&&(lr=Br(jt,"ext.metadata")||Br(jt,"ext.web")),Pr[jt]=lr),lr}function Et(jt,Pt,lr,ir,_r,dn,hi){$r(jt,function(ai,so){var zo=null;if(so||kl(so)){var To=lr,Ps=ai,Qa=_r,Ki=Pt;if(lt&&!ir&&ZT.test(ai)){var mc=ai.split("."),gc=mc.length;if(gc>1){Qa&&(Qa=Qa.slice());for(var Zs=0;Zs<gc-1;Zs++){var ol=mc[Zs];Ki=Ki[ol]=Ki[ol]||{},To+="."+ol,Qa&&Qa.push(ol)}Ps=mc[gc-1]}}var sa=ir&&Mt(To);if(!sa&&zt&&zt.handleField(To,Ps)?zo=zt.value(To,Ps,so,X):zo=Al(Ps,so,X),zo){var aa=zo.value;if(Ki[Ps]=aa,dn&&dn(Qa,Ps,zo),hi&&typeof aa=="object"&&!Lt(aa)){var Si=Qa;Si&&(Si=Si.slice(),Si.push(Ps)),Et(so,aa,To+"."+Ps,ir,Si,dn,hi)}}}})}})}return C.__ieDyn=1,C}();function Sa(C,A,B,X){if(X&&C){var se=lb(X.value,X.kind,X.propertyType);if(se>-1){var we=C[Tb];we||(we=C[Tb]={f:{}});var Se=we[K_];if(Se||(Se=we[K_]={}),A)for(var Xe=0;Xe<A.length;Xe++){var lt=A[Xe];Se[lt]||(Se[lt]={f:{}});var gt=Se[lt][K_];gt||(gt=Se[lt][K_]={}),Se=gt}Se=Se[B]={},Lt(X.value)?Se.a={t:se}:Se.t=se}}}function Sp(C,A){return{set:function(B,X){for(var se=[],we=2;we<arguments.length;we++)se[we-2]=arguments[we];return ru([C,A],B,X,se)}}}var Ig,YC="sendAttempt",Pm="&"+st+"=true",kg="?cors=true&"+Sg[Sm]()+"="+H_,Y_=(Ig={},Ig[1]=hu,Ig[100]=hu,Ig[200]="sent",Ig[8004]=Ll,Ig[8003]=Ll,Ig),Pb={},Ag={};function Mg(C,A,B){Pb[C]=A,B!==!1&&(Ag[A]=C)}Mg(We,We,!1),Mg(T,T),Mg(I,"Client-Id"),Mg(ve,ve),Mg(j,j),Mg(Y,Y),Mg(Ze,Ze);function JC(C){try{return C.responseText}catch{}return jo}function XC(C,A){var B=!1;if(C&&A){var X=Re(C);if(X&&X[br]>0)for(var se=A[Sm](),we=0;we<X[br];we++){var Se=X[we];if(Se&&Wr(A,Se)&&Se[Sm]()===se){B=!0;break}}}return B}function J_(C,A,B,X){A&&B&&B[br]>0&&(X&&Pb[A]?(C[kv][Pb[A]]=B,C[Nl]=!0):C.url+="&"+A+"="+B)}function QC(C,A){return A&&(nn(A)?C=[A][wi](C):Lt(A)&&(C=A[wi](C))),C}function qR(C,A,B){for(var X=0;X<C[br];X++)if(C[X].name===A){C[X].value=B;return}C[Xa]({name:A,value:B})}function FR(C,A){for(var B=0;B<C[br];B++)if(C[B].name===A){C[Cg](B,1);return}}var Em=function(){function C(A,B,X,se){var we,Se=new xg,Xe=!1,lt=new yh,gt=!1,zt=0,Pr,wr,Mt,Et,jt=!0,Pt=[],lr={},ir=[],_r=null,dn=!1,hi,ai=!1,so=!1,zo,To,Ps,Qa,Ki,mc=[],gc,Zs,ol=[],sa,aa;Ks(C,this,function(Si){Cp();var Qi=!0;Si[mh]=function(Ve,At,er){sa||(Et=At,hi=At.getCookieMgr(),Pr=er,wr=Pr.diagLog(),eu(mc,du(Ve,function(dr){var tn,Zn=dr.cfg,St=dr.cfg.extensionConfig[er.identifier];aa=Sp(St[Av],St[Mv]),kl(Zn.anonCookieName)?qR(Pt,"anoncknm",Zn.anonCookieName):FR(Pt,"anoncknm"),gc=St[sr],Zs=St.payloadListener;var nt=St.httpXHROverride,Tt=St[an]?St[an]:Zn.endpointUrl;we=Tt+kg,so=tt(St[fi])?!0:!St[fi],dn=!St[Qo];var Rt=St.valueSanitizer,gr=St[ps],xr=!!Zn[ms];tt(St[ms])||(xr=!!St[ms]),zo=St.xhrTimeout,To=!!St[Ds],Ps=!!St[Cm],Ki=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(Ps=!0),gt=!oo(),_r=new Db(Et,Rt,gr,xr),pr(St[vp])||(gt=!!St[vp]);var Mr=nt,ei=St[_p]?nt:null,Uo=St[_p]?nt:null,mo=[3,2];if(!nt){jt=!1;var wh=A_();wh&&wh.protocol&&wh.protocol[Sm]()==="file:"&&(Qi=!1);var Rd=[];oo()?(Rd=[2,1],mo=[2,1,3]):Rd=[1,2,3],Rd=QC(Rd,St.transports),nt=Fl(Rd,!1),nt||lg(wr,"No available transport to send events"),Mr=Fl(Rd,!0)}ei||(mo=QC(mo,St[vb]),ei=Fl(mo,!0)),Qa=!jt&&(gt&&_v()||!Ps&&pd(!0)),Mt=(tn={},tn[0]=nt,tn[1]=Mr||Fl([1,2,3],!0),tn[2]=ei||Mr||Fl([1],!0),tn[3]=Uo||Fl([2,3],!0)||Mr||Fl([1],!0),tn)})),sa=!0)},Si.addResponseHandler=function(Ve){return ol[Xa](Ve),{rm:function(){var At=ol.indexOf(Ve);At>=0&&ol[Cg](At,1)}}};function Fl(Ve,At){for(var er=0,dr=null,tn=0;dr==null&&tn<Ve[br];)er=Ve[tn],er===1?np()?dr=X_:Uc()&&(dr=p):er===2&&pd(At)&&(!At||At&&!Ps)?dr=Tp:gt&&er===3&&_v()&&(dr=O),tn++;return dr?{_transport:er,_isSync:At,sendPOST:dr}:null}Si._getDbgPlgTargets=function(){return[Mt[0],Se,_r,Mt]};function X_(Ve,At,er){var dr=new XDomainRequest;dr.open(rl,Ve[Tm]),Ve[gh]&&(dr[gh]=Ve[gh]),dr.onload=function(){var tn=JC(dr);b(At,200,{},tn),An(tn)},dr.onerror=function(){b(At,400,{})},dr[Lv]=function(){b(At,500,{})},dr.onprogress=function(){},er?dr.send(Ve[pu]):aa.set(function(){dr.send(Ve[pu])},0)}function Cp(){var Ve;we=null,Se=new xg,Xe=!1,lt=new yh,gt=!1,zt=0,Pr=null,wr=null,Mt=null,Et=null,jt=!0,Pt=[],lr={},ir=[],_r=null,dn=!1,hi=null,ai=!1,so=!1,zo=Ve,To=Ve,Ps=Ve,Qa=Ve,Ki=Ve,mc=[],gc=Ve,Zs=Ve,ol=[],sa=!1,aa=Sp()}function Tp(Ve,At,er){var dr,tn=Ve[Tm],Zn=!1,St=!1,nt=(dr={body:Ve[pu],method:rl},dr[bg]=!0,dr);er&&(nt.keepalive=!0,Ve[Dm]===2&&(Zn=!0,Ki&&(tn+=Pm))),Qi&&(nt.credentials="include"),Ve.headers&&Re(Ve.headers)[br]>0&&(nt[vh]=Ve[vh]);var Tt=function(gr,xr,Mr){St||(St=!0,b(At,gr,xr,Mr),An(Mr))},Rt=function(){St||(St=!0,b(At,0,{}))};fetch(tn,nt).then(function(gr){var xr={},Mr=jo,ei=gr[vh];ei&&ei.forEach(function(Uo,mo){xr[mo]=Uo}),gr.body?gr.text().then(function(Uo){Mr=Uo,Tt(gr.status,xr,Mr)},Rt):Tt(gr.status,xr,"")}).catch(Rt),Zn&&!St&&(St=!0,b(At,200,{})),!St&&Ve[gh]>0&&aa.set(function(){St||(St=!0,b(At,500,{}))},Ve[gh])}function p(Ve,At,er){var dr=Ve[Tm];function tn(Tt,Rt,gr){if(!Tt[gr]&&Rt&&Rt[Tg]){var xr=Rt[Tg](gr);xr&&(Tt[gr]=tu(xr))}return Tt}function Zn(Tt){var Rt={};return Tt[YT]?Rt=Er(Tt[YT]()):(Rt=tn(Rt,Tt,oS),Rt=tn(Rt,Tt,mb),Rt=tn(Rt,Tt,gb)),Rt}function St(Tt,Rt){b(At,Tt.status,Zn(Tt),Rt)}er&&Ve[Ds]&&(er=!1);var nt=df(rl,dr,Qi,!0,er,Ve[gh]);$r(Ve[vh],function(Tt,Rt){nt.setRequestHeader(Tt,Rt)}),nt.onload=function(){var Tt=JC(nt);St(nt,Tt),An(Tt)},nt.onerror=function(){St(nt)},nt[Lv]=function(){St(nt)},nt.send(Ve[pu])}function b(Ve,At,er,dr){try{Ve(At,er,dr)}catch(tn){Td(wr,2,518,Ne(tn))}}function O(Ve,At,er){var dr=Ve,tn=200,Zn=dr[Dg],St=Ve[Tm]+(Ki?Pm:jo);try{var nt=fo();if(!nt.sendBeacon(St,Ve[pu]))if(Zn){var Tt=!!Et.getPlugin("LocalStorage"),Rt=[],gr=[];oi(Zn[xu],function(xr){if(Rt&&xr&&xr[Dn]()>0)for(var Mr=xr[Xo](),ei=0;ei<Mr[br];ei++)if(nt.sendBeacon(St,_r.getEventBlob(Mr[ei])))gr[Xa](xr[ei]);else{Rt[Xa](xr[wa](ei));break}else Rt[Xa](xr[wa](0))}),gr[br]>0&&(Zn.sentEvts=gr),Tt||Ri(Rt,8003,Zn[nl],!0)}else tn=0}catch(xr){lg(wr,"Failed to send telemetry using sendBeacon API. Ex:"+Ne(xr)),tn=0}finally{b(At,tn,{},jo)}}function F(Ve){return Ve===2||Ve===3}function W(Ve){return ai&&F(Ve)&&(Ve=2),Ve}Si.addHeader=function(Ve,At){lr[Ve]=At},Si[Nv]=function(){return ie()&&lt[Fn]()},Si[hf]=function(Ve,At){tt(Ve)&&(Ve=0),ai&&(Ve=W(Ve),At=2),Oe(ir,Ve,0)&&et(ge(),0,!1,Ve,At||0)},Si[VC]=function(){return!Xe&&zt===0&&ir[br]===0},Si[sS]=function(Ve){ai=Ve},Si.addBatch=function(Ve){if(Ve&&Ve[Dn]()>0){if(Se.isTenantKilled(Ve[Wn]()))return!1;ir[Xa](Ve)}return!0},Si.teardown=function(){ir[br]>0&&et(ge(),0,!0,2,2),oi(mc,function(Ve){Ve&&Ve.rm&&Ve.rm()}),mc=[]},Si.pause=function(){Xe=!0},Si.resume=function(){Xe=!1,Si[hf](0,4)},Si[XT]=function(Ve,At,er){Ve&&Ve[Dn]()>0&&(pr(At)&&(At=1),ai&&(At=W(At),er=2),et([Ve],0,!1,At,er||0))};function ie(){return!Xe&&zt<B}function ge(){var Ve=ir;return ir=[],Ve}function Oe(Ve,At,er){var dr=!1;return Ve&&Ve[br]>0&&!Xe&&Mt[At]&&_r&&(dr=At!==0||ie()&&(er>0||lt[Fn]())),dr}function Be(Ve){var At={};return Ve&&oi(Ve,function(er,dr){At[dr]={iKey:er[Wn](),evts:er[Xo]()}}),At}function et(Ve,At,er,dr,tn){if(!(!Ve||Ve[br]===0)){if(Xe){Ri(Ve,1,dr);return}dr=W(dr);try{var Zn=Ve,St=dr!==0;el(Et,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ve=Ve.slice(0));for(var Tt=[],Rt=null,gr=Ml(),xr=Mt[dr]||(St?Mt[1]:Mt[0]),Mr=xr&&xr[aS],ei=Qa&&(ai||F(dr)||Mr===3||xr._isSync&&Mr===2);Oe(Ve,dr,At);){var Uo=Ve.shift();Uo&&Uo[Dn]()>0&&(Se.isTenantKilled(Uo[Wn]())?Tt[Xa](Uo):(Rt=Rt||_r.createPayload(At,er,St,ei,tn,dr),_r.appendPayload(Rt,Uo,A)?Rt.overflow!==null&&(Ve=[Rt.overflow][wi](Ve),Rt.overflow=null,ot(Rt,gr,Ml(),tn),gr=Ml(),Rt=null):(ot(Rt,gr,Ml(),tn),gr=Ml(),Ve=[Uo][wi](Ve),Rt=null)))}Rt&&ot(Rt,gr,Ml(),tn),Ve[br]>0&&(ir=Ve[wi](ir)),Ri(Tt,8004,dr)},function(){return{batches:Be(Zn),retryCount:At,isTeardown:er,isSynchronous:St,sendReason:tn,useSendBeacon:F(dr),sendType:dr}},!St)}catch(nt){Td(wr,2,48,"Unexpected Exception sending batch: "+Ne(nt))}}}function $e(Ve,At){var er={url:we,hdrs:{},useHdrs:!1};At?(er[kv]=Ov(er[kv],lr),er.useHdrs=Re(er.hdrs)[br]>0):$r(lr,function(nt,Tt){Ag[nt]?J_(er,Ag[nt],Tt,!1):(er[kv][nt]=Tt,er[Nl]=!0)}),J_(er,I,"NO_AUTH",At),J_(er,T,ph,At);var dr=jo;oi(Ve.apiKeys,function(nt){dr[br]>0&&(dr+=","),dr+=nt}),J_(er,ve,dr,At),J_(er,Y,no().toString(),At);var tn=Or(Ve);if(kl(tn)&&(er.url+="&ext.intweb.msfpc="+tn),lt[Xn]()&&J_(er,j,lt[Xr](),At),Et[pf]){var Zn=Et[pf]();Zn>=0&&(er.url+="&w="+Zn)}for(var St=0;St<Pt[br];St++)er.url+="&"+Pt[St].name+"="+Pt[St].value;return er}function wt(Ve,At,er){Ve[At]=Ve[At]||{},Ve[At][Pr.identifier]=er}function ot(Ve,At,er,dr){if(Ve&&Ve.payloadBlob&&Ve.payloadBlob[br]>0){var tn=!!gc,Zn=Mt[Ve.sendType];!F(Ve[nl])&&Ve[GC]&&Ve.sendReason===2&&(Zn=Mt[2]||Mt[3]||Zn);var St=so;(Ve.isBeacon||Zn[aS]===3)&&(St=!1);var nt=$e(Ve,St);St=St||nt[Nl];var Tt=Ml();el(Et,function(){return"HttpManager:_doPayloadSend"},function(){for(var Rt=0;Rt<Ve.batches[br];Rt++)for(var gr=Ve[xu][Rt],xr=gr[Xo](),Mr=0;Mr<xr[br];Mr++){var ei=xr[Mr];if(dn){var Uo=ei[B_]=ei[B_]||{};wt(Uo,"sendEventStart",Tt),wt(Uo,"serializationStart",At),wt(Uo,"serializationCompleted",er)}ei[YC]>0?ei[YC]++:ei[YC]=1}Ri(Ve[xu],1e3+(dr||0),Ve[nl],!0);var mo={data:Ve.payloadBlob,urlString:nt.url,headers:nt[kv],_thePayload:Ve,_sendReason:dr,timeout:zo,disableXhrSync:To,disableFetchKeepAlive:Ps};St&&(XC(mo[vh],gp)||(mo[vh][gp]=pb),XC(mo[vh],Sg)||(mo[vh][Sg]=H_));var wh=null;Zn&&(wh=function(Rd){lt[Rn]();var Q_=function(Dp,n0){it(Dp,n0,Ve,dr)},vf=Ve[_b]||Ve[yb];try{Zn[bb](Rd,Q_,vf),Zs&&Zs(mo,Rd,vf,Ve[GC])}catch(Dp){lg(wr,"Unexpected exception sending payload. Ex:"+Ne(Dp)),b(Q_,0,{})}}),el(Et,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(wh)if(Ve[nl]===0&&zt++,tn&&!Ve.isBeacon&&Zn[aS]!==3){var Rd={data:mo[pu],urlString:mo[Tm],headers:Ov({},mo[vh]),timeout:mo[gh],disableXhrSync:mo[Ds],disableFetchKeepAlive:mo[Cm]},Q_=!1;el(Et,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{gc(Rd,function(vf){Q_=!0,!jt&&!vf[Dg]&&(vf[Dg]=vf[Dg]||mo[Dg],vf[Dm]=vf[Dm]||mo[Dm]),wh(vf)},Ve.isSync||Ve[_b])}catch{Q_||wh(mo)}})}else wh(mo)})},function(){return{thePayload:Ve,serializationStart:At,serializationCompleted:er,sendReason:dr}},Ve[yb])}Ve.sizeExceed&&Ve.sizeExceed[br]>0&&Ri(Ve.sizeExceed,8003,Ve[nl]),Ve.failedEvts&&Ve.failedEvts[br]>0&&Ri(Ve.failedEvts,8002,Ve[nl])}function yt(Ve,At){dn&&oi(Ve,function(er){var dr=er[B_]=er[B_]||{};wt(dr,"sendEventCompleted",At)})}function it(Ve,At,er,dr){var tn=9e3,Zn=null,St=!1,nt=!1;try{var Tt=!0;if(typeof Ve!==s){if(At){lt[Qn](At[oS]);var Rt=At[mb]||At["kill-duration-seconds"];oi(Se[cS](At[iS],Rt),function(xr){oi(er[xu],function(Mr){if(Mr[Wn]()===xr){Zn=Zn||[];var ei=Mr[wa](0);er.numEvents-=ei[Dn](),Zn[Xa](ei)}})})}if(Ve==200||Ve==204){tn=200;return}(!V_(Ve)||er.numEvents<=0)&&(Tt=!1),tn=9e3+Ve%1e3}if(Tt){tn=100;var gr=er.retryCnt;er[nl]===0&&(gr<X?(St=!0,yr(function(){er[nl]===0&&zt--,et(er[xu],gr+1,er[_b],ai?2:er[nl],5)},ai,Fv(gr))):(nt=!0,ai&&(tn=8001)))}}finally{St||(lt[Qn](),Zt(er,tn,dr,nt)),Ri(Zn,8004,er[nl])}}function Zt(Ve,At,er,dr){try{dr&&Pr[W_]();var tn=Ve[xu];At===200&&(tn=Ve.sentEvts||Ve[xu],!dr&&!Ve[yb]&&Pr._clearBackOff(),Gt(tn)),Ri(tn,At,Ve[nl],!0)}finally{Ve[nl]===0&&(zt--,er!==5&&Si.sendQueuedRequests(Ve[nl],er))}}function Gt(Ve){if(dn){var At=Ml();oi(Ve,function(er){er&&er[Dn]()>0&&yt(er[Xo](),At)})}}function yr(Ve,At,er){At?Ve():aa.set(Ve,er)}function Er(Ve){var At={};if(fr(Ve)){var er=tu(Ve)[wa](/[\r\n]+/);oi(er,function(dr){if(dr){var tn=dr.indexOf(": ");if(tn!==-1){var Zn=tu(dr.substring(0,tn))[Sm](),St=tu(dr.substring(tn+1));At[Zn]=St}else At[tu(dr)]=1}})}return At}function Or(Ve){for(var At=0;At<Ve.batches[br];At++){var er=Ve[xu][At].Msfpc();if(er)return encodeURIComponent(er)}return jo}function An(Ve){var At=ol;try{for(var er=0;er<At[br];er++)try{At[er](Ve)}catch(tn){Td(wr,1,519,"Response handler failed: "+tn)}if(Ve){var dr=JSON.parse(Ve);kl(dr.webResult)&&kl(dr.webResult[Dt])&&hi.set("MSFPC",dr.webResult[Dt],365*86400)}}catch{}}function Ri(Ve,At,er,dr){if(Ve&&Ve[br]>0&&se){var tn=se[Do(At)];if(tn){var Zn=er!==0;el(Et,function(){return"HttpManager:_sendBatchesNotification"},function(){yr(function(){try{tn.call(se,Ve,At,Zn,er)}catch(St){Td(wr,1,74,"send request notification failed: "+St)}},dr||Zn,0)},function(){return{batches:Be(Ve),reason:At,isSync:Zn,sendSync:dr,sendType:er}},!Zn)}}}function Do(Ve){var At=Y_[Ve];return kl(At)||(At=Iv,Ve>=9e3&&Ve<=9999?At=wg:Ve>=8e3&&Ve<=8999?At=Ll:Ve>=1e3&&Ve<=1999&&(At=ff)),At}})}return C.__ieDyn=1,C}(),jR=.25,Eb=500,zv=20,fS=6,hS=2,xb=4,xm=2,ZC=1,js=1e4,bh="eventsDiscarded",zs=void 0,e0=oe({eventsLimitInMem:{isVal:Ja,v:js},immediateEventLimit:{isVal:Ja,v:500},autoFlushEventsLimit:{isVal:Ja,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:t0,v:zs},overrideInstrumentationKey:zs,overrideEndpointUrl:zs,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:zs,clearTimeoutOverride:zs,payloadPreprocessor:zs,payloadListener:zs,disableEventTimings:zs,valueSanitizer:zs,stringifyObjects:zs,enableCompoundKey:zs,disableOptimizeObj:!1,transports:zs,unloadTransports:zs,useSendBeacon:zs,disableFetchKeepAlive:zs,avoidOptions:!1,xhrTimeout:zs,disableXhrSync:zs,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:nn,v:fS},maxUnloadEventRetryAttempts:{isVal:nn,v:hS},addNoResponse:zs});function t0(C){return C&&C[bb]}var r0=function(C){P_(A,C);function A(){var B=C.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,se=!1,we=[],Se,Xe=!1,lt=0,gt,zt=0,Pr,wr={},Mt=e,Et,jt,Pt,lr,ir,_r,dn,hi,ai,so,zo,To,Ps,Qa,Ki,mc,gc,Zs,ol,sa,aa,Si;return Ks(A,B,function(Qi,Fl){ie(),Qi._getDbgPlgTargets=function(){return[ir,X]},Qi[mh]=function(nt,Tt,Rt){el(Tt,function(){return"PostChannel:initialize"},function(){Fl[mh](nt,Tt,Rt),ol=Tt.getNotifyMgr();try{Ki=Ka(lu(Qi[mf]),Tt.evtNamespace&&Tt.evtNamespace()),Qi._addHook(du(nt,function(gr){var xr=gr.cfg,Mr=Tv(null,xr,Tt);X=Mr.getExtCfg(Qi[mf],e0),mc=Sp(X[Av],X[Mv]),zo=!X[$_]&&hb(),gc=X[wb],Cp(Tt),Pr=X[Xi],gt=X.immediateEventLimit,dn=X[uS],Ps=X.maxEventRetryAttempts,Qa=X.maxUnloadEventRetryAttempts,Zs=X[Pg],St(),aa=X[qv],Si=!!X[QT],sa&&X_();var ei=xr.disablePageUnloadEvents||[];sa=vm(Tp,ei,Ki),sa=F_(Tp,ei,Ki)||sa,sa=xv(p,xr.disablePageShowEvents,Ki)||sa})),ir[mh](nt,Qi.core,Qi)}catch(gr){throw Qi.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Tt,extensions:Rt}})},Qi.processTelemetry=function(nt,Tt){lf(nt,Qi[mf]),Tt=Tt||Qi._getTelCtx(Tt);var Rt=nt;!Si&&!se&&(aa&&(Rt[Wn]=aa),b(Rt,!0),To?Be(2,2):W()),Qi.processNext(Rt,Tt)},Qi._doTeardown=function(nt,Tt){Be(2,2),se=!0,ir.teardown(),X_(),ie()};function X_(){vg(null,Ki),vn(null,Ki),mp(null,Ki)}function Cp(nt){var Tt=nt[pf];nt[pf]=function(){var Rt=0;return gc&&(Rt=Rt|2),Rt|Tt.call(nt)}}function Tp(nt){var Tt=nt||Qc().event;Tt.type!=="beforeunload"&&(To=!0,ir[sS](To)),Be(2,2)}function p(nt){To=!1,ir[sS](To)}function b(nt,Tt){if(nt[gf]||(nt[gf]=0),nt[ql]||(nt[ql]=1),nt.ext&&nt.ext[Yt]&&delete nt.ext[Yt],nt.ext&&nt.ext[kr]&&nt.ext[kr].id&&delete nt.ext[kr].id,zo&&(nt.ext=cu(nt.ext),nt[lS]&&(nt[lS]=cu(nt[lS])),nt[pu]&&(nt[pu]=cu(nt[pu]))),nt[_h]){if(Pt||Xe)nt[ql]=3,nt[_h]=!1;else if(ir){zo&&(nt=cu(nt)),ir[XT](il.create(nt[Wn],[nt]),nt[_h]===!0?1:nt[_h],3);return}}var Rt=nt[ql],gr=zt,xr=Pr;Rt===4&&(gr=lt,xr=gt);var Mr=!1;if(gr<xr)Mr=!ot(nt,Tt);else{var ei=1,Uo=zv;Rt===4&&(ei=4,Uo=1),Mr=!0,yt(nt[Wn],nt[ql],ei,Uo)&&(Mr=!ot(nt,Tt))}Mr&&Do(bh,[nt],za.QueueFull)}Qi.setEventQueueLimits=function(nt,Tt){X[Xi]=Pr=Ja(nt)?nt:js,X[uS]=dn=Ja(Tt)?Tt:0,St();var Rt=zt>nt;if(!Rt&&hi>0)for(var gr=1;!Rt&&gr<=3;gr++){var xr=_r[gr];xr&&xr[xu]&&oi(xr[xu],function(Mr){Mr&&Mr[Dn]()>=hi&&(Rt=!0)})}wt(!0,Rt)},Qi.pause=function(){Oe(),Xe=!0,ir.pause()},Qi.resume=function(){Xe=!1,ir.resume(),W()},Qi._loadTransmitProfiles=function(nt){Er(),$r(nt,function(Tt,Rt){var gr=Rt[br];if(gr>=2){var xr=gr>2?Rt[2]:0;if(Rt[Cg](0,gr-2),Rt[1]<0&&(Rt[0]=-1),Rt[1]>0&&Rt[0]>0){var Mr=Rt[0]/Rt[1];Rt[0]=Math.ceil(Mr)*Rt[1]}xr>=0&&Rt[1]>=0&&xr>Rt[1]&&(xr=Rt[1]),Rt[Xa](xr),wr[Tt]=Rt}})},Qi.flush=function(nt,Tt,Rt){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Rt=Rt||1,nt)Tt||(gr=Z(function(Mr){Tt=Mr})),Se==null?(Oe(),Zt(1,0,Rt),Se=ge(function(){Se=null,Gt(Tt,Rt)},0)):we[Xa](Tt);else{var xr=Oe();O(1,1,Rt),Tt&&Tt(),xr&&W()}return gr},Qi.setMsaAuthTicket=function(nt){ir.addHeader(We,nt)},Qi.hasEvents=F,Qi._setTransmitProfile=function(nt){Mt!==nt&&wr[nt]!==void 0&&(Oe(),Mt=nt,W())},fd(Qi,function(){return ir},["addResponseHandler"]);function O(nt,Tt,Rt){var gr=Zt(nt,Tt,Rt);return ir[hf](Tt,Rt),gr}function F(){return zt>0}function W(){if(ai>=0&&Zt(ai,0,so)&&ir[hf](0,so),lt>0&&!jt&&!Xe){var nt=wr[Mt][2];nt>=0&&(jt=ge(function(){jt=null,O(4,0,1),W()},nt))}var Tt=wr[Mt][1];!Et&&!Se&&Tt>=0&&!Xe&&(F()?Et=ge(function(){Et=null,O(lr===0?3:1,0,1),lr++,lr%=2,W()},Tt):lr=0)}Qi[W_]=function(){Pt<xb&&(Pt++,Oe(),W())},Qi._clearBackOff=function(){Pt&&(Pt=0,Oe(),W())};function ie(){X=null,se=!1,we=[],Se=null,Xe=!1,lt=0,gt=500,zt=0,Pr=js,wr={},Mt=e,Et=null,jt=null,Pt=0,lr=0,_r={},dn=0,sa=!1,hi=0,ai=-1,so=null,zo=!0,To=!1,Ps=fS,Qa=hS,Ki=null,aa=null,Si=!1,mc=Sp(),ir=new Em(Eb,xm,ZC,{requeue:An,send:At,sent:er,drop:dr,rspFail:tn,oth:Zn}),Or(),et(),St()}function ge(nt,Tt){Tt===0&&Pt&&(Tt=1);var Rt=1e3;return Pt&&(Rt=Fv(Pt-1)),mc.set(nt,Tt*Rt)}function Oe(){return Et!==null?(Et.cancel(),Et=null,lr=0,!0):!1}function Be(nt,Tt){Oe(),Se&&(Se.cancel(),Se=null),Xe||O(1,nt,Tt)}function et(){_r[4]={batches:[],iKeyMap:{}},_r[3]={batches:[],iKeyMap:{}},_r[2]={batches:[],iKeyMap:{}},_r[1]={batches:[],iKeyMap:{}}}function $e(nt,Tt,Rt){var gr=_r[Tt];gr||(Tt=1,gr=_r[Tt]);var xr=gr.iKeyMap[nt];return!xr&&Rt&&(xr=il.create(nt),gr.batches[Xa](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Tt){ir[Nv]()&&!Pt&&(dn>0&&zt>dn&&(Tt=!0),Tt&&Se==null&&Qi.flush(nt,function(){},20))}function ot(nt,Tt){zo&&(nt=cu(nt));var Rt=nt[ql],gr=$e(nt[Wn],Rt,!0);return gr.addEvent(nt)?(Rt!==4?(zt++,Tt&&nt[gf]===0&&wt(!nt.sync,hi>0&&gr[Dn]()>=hi)):lt++,!0):!1}function yt(nt,Tt,Rt,gr){for(;Rt<=Tt;){var xr=$e(nt,Tt,!0);if(xr&&xr[Dn]()>0){var Mr=xr[wa](0,gr),ei=Mr[Dn]();if(ei>0)return Rt===4?lt-=ei:zt-=ei,Ve(bh,[Mr],za.QueueFull),!0}Rt++}return it(),!1}function it(){for(var nt=0,Tt=0,Rt=function(xr){var Mr=_r[xr];Mr&&Mr[xu]&&oi(Mr[xu],function(ei){xr===4?nt+=ei[Dn]():Tt+=ei[Dn]()})},gr=1;gr<=4;gr++)Rt(gr);zt=Tt,lt=nt}function Zt(nt,Tt,Rt){var gr=!1,xr=Tt===0;return!xr||ir[Nv]()?el(Qi.core,function(){return"PostChannel._queueBatches"},function(){for(var Mr=[],ei=4;ei>=nt;){var Uo=_r[ei];Uo&&Uo.batches&&Uo.batches[br]>0&&(oi(Uo[xu],function(mo){ir.addBatch(mo)?gr=gr||mo&&mo[Dn]()>0:Mr=Mr[wi](mo[Xo]()),ei===4?lt-=mo[Dn]():zt-=mo[Dn]()}),Uo[xu]=[],Uo.iKeyMap={}),ei--}Mr[br]>0&&Do(bh,Mr,za.KillSwitch),gr&&ai>=nt&&(ai=-1,so=0)},function(){return{latency:nt,sendType:Tt,sendReason:Rt}},!xr):(ai=ai>=0?Math.min(ai,nt):nt,so=Math.max(so,Rt)),gr}function Gt(nt,Tt){O(1,0,Tt),it(),yr(function(){nt&&nt(),we[br]>0?Se=ge(function(){Se=null,Gt(we.shift(),Tt)},0):(Se=null,W())})}function yr(nt){ir[VC]()?nt():Se=ge(function(){Se=null,yr(nt)},jR)}function Er(){Oe(),Or(),Mt=e,W()}function Or(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function An(nt,Tt){var Rt=[],gr=Ps;To&&(gr=Qa),oi(nt,function(xr){xr&&xr[Dn]()>0&&oi(xr[Xo](),function(Mr){Mr&&(Mr[_h]&&(Mr[ql]=4,Mr[_h]=!1),Mr[gf]<gr?(lf(Mr,Qi[mf]),b(Mr,!1)):Rt[Xa](Mr))})}),Rt[br]>0&&Do(bh,Rt,za.NonRetryableStatus),To&&Be(2,2)}function Ri(nt,Tt){var Rt=ol||{},gr=Rt[nt];if(gr)try{gr.apply(Rt,Tt)}catch(xr){Td(Qi.diagLog(),1,74,nt+" notification failed: "+xr)}}function Do(nt,Tt){for(var Rt=[],gr=2;gr<arguments.length;gr++)Rt[gr-2]=arguments[gr];Tt&&Tt[br]>0&&Ri(nt,[Tt][wi](Rt))}function Ve(nt,Tt){for(var Rt=[],gr=2;gr<arguments.length;gr++)Rt[gr-2]=arguments[gr];Tt&&Tt[br]>0&&oi(Tt,function(xr){xr&&xr[Dn]()>0&&Ri(nt,[xr.events()][wi](Rt))})}function At(nt,Tt,Rt){nt&&nt[br]>0&&Ri("eventsSendRequest",[Tt>=1e3&&Tt<=1999?Tt-1e3:0,Rt!==!0])}function er(nt,Tt){Ve("eventsSent",nt,Tt),W()}function dr(nt,Tt){Ve(bh,nt,Tt>=8e3&&Tt<=8999?Tt-8e3:za.Unknown)}function tn(nt){Ve(bh,nt,za.NonRetryableStatus),W()}function Zn(nt,Tt){Ve(bh,nt,za.Unknown),W()}function St(){Zs?hi=0:hi=Math.max(Eb*(xm+1),Pr/6)}}),B}return A.__ieDyn=1,A}(N_);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=r0,r.RT_PROFILE=e})});var Bfe=P(cy=>{"use strict";var r6e=cy&&cy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),n6e=cy&&cy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hfe=cy&&cy.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&r6e(e,r,t);return n6e(e,r),e};Object.defineProperty(cy,"__esModule",{value:!0});cy.oneDataSystemClientFactory=void 0;var i6e=async(r,e,t)=>{let n=await Promise.resolve().then(()=>Hfe(jfe())),i=await Promise.resolve().then(()=>Hfe(Ufe())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},o6e=async(r,e,t)=>{let n=await i6e(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};cy.oneDataSystemClientFactory=o6e});var $fe=P((kN,Wfe)=>{(function(r,e){typeof kN=="object"&&typeof Wfe<"u"?e(kN):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(kN,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",_="_polyfill",y="indexOf",D="length",k="value",H="name",M="slice",z=Object,re=z[a],ce=String,_e=ce[a],G=Math,$=Array,te=$[a];function Te(T,I){var j=I;try{j=T()}catch{}return j}function ae(T){return function(I){return typeof I===T}}function ue(T){var I="[object "+T+"]";return function(j){return!!(j&&Fe(j)===I)}}function Fe(T){return re.toString.call(T)}function qe(T){return typeof T===l||T===l}function le(T){return T===t||qe(T)}function Ce(T){return!!T||T!==e}var be=ae(u),xe=ae(i);function Le(T){return!T&&le(T)?!1:!!T&&typeof T===s}var Ge=$.isArray,Ct=ae(o),ze=ue("Error"),at=z.getOwnPropertyDescriptor;function ct(T,I){return T&&re.hasOwnProperty.call(T,I)}var tt=z.hasOwn||pr;function pr(T,I){return ct(T,I)||!!at(T,I)}function Nr(T,I,j){if(T&&Le(T)){for(var Y in T)if(tt(T,Y)&&I.call(j||T,Y,T[Y])===-1)break}}function Hr(T,I,j,Y){var ve={};return Nr(T,function(We,Ze){ve[We]=I?Ze:We,ve[Ze]=j?Ze:We}),Y(ve)}function fr(T){throw new Error(T)}function It(T){throw new TypeError(T)}var mr=z.freeze,Lt=function(T){return T},nn=function(T){return T[c]||t},cn=z.assign;function xn(T){return(!Le(T)||T===t)&&It("objKeys called on non-object"),z.keys(T)}function Rr(T){return mr&&Nr(T,function(I,j){(Ge(j)||Le(j))&&mr(j)}),Un(T)}var Un=mr||Lt,Wr=z.getPrototypeOf||nn;function un(T){return Hr(T,1,0,Rr)}function ni(T){var I={};return Nr(T,function(j,Y){I[j]=Y[1],I[Y[0]]=Y[1]}),Rr(I)}function $r(T){return ni(T)}var In=ce,Ei="__tsUtils$gblCfg",Vr;function Vi(){var T;return typeof globalThis!==l&&(T=globalThis),!T&&typeof self!==l&&(T=self),!T&&typeof window!==l&&(T=window),!T&&typeof global!==l&&(T=global),T}function ii(){if(!Vr){var T=Vi()||{};Vr=T[Ei]=T[Ei]||{}}return Vr}function ln(T,I){var j=n;if(ze(T))j="{ stack: '"+T.stack+"', message: '"+T.message+"', name: '"+T.name+"'";else try{j=JSON.stringify(T,t,I?Ct(I)?I:4:e)}catch(Y){j=" - "+ln(Y,I)}return Fe(T)+": "+j}var Re=te[M],oe=function(T,I){It("'"+In(T)+"' not defined for "+ln(I))},Q=function(T){return function(I){return I[T].apply(I,Re.call(arguments,1))}},ye=function(T,I){var j=I&&I[T];return function(Y){var ve=Y&&Y[T]||j;if(ve)return ve.apply(Y,Re.call(arguments,1));oe(T,Y)}},Ke=function(T,I,j){var Y=I&&I[T];return function(ve){var We=ve&&ve[T]||Y;if(We||j){var Ze=arguments;return(We||j).apply(ve,We?Re.call(Ze,1):Ze)}oe(T,ve)}},ft=G.max,Jt=ye(M,_e),nr=ye("substring",_e),Xt=Ke("substr",_e,Vt);function Vt(T,I,j){return le(T)&&It("'polyStrSubstr called with invalid "+ln(T)),j<0?n:(I=I||0,I<0&&(I=ft(I+T[D],0)),qe(j)?Jt(T,I):Jt(T,I,I+j))}function kt(T,I){return nr(T,0,I)}var K="_urid",Ne;function Bt(){if(!Ne){var T=ii();Ne=T.gblSym=T.gblSym||{k:{},s:{}}}return Ne}function Tr(T){var I={description:In(T),toString:function(){return f+"("+T+")"}};return I[_]=!0,I}function He(T){var I=Bt();if(!tt(I.k,T)){var j=Tr(T),Y=xn(I.s).length;j[K]=function(){return Y+"_"+j.toString()},I.k[T]=j,I.s[j[K]()]=In(T)}return I.k[T]}var ne={e:"enumerable",c:"configurable",v:k,w:"writable",g:"get",s:"set"};function Ee(T){var I={};if(I[ne.c]=!0,I[ne.e]=!0,T.l){I.get=function(){return T.l.v};var j=at(T.l,"v");j&&j.set&&(I.set=function(Y){T.l.v=Y})}return Nr(T,function(Y,ve){I[ne[Y]]=qe(ve)?I[ne[Y]]:ve}),I}var je=z.defineProperty;function he(T,I,j){return je(T,I,Ee(j))}var S,fe=function(){S=ii(),fe=t};function Je(T){var I={};return fe&&fe(),I.b=S.lzy,je(I,"v",{configurable:!0,get:function(){var j=T();return S.lzy||(je(I,"v",{value:j}),I.b&&delete I.b),S.lzy&&I.b!==S.lzy&&(I.b=S.lzy),j}}),I}function Cr(T,I){return Je(function(){return Te(T,I)})}var Br="window",Jr,qn,xi,ws,bn=function(T){return Cr(function(){return Is(T)||e},e)},Go=function(T){return(!Jr||T===!1||S&&S.lzy&&!Jr.b)&&(Jr=Cr(Vi,t)),Jr.v},Is=function(T,I){var j=!Jr||I===!1?Go(I):Jr.v;return j&&j[T]?j[T]:T===Br&&qn?qn.v:t},Ws=function(){return(!xi||S&&S.lzy&&!xi.b)&&(xi=bn("document")),xi.v},Oo=function(){return!!bo()},bo=function(){return(!qn||S&&S.lzy&&!qn.b)&&(qn=bn(Br)),qn.v},U=function(){return!!Ue()},Ue=function(){return(!ws||S&&S.lzy&&!ws.b)&&(ws=bn("navigator")),ws.v},vt,qr,to;function zi(T){return Cr(function(){return vt.v?vt.v[T]:e},e)}function L(){var T=!vt||S&&S.lzy&&!vt.b;return T&&(vt=bn(f)),(!qr||T)&&(qr=zi("for")),(!to||T)&&(to=zi("keyFor")),vt.v}function Ae(T,I){return(!vt||S.lzy&&!vt.b)&&L(),vt.v?vt.v(T):I?t:Tr(T)}function rt(T){return(!qr||S.lzy&&!vt.b)&&L(),(qr.v||He)(T)}var Ut=Q("apply");function kn(T,I,j){if(T)for(var Y=T[D]>>>0,ve=0;ve<Y&&!(ve in T&&I.call(j||T,T[ve],ve,T)===-1);ve++);}var wn=ye(y,te),Mn=ye("map",te),ro=ye(M,te),Li=Q("call"),wo=ye("reduce",te),Hi=z.create,Yn=Hi||Qc;function Qc(T){if(!T)return{};var I=typeof T;if(I!==s&&I!==i)throw new TypeError("Prototype must be an Object or function: "+ln(T));function j(){}return j[a]=T,new j}var Ko;function fo(T,I){var j=z.setPrototypeOf||function(Y,ve){!Ko&&(Ko=Je(function(){var We;return We={},We[c]=[],We instanceof Array})),Ko.v?Y[c]=ve:Nr(ve,function(We,Ze){return Y[We]=Ze})};return j(T,I)}var Wu=function(T,I,j){qa(I,T),I=fo(I,j);function Y(){this.constructor=I,qa(this,T)}return I[a]=j===t?Yn(j):(Y[a]=j[a],new Y),I},ki=function(T,I){try{I&&(T[H]=I)}catch{}},qa=function(T,I){try{he(T,H,{v:I,c:!0,e:!1})}catch{}};function Fa(T,I,j){var Y=j||Error,ve=Y[a][H],We=Error.captureStackTrace;return Wu(T,function(){var Ze=this;try{ki(Y,T);var st=Ut(Y,Ze,ro(arguments))||Ze;if(st!==Ze){var Dt=Wr(Ze);Dt!==Wr(st)&&fo(st,Dt)}return We&&We(st,Ze[d]),I&&I(st,arguments),st}finally{ki(Y,ve)}},Y)}function na(){return(Date.now||$u)()}function $u(){return new Date().getTime()}function Gf(T){return function(j){return le(j)&&It("strTrim called ["+ln(j)+"]"),j&&j.replace&&(j=j.replace(T,n)),j}}var ac=Gf(/^\s+|(?=\s)\s+$/g),$s=Ke("trim",_e,ac),Zc,Kf,Mo;function ks(T){if(!T||typeof T!==s)return!1;Mo||(Mo=Oo()?bo():!0);var I=!1;if(T!==Mo){Kf||(Zc=Function[a].toString,Kf=Li(Zc,z));try{var j=Wr(T);I=!j,I||(ct(j,d)&&(j=j[d]),I=j&&typeof j===i&&Zc.call(j)===Kf)}catch{}}return I}var Cn;function As(){return(!Cn||!Cn.b&&S&&S.lzy)&&(Cn=bn("performance")),Cn.v}var eu=Ke("endsWith",_e,oi);function oi(T,I,j){be(T)||It("'"+ln(T)+"' is not a string");var Y=be(I)?I:In(I),ve=Y[D],We=T[D],Ze=!qe(j)&&j<We?j:We;return nr(T,Ze-ve,Ze)===Y}var ha=ye(y,_e),Mc="ref",Yf="un"+Mc,Hd="hasRef",Wh="enabled";function Bd(T,I,j){var Y,ve=!0,We=T?I(t):t,Ze,st=function(){return ve=!1,We&&We[Yf]&&We[Yf](),Ze},Dt=function(){return ve=!0,We&&We[Mc]&&We[Mc](),Ze},Yt=function(){return We&&We[Hd]?We[Hd]():ve},kr=function(){return We=I(We),ve||st(),Ze},Fn=function(){We&&j(We),We=t},Rn=function(Xn){!Xn&&We&&Fn(),Xn&&!We&&kr()};return Ze=(Y={cancel:Fn,refresh:kr},Y[Hd]=Yt,Y[Mc]=Dt,Y[Yf]=st,Y[Wh]=!1,Y),je(Ze,Wh,{get:function(){return!!We},set:Rn}),{h:Ze,dn:function(){We=t}}}function $h(T,I,j,Y){var ve=Ge(j),We=ve?j.length:0,Ze=(We>0?j[0]:ve?e:j)||setTimeout,st=(We>1?j[1]:e)||clearTimeout,Dt=Y[0];Y[0]=function(){Yt.dn(),Ut(Dt,T,ro(arguments))};var Yt=Bd(I,function(kr){if(kr){if(kr.refresh)return kr.refresh(),kr;Ut(st,T,[kr])}return Ut(Ze,T,Y)},function(kr){Ut(st,T,[kr])});return Yt.h}function Wd(T,I){return $h(this,!0,e,ro(arguments))}var pl=un,Jn=$r,Ms="toLowerCase",ml="blkVal",no="length",Jf="rdOnly",Xf="notify",Ls="warnToConsole",tu="throwInternal",Qf="setDf",rd="watch",ds="logger",gl="apply",Lc="push",Gp="splice",nd="hdlr",$d="cancel",Vd="name",cc="unload",ho="version",Vh="loggingLevelConsole",Gd="messageId",Vs="message",Vu="diagLog",ru="userAgent",pv="split",Gs="replace",P_="logInternalMessage",yu="traceId",id="spanId",Lo="traceFlags",vl;function Zf(T,I){vl||(vl=Fa("AggregationError",function(Y,ve){ve[no]>1&&(Y.errors=ve[1])}));var j=T||"One or more errors occurred.";throw kn(I,function(Y,ve){j+=`
`.concat(ve," > ").concat(ln(Y))}),new vl(j,I||[])}var tg="function",od="object",eh="undefined",Gh="prototype",_l=Object,Kh=_l[Gh];(Go()||{}).Symbol,(Go()||{}).Reflect;var bu="hasOwnProperty",th=function(T){for(var I,j=1,Y=arguments.length;j<Y;j++){I=arguments[j];for(var ve in I)Kh[bu].call(I,ve)&&(T[ve]=I[ve])}return T},nu=cn||th,Kd=function(T,I){return Kd=_l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Y){j.__proto__=Y}||function(j,Y){for(var ve in Y)Y[bu](ve)&&(j[ve]=Y[ve])},Kd(T,I)};function sd(T,I){typeof I!==tg&&I!==null&&It("Class extends value "+String(I)+" is not a constructor or null"),Kd(T,I);function j(){this.constructor=T}T[Gh]=I===null?Yn(I):(j[Gh]=I[Gh],new j)}var Yd,ad="constructor",Ns="prototype",pa="function",So="_dynInstFuncs",Nc="_isDynProxy",ja="_dynClass",rg="_dynCls$",wu="_dynInstChk",qs=wu,yl="_dfOpts",Yh="_unknown_",iu="__proto__",Gu="_dyn"+iu,rh="__dynProto$Gbl",uc="_dynInstProto",Su="useBaseInst",fs="setInstFuncs",qc=Object,Cu=qc.getPrototypeOf,Tu=qc.getOwnPropertyNames,Ks=Go(),ng=Ks[rh]||(Ks[rh]={o:(Yd={},Yd[fs]=!0,Yd[Su]=!0,Yd),n:1e3});function za(T){return T&&(T===qc[Ns]||T===Array[Ns])}function Ku(T){return za(T)||T===Function[Ns]}function No(T){var I;if(T){if(Cu)return Cu(T);var j=T[iu]||T[Ns]||(T[ad]?T[ad][Ns]:null);I=T[Gu]||j,ct(T,Gu)||(delete T[uc],I=T[Gu]=T[uc]||T[Gu],T[uc]=j)}return I}function qo(T,I){var j=[];if(Tu)j=Tu(T);else for(var Y in T)typeof Y=="string"&&ct(T,Y)&&j.push(Y);if(j&&j.length>0)for(var ve=0;ve<j.length;ve++)I(j[ve])}function Jd(T,I,j){return I!==ad&&typeof T[I]===pa&&(j||ct(T,I))}function Du(T){It("DynamicProto: "+T)}function Xd(T){var I={};return qo(T,function(j){!I[j]&&Jd(T,j,!1)&&(I[j]=T[j])}),I}function Io(T,I){for(var j=T.length-1;j>=0;j--)if(T[j]===I)return!0;return!1}function bl(T,I,j,Y){function ve(Dt,Yt,kr){var Fn=Yt[kr];if(Fn[Nc]&&Y){var Rn=Dt[So]||{};Rn[qs]!==!1&&(Fn=(Rn[Yt[ja]]||{})[kr]||Fn)}return function(){return Fn.apply(Dt,arguments)}}var We={};qo(j,function(Dt){We[Dt]=ve(I,j,Dt)});for(var Ze=No(T),st=[];Ze&&!Ku(Ze)&&!Io(st,Ze);)qo(Ze,function(Dt){!We[Dt]&&Jd(Ze,Dt,!Cu)&&(We[Dt]=ve(I,Ze,Dt))}),st.push(Ze),Ze=No(Ze);return We}function Qd(T,I,j,Y){var ve=null;if(T&&ct(j,ja)){var We=T[So]||{};if(ve=(We[j[ja]]||{})[I],ve||Du("Missing ["+I+"] "+pa),!ve[wu]&&We[qs]!==!1){for(var Ze=!ct(T,I),st=No(T),Dt=[];Ze&&st&&!Ku(st)&&!Io(Dt,st);){var Yt=st[I];if(Yt){Ze=Yt===Y;break}Dt.push(st),st=No(st)}try{Ze&&(T[I]=ve),ve[wu]=1}catch{We[qs]=!1}}}return ve}function ia(T,I,j){var Y=I[T];return Y===j&&(Y=No(I)[T]),typeof Y!==pa&&Du("["+T+"] is not a "+pa),Y}function ou(T,I,j,Y,ve){function We(Dt,Yt){var kr=function(){var Fn=Qd(this,Yt,Dt,kr)||ia(Yt,Dt,kr);return Fn.apply(this,arguments)};return kr[Nc]=1,kr}if(!za(T)){var Ze=j[So]=j[So]||{},st=Ze[I]=Ze[I]||{};Ze[qs]!==!1&&(Ze[qs]=!!ve),qo(j,function(Dt){Jd(j,Dt,!1)&&j[Dt]!==Y[Dt]&&(st[Dt]=j[Dt],delete j[Dt],(!ct(T,Dt)||T[Dt]&&!T[Dt][Nc])&&(T[Dt]=We(T,Dt)))})}}function Ys(T,I){if(Cu){for(var j=[],Y=No(I);Y&&!Ku(Y)&&!Io(j,Y);){if(Y===T)return!0;j.push(Y),Y=No(Y)}return!1}return!0}function Ss(T,I){return ct(T,Ns)?T.name||I||Yh:((T||{})[ad]||{}).name||I||Yh}function wl(T,I,j,Y){ct(T,Ns)||Du("theClass is an invalid class definition.");var ve=T[Ns];Ys(ve,I)||Du("["+Ss(T)+"] not in hierarchy of ["+Ss(I)+"]");var We=null;ct(ve,ja)?We=ve[ja]:(We=rg+Ss(T,"_")+"$"+ng.n,ng.n++,ve[ja]=We);var Ze=wl[yl],st=!!Ze[Su];st&&Y&&Y[Su]!==void 0&&(st=!!Y[Su]);var Dt=Xd(I),Yt=bl(ve,I,Dt,st);j(I,Yt);var kr=!!Cu&&!!Ze[fs];kr&&Y&&(kr=!!Y[fs]),ou(ve,We,I,Dt,kr!==!1)}wl[yl]=ng.o;var mv=void 0,is="",Fc="Not dynamic - ",Yu=/-([a-z])/g,nh=/([^\w\d_$])/g,cd=/^(\d+[\w\d_$])/;function Jh(T){return!le(T)}function Ua(T){var I=T;return I&&be(I)&&(I=I[Gs](Yu,function(j,Y){return Y.toUpperCase()}),I=I[Gs](nh,"_"),I=I[Gs](cd,function(j,Y){return"_"+Y})),I}function Kp(T,I){return T&&I?ha(T,I)!==-1:!1}function Ni(T){return T&&T.toISOString()||""}function Yo(T){return ze(T)?T[Vd]:is}function Pu(T){return function(){function I(){var j=this;T&&Nr(T,function(Y,ve){j[Y]=ve})}return I}()}var lc="console",dc="JSON",Js="crypto",Ju="msCrypto",Bi="msie",Zd="trident/",bi=null,ma=null,Hn=null;function ud(){return typeof console!==eh?console:Is(lc)}function Sl(){return!!(typeof JSON===od&&JSON||Is(dc)!==null)}function fc(){return Sl()?JSON||Is(dc):null}function Fo(){return Is(Js)}function Ha(){return Is(Ju)}function Xs(){var T=Ue();if(T&&(T[ru]!==ma||bi===null)){ma=T[ru];var I=(ma||is)[Ms]();bi=Kp(I,Bi)||Kp(I,Zd)}return bi}function io(T){return(Hn===null||T===!1)&&(Hn=U()&&!!Ue().sendBeacon),Hn}function su(T,I){if(T)for(var j=0;j<T[no];j++){var Y=T[j];if(Y[Vd]&&Y[Vd]===I)return Y}return{}}function Ln(T){var I=Ws();return I&&T?su(I.querySelectorAll("meta"),T).content:null}function jc(T){var I,j=As();if(j){var Y=j.getEntriesByType("navigation")||[];I=su((Y[no]>0?Y[0]:{}).serverTiming,T).description}return I}var Co=4294967296,si=4294967295,Cl=123456789,ga=987654321,oa=!1,Qs=Cl,Tl=ga;function Ba(T){T<0&&(T>>>=0),Qs=Cl+T&si,Tl=ga-T&si,oa=!0}function ld(){try{var T=na()&2147483647;Ba((Math.random()*Co^T)+T)}catch{}}function hs(T){return T>0?Math.floor(zc()/si*(T+1))>>>0:0}function zc(T){var I=0,j=Fo()||Ha();return j&&j.getRandomValues&&(I=j.getRandomValues(new Uint32Array(1))[0]&si),I===0&&Xs()&&(oa||ld(),I=Xu()&si),I===0&&(I=Math.floor(Co*Math.random()|0)),T||(I>>>=0),I}function Xu(T){Tl=36969*(Tl&65535)+(Tl>>16)&si,Qs=18e3*(Qs&65535)+(Qs>>16)&si;var I=(Tl<<16)+(Qs&65535)>>>0&si|0;return T||(I>>>=0),I}function Dl(T){T===void 0&&(T=22);for(var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=zc()>>>0,Y=0,ve=is;ve[no]<T;)Y++,ve+=I.charAt(j&63),j>>>=6,Y===5&&(j=(zc()<<2&4294967295|j&3)>>>0,Y=0);return ve}var dd="3.0.5",m="."+Dl(6),g=0;function E(T,I){return I===void 0&&(I=!1),Ua(T+g+++(I?"."+dd:is)+m)}function R(T){return T&&Le(T)&&(T.isVal||T.fb||tt(T,"v")||tt(T,"mrg")||tt(T,"ref")||T.set)}function N(T,I,j){var Y,ve=j.dfVal||Ce;if(I&&j.fb){var We=j.fb;Ge(We)||(We=[We]);for(var Ze=0;Ze<We[no];Ze++){var st=We[Ze],Dt=I[st];if(ve(Dt)?Y=Dt:T&&(Dt=T.cfg[st],ve(Dt)&&(Y=Dt),T.set(T.cfg,In(st),Dt)),ve(Y))break}}return!ve(Y)&&ve(j.v)&&(Y=j.v),Y}function J(T,I,j){var Y=j;if(j&&R(j)&&(Y=N(T,I,j)),Y){R(Y)&&(Y=J(T,I,Y));var ve;Ge(Y)?(ve=[],ve[no]=Y[no]):ks(Y)&&(ve={}),ve&&(Nr(Y,function(We,Ze){Ze&&R(Ze)&&(Ze=J(T,I,Ze)),ve[We]=Ze}),Y=ve)}return Y}function Z(T,I,j,Y){var ve,We,Ze,st=Y,Dt,Yt,kr,Fn;R(st)?(ve=st.isVal,We=st.set,kr=st[Jf],Fn=st[ml],Dt=st.mrg,Yt=st.ref,!Yt&&qe(Yt)&&(Yt=!!Dt),Ze=N(T,I,st)):Ze=Y,Fn&&T[ml](I,j);var Rn,Xn=!0,Xr=I[j];(Xr||!le(Xr))&&(Rn=Xr,Xn=!1,ve&&Rn!==Ze&&!ve(Rn)&&(Rn=Ze,Xn=!0),We&&(Rn=We(Rn,Ze,I),Xn=Rn===Ze)),Xn?Ze?Rn=J(T,I,Ze):Rn=Ze:(ks(Rn)||Ge(Ze))&&Dt&&Ze&&(ks(Ze)||Ge(Ze))&&Nr(Ze,function(Qn,br){Z(T,Rn,Qn,br)}),T.set(I,j,Rn),Yt&&T.ref(I,j),kr&&T[Jf](I,j)}var pe=rt("[[ai_dynCfg_1]]"),Ie=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function ht(T){if(T){var I;if(Ge(T)?(I=[],I[no]=T[no]):ks(T)&&(I={}),I)return Nr(T,function(j,Y){I[j]=ht(Y)}),I}return T}function Ht(T){if(T){var I=T[pe]||T;if(I.cfg&&(I.cfg===T||I.cfg[pe]===I))return I}return null}function Sr(T){if(T&&(ks(T)||Ge(T)))try{T[Ie]=!0}catch{}return T}function on(T,I,j){var Y=!1;return j&&!T[I.blkVal]&&(Y=j[Qe],!Y&&!j[Ie]&&(Y=ks(j)||Ge(j))),Y}function Fr(T){It("InvalidAccess:"+T)}var Bn=["push","pop","shift","unshift","splice"],Fs=function(T,I,j,Y){T&&T[tu](3,108,"".concat(j," [").concat(I,"] failed - ")+ln(Y))};function Wa(T,I,j){Ge(I)&&kn(Bn,function(Y){var ve=I[Y];I[Y]=function(){for(var We=[],Ze=0;Ze<arguments.length;Ze++)We[Ze]=arguments[Ze];var st=ve[gl](this,We);return Qh(T,I,j,"Patching"),st}})}function au(T,I){var j=at(T,I);return j&&j.get}function Xh(T,I,j,Y){var ve={n:j,h:[],trk:function(Yt){Yt&&Yt.fn&&(wn(ve.h,Yt)===-1&&ve.h[Lc](Yt),T.trk(Yt,ve))},clr:function(Yt){var kr=wn(ve.h,Yt);kr!==-1&&ve.h[Gp](kr,1)}},We=!0,Ze=!1;function st(){We&&(Ze=Ze||on(st,T,Y),Y&&!Y[pe]&&Ze&&(Y=Qh(T,Y,j,"Converting")),We=!1);var Yt=T.act;return Yt&&ve.trk(Yt),Y}st[T.prop]={chng:function(){T.add(ve)}};function Dt(Yt){if(Y!==Yt){st[T.ro]&&!T.upd&&Fr("["+j+"] is read-only:"+ln(I)),We&&(Ze=Ze||on(st,T,Y),We=!1);var kr=Ze&&st[T.rf];if(Ze)if(kr){Nr(Y,function(Rn){Y[Rn]=Yt?Yt[Rn]:mv});try{Nr(Yt,function(Rn,Xn){Yp(T,Y,Rn,Xn)}),Yt=Y}catch(Rn){Fs((T.hdlr||{})[ds],j,"Assigning",Rn),Ze=!1}}else Y&&Y[pe]&&Nr(Y,function(Rn){var Xn=au(Y,Rn);if(Xn){var Xr=Xn[T.prop];Xr&&Xr.chng()}});if(Yt!==Y){var Fn=Yt&&on(st,T,Yt);!kr&&Fn&&(Yt=Qh(T,Yt,j,"Converting")),Y=Yt,Ze=Fn}T.add(ve)}}he(I,ve.n,{g:st,s:Dt})}function Yp(T,I,j,Y){if(I){var ve=au(I,j),We=ve&&!!ve[T.prop];We?I[j]=Y:Xh(T,I,j,Y)}return I}function va(T,I,j,Y){if(I){var ve=au(I,j),We=ve&&!!ve[T.prop],Ze=Y&&Y[0],st=Y&&Y[1],Dt=Y&&Y[2];if(!We){if(Dt)try{Sr(I)}catch(Yt){Fs((T.hdlr||{})[ds],j,"Blocking",Yt)}try{Yp(T,I,j,I[j]),ve=au(I,j)}catch(Yt){Fs((T.hdlr||{})[ds],j,"State",Yt)}}Ze&&(ve[T.rf]=Ze),st&&(ve[T.ro]=st),Dt&&(ve[T.blkVal]=!0)}return I}function Qh(T,I,j,Y){try{Nr(I,function(ve,We){Yp(T,I,ve,We)}),I[pe]||(je(I,pe,{get:function(){return T[nd]}}),Wa(T,I,j))}catch(ve){Fs((T.hdlr||{})[ds],j,Y,ve)}return I}var ih="[[ai_",fd="]]";function cu(T){var I,j=Ae(ih+"get"+T.uid+fd),Y=Ae(ih+"ro"+T.uid+fd),ve=Ae(ih+"rf"+T.uid+fd),We=Ae(ih+"blkVal"+T.uid+fd),Ze=Ae(ih+"dtl"+T.uid+fd),st=null,Dt=null,Yt;function kr(Xr,Qn){var br=Yt.act;try{Yt.act=Xr,Xr&&Xr[Ze]&&(kn(Xr[Ze],function(Wn){Wn.clr(Xr)}),Xr[Ze]=[]),Qn({cfg:T.cfg,set:T.set.bind(T),setDf:T[Qf].bind(T),ref:T.ref.bind(T),rdOnly:T[Jf].bind(T)})}catch(Wn){var wi=T[ds];throw wi&&wi[tu](1,107,ln(Wn)),Wn}finally{Yt.act=br||null}}function Fn(){if(st){var Xr=st;st=null,Dt&&Dt[$d](),Dt=null;var Qn=[];if(kn(Xr,function(br){if(br&&(br[Ze]&&(kn(br[Ze],function(wi){wi.clr(br)}),br[Ze]=null),br.fn))try{kr(br,br.fn)}catch(wi){Qn[Lc](wi)}}),st)try{Fn()}catch(br){Qn[Lc](br)}Qn[no]>0&&Zf("Watcher error(s): ",Qn)}}function Rn(Xr){if(Xr&&Xr.h[no]>0){st||(st=[]),Dt||(Dt=Wd(function(){Dt=null,Fn()},0));for(var Qn=0;Qn<Xr.h[no];Qn++){var br=Xr.h[Qn];br&&wn(st,br)===-1&&st[Lc](br)}}}function Xn(Xr,Qn){if(Xr){var br=Xr[Ze]=Xr[Ze]||[];wn(br,Qn)===-1&&br[Lc](Qn)}}return Yt=(I={prop:j,ro:Y,rf:ve},I[ml]=We,I[nd]=T,I.add=Rn,I[Xf]=Fn,I.use=kr,I.trk=Xn,I),Yt}function ig(T,I){var j={fn:I,rm:function(){j.fn=null,T=null,I=null}};return T.use(j,I),j}function E_(T,I,j){var Y,ve=Ht(I);if(ve)return ve;var We=E("dyncfg",!0),Ze=I&&j!==!1?I:ht(I),st;function Dt(){st[Xf]()}function Yt(wi,Wn,Dn){try{wi=Yp(st,wi,Wn,Dn)}catch(Xo){Fs(T,Wn,"Setting value",Xo)}return wi[Wn]}function kr(wi){return ig(st,wi)}function Fn(wi,Wn){st.use(null,function(Dn){var Xo=st.upd;try{qe(Wn)||(st.upd=Wn),wi(Dn)}finally{st.upd=Xo}})}function Rn(wi,Wn){var Dn;return va(st,wi,Wn,(Dn={},Dn[0]=!0,Dn))[Wn]}function Xn(wi,Wn){var Dn;return va(st,wi,Wn,(Dn={},Dn[1]=!0,Dn))[Wn]}function Xr(wi,Wn){var Dn;return va(st,wi,Wn,(Dn={},Dn[2]=!0,Dn))[Wn]}function Qn(wi,Wn){return Wn&&Nr(Wn,function(Dn,Xo){Z(br,wi,Dn,Xo)}),wi}var br=(Y={uid:null,cfg:Ze},Y[ds]=T,Y[Xf]=Dt,Y.set=Yt,Y[Qf]=Qn,Y[rd]=kr,Y.ref=Rn,Y[Jf]=Xn,Y[ml]=Xr,Y._block=Fn,Y);return he(br,"uid",{c:!1,e:!1,w:!1,v:We}),st=cu(br),Qh(st,Ze,"config","Creating"),br}function Zh(T,I){T?(T[Ls](I),T[tu](2,108,I)):Fr(I)}function ep(T,I,j,Y){var ve=E_(j,T||{},Y);return I&&ve[Qf](ve.cfg,I),ve}function x_(T,I,j){var Y=T[pe]||T;return Y.cfg&&(Y.cfg===T||Y.cfg[pe]===Y)?Y[rd](I):(Zh(j,Fc+ln(T)),ep(T,null,j)[rd](I))}var R_=null;function O_(){var T=Is("Microsoft");return T&&(R_=T.ApplicationInsights),R_}function ib(T){var I=R_;return!I&&T.disableDbgExt!==!0&&(I=R_||O_()),I?I.ChromeDbgExt:null}var Jp,gv="warnToConsole",I_="AI (Internal): ",k_="AI: ",Xp="AITR_",tp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ob=(Jp={},Jp[0]=null,Jp[1]="errorToConsole",Jp[2]=gv,Jp[3]="debugToConsole",Jp);function A_(T){return T?'"'+T[Gs](/\"/g,is)+'"':is}function rp(T,I){var j=ud();if(j){var Y="log";j[T]&&(Y=T),xe(j[Y])&&j[Y](I)}}var vv=function(){function T(I,j,Y,ve){Y===void 0&&(Y=!1);var We=this;We[Gd]=I,We[Vs]=(Y?k_:I_)+I;var Ze=is;Sl()&&(Ze=fc().stringify(ve));var st=(j?" message:"+A_(j):is)+(ve?" props:"+A_(Ze):is);We[Vs]+=st}return T.dataType="MessageData",T}();function hd(T,I){return(T||{})[ds]||new Gi(I)}var Gi=function(){function T(I){this.identifier="DiagnosticLogger",this.queue=[];var j=0,Y={},ve,We,Ze,st,Dt;wl(T,this,function(Yt){Dt=Fn(I||{}),Yt.consoleLoggingLevel=function(){return ve},Yt[tu]=function(Xr,Qn,br,wi,Wn){Wn===void 0&&(Wn=!1);var Dn=new vv(Qn,br,Wn,wi);if(st)throw ln(Dn);var Xo=ob[Xr]||gv;if(qe(Dn[Vs]))Xn("throw"+(Xr===1?"Critical":"Warning"),Dn);else{if(Wn){var Xa=+Dn[Gd];!Y[Xa]&&ve>=Xr&&(Yt[Xo](Dn[Vs]),Y[Xa]=!0)}else ve>=Xr&&Yt[Xo](Dn[Vs]);kr(Xr,Dn)}},Yt.debugToConsole=function(Xr){rp("debug",Xr),Xn("warning",Xr)},Yt[Ls]=function(Xr){rp("warn",Xr),Xn("warning",Xr)},Yt.errorToConsole=function(Xr){rp("error",Xr),Xn("error",Xr)},Yt.resetInternalMessageCount=function(){j=0,Y={}},Yt[P_]=kr,Yt[cc]=function(Xr){Dt&&Dt.rm(),Dt=null};function kr(Xr,Qn){if(!Rn()){var br=!0,wi=Xp+Qn[Gd];if(Y[wi]?br=!1:Y[wi]=!0,br&&(Xr<=We&&(Yt.queue[Lc](Qn),j++,Xn(Xr===1?"error":"warn",Qn)),j===Ze)){var Wn="Internal events throttle limit per PageView reached for this app.",Dn=new vv(23,Wn,!1);Yt.queue[Lc](Dn),Xr===1?Yt.errorToConsole(Wn):Yt[Ls](Wn)}}}function Fn(Xr){return x_(ep(Xr,tp,Yt).cfg,function(Qn){var br=Qn.cfg;ve=br[Vh],We=br.loggingLevelTelemetry,Ze=br.maxMessageLimit,st=br.enableDebug})}function Rn(){return j>=Ze}function Xn(Xr,Qn){var br=ib(I||{});br&&br[Vu]&&br[Vu](Xr,Qn)}})}return T.__ieDyn=1,T}();function Qp(T){return T||new Gi}function oo(T,I,j,Y,ve,We){We===void 0&&(We=!1),Qp(T)[tu](I,j,Y,ve,We)}function M_(){for(var T=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],I=is,j,Y=0;Y<4;Y++)j=zc(),I+=T[j&15]+T[j>>4&15]+T[j>>8&15]+T[j>>12&15]+T[j>>16&15]+T[j>>20&15]+T[j>>24&15]+T[j>>28&15];var ve=T[8+(zc()&3)|0];return Xt(I,0,8)+Xt(I,9,4)+"4"+Xt(I,13,3)+ve+Xt(I,16,3)+Xt(I,19,12)}var _v=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,pd="00",np="ff",Uc="00000000000000000000000000000000",md="0000000000000000",gd=1;function Cs(T,I,j){return T&&T[no]===I&&T!==j?!!T.match(/^[\da-f]*$/i):!1}function di(T,I,j){return Cs(T,I)?T:j}function uu(T){(isNaN(T)||T<0||T>255)&&(T=1);for(var I=T.toString(16);I[no]<2;)I="0"+I;return I}function Jo(T,I,j,Y){var ve;return ve={},ve[ho]=Cs(Y,2,np)?Y:pd,ve[yu]=Zp(T)?T:M_(),ve[id]=ip(I)?I:kt(M_(),16),ve.traceFlags=j>=0&&j<=255?j:1,ve}function vd(T,I){var j;if(!T||(Ge(T)&&(T=T[0]||""),!T||!be(T)||T[no]>8192))return null;if(T.indexOf(",")!==-1){var Y=T[pv](",");T=Y[I>0&&Y[no]>I?I:0]}var ve=_v.exec($s(T));return!ve||ve[1]===np||ve[2]===Uc||ve[3]===md?null:(j={version:(ve[1]||is)[Ms](),traceId:(ve[2]||is)[Ms](),spanId:(ve[3]||is)[Ms]()},j[Lo]=parseInt(ve[4],16),j)}function Zp(T){return Cs(T,32,Uc)}function ip(T){return Cs(T,16,md)}function op(T){return!(!T||!Cs(T[ho],2,np)||!Cs(T[yu],32,Uc)||!Cs(T[id],16,md)||!Cs(uu(T[Lo]),2))}function ef(T){return op(T)?(T[Lo]&gd)===gd:!1}function L_(T){if(T){var I=uu(T[Lo]);Cs(I,2)||(I="01");var j=T[ho]||pd;return j!=="00"&&j!=="ff"&&(j=pd),"".concat(j.toLowerCase(),"-").concat(di(T.traceId,32,Uc).toLowerCase(),"-").concat(di(T.spanId,16,md).toLowerCase(),"-").concat(I.toLowerCase())}return""}function em(T){var I="traceparent",j=vd(Ln(I),T);return j||(j=vd(jc(I),T)),j}var tm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",_a="sampleRate",_d="ProcessLegacy",hc="http.method",lu="https://dc.services.visualstudio.com",rm="/v2/track",Qu="not_specified",nm="iKey",og=Jn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),sp="split",Tn="length",yd="toLowerCase",Ts="ingestionendpoint",tf="toString",yv="removeItem",$a="name",bd="message",ap="count",bv="preTriggerDate",Zu="disabled",sg="interval",im="daysOfMonth",wv="date",ag="getUTCDate",wd="stringify",rf="pathname",om="correlationHeaderExcludePatterns",cp="extensionConfig",cg="exceptions",Hc="parsedStack",Va="properties",nf="measurements",Eu="sizeInBytes",du="typeName",oh="severityLevel",Sd="problemGroup",ug="isManual",up="CreateFromInterface",lp="assembly",sh="fileName",Cd="hasFullStack",sm="level",dp="method",am="line",of="duration",ah="receivedResponse";function cm(T,I,j){var Y=I[Tn],ve=sb(T,I);if(ve[Tn]!==Y){for(var We=0,Ze=ve;j[Ze]!==void 0;)We++,Ze=nr(ve,0,147)+pc(We);ve=Ze}return ve}function sb(T,I){var j;return I&&(I=$s(In(I)),I[Tn]>150&&(j=nr(I,0,150),oo(T,2,57,"name is too long.  It has been truncated to 150 characters.",{name:I},!0))),j||I}function Ga(T,I,j){j===void 0&&(j=1024);var Y;return I&&(j=j||1024,I=$s(In(I)),I[Tn]>j&&(Y=nr(I,0,j),oo(T,2,61,"string value is too long. It has been truncated to "+j+" characters.",{value:I},!0))),Y||I}function Sv(T,I){return dg(T,I,2048,66)}function Td(T,I){var j;return I&&I[Tn]>32768&&(j=nr(I,0,32768),oo(T,2,56,"message is too long, it has been truncated to 32768 characters.",{message:I},!0)),j||I}function lg(T,I){var j;if(I){var Y=""+I;Y[Tn]>32768&&(j=nr(Y,0,32768),oo(T,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:I},!0))}return j||I}function Dd(T,I){if(I){var j={};Nr(I,function(Y,ve){if(Le(ve)&&Sl())try{ve=fc()[wd](ve)}catch(We){oo(T,2,49,"custom property is not valid",{exception:We},!0)}ve=Ga(T,ve,8192),Y=cm(T,Y,j),j[Y]=ve}),I=j}return I}function sf(T,I){if(I){var j={};Nr(I,function(Y,ve){Y=cm(T,Y,j),j[Y]=ve}),I=j}return I}function um(T,I){return I&&dg(T,I,128,69)[tf]()}function dg(T,I,j,Y){var ve;return I&&(I=$s(In(I)),I[Tn]>j&&(ve=nr(I,0,j),oo(T,2,Y,"input is too long, it has been truncated to "+j+" characters.",{data:I},!0))),ve||I}function pc(T){var I="00"+T;return Xt(I,I[Tn]-3)}var el=Ws()||{},fg=0,Cv=[null,null,null,null,null];function Pd(T){var I=fg,j=Cv,Y=j[I];return el.createElement?j[I]||(Y=j[I]=el.createElement("a")):Y={host:Zw(T,!0)},Y.href=T,I++,I>=j[Tn]&&(I=0),fg=I,Y}function fp(T){var I,j=Pd(T);return j&&(I=j.href),I}function ch(T){var I,j=Pd(T);return j&&(I=j[rf]),I}function ab(T,I){return T?T.toUpperCase()+" "+I:I}function Zw(T,I){var j=Ed(T,I)||"";if(j){var Y=j.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[Tn]>3&&be(Y[2])&&Y[2][Tn]>0)return Y[2]+(Y[3]||"")}return j}function Ed(T,I){var j=null;if(T){var Y=T.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[Tn]>2&&be(Y[2])&&Y[2][Tn]>0&&(j=Y[2]||"",I&&Y[Tn]>2)){var ve=(Y[1]||"")[yd](),We=Y[3]||"";(ve==="http"&&We===":80"||ve==="https"&&We===":443")&&(We=""),j+=We}}return j}var Tv=[lu+rm,"https://breeze.aimon.applicationinsights.io"+rm,"https://dc-int.services.visualstudio.com"+rm],Dv="cid-v1:";function Pv(T){return wn(Tv,T[yd]())!==-1}function hg(T){Dv=T}function HC(){return Dv}function pg(T,I,j){if(!I||T&&T.disableCorrelationHeaders)return!1;if(T&&T[om]){for(var Y=0;Y<T.correlationHeaderExcludePatterns[Tn];Y++)if(T[om][Y].test(I))return!1}var ve=Pd(I).host[yd]();if(ve&&(ha(ve,":443")!==-1||ha(ve,":80")!==-1)&&(ve=(Ed(I,!0)||"")[yd]()),(!T||!T.enableCorsCorrelation)&&ve&&ve!==j)return!1;var We=T&&T.correlationHeaderDomains;if(We){var Ze;if(kn(We,function(Yt){var kr=new RegExp(Yt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||kr.test(ve)}),!Ze)return!1}var st=T&&T.correlationHeaderExcludedDomains;if(!st||st[Tn]===0)return!0;for(var Y=0;Y<st[Tn];Y++){var Dt=new RegExp(st[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(ve))return!1}return ve&&ve[Tn]>0}function BC(T){if(T){var I=Pl(T,og[1]);if(I&&I!==Dv)return I}}function Pl(T,I){if(T)for(var j=T[sp](","),Y=0;Y<j[Tn];++Y){var ve=j[Y][sp]("=");if(ve[Tn]===2&&ve[0]===I)return ve[1]}}function uh(T,I,j,Y){var ve,We=Y,Ze=Y;if(I&&I[Tn]>0){var st=Pd(I);if(ve=st.host,!We)if(st[rf]!=null){var Dt=st.pathname[Tn]===0?"/":st[rf];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),Ze=st[rf],We=Ga(T,j?j+" "+Dt:Dt)}else We=Ga(T,I)}else ve=Y,We=Y;return{target:ve,name:We,data:Ze}}function lm(){var T=As();if(T&&T.now&&T.timing){var I=T.now()+T.timing.navigationStart;if(I>0)return I}return na()}function N_(T,I){var j=null;return T!==0&&I!==0&&!le(T)&&!le(I)&&(j=I-T),j}function dm(T,I){var j=T||{};return{getName:function(){return j[$a]},setName:function(Y){I&&I.setName(Y),j[$a]=Y},getTraceId:function(){return j.traceID},setTraceId:function(Y){I&&I.setTraceId(Y),Zp(Y)&&(j.traceID=Y)},getSpanId:function(){return j.parentID},setSpanId:function(Y){I&&I.setSpanId(Y),ip(Y)&&(j.parentID=Y)},getTraceFlags:function(){return j.traceFlags},setTraceFlags:function(Y){I&&I.setTraceFlags(Y),j.traceFlags=Y}}}var El=pl({LocalStorage:0,SessionStorage:1}),tl=pl({AI:0,AI_AND_W3C:1,W3C:2}),af=void 0,cf=void 0,Ev="";function hp(){return fh()?ya(El.LocalStorage):null}function ya(T){try{if(le(Go()))return null;var I=new Date()[tf](),j=Is(T===El.LocalStorage?"localStorage":"sessionStorage"),Y=Ev+I;j.setItem(Y,I);var ve=j.getItem(Y)!==I;if(j[yv](Y),!ve)return j}catch{}return null}function lh(){return xl()?ya(El.SessionStorage):null}function dh(){af=!1,cf=!1}function q_(T){Ev=T||""}function eS(){af=fh(!0),cf=xl(!0)}function fh(T){return(T||af===void 0)&&(af=!!ya(El.LocalStorage)),af}function tS(T,I){var j=hp();if(j!==null)try{return j.getItem(I)}catch(Y){af=!1,oo(T,2,1,"Browser failed read of local storage. "+Yo(Y),{exception:ln(Y)})}return null}function fm(T,I,j){var Y=hp();if(Y!==null)try{return Y.setItem(I,j),!0}catch(ve){af=!1,oo(T,2,3,"Browser failed write to local storage. "+Yo(ve),{exception:ln(ve)})}return!1}function hh(T,I){var j=hp();if(j!==null)try{return j[yv](I),!0}catch(Y){af=!1,oo(T,2,5,"Browser failed removal of local storage item. "+Yo(Y),{exception:ln(Y)})}return!1}function xl(T){return(T||cf===void 0)&&(cf=!!ya(El.SessionStorage)),cf}function mg(){var T=[];return xl()&&Nr(Is("sessionStorage"),function(I){T.push(I)}),T}function pp(T,I){var j=lh();if(j!==null)try{return j.getItem(I)}catch(Y){cf=!1,oo(T,2,2,"Browser failed read of session storage. "+Yo(Y),{exception:ln(Y)})}return null}function hm(T,I,j){var Y=lh();if(Y!==null)try{return Y.setItem(I,j),!0}catch(ve){cf=!1,oo(T,2,4,"Browser failed write to session storage. "+Yo(ve),{exception:ln(ve)})}return!1}function gg(T,I){var j=lh();if(j!==null)try{return j[yv](I),!0}catch(Y){cf=!1,oo(T,2,6,"Browser failed removal of session storage item. "+Yo(Y),{exception:ln(Y)})}return!1}var cb="appInsightsThrottle",WC=function(){function T(I,j){var Y=this,ve,We,Ze,st,Dt,Yt,kr,Fn=!1,Rn=!1;Xr(),Y._getDbgPlgTargets=function(){return[kr]},Y.getConfig=function(){return Ze},Y.canThrottle=function(sr){var an=mh(sr),fi=Qn(sr);return Wn(fi,ve,an)},Y.isTriggered=function(sr){return Av(sr)},Y.isReady=function(){return Fn},Y.flush=function(sr){try{var an=Mv(sr);if(an&&an[Tn]>0){var fi=an.slice(0);return kr[sr]=[],kn(fi,function(Qo){Xn(Qo.msgID,Qo[bd],Qo.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(kr){var sr=!0;return Nr(kr,function(an){var fi=Y.flush(parseInt(an));sr=sr&&fi}),sr}}catch{}return!1},Y.onReadyState=function(sr,an){return an===void 0&&(an=!0),Fn=le(sr)?!0:sr,Fn&&an?Y.flushAll():null},Y.sendMessage=function(sr,an,fi){return Xn(sr,an,fi,!0)};function Xn(sr,an,fi,Qo){if(Fn){var ps=Nl(sr);if(!ps)return;var ms=Qn(sr),Ds=mh(sr),Cm=Wn(ms,ve,Ds),vp=!1,_p=0,vb=Av(sr);try{Cm&&!vb?(_p=Math.min(ms.limit.maxSendNumber,Ds[ap]+1),Ds[ap]=0,vp=!0,Dt[sr]=!0,Ds[bv]=new Date):(Dt[sr]=Cm,Ds[ap]+=1);var Tm=Dn(sr);Cg(We,Tm,Ds);for(var gh=0;gh<_p;gh++)kv(sr,We,an,fi)}catch{}return{isThrottled:vp,throttleNum:_p}}else if(Qo){var Lv=Mv(sr);Lv.push({msgID:sr,message:an,severity:fi})}return null}function Xr(){We=hd(I),Dt={},st={},kr={},Ze={},br(109),Yt=Jh(j)?j:"",I.addUnloadHook(x_(I.config,function(sr){var an=sr.cfg;ve=fh();var fi=an.throttleMgrCfg||{};Nr(fi,function(Qo,ps){br(parseInt(Qo),ps)})}))}function Qn(sr){return Ze[sr]||Ze[109]}function br(sr,an){var fi,Qo;try{var ps=an||{},ms={};ms[Zu]=!!ps[Zu];var Ds=ps[sg]||{};Rn=Ds?.daysOfMonth&&Ds?.daysOfMonth[Tn]>0,ms[sg]=wi(Ds);var Cm={samplingRate:((fi=ps.limit)===null||fi===void 0?void 0:fi.samplingRate)||100,maxSendNumber:((Qo=ps.limit)===null||Qo===void 0?void 0:Qo.maxSendNumber)||1};ms.limit=Cm,Ze[sr]=ms}catch{}}function wi(sr){sr=sr||{};var an=sr?.monthInterval,fi=sr?.dayInterval;return le(an)&&le(fi)&&(sr.monthInterval=3,Rn||(sr[im]=[28],Rn=!0)),sr={monthInterval:sr?.monthInterval,dayInterval:sr?.dayInterval,daysOfMonth:sr?.daysOfMonth},sr}function Wn(sr,an,fi){if(sr&&!sr[Zu]&&an&&Jh(fi)){var Qo=wa(),ps=fi[wv],ms=sr[sg],Ds=1;if(ms?.monthInterval){var Cm=(Qo.getUTCFullYear()-ps.getUTCFullYear())*12+Qo.getUTCMonth()-ps.getUTCMonth();Ds=Sm(ms.monthInterval,0,Cm)}var vp=1;if(Rn)vp=wn(ms[im],Qo[ag]());else if(ms?.dayInterval){var _p=Math.floor((Qo.getTime()-ps.getTime())/864e5);vp=Sm(ms.dayInterval,0,_p)}return Ds>=0&&vp>=0}return!1}function Dn(sr,an){var fi=Jh(an)?an:"";return sr?cb+fi+"-"+sr:null}function Xo(sr){try{if(sr){var an=new Date;return sr.getUTCFullYear()===an.getUTCFullYear()&&sr.getUTCMonth()===an.getUTCMonth()&&sr[ag]()===an[ag]()}}catch{}return!1}function Xa(sr,an,fi){try{var Qo={date:wa(),count:0};if(sr){var ps=JSON.parse(sr),ms={date:wa(ps[wv])||Qo[wv],count:ps[ap]||Qo[ap],preTriggerDate:ps.preTriggerDate?wa(ps[bv]):void 0};return ms}else return Cg(an,fi,Qo),Qo}catch{}return null}function wa(sr){try{if(sr){var an=new Date(sr);if(!isNaN(an.getDate()))return an}else return new Date}catch{}return null}function Cg(sr,an,fi){try{return fm(sr,an,$s(JSON[wd](fi)))}catch{}return!1}function Sm(sr,an,fi){return sr<=0?1:fi>=an&&(fi-an)%sr==0?Math.floor((fi-an)/sr)+1:-1}function kv(sr,an,fi,Qo){oo(an,Qo||1,sr,fi)}function Nl(sr){try{var an=Qn(sr);return hs(1e6)<=an.limit.samplingRate}catch{}return!1}function mh(sr){try{var an=st[sr];if(!an){var fi=Dn(sr,Yt);an=Xa(tS(We,fi),We,fi),st[sr]=an}return st[sr]}catch{}return null}function Av(sr){var an=Dt[sr];if(le(an)){an=!1;var fi=mh(sr);fi&&(an=Xo(fi[bv])),Dt[sr]=an}return Dt[sr]}function Mv(sr){return kr=kr||{},le(kr[sr])&&(kr[sr]=[]),kr[sr]}}return T}(),pm=";",rS="=";function Ka(T){if(!T)return{};var I=T[sp](pm),j=wo(I,function(ve,We){var Ze=We[sp](rS);if(Ze[Tn]===2){var st=Ze[0][yd](),Dt=Ze[1];ve[st]=Dt}return ve},{});if(xn(j)[Tn]>0){if(j.endpointsuffix){var Y=j.location?j.location+".":"";j[Ts]=j[Ts]||"https://"+Y+"dc."+j.endpointsuffix}j[Ts]=j[Ts]||lu,eu(j[Ts],"/")&&(j[Ts]=j[Ts].slice(0,-1))}return j}var mm={parse:Ka},gm=function(){function T(I,j,Y){var ve=this,We=this;We.ver=1,We.sampleRate=100,We.tags={},We[$a]=Ga(I,Y)||Qu,We.data=j,We.time=Ni(new Date),We.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ve.sampleRate===100?4:1},tags:1,data:1}}return T}(),nS=function(){function T(I,j,Y,ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var We=this;We.ver=2,We[$a]=Ga(I,j)||Qu,We[Va]=Dd(I,Y),We[nf]=sf(I,ve)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Event",T.dataType="EventData",T}(),$C="<no_method>",Rl="error",Ya="stack",Ol="stackDetails",vm="errorSrc",vg="message",F_="description";function vn(T,I){var j=T;return j&&!be(j)&&(JSON&&JSON[wd]?(j=JSON[wd](T),I&&(!j||j==="{}")&&(xe(T[tf])?j=T[tf]():j=""+T)):j=""+T+" - (Missing JSON.stringify)"),j||""}function xv(T,I){var j=T;return T&&(j&&!be(j)&&(j=T[vg]||T[F_]||j),j&&!be(j)&&(j=vn(j,!0)),T.filename&&(j=j+" @"+(T.filename||"")+":"+(T.lineno||"?")+":"+(T.colno||"?"))),I&&I!=="String"&&I!=="Object"&&I!=="Error"&&ha(j||"",I)===-1&&(j=I+": "+j),j||""}function mp(T){try{if(Le(T))return"hasFullStack"in T&&"typeName"in T}catch{}return!1}function uf(T){try{if(Le(T))return"ver"in T&&"exceptions"in T&&"properties"in T}catch{}return!1}function _m(T){return T&&T.src&&be(T.src)&&T.obj&&Ge(T.obj)}function ba(T){var I=T||"";be(I)||(be(I[Ya])?I=I[Ya]:I=""+I);var j=I[sp](`
`);return{src:I,obj:j}}function j_(T){for(var I=[],j=T[sp](`
`),Y=0;Y<j[Tn];Y++){var ve=j[Y];j[Y+1]&&(ve+="@"+j[Y+1],Y++),I.push(ve)}return{src:T,obj:I}}function _g(T){var I=null;if(T)try{if(T[Ya])I=ba(T[Ya]);else if(T[Rl]&&T[Rl][Ya])I=ba(T[Rl][Ya]);else if(T.exception&&T.exception[Ya])I=ba(T.exception[Ya]);else if(_m(T))I=T;else if(_m(T[Ol]))I=T[Ol];else if(bo()&&bo().opera&&T[vg])I=j_(T[bd]);else if(T.reason&&T.reason[Ya])I=ba(T.reason[Ya]);else if(be(T))I=ba(T);else{var j=T[vg]||T[F_]||"";be(T[vm])&&(j&&(j+=`
`),j+=" from "+T[vm]),j&&(I=ba(j))}}catch(Y){I=ba(Y)}return I||{src:"",obj:null}}function z_(T){var I="";return T&&(T.obj?kn(T.obj,function(j){I+=j+`
`}):I=T.src||""),I}function Il(T){var I,j=T.obj;if(j&&j[Tn]>0){I=[];var Y=0,ve=0;kn(j,function(Xr){var Qn=Xr[tf]();if(fu.regex.test(Qn)){var br=new fu(Qn,Y++);ve+=br[Eu],I.push(br)}});var We=32*1024;if(ve>We)for(var Ze=0,st=I[Tn]-1,Dt=0,Yt=Ze,kr=st;Ze<st;){var Fn=I[Ze][Eu],Rn=I[st][Eu];if(Dt+=Fn+Rn,Dt>We){var Xn=kr-Yt+1;I.splice(Yt,Xn);break}Yt=Ze,kr=st,Ze++,st--}}return I}function ym(T){var I="";if(T&&(I=T.typeName||T[$a]||"",!I))try{var j=/function (.{1,200})\(/,Y=j.exec(T.constructor[tf]());I=Y&&Y[Tn]>1?Y[1]:""}catch{}return I}function ph(T){if(T)try{if(!be(T)){var I=ym(T),j=vn(T,!1);return(!j||j==="{}")&&(T[Rl]&&(T=T[Rl],I=ym(T)),j=vn(T,!0)),ha(j,I)!==0&&I!=="String"?I+":"+j:j}}catch{}return""+(T||"")}var yg=function(){function T(I,j,Y,ve,We,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var st=this;st.ver=2,uf(j)?(st[cg]=j[cg]||[],st[Va]=j[Va],st[nf]=j[nf],j[oh]&&(st[oh]=j[oh]),j.id&&(st.id=j.id),j[Sd]&&(st[Sd]=j[Sd]),le(j[ug])||(st[ug]=j[ug])):(Y||(Y={}),st[cg]=[new bm(I,j,Y)],st[Va]=Dd(I,Y),st[nf]=sf(I,ve),We&&(st[oh]=We),Ze&&(st.id=Ze))}return T.CreateAutoException=function(I,j,Y,ve,We,Ze,st,Dt){var Yt,kr=ym(We||Ze||I);return Yt={},Yt[bd]=xv(I,kr),Yt.url=j,Yt.lineNumber=Y,Yt.columnNumber=ve,Yt.error=ph(We||Ze||I),Yt.evt=ph(Ze||I),Yt[du]=kr,Yt.stackDetails=_g(st||We||Ze),Yt.errorSrc=Dt,Yt},T.CreateFromInterface=function(I,j,Y,ve){var We=j[cg]&&Mn(j[cg],function(st){return bm[up](I,st)}),Ze=new T(I,nu(nu({},j),{exceptions:We}),Y,ve);return Ze},T.prototype.toInterface=function(){var I,j=this,Y=j.exceptions,ve=j.properties,We=j.measurements,Ze=j.severityLevel,st=j.problemGroup,Dt=j.id,Yt=j.isManual,kr=Y instanceof Array&&Mn(Y,function(Fn){return Fn.toInterface()})||void 0;return I={ver:"4.0"},I[cg]=kr,I.severityLevel=Ze,I.properties=ve,I.measurements=We,I.problemGroup=st,I.id=Dt,I.isManual=Yt,I},T.CreateSimpleException=function(I,j,Y,ve,We,Ze){var st;return{exceptions:[(st={},st[Cd]=!0,st.message=I,st.stack=We,st.typeName=j,st)]}},T.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",T.dataType="ExceptionData",T.formatError=ph,T}(),bm=function(){function T(I,j,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ve=this;if(mp(j))ve[du]=j[du],ve[bd]=j[bd],ve[Ya]=j[Ya],ve[Hc]=j[Hc]||[],ve[Cd]=j[Cd];else{var We=j,Ze=We&&We.evt;ze(We)||(We=We[Rl]||Ze||We),ve[du]=Ga(I,ym(We))||Qu,ve[bd]=Td(I,xv(j||We,ve[du]))||Qu;var st=j[Ol]||_g(j);ve[Hc]=Il(st),Ge(ve[Hc])&&Mn(ve[Hc],function(Dt){Dt[lp]=Ga(I,Dt[lp]),Dt[sh]=Ga(I,Dt[sh])}),ve[Ya]=lg(I,z_(st)),ve.hasFullStack=Ge(ve.parsedStack)&&ve.parsedStack[Tn]>0,Y&&(Y[du]=Y[du]||ve[du])}}return T.prototype.toInterface=function(){var I,j=this,Y=j[Hc]instanceof Array&&Mn(j[Hc],function(We){return We.toInterface()}),ve=(I={id:j.id,outerId:j.outerId,typeName:j[du],message:j[bd],hasFullStack:j[Cd],stack:j[Ya]},I[Hc]=Y||void 0,I);return ve},T.CreateFromInterface=function(I,j){var Y=j[Hc]instanceof Array&&Mn(j[Hc],function(We){return fu[up](We)})||j[Hc],ve=new T(I,nu(nu({},j),{parsedStack:Y}));return ve},T}(),fu=function(){function T(I,j){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[Eu]=0,typeof I=="string"){var ve=I;Y[sm]=j,Y[dp]=$C,Y[lp]=$s(ve),Y[sh]="",Y[am]=0;var We=ve.match(T.regex);We&&We[Tn]>=5&&(Y[dp]=$s(We[2])||Y[dp],Y[sh]=$s(We[4]),Y[am]=parseInt(We[5])||0)}else Y[sm]=I[sm],Y[dp]=I[dp],Y[lp]=I[lp],Y[sh]=I[sh],Y[am]=I[am],Y[Eu]=0;Y.sizeInBytes+=Y.method[Tn],Y.sizeInBytes+=Y.fileName[Tn],Y.sizeInBytes+=Y.assembly[Tn],Y[Eu]+=T.baseSize,Y.sizeInBytes+=Y.level.toString()[Tn],Y.sizeInBytes+=Y.line.toString()[Tn]}return T.CreateFromInterface=function(I){return new T(I,null)},T.prototype.toInterface=function(){var I=this;return{level:I[sm],method:I[dp],assembly:I[lp],fileName:I[sh],line:I[am]}},T.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,T.baseSize=58,T}(),xd=function(){function T(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return T}(),ub=function(){function T(I,j,Y,ve,We,Ze,st,Dt,Yt){this.aiDataContract={ver:1,metrics:1,properties:0};var kr=this;kr.ver=2;var Fn=new xd;Fn[ap]=ve>0?ve:void 0,Fn.max=isNaN(Ze)||Ze===null?void 0:Ze,Fn.min=isNaN(We)||We===null?void 0:We,Fn[$a]=Ga(I,j)||Qu,Fn.value=Y,Fn.stdDev=isNaN(st)||st===null?void 0:st,kr.metrics=[Fn],kr[Va]=Dd(I,Dt),kr[nf]=sf(I,Yt)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",T.dataType="MetricData",T}(),kl="";function Rv(T,I){return I===void 0&&(I=!1),T==null?I:T.toString()[yd]()==="true"}function Al(T){(isNaN(T)||T<0)&&(T=0),T=Math.round(T);var I=kl+T%1e3,j=kl+Math.floor(T/1e3)%60,Y=kl+Math.floor(T/(1e3*60))%60,ve=kl+Math.floor(T/(1e3*60*60))%24,We=Math.floor(T/(1e3*60*60*24));return I=I[Tn]===1?"00"+I:I[Tn]===2?"0"+I:I,j=j[Tn]<2?"0"+j:j,Y=Y[Tn]<2?"0"+Y:Y,ve=ve[Tn]<2?"0"+ve:ve,(We>0?We+".":kl)+ve+":"+Y+":"+j+"."+I}function lb(T,I){var j=null;return kn(T,function(Y){if(Y.identifier===I)return j=Y,-1}),j}function Ov(T,I,j,Y,ve){return!ve&&be(T)&&(T==="Script error."||T==="Script error")}var Ml=function(){function T(I,j,Y,ve,We,Ze,st){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=um(I,st),Dt.url=Sv(I,Y),Dt[$a]=Ga(I,j)||Qu,isNaN(ve)||(Dt[of]=Al(ve)),Dt[Va]=Dd(I,We),Dt[nf]=sf(I,Ze)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",T.dataType="PageviewData",T}(),db=function(){function T(I,j,Y,ve,We,Ze,st,Dt,Yt,kr,Fn,Rn){Yt===void 0&&(Yt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Xn=this;Xn.ver=2,Xn.id=j,Xn[of]=Al(We),Xn.success=Ze,Xn.resultCode=st+"",Xn.type=Ga(I,Yt);var Xr=uh(I,Y,Dt,ve);Xn.data=Sv(I,ve)||Xr.data,Xn.target=Ga(I,Xr.target),kr&&(Xn.target="".concat(Xn.target," | ").concat(kr)),Xn[$a]=Ga(I,Xr[$a]),Xn[Va]=Dd(I,Fn),Xn[nf]=sf(I,Rn)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",T.dataType="RemoteDependencyData",T}(),fb=function(){function T(I,j,Y,ve,We){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,j=j||Qu,Ze[bd]=Td(I,j),Ze[Va]=Dd(I,ve),Ze[nf]=sf(I,We),Y&&(Ze[oh]=Y)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Message",T.dataType="MessageData",T}(),U_=function(){function T(I,j,Y,ve,We,Ze,st){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=Sv(I,Y),Dt[$a]=Ga(I,j)||Qu,Dt[Va]=Dd(I,We),Dt[nf]=sf(I,Ze),st&&(Dt.domProcessing=st.domProcessing,Dt[of]=st[of],Dt.networkConnect=st.networkConnect,Dt.perfTotal=st.perfTotal,Dt[ah]=st[ah],Dt.sentRequest=st.sentRequest)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",T.dataType="PageviewPerformanceData",T}(),lf=function(){function T(I,j){this.aiDataContract={baseType:1,baseData:1},this.baseType=I,this.baseData=j}return T}(),wm=pl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),hb=function(){function T(){}return T.getConfig=function(I,j,Y,ve){ve===void 0&&(ve=!1);var We;return Y&&I[cp]&&I[cp][Y]&&!le(I[cp][Y][j])?We=I[cp][Y][j]:We=I[j],le(We)?ve:We},T}();function df(T){var I="ai."+T+".";return function(j){return I+j}}var Ja=df("application"),jo=df("device"),rl=df("location"),bg=df("operation"),Ll=df("session"),ff=df("user"),hu=df("cloud"),wg=df("internal"),Iv=function(T){sd(I,T);function I(){return T.call(this)||this}return I}(Pu({applicationVersion:Ja("ver"),applicationBuild:Ja("build"),applicationTypeId:Ja("typeId"),applicationId:Ja("applicationId"),applicationLayer:Ja("layer"),deviceId:jo("id"),deviceIp:jo("ip"),deviceLanguage:jo("language"),deviceLocale:jo("locale"),deviceModel:jo("model"),deviceFriendlyName:jo("friendlyName"),deviceNetwork:jo("network"),deviceNetworkName:jo("networkName"),deviceOEMName:jo("oemName"),deviceOS:jo("os"),deviceOSVersion:jo("osVersion"),deviceRoleInstance:jo("roleInstance"),deviceRoleName:jo("roleName"),deviceScreenResolution:jo("screenResolution"),deviceType:jo("type"),deviceMachineName:jo("machineName"),deviceVMName:jo("vmName"),deviceBrowser:jo("browser"),deviceBrowserVersion:jo("browserVersion"),locationIp:rl("ip"),locationCountry:rl("country"),locationProvince:rl("province"),locationCity:rl("city"),operationId:bg("id"),operationName:bg("name"),operationParentId:bg("parentId"),operationRootId:bg("rootId"),operationSyntheticSource:bg("syntheticSource"),operationCorrelationVector:bg("correlationVector"),sessionId:Ll("id"),sessionIsFirst:Ll("isFirst"),sessionIsNew:Ll("isNew"),userAccountAcquisitionDate:ff("accountAcquisitionDate"),userAccountId:ff("accountId"),userAgent:ff("userAgent"),userId:ff("id"),userStoreRegion:ff("storeRegion"),userAuthUserId:ff("authUserId"),userAnonymousUserAcquisitionDate:ff("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ff("authUserAcquisitionDate"),cloudName:hu("name"),cloudRole:hu("role"),cloudRoleVer:hu("roleVer"),cloudRoleInstance:hu("roleInstance"),cloudEnvironment:hu("environment"),cloudLocation:hu("location"),cloudDeploymentUnit:hu("deploymentUnit"),internalNodeName:wg("nodeName"),internalSdkVersion:wg("sdkVersion"),internalAgentVersion:wg("agentVersion"),internalSnippet:wg("snippet"),internalSdkSrc:wg("sdkSrc")}));function pb(T,I,j,Y,ve,We){var Ze;j=Ga(Y,j)||Qu,(le(T)||le(I)||le(j))&&fr("Input doesn't contain all required fields");var st="";T[nm]&&(st=T[nm],delete T[nm]);var Dt=(Ze={},Ze[$a]=j,Ze.time=Ni(new Date),Ze.iKey=st,Ze.ext=We||{},Ze.tags=[],Ze.data={},Ze.baseType=I,Ze.baseData=T,Ze);return le(ve)||Nr(ve,function(Yt,kr){Dt.data[Yt]=kr}),Dt}var H_=function(){function T(){}return T.create=pb,T}(),gp={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Sg=new Iv;function iS(T){var I=null;if(xe(Event))I=new Event(T);else{var j=Ws();j&&j.createEvent&&(I=j.createEvent("Event"),I.initEvent(T,!0,!0))}return I}var mb="AppInsightsPropertiesPlugin",gb="AppInsightsChannelPlugin",oS="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=oS,r.BreezeChannelIdentifier=gb,r.ConfigurationManager=hb,r.ConnectionStringParser=mm,r.ContextTagKeys=Iv,r.CtxTagKeys=Sg,r.DEFAULT_BREEZE_ENDPOINT=lu,r.DEFAULT_BREEZE_PATH=rm,r.Data=lf,r.DisabledPropertyName=tm,r.DistributedTracingModes=tl,r.Envelope=gm,r.Event=nS,r.Exception=yg,r.Extensions=gp,r.HttpMethod=hc,r.Metric=ub,r.PageView=Ml,r.PageViewPerformance=U_,r.ProcessLegacy=_d,r.PropertiesPluginIdentifier=mb,r.RemoteDependencyData=db,r.RequestHeaders=og,r.SampleRate=_a,r.SeverityLevel=wm,r.TelemetryItemCreator=H_,r.ThrottleMgr=WC,r.Trace=fb,r.correlationIdCanIncludeCorrelationHeader=pg,r.correlationIdGetCorrelationContext=BC,r.correlationIdGetCorrelationContextValue=Pl,r.correlationIdGetPrefix=HC,r.correlationIdSetPrefix=hg,r.createDistributedTraceContextFromTrace=dm,r.createDomEvent=iS,r.createTelemetryItem=pb,r.createTraceParent=Jo,r.dataSanitizeException=lg,r.dataSanitizeId=um,r.dataSanitizeInput=dg,r.dataSanitizeKey=sb,r.dataSanitizeKeyAndAddUniqueness=cm,r.dataSanitizeMeasurements=sf,r.dataSanitizeMessage=Td,r.dataSanitizeProperties=Dd,r.dataSanitizeString=Ga,r.dataSanitizeUrl=Sv,r.dateTimeUtilsDuration=N_,r.dateTimeUtilsNow=lm,r.dsPadNumber=pc,r.findW3cTraceParent=em,r.formatTraceParent=L_,r.getExtensionByName=lb,r.isBeaconApiSupported=io,r.isCrossOriginError=Ov,r.isInternalApplicationInsightsEndpoint=Pv,r.isSampledFlag=ef,r.isValidSpanId=ip,r.isValidTraceId=Zp,r.isValidTraceParent=op,r.msToTimeSpan=Al,r.parseConnectionString=Ka,r.parseTraceParent=vd,r.strNotSpecified=Qu,r.stringToBoolOrDefault=Rv,r.urlGetAbsoluteUrl=fp,r.urlGetCompleteUrl=ab,r.urlGetPathName=ch,r.urlParseFullHost=Ed,r.urlParseHost=Zw,r.urlParseUrl=Pd,r.utlCanUseLocalStorage=fh,r.utlCanUseSessionStorage=xl,r.utlDisableStorage=dh,r.utlEnableStorage=eS,r.utlGetLocalStorage=tS,r.utlGetSessionStorage=pp,r.utlGetSessionStorageKeys=mg,r.utlRemoveSessionStorage=gg,r.utlRemoveStorage=hh,r.utlSetLocalStorage=fm,r.utlSetSessionStorage=hm,r.utlSetStoragePrefix=q_})});var Gfe=P((AN,Vfe)=>{(function(r,e){typeof AN=="object"&&typeof Vfe<"u"?e(AN):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(AN,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",_="Symbol",y="_polyfill",D="indexOf",k="length",H="done",M="value",z="name",re="slice",ce=Object,_e=ce[c],G=String,$=G[c],te=Math,Te=Array,ae=Te[c];function ue(h,v){var w=v;try{w=h()}catch{}return w}var Fe=[l,s,i,d,"symbol","bigint"];function qe(h){return function(v){return typeof v===h}}function le(h){var v="[object "+h+"]";return function(w){return!!(w&&Ce(w)===v)}}function Ce(h){return _e.toString.call(h)}function be(h){return typeof h===d||h===d}function xe(h){return h===t||be(h)}function Le(h){return h===t||!Ge(h)}function Ge(h){return!!h||h!==e}var Ct=function(h){return h!==a&&Fe.indexOf(h)!==-1},ze=qe(l),at=qe(o);function ct(h){return!h&&xe(h)?!1:!!h&&typeof h===a}var tt=Te.isArray,pr=le("Date"),Nr=qe(s),Hr=qe(i),fr=le("Error");function It(h){return!!h&&at(h.then)}function mr(h){return!(!h||ue(function(){return!(h&&0+h)},!h))}var Lt=ce.getOwnPropertyDescriptor;function nn(h,v){return h&&_e.hasOwnProperty.call(h,v)}var cn=ce.hasOwn||xn;function xn(h,v){return nn(h,v)||!!Lt(h,v)}function Rr(h,v,w){if(h&&ct(h)){for(var x in h)if(cn(h,x)&&v.call(w||h,x,h[x])===-1)break}}function Un(h,v,w,x){var q={};return Rr(h,function(V,ee){q[V]=v?ee:V,q[ee]=w?ee:V}),x(q)}function Wr(h){throw new Error(h)}function un(h){throw new TypeError(h)}var ni=ce.freeze,$r=function(h){return h},In=function(h){return h[u]||t},Ei=ce.assign;function Vr(h){return(!ct(h)||h===t)&&un("objKeys called on non-object"),ce.keys(h)}function Vi(h){return ni&&Rr(h,function(v,w){(tt(w)||ct(w))&&ni(w)}),ii(h)}var ii=ni||$r,ln=ce.getPrototypeOf||In;function Re(h){return Un(h,1,0,Vi)}function oe(h){return Un(h,0,0,Vi)}function Q(h){var v={};return Rr(h,function(w,x){v[w]=x[1],v[x[0]]=x[1]}),Vi(v)}function ye(h){return Q(h)}var Ke=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=G,Jt="__tsUtils$gblCfg",nr;function Xt(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}function Vt(){if(!nr){var h=Xt()||{};nr=h[Jt]=h[Jt]||{}}return nr}function kt(h,v){var w=n;if(fr(h))w="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{w=JSON.stringify(h,t,v?Nr(v)?v:4:e)}catch(x){w=" - "+kt(x,v)}return Ce(h)+": "+w}var K=ae[re],Ne=function(h,v){un("'"+ft(h)+"' not defined for "+kt(v))},Bt=function(h){return function(v){return v[h].apply(v,K.call(arguments,1))}},Tr=function(h,v){var w=v&&v[h];return function(x){var q=x&&x[h]||w;if(q)return q.apply(x,K.call(arguments,1));Ne(h,x)}},He=function(h,v,w){var x=v&&v[h];return function(q){var V=q&&q[h]||x;if(V||w){var ee=arguments;return(V||w).apply(q,V?K.call(ee,1):ee)}Ne(h,q)}};function ne(h){return function(v){return v[h]}}var Ee=te.max,je=Tr(re,$),he=Tr("substring",$),S=He("substr",$,fe);function fe(h,v,w){return xe(h)&&un("'polyStrSubstr called with invalid "+kt(h)),w<0?n:(v=v||0,v<0&&(v=Ee(v+h[k],0)),be(w)?je(h,v):je(h,v,v+w))}function Je(h,v){return he(h,0,v)}var Cr="_urid",Br;function Jr(){if(!Br){var h=Vt();Br=h.gblSym=h.gblSym||{k:{},s:{}}}return Br}var qn={};function xi(h){var v={description:ft(h),toString:function(){return _+"("+h+")"}};return v[y]=!0,v}function ws(h){var v=Jr();if(!cn(v.k,h)){var w=xi(h),x=Vr(v.s).length;w[Cr]=function(){return x+"_"+w.toString()},v.k[h]=w,v.s[w[Cr]()]=ft(h)}return v.k[h]}function bn(h){var v,w=Ke[h];return w&&(v=qn[w]=qn[w]||xi(_+"."+w)),v}var Go={e:"enumerable",c:"configurable",v:M,w:"writable",g:"get",s:"set"};function Is(h){var v={};if(v[Go.c]=!0,v[Go.e]=!0,h.l){v.get=function(){return h.l.v};var w=Lt(h.l,"v");w&&w.set&&(v.set=function(x){h.l.v=x})}return Rr(h,function(x,q){v[Go[x]]=be(q)?v[Go[x]]:q}),v}var Ws=ce.defineProperty;function Oo(h,v,w){return Ws(h,v,Is(w))}var bo,U=function(){bo=Vt(),U=t};function Ue(h){var v={};return U&&U(),v.b=bo.lzy,Ws(v,"v",{configurable:!0,get:function(){var w=h();return bo.lzy||(Ws(v,"v",{value:w}),v.b&&delete v.b),bo.lzy&&v.b!==bo.lzy&&(v.b=bo.lzy),w}}),v}function vt(h,v){return Ue(function(){return ue(h,v)})}var qr="window",to,zi,L,Ae,rt,Ut=function(h){return vt(function(){return wn(h)||e},e)},kn=function(h){return(!to||h===!1||bo&&bo.lzy&&!to.b)&&(to=vt(Xt,t)),to.v},wn=function(h,v){var w=!to||v===!1?kn(v):to.v;return w&&w[h]?w[h]:h===qr&&zi?zi.v:t},Mn=function(){return!!ro()},ro=function(){return(!L||bo&&bo.lzy&&!L.b)&&(L=Ut("document")),L.v},Li=function(){return!!wo()},wo=function(){return(!zi||bo&&bo.lzy&&!zi.b)&&(zi=Ut(qr)),zi.v},Hi=function(){return!!Yn()},Yn=function(){return(!Ae||bo&&bo.lzy&&!Ae.b)&&(Ae=Ut("navigator")),Ae.v},Qc=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},Ko,fo,Wu;function ki(h){return vt(function(){return Ko.v?Ko.v[h]:e},e)}function qa(){return!!Fa()}function Fa(){var h=!Ko||bo&&bo.lzy&&!Ko.b;return h&&(Ko=Ut(_)),(!fo||h)&&(fo=ki("for")),(!Wu||h)&&(Wu=ki("keyFor")),Ko.v}function na(h,v){var w=Ke[h];return(!Ko||bo.lzy&&!Ko.b)&&Fa(),Ko.v?Ko.v[w||h]:v?e:bn(h)}function $u(h,v){return(!Ko||bo.lzy&&!Ko.b)&&Fa(),Ko.v?Ko.v(h):v?t:xi(h)}function Gf(h){return(!fo||bo.lzy&&!Ko.b)&&Fa(),(fo.v||ws)(h)}function ac(h){return!!h&&at(h.next)}function $s(h){return!Le(h)&&at(h[na(3)])}var Zc;function Kf(h,v,w){if(h&&(ac(h)||(!Zc&&(Zc=Ue(function(){return na(3)})),h=h[Zc.v]?h[Zc.v]():null),ac(h))){var x=void 0,q=void 0;try{for(var V=0;!(q=h.next())[H]&&v.call(w||h,q[M],V,h)!==-1;)V++}catch(ee){x={e:ee},h.throw&&(q=null,h.throw(x))}finally{try{q&&!q[H]&&h.return&&h.return(q)}finally{if(x)throw x.e}}}}var Mo=Bt("apply");function ks(h,v){return!be(v)&&h&&(tt(v)?Mo(h.push,h,v):ac(v)||$s(v)?Kf(v,function(w){h.push(w)}):h.push(v)),h}function Cn(h,v,w){if(h)for(var x=h[k]>>>0,q=0;q<x&&!(q in h&&v.call(w||h,h[q],q,h)===-1);q++);}var As=Tr(D,ae),eu=Tr("map",ae),oi=Tr(re,ae),ha=Bt("call"),Mc=Tr("reduce",ae),Yf=ce.create,Hd=Yf||Wh;function Wh(h){if(!h)return{};var v=typeof h;if(v!==a&&v!==o)throw new TypeError("Prototype must be an Object or function: "+kt(h));function w(){}return w[c]=h,new w}var Bd;function $h(h,v){var w=ce.setPrototypeOf||function(x,q){!Bd&&(Bd=Ue(function(){var V;return V={},V[u]=[],V instanceof Array})),Bd.v?x[u]=q:Rr(q,function(V,ee){return x[V]=ee})};return w(h,v)}var Wd=function(h,v,w){Jn(v,h),v=$h(v,w);function x(){this.constructor=v,Jn(this,h)}return v[c]=w===t?Hd(w):(x[c]=w[c],new x),v},pl=function(h,v){try{v&&(h[z]=v)}catch{}},Jn=function(h,v){try{Oo(h,z,{v,c:!0,e:!1})}catch{}};function Ms(h,v,w){var x=w||Error,q=x[c][z],V=Error.captureStackTrace;return Wd(h,function(){var ee=this;try{pl(x,h);var de=Mo(x,ee,oi(arguments))||ee;if(de!==ee){var De=ln(ee);De!==ln(de)&&$h(de,De)}return V&&V(de,ee[f]),v&&v(de,arguments),de}finally{pl(x,q)}},x)}function ml(){return(Date.now||no)()}function no(){return new Date().getTime()}function Jf(h){return function(w){return xe(w)&&un("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(h,n)),w}}var Xf=Jf(/^\s+|(?=\s)\s+$/g),Ls=He("trim",$,Xf),tu,Qf,rd;function ds(h){if(!h||typeof h!==a)return!1;rd||(rd=Li()?wo():!0);var v=!1;if(h!==rd){Qf||(tu=Function[c].toString,Qf=ha(tu,ce));try{var w=ln(h);v=!w,v||(nn(w,f)&&(w=w[f]),v=w&&typeof w===o&&tu.call(w)===Qf)}catch{}}return v}var gl=function(h){return h.value&&Vs(h),!0},Lc=[ho,Vs,Gd,Vh];function Gp(h,v,w,x){var q;return Cn(h,function(V){if(V.k===v)return q=V,-1}),q||(q={k:v,v},h.push(q),x(q)),q.v}function nd(h,v,w,x){var q=w.handler,V=w.path?x?w.path.concat(x):w.path:[],ee={handler:w.handler,src:w.src,path:V},de=typeof v,De=!1,ke=!1;v&&de===a?De=ds(v):ke=v===t||Ct(de);var Ye={type:de,isPrim:ke,isPlain:De,value:v,result:v,path:V,origin:w.src,copy:function(bt,Ot){return nd(h,bt,Ot?ee:w,Ot)},copyTo:function(bt,Ot){return $d(h,bt,Ot,ee)}};return Ye.isPrim?q&&ha(q,w,Ye)?Ye.result:v:Gp(h,v,V,function(bt){Oo(Ye,"result",{g:function(){return bt.v},s:function(ut){bt.v=ut}});for(var Ot=0,_t=q;!ha(_t||(Ot<Lc.length?Lc[Ot++]:gl),w,Ye);)_t=t})}function $d(h,v,w,x){if(!xe(w))for(var q in w)v[q]=nd(h,w[q],x,q);return v}function Vd(h,v,w){var x={handler:w,src:v,path:[]};return $d([],h,v,x)}function cc(h,v){var w={handler:v,src:h};return nd([],h,w)}function ho(h){var v=h.value;if(tt(v)){var w=h.result=[];return w.length=v.length,h.copyTo(w,v),!0}return!1}function Vh(h){var v=h.value;return pr(v)?(h.result=new Date(v.getTime()),!0):!1}function Gd(h){return h.type===o}function Vs(h){var v=h.value;if(v&&h.isPlain){var w=h.result={};return h.copyTo(w,v),!0}return!1}function Vu(h,v){return Cn(v,function(w){Vd(h,w)}),h}function ru(h,v,w,x,q,V,ee){return Vu(cc(h)||{},oi(arguments))}var pv=ne(k),Gs=He("endsWith",$,P_);function P_(h,v,w){ze(h)||un("'"+kt(h)+"' is not a string");var x=ze(v)?v:ft(v),q=x[k],V=h[k],ee=!be(w)&&w<V?w:V;return he(h,ee-q,ee)===x}var yu=Tr(D,$),id="ref",Lo="un"+id,vl="hasRef",Zf="enabled";function tg(h,v,w){var x,q=!0,V=h?v(t):t,ee,de=function(){return q=!1,V&&V[Lo]&&V[Lo](),ee},De=function(){return q=!0,V&&V[id]&&V[id](),ee},ke=function(){return V&&V[vl]?V[vl]():q},Ye=function(){return V=v(V),q||de(),ee},bt=function(){V&&w(V),V=t},Ot=function(_t){!_t&&V&&bt(),_t&&!V&&Ye()};return ee=(x={cancel:bt,refresh:Ye},x[vl]=ke,x[id]=De,x[Lo]=de,x[Zf]=!1,x),Ws(ee,Zf,{get:function(){return!!V},set:Ot}),{h:ee,dn:function(){V=t}}}function od(h,v,w,x){var q=tt(w),V=q?w.length:0,ee=(V>0?w[0]:q?e:w)||setTimeout,de=(V>1?w[1]:e)||clearTimeout,De=x[0];x[0]=function(){ke.dn(),Mo(De,h,oi(arguments))};var ke=tg(v,function(Ye){if(Ye){if(Ye.refresh)return Ye.refresh(),Ye;Mo(de,h,[Ye])}return Mo(ee,h,x)},function(Ye){Mo(de,h,[Ye])});return ke.h}function eh(h,v){return od(this,!0,e,oi(arguments))}function Gh(h,v){return od(this,!1,e,oi(arguments))}var _l,Kh="constructor",bu="prototype",th="function",nu="_dynInstFuncs",Kd="_isDynProxy",sd="_dynClass",Yd="_dynCls$",ad="_dynInstChk",Ns=ad,pa="_dfOpts",So="_unknown_",Nc="__proto__",ja="_dyn"+Nc,rg="__dynProto$Gbl",wu="_dynInstProto",qs="useBaseInst",yl="setInstFuncs",Yh=Object,iu=Yh.getPrototypeOf,Gu=Yh.getOwnPropertyNames,rh=kn(),uc=rh[rg]||(rh[rg]={o:(_l={},_l[yl]=!0,_l[qs]=!0,_l),n:1e3});function Su(h){return h&&(h===Yh[bu]||h===Array[bu])}function fs(h){return Su(h)||h===Function[bu]}function qc(h){var v;if(h){if(iu)return iu(h);var w=h[Nc]||h[bu]||(h[Kh]?h[Kh][bu]:null);v=h[ja]||w,nn(h,ja)||(delete h[wu],v=h[ja]=h[wu]||h[ja],h[wu]=w)}return v}function Cu(h,v){var w=[];if(Gu)w=Gu(h);else for(var x in h)typeof x=="string"&&nn(h,x)&&w.push(x);if(w&&w.length>0)for(var q=0;q<w.length;q++)v(w[q])}function Tu(h,v,w){return v!==Kh&&typeof h[v]===th&&(w||nn(h,v))}function Ks(h){un("DynamicProto: "+h)}function ng(h){var v={};return Cu(h,function(w){!v[w]&&Tu(h,w,!1)&&(v[w]=h[w])}),v}function za(h,v){for(var w=h.length-1;w>=0;w--)if(h[w]===v)return!0;return!1}function Ku(h,v,w,x){function q(De,ke,Ye){var bt=ke[Ye];if(bt[Kd]&&x){var Ot=De[nu]||{};Ot[Ns]!==!1&&(bt=(Ot[ke[sd]]||{})[Ye]||bt)}return function(){return bt.apply(De,arguments)}}var V={};Cu(w,function(De){V[De]=q(v,w,De)});for(var ee=qc(h),de=[];ee&&!fs(ee)&&!za(de,ee);)Cu(ee,function(De){!V[De]&&Tu(ee,De,!iu)&&(V[De]=q(v,ee,De))}),de.push(ee),ee=qc(ee);return V}function No(h,v,w,x){var q=null;if(h&&nn(w,sd)){var V=h[nu]||{};if(q=(V[w[sd]]||{})[v],q||Ks("Missing ["+v+"] "+th),!q[ad]&&V[Ns]!==!1){for(var ee=!nn(h,v),de=qc(h),De=[];ee&&de&&!fs(de)&&!za(De,de);){var ke=de[v];if(ke){ee=ke===x;break}De.push(de),de=qc(de)}try{ee&&(h[v]=q),q[ad]=1}catch{V[Ns]=!1}}}return q}function qo(h,v,w){var x=v[h];return x===w&&(x=qc(v)[h]),typeof x!==th&&Ks("["+h+"] is not a "+th),x}function Jd(h,v,w,x,q){function V(De,ke){var Ye=function(){var bt=No(this,ke,De,Ye)||qo(ke,De,Ye);return bt.apply(this,arguments)};return Ye[Kd]=1,Ye}if(!Su(h)){var ee=w[nu]=w[nu]||{},de=ee[v]=ee[v]||{};ee[Ns]!==!1&&(ee[Ns]=!!q),Cu(w,function(De){Tu(w,De,!1)&&w[De]!==x[De]&&(de[De]=w[De],delete w[De],(!nn(h,De)||h[De]&&!h[De][Kd])&&(h[De]=V(h,De)))})}}function Du(h,v){if(iu){for(var w=[],x=qc(v);x&&!fs(x)&&!za(w,x);){if(x===h)return!0;w.push(x),x=qc(x)}return!1}return!0}function Xd(h,v){return nn(h,bu)?h.name||v||So:((h||{})[Kh]||{}).name||v||So}function Io(h,v,w,x){nn(h,bu)||Ks("theClass is an invalid class definition.");var q=h[bu];Du(q,v)||Ks("["+Xd(h)+"] not in hierarchy of ["+Xd(v)+"]");var V=null;nn(q,sd)?V=q[sd]:(V=Yd+Xd(h,"_")+"$"+uc.n,uc.n++,q[sd]=V);var ee=Io[pa],de=!!ee[qs];de&&x&&x[qs]!==void 0&&(de=!!x[qs]);var De=ng(v),ke=Ku(q,v,De,de);w(v,ke);var Ye=!!iu&&!!ee[yl];Ye&&x&&(Ye=!!x[yl]),Jd(q,V,v,De,Ye!==!1)}Io[pa]=uc.o;var bl="function",Qd="object",ia="undefined",ou="prototype",Ys=Object,Ss=Ys[ou];(kn()||{}).Symbol,(kn()||{}).Reflect;var wl="hasOwnProperty",mv=function(h){for(var v,w=1,x=arguments.length;w<x;w++){v=arguments[w];for(var q in v)Ss[wl].call(v,q)&&(h[q]=v[q])}return h},is=Ei||mv,Fc=function(h,v){return Fc=Ys.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var q in x)x[wl](q)&&(w[q]=x[q])},Fc(h,v)};function Yu(h,v){typeof v!==bl&&v!==null&&un("Class extends value "+String(v)+" is not a constructor or null"),Fc(h,v);function w(){this.constructor=h}h[ou]=v===null?Hd(v):(w[ou]=v[ou],new w)}function nh(h,v){for(var w=0,x=v.length,q=h.length;w<x;w++,q++)h[q]=v[w];return h}var cd=Re,Jh=ye,Ua="toLowerCase",Kp="blkVal",Ni="length",Yo="rdOnly",Pu="notify",lc="warnToConsole",dc="throwInternal",Js="setDf",Ju="watch",Bi="logger",Zd="apply",bi="push",ma="splice",Hn="hdlr",ud="cancel",Sl="initialize",fc="identifier",Fo="isInitialized",Ha="getPlugin",Xs="pollInternalLogs",io="name",su="time",Ln="processNext",jc="getProcessTelContext",Co="getNotifyMgr",si="addNotificationListener",Cl="removeNotificationListener",ga="enabled",oa="stopPollingInternalLogs",Qs="unload",Tl="onComplete",Ba="version",ld="loggingLevelConsole",hs="createNew",zc="teardown",Xu="messageId",Dl="message",dd="isAsync",m="diagLog",g="_doTeardown",E="update",R="getNext",N="setNextPlugin",J="userAgent",Z="split",pe="nodeType",Ie="replace",Qe="logInternalMessage",ht="type",Ht="handler",Sr="isChildEvt",on="getCtx",Fr="setCtx",Bn="complete",Fs="traceId",Wa="spanId",au="traceFlags",Xh;function Yp(h,v){Xh||(Xh=Ms("AggregationError",function(x,q){q[Ni]>1&&(x.errors=q[1])}));var w=h||"One or more errors occurred.";throw Cn(v,function(x,q){w+=`
`.concat(q," > ").concat(kt(x))}),new Xh(w,v||[])}function va(h,v){return Qh(h,function(w){v&&v({value:w,rejected:!1})},function(w){v&&v({rejected:!0,reason:w})})}function Qh(h,v,w,x){var q=h;return It(h)?(v||w)&&(q=h.then(v,w)):v&&v(h),x&&(q=ih(q,x)),q}function ih(h,v){var w=h;return v&&(It(h)?h.finally?w=h.finally(v):w=h.then(function(x){return v(),x},function(x){throw v(),x}):v()),w}var fd=["pending","resolving","resolved","rejected"],cu="dispatchEvent",ig;function E_(h,v,w,x){var q=ro();!ig&&(ig=vt(function(){var De;return q&&q.createEvent&&(De=q.createEvent("Event")),!!De&&De.initEvent},null));var V=ig.v?q.createEvent("Event"):x?new Event(v):{};if(w&&w(V),ig.v&&V.initEvent(v,!1,!0),V&&h[cu])h[cu](V);else{var ee=h["on"+v];if(ee)ee(V);else{var de=wn("console");de&&(de.error||de.log)(v,kt(V))}}}var Zh="Promise",ep="unhandledRejection",x_=ep.toLowerCase(),R_=10,O_;function ib(h){return at(h)?h.toString():kt(h)}function Jp(h,v,w){var x=oi(arguments,3),q=0,V=!1,ee,de=[],De=!1,ke=null,Ye;!O_&&(O_=Ut(Zh+"RejectionEvent"));var bt=function(ur,rn){try{De=!0,ke&&ke.cancel(),ke=null;var Oi=h(function(es,_c){de.push(function(){try{var Ca=q===2?ur:rn,zl=be(Ca)?ee:at(Ca)?Ca(ee):Ca;It(zl)?zl.then(es,_c):Ca?es(zl):q===3?_c(zl):es(zl)}catch(Ou){_c(Ou)}}),V&&ar()},x);return Oi}finally{}},Ot=function(ur){return bt(void 0,ur)},_t=function(ur){var rn=ur,Oi=ur;return at(ur)&&(rn=function(es){return ur&&ur(),es},Oi=function(es){throw ur&&ur(),es}),bt(rn,Oi)},ut=function(){return fd[q]},ar=function(){if(de.length>0){var ur=de.slice();de=[],De=!0,v(ur),ke&&ke.cancel(),ke=null}},Nt=function(ur,rn){return function(Oi){if(q===rn){if(ur===2&&It(Oi)){q=1,Oi.then(Nt(2,1),Nt(3,1));return}q=ur,V=!0,ee=Oi,ar(),!De&&ur===3&&!ke&&(ke=eh(hr,R_))}}},hr=function(){if(!De)if(Qc())process.emit(ep,ee,Ye);else{var ur=wo()||kn();E_(ur,x_,function(rn){return Oo(rn,"promise",{g:function(){return Ye}}),rn.reason=ee,rn},!!O_.v)}};Ye={then:bt,catch:Ot,finally:_t},Ws(Ye,"state",{get:ut}),qa()&&(Ye[na(11)]="IPromise");var tr=function(){return"IPromise "+ut()+(V?" - "+ib(ee):"")};return Ye.toString=tr,function(){at(w)||un(Zh+": executor is not a function - "+ib(w));var rn=Nt(3,0);try{w.call(Ye,Nt(2,0),rn)}catch(Oi){rn(Oi)}}(),Ye}function gv(h){return function(v){var w=oi(arguments,1);return h(function(x,q){try{var V=[],ee=1;Cn(v,function(de,De){de&&(ee++,Qh(de,function(ke){V[De]=ke,--ee===0&&x(V)},q))}),ee--,ee===0&&x(V)}catch(de){q(de)}},w)}}var I_=function(h){Cn(h,function(v){try{v()}catch{}})};function k_(h){var v=Nr(h)?h:0;return function(w){eh(function(){I_(w)},v)}}function Xp(h,v){return Jp(Xp,k_(v),h,v)}var tp;function ob(h,v){!tp&&(tp=Ut(Zh));var w=tp.v;if(!w)return Xp(h);at(h)||un(Zh+": executor is not a function - "+kt(h));var x=0;function q(){return fd[x]}var V=new w(function(ee,de){function De(Ye){x=2,ee(Ye)}function ke(Ye){x=3,de(Ye)}h(De,ke)});return Ws(V,"state",{get:q}),V}var A_;function rp(h,v){return!A_&&(A_=Ue(function(){return ob})),A_.v.call(this,h,v)}var vv=gv(rp),hd=void 0,Gi="",Qp="channels",oo="core",M_="createPerfMgr",_v="disabled",pd="extensionConfig",np="extensions",Uc="processTelemetry",md="priority",gd="eventsSent",Cs="eventsDiscarded",di="eventsSendRequest",uu="perfEvent",Jo="getPerfMgr",vd="domain",Zp="path",ip="Not dynamic - ",op=/-([a-z])/g,ef=/([^\w\d_$])/g,L_=/^(\d+[\w\d_$])/;function em(h){return!xe(h)}function tm(h){var v=h;return v&&ze(v)&&(v=v[Ie](op,function(w,x){return x.toUpperCase()}),v=v[Ie](ef,"_"),v=v[Ie](L_,function(w,x){return"_"+x})),v}function _a(h,v){return h&&v?yu(h,v)!==-1:!1}function _d(h){return h&&h.toISOString()||""}function hc(h){return fr(h)?h[io]:Gi}function lu(h,v,w,x,q){var V=w;return h&&(V=h[v],V!==w&&(!q||q(V))&&(!x||x(w))&&(V=w,h[v]=V)),V}function rm(h,v,w){var x;return h?(x=h[v],!x&&xe(x)&&(x=be(w)?{}:w,h[v]=x)):x=be(w)?{}:w,x}function Qu(h,v){var w=null,x=null;return at(h)?w=h:x=h,function(){var q=arguments;if(w&&(x=w()),x)return x[v][Zd](x,q)}}function nm(h,v,w,x,q){h&&v&&w&&(q!==!1||be(h[v]))&&(h[v]=Qu(w,x))}function og(h,v,w,x){return h&&v&&ct(h)&&tt(w)&&Cn(w,function(q){ze(q)&&nm(h,q,v,q,x)}),h}function sp(h){return function(){function v(){var w=this;h&&Rr(h,function(x,q){w[x]=q})}return v}()}function Tn(h){return h&&Ei&&(h=Ys(Ei({},h))),h}function yd(h,v,w,x,q,V){var ee=arguments,de=ee[0]||{},De=ee[Ni],ke=!1,Ye=1;for(De>0&&Hr(de)&&(ke=de,de=ee[Ye]||{},Ye++),ct(de)||(de={});Ye<De;Ye++){var bt=ee[Ye],Ot=tt(bt),_t=ct(bt);for(var ut in bt){var ar=Ot&&ut in bt||_t&&cn(bt,ut);if(ar){var Nt=bt[ut],hr=void 0;if(ke&&Nt&&((hr=tt(Nt))||ds(Nt))){var tr=de[ut];hr?tt(tr)||(tr=[]):ds(tr)||(tr={}),Nt=yd(ke,tr,Nt)}Nt!==void 0&&(de[ut]=Nt)}}}return de}var Ts="documentMode",tf="location",yv="console",$a="JSON",bd="crypto",ap="msCrypto",bv="msie",Zu="trident/",sg="XMLHttpRequest",im=null,wv=null,ag=!1,wd=null,rf=null;function om(h,v){var w=!1;if(h){try{if(w=v in h,!w){var x=h[ou];x&&(w=v in x)}}catch{}if(!w)try{var q=new h;w=!be(q[v])}catch{}}return w}function cp(h){if(h&&ag){var v=wn("__mockLocation");if(v)return v}return typeof location===Qd&&location?location:wn(tf)}function cg(){return typeof console!==ia?console:wn(yv)}function Hc(){return!!(typeof JSON===Qd&&JSON||wn($a)!==null)}function Va(){return Hc()?JSON||wn($a):null}function nf(){return wn(bd)}function Eu(){return wn(ap)}function du(){var h=Yn();if(h&&(h[J]!==wv||im===null)){wv=h[J];var v=(wv||Gi)[Ua]();im=_a(v,bv)||_a(v,Zu)}return im}function oh(h){if(h===void 0&&(h=null),!h){var v=Yn()||{};h=v?(v.userAgent||Gi)[Ua]():Gi}var w=(h||Gi)[Ua]();if(_a(w,bv)){var x=ro()||{};return Math.max(parseInt(w[Z](bv)[1]),x[Ts]||0)}else if(_a(w,Zu)){var q=parseInt(w[Z](Zu)[1]);if(q)return q+4}return null}function Sd(h){return(rf===null||h===!1)&&(rf=Hi()&&!!Yn().sendBeacon),rf}function ug(h){var v=!1;try{v=!!wn("fetch");var w=wn("Request");v&&h&&w&&(v=om(w,"keepalive"))}catch{}return v}function up(){return wd===null&&(wd=typeof XDomainRequest!==ia,wd&&lp()&&(wd=wd&&!om(wn(sg),"withCredentials"))),wd}function lp(){var h=!1;try{var v=wn(sg);h=!!v}catch{}return h}var sh=4294967296,Cd=4294967295,sm=123456789,dp=987654321,am=!1,of=sm,ah=dp;function cm(h){h<0&&(h>>>=0),of=sm+h&Cd,ah=dp-h&Cd,am=!0}function sb(){try{var h=ml()&2147483647;cm((Math.random()*sh^h)+h)}catch{}}function Ga(h){var v=0,w=nf()||Eu();return w&&w.getRandomValues&&(v=w.getRandomValues(new Uint32Array(1))[0]&Cd),v===0&&du()&&(am||sb(),v=Sv()&Cd),v===0&&(v=Math.floor(sh*Math.random()|0)),h||(v>>>=0),v}function Sv(h){ah=36969*(ah&65535)+(ah>>16)&Cd,of=18e3*(of&65535)+(of>>16)&Cd;var v=(ah<<16)+(of&65535)>>>0&Cd|0;return h||(v>>>=0),v}function Td(h){h===void 0&&(h=22);for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=Ga()>>>0,x=0,q=Gi;q[Ni]<h;)x++,q+=v.charAt(w&63),w>>>=6,x===5&&(w=(Ga()<<2&4294967295|w&3)>>>0,x=0);return q}var lg="3.0.5",Dd="."+Td(6),sf=0;function um(h){return h[pe]===1||h[pe]===9||!+h[pe]}function dg(h,v){var w=v[h.id];if(!w){w={};try{um(v)&&Oo(v,h.id,{e:!1,v:w})}catch{}}return w}function pc(h,v){return v===void 0&&(v=!1),tm(h+sf+++(v?"."+lg:Gi)+Dd)}function el(h){var v={id:pc("_aiData-"+(h||Gi)+"."+lg),accept:function(w){return um(w)},get:function(w,x,q,V){var ee=w[v.id];return ee?ee[tm(x)]:(V&&(ee=dg(v,w),ee[tm(x)]=q),q)},kill:function(w,x){if(w&&w[x])try{delete w[x]}catch{}}};return v}function fg(h){return h&&ct(h)&&(h.isVal||h.fb||cn(h,"v")||cn(h,"mrg")||cn(h,"ref")||h.set)}function Cv(h,v,w){var x,q=w.dfVal||Ge;if(v&&w.fb){var V=w.fb;tt(V)||(V=[V]);for(var ee=0;ee<V[Ni];ee++){var de=V[ee],De=v[de];if(q(De)?x=De:h&&(De=h.cfg[de],q(De)&&(x=De),h.set(h.cfg,ft(de),De)),q(x))break}}return!q(x)&&q(w.v)&&(x=w.v),x}function Pd(h,v,w){var x=w;if(w&&fg(w)&&(x=Cv(h,v,w)),x){fg(x)&&(x=Pd(h,v,x));var q;tt(x)?(q=[],q[Ni]=x[Ni]):ds(x)&&(q={}),q&&(Rr(x,function(V,ee){ee&&fg(ee)&&(ee=Pd(h,v,ee)),q[V]=ee}),x=q)}return x}function fp(h,v,w,x){var q,V,ee,de=x,De,ke,Ye,bt;fg(de)?(q=de.isVal,V=de.set,Ye=de[Yo],bt=de[Kp],De=de.mrg,ke=de.ref,!ke&&be(ke)&&(ke=!!De),ee=Cv(h,v,de)):ee=x,bt&&h[Kp](v,w);var Ot,_t=!0,ut=v[w];(ut||!xe(ut))&&(Ot=ut,_t=!1,q&&Ot!==ee&&!q(Ot)&&(Ot=ee,_t=!0),V&&(Ot=V(Ot,ee,v),_t=Ot===ee)),_t?ee?Ot=Pd(h,v,ee):Ot=ee:(ds(Ot)||tt(ee))&&De&&ee&&(ds(ee)||tt(ee))&&Rr(ee,function(ar,Nt){fp(h,Ot,ar,Nt)}),h.set(v,w,Ot),ke&&h.ref(v,w),Ye&&h[Yo](v,w)}var ch=Gf("[[ai_dynCfg_1]]"),ab=Gf("[[ai_blkDynCfg_1]]"),Zw=Gf("[[ai_frcDynCfg_1]]");function Ed(h){if(h){var v;if(tt(h)?(v=[],v[Ni]=h[Ni]):ds(h)&&(v={}),v)return Rr(h,function(w,x){v[w]=Ed(x)}),v}return h}function Tv(h){if(h){var v=h[ch]||h;if(v.cfg&&(v.cfg===h||v.cfg[ch]===v))return v}return null}function Dv(h){if(h&&(ds(h)||tt(h)))try{h[ab]=!0}catch{}return h}function Pv(h,v,w){var x=!1;return w&&!h[v.blkVal]&&(x=w[Zw],!x&&!w[ab]&&(x=ds(w)||tt(w))),x}function hg(h){un("InvalidAccess:"+h)}var HC=["push","pop","shift","unshift","splice"],pg=function(h,v,w,x){h&&h[dc](3,108,"".concat(w," [").concat(v,"] failed - ")+kt(x))};function BC(h,v,w){tt(v)&&Cn(HC,function(x){var q=v[x];v[x]=function(){for(var V=[],ee=0;ee<arguments.length;ee++)V[ee]=arguments[ee];var de=q[Zd](this,V);return dm(h,v,w,"Patching"),de}})}function Pl(h,v){var w=Lt(h,v);return w&&w.get}function uh(h,v,w,x){var q={n:w,h:[],trk:function(ke){ke&&ke.fn&&(As(q.h,ke)===-1&&q.h[bi](ke),h.trk(ke,q))},clr:function(ke){var Ye=As(q.h,ke);Ye!==-1&&q.h[ma](Ye,1)}},V=!0,ee=!1;function de(){V&&(ee=ee||Pv(de,h,x),x&&!x[ch]&&ee&&(x=dm(h,x,w,"Converting")),V=!1);var ke=h.act;return ke&&q.trk(ke),x}de[h.prop]={chng:function(){h.add(q)}};function De(ke){if(x!==ke){de[h.ro]&&!h.upd&&hg("["+w+"] is read-only:"+kt(v)),V&&(ee=ee||Pv(de,h,x),V=!1);var Ye=ee&&de[h.rf];if(ee)if(Ye){Rr(x,function(Ot){x[Ot]=ke?ke[Ot]:hd});try{Rr(ke,function(Ot,_t){lm(h,x,Ot,_t)}),ke=x}catch(Ot){pg((h.hdlr||{})[Bi],w,"Assigning",Ot),ee=!1}}else x&&x[ch]&&Rr(x,function(Ot){var _t=Pl(x,Ot);if(_t){var ut=_t[h.prop];ut&&ut.chng()}});if(ke!==x){var bt=ke&&Pv(de,h,ke);!Ye&&bt&&(ke=dm(h,ke,w,"Converting")),x=ke,ee=bt}h.add(q)}}Oo(v,q.n,{g:de,s:De})}function lm(h,v,w,x){if(v){var q=Pl(v,w),V=q&&!!q[h.prop];V?v[w]=x:uh(h,v,w,x)}return v}function N_(h,v,w,x){if(v){var q=Pl(v,w),V=q&&!!q[h.prop],ee=x&&x[0],de=x&&x[1],De=x&&x[2];if(!V){if(De)try{Dv(v)}catch(ke){pg((h.hdlr||{})[Bi],w,"Blocking",ke)}try{lm(h,v,w,v[w]),q=Pl(v,w)}catch(ke){pg((h.hdlr||{})[Bi],w,"State",ke)}}ee&&(q[h.rf]=ee),de&&(q[h.ro]=de),De&&(q[h.blkVal]=!0)}return v}function dm(h,v,w,x){try{Rr(v,function(q,V){lm(h,v,q,V)}),v[ch]||(Ws(v,ch,{get:function(){return h[Hn]}}),BC(h,v,w))}catch(q){pg((h.hdlr||{})[Bi],w,x,q)}return v}var El="[[ai_",tl="]]";function af(h){var v,w=$u(El+"get"+h.uid+tl),x=$u(El+"ro"+h.uid+tl),q=$u(El+"rf"+h.uid+tl),V=$u(El+"blkVal"+h.uid+tl),ee=$u(El+"dtl"+h.uid+tl),de=null,De=null,ke;function Ye(ut,ar){var Nt=ke.act;try{ke.act=ut,ut&&ut[ee]&&(Cn(ut[ee],function(tr){tr.clr(ut)}),ut[ee]=[]),ar({cfg:h.cfg,set:h.set.bind(h),setDf:h[Js].bind(h),ref:h.ref.bind(h),rdOnly:h[Yo].bind(h)})}catch(tr){var hr=h[Bi];throw hr&&hr[dc](1,107,kt(tr)),tr}finally{ke.act=Nt||null}}function bt(){if(de){var ut=de;de=null,De&&De[ud](),De=null;var ar=[];if(Cn(ut,function(Nt){if(Nt&&(Nt[ee]&&(Cn(Nt[ee],function(hr){hr.clr(Nt)}),Nt[ee]=null),Nt.fn))try{Ye(Nt,Nt.fn)}catch(hr){ar[bi](hr)}}),de)try{bt()}catch(Nt){ar[bi](Nt)}ar[Ni]>0&&Yp("Watcher error(s): ",ar)}}function Ot(ut){if(ut&&ut.h[Ni]>0){de||(de=[]),De||(De=eh(function(){De=null,bt()},0));for(var ar=0;ar<ut.h[Ni];ar++){var Nt=ut.h[ar];Nt&&As(de,Nt)===-1&&de[bi](Nt)}}}function _t(ut,ar){if(ut){var Nt=ut[ee]=ut[ee]||[];As(Nt,ar)===-1&&Nt[bi](ar)}}return ke=(v={prop:w,ro:x,rf:q},v[Kp]=V,v[Hn]=h,v.add=Ot,v[Pu]=bt,v.use=Ye,v.trk=_t,v),ke}function cf(h,v){var w={fn:v,rm:function(){w.fn=null,h=null,v=null}};return h.use(w,v),w}function Ev(h,v,w){var x,q=Tv(v);if(q)return q;var V=pc("dyncfg",!0),ee=v&&w!==!1?v:Ed(v),de;function De(){de[Pu]()}function ke(hr,tr,ur){try{hr=lm(de,hr,tr,ur)}catch(rn){pg(h,tr,"Setting value",rn)}return hr[tr]}function Ye(hr){return cf(de,hr)}function bt(hr,tr){de.use(null,function(ur){var rn=de.upd;try{be(tr)||(de.upd=tr),hr(ur)}finally{de.upd=rn}})}function Ot(hr,tr){var ur;return N_(de,hr,tr,(ur={},ur[0]=!0,ur))[tr]}function _t(hr,tr){var ur;return N_(de,hr,tr,(ur={},ur[1]=!0,ur))[tr]}function ut(hr,tr){var ur;return N_(de,hr,tr,(ur={},ur[2]=!0,ur))[tr]}function ar(hr,tr){return tr&&Rr(tr,function(ur,rn){fp(Nt,hr,ur,rn)}),hr}var Nt=(x={uid:null,cfg:ee},x[Bi]=h,x[Pu]=De,x.set=ke,x[Js]=ar,x[Ju]=Ye,x.ref=Ot,x[Yo]=_t,x[Kp]=ut,x._block=bt,x);return Oo(Nt,"uid",{c:!1,e:!1,w:!1,v:V}),de=af(Nt),dm(de,ee,"config","Creating"),Nt}function hp(h,v){h?(h[lc](v),h[dc](2,108,v)):hg(v)}function ya(h,v,w,x){var q=Ev(w,h||{},x);return v&&q[Js](q.cfg,v),q}function lh(h,v,w){var x=h[ch]||h;return x.cfg&&(x.cfg===h||x.cfg[ch]===x)?x[Ju](v):(hp(w,ip+kt(h)),ya(h,null,w)[Ju](v))}function dh(h,v){if(h&&h[Qs])return h[Qs](v)}function q_(h,v,w){var x;return w||(x=rp(function(q){w=q})),h&&pv(h)>0?va(dh(h[0],v),function(){q_(oi(h,1),v,w)}):w(),x}var eS=500;function fh(h,v,w){return!h&&xe(h)?v:Hr(h)?h:ft(h)[Ua]()==="true"}function tS(h){return{mrg:!0,v:h}}function fm(h,v,w){return{fb:w,isVal:h,v}}function hh(h,v){return{fb:v,set:fh,v:!!h}}var xl=[gd,Cs,di,uu],mg=null,pp;function hm(h,v){return function(){var w=arguments,x=cb(v);if(x){var q=x.listener;q&&q[h]&&q[h][Zd](q,w)}}}function gg(){var h=wn("Microsoft");return h&&(mg=h.ApplicationInsights),mg}function cb(h){var v=mg;return!v&&h.disableDbgExt!==!0&&(v=mg||gg()),v?v.ChromeDbgExt:null}function WC(h){if(!pp){pp={};for(var v=0;v<xl[Ni];v++)pp[xl[v]]=hm(xl[v],h)}return pp}var pm,rS="warnToConsole",Ka="AI (Internal): ",mm="AI: ",gm="AITR_",nS={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},$C=(pm={},pm[0]=null,pm[1]="errorToConsole",pm[2]=rS,pm[3]="debugToConsole",pm);function Rl(h){return h?'"'+h[Ie](/\"/g,Gi)+'"':Gi}function Ya(h,v){var w=cg();if(w){var x="log";w[h]&&(x=h),at(w[x])&&w[x](v)}}var Ol=function(){function h(v,w,x,q){x===void 0&&(x=!1);var V=this;V[Xu]=v,V[Dl]=(x?mm:Ka)+v;var ee=Gi;Hc()&&(ee=Va().stringify(q));var de=(w?" message:"+Rl(w):Gi)+(q?" props:"+Rl(ee):Gi);V[Dl]+=de}return h.dataType="MessageData",h}();function vm(h,v){return(h||{})[Bi]||new vg(v)}var vg=function(){function h(v){this.identifier="DiagnosticLogger",this.queue=[];var w=0,x={},q,V,ee,de,De;Io(h,this,function(ke){De=bt(v||{}),ke.consoleLoggingLevel=function(){return q},ke[dc]=function(ut,ar,Nt,hr,tr){tr===void 0&&(tr=!1);var ur=new Ol(ar,Nt,tr,hr);if(de)throw kt(ur);var rn=$C[ut]||rS;if(be(ur[Dl]))_t("throw"+(ut===1?"Critical":"Warning"),ur);else{if(tr){var Oi=+ur[Xu];!x[Oi]&&q>=ut&&(ke[rn](ur[Dl]),x[Oi]=!0)}else q>=ut&&ke[rn](ur[Dl]);Ye(ut,ur)}},ke.debugToConsole=function(ut){Ya("debug",ut),_t("warning",ut)},ke[lc]=function(ut){Ya("warn",ut),_t("warning",ut)},ke.errorToConsole=function(ut){Ya("error",ut),_t("error",ut)},ke.resetInternalMessageCount=function(){w=0,x={}},ke[Qe]=Ye,ke[Qs]=function(ut){De&&De.rm(),De=null};function Ye(ut,ar){if(!Ot()){var Nt=!0,hr=gm+ar[Xu];if(x[hr]?Nt=!1:x[hr]=!0,Nt&&(ut<=V&&(ke.queue[bi](ar),w++,_t(ut===1?"error":"warn",ar)),w===ee)){var tr="Internal events throttle limit per PageView reached for this app.",ur=new Ol(23,tr,!1);ke.queue[bi](ur),ut===1?ke.errorToConsole(tr):ke[lc](tr)}}}function bt(ut){return lh(ya(ut,nS,ke).cfg,function(ar){var Nt=ar.cfg;q=Nt[ld],V=Nt.loggingLevelTelemetry,ee=Nt.maxMessageLimit,de=Nt.enableDebug})}function Ot(){return w>=ee}function _t(ut,ar){var Nt=cb(v||{});Nt&&Nt[m]&&Nt[m](ut,ar)}})}return h.__ieDyn=1,h}();function F_(h){return h||new vg}function vn(h,v,w,x,q,V){V===void 0&&(V=!1),F_(h)[dc](v,w,x,q,V)}function xv(h,v){F_(h)[lc](v)}var mp,uf,_m="toGMTString",ba="toUTCString",j_="cookie",_g="expires",z_="isCookieUseDisabled",Il="disableCookiesUsage",ym="_ckMgr",ph=null,yg=null,bm=null,fu,xd={},ub={},kl=(mp={cookieCfg:tS((uf={},uf[vd]={fb:"cookieDomain",dfVal:em},uf.path={fb:"cookiePath",dfVal:em},uf.enabled=hd,uf.ignoreCookies=hd,uf.blockedCookies=hd,uf)),cookieDomain:hd,cookiePath:hd},mp[Il]=hd,mp);function Rv(){!fu&&(fu=Ue(function(){return ro()}))}function Al(h){return h?h.isEnabled():!0}function lb(h,v){return v&&h&&tt(h.ignoreCookies)?As(h.ignoreCookies,v)!==-1:!1}function Ov(h,v){return v&&h&&tt(h.blockedCookies)&&As(h.blockedCookies,v)!==-1?!0:lb(h,v)}function Ml(h,v){var w=v[ga];if(xe(w)){var x=void 0;be(h[z_])||(x=!h[z_]),be(h[Il])||(x=!h[Il]),w=x}return w}function db(h,v){var w,x,q,V,ee,de,De,ke,Ye;h=ya(h||ub,null,v).cfg,ee=lh(h,function(Ot){Ot[Js](Ot.cfg,kl),x=Ot.ref(Ot.cfg,"cookieCfg"),q=x[Zp]||"/",V=x[vd],de=Ml(h,x)!==!1,De=x.getCookie||hb,ke=x.setCookie||df,Ye=x.delCookie||df},v);var bt=(w={isEnabled:function(){var Ot=Ml(h,x)!==!1&&de&&fb(v),_t=ub[ym];return Ot&&_t&&bt!==_t&&(Ot=Al(_t)),Ot},setEnabled:function(Ot){de=Ot!==!1,x[ga]=Ot},set:function(Ot,_t,ut,ar,Nt){var hr=!1;if(Al(bt)&&!Ov(x,Ot)){var tr={},ur=Ls(_t||Gi),rn=yu(ur,";");if(rn!==-1&&(ur=Ls(Je(_t,rn)),tr=U_(he(_t,rn+1))),lu(tr,vd,ar||V,mr,be),!xe(ut)){var Oi=du();if(be(tr[_g])){var es=ml(),_c=es+ut*1e3;if(_c>0){var Ca=new Date;Ca.setTime(_c),lu(tr,_g,lf(Ca,Oi?_m:ba)||lf(Ca,Oi?_m:ba)||Gi,mr)}}Oi||lu(tr,"max-age",Gi+ut,null,be)}var zl=cp();zl&&zl.protocol==="https:"&&(lu(tr,"secure",null,null,be),yg===null&&(yg=!Ja((Yn()||{})[J])),yg&&lu(tr,"SameSite","None",null,be)),lu(tr,Zp,Nt||q,null,be),ke(Ot,wm(ur,tr)),hr=!0}return hr},get:function(Ot){var _t=Gi;return Al(bt)&&!lb(x,Ot)&&(_t=De(Ot)),_t},del:function(Ot,_t){var ut=!1;return Al(bt)&&(ut=bt.purge(Ot,_t)),ut},purge:function(Ot,_t){var ut,ar=!1;if(fb(v)){var Nt=(ut={},ut[Zp]=_t||"/",ut[_g]="Thu, 01 Jan 1970 00:00:01 GMT",ut);du()||(Nt["max-age"]="0"),Ye(Ot,wm(Gi,Nt)),ar=!0}return ar}},w[Qs]=function(Ot){ee&&ee.rm(),ee=null},w);return bt[ym]=bt,bt}function fb(h){if(ph===null){ph=!1,!fu&&Rv();try{var v=fu.v||{};ph=v[j_]!==void 0}catch(w){vn(h,2,68,"Cannot access document.cookie - "+hc(w),{exception:kt(w)})}}return ph}function U_(h){var v={};if(h&&h[Ni]){var w=Ls(h)[Z](";");Cn(w,function(x){if(x=Ls(x||Gi),x){var q=yu(x,"=");q===-1?v[x]=null:v[Ls(Je(x,q))]=Ls(he(x,q+1))}})}return v}function lf(h,v){return at(h[v])?h[v]():null}function wm(h,v){var w=h||Gi;return Rr(v,function(x,q){w+="; "+x+(xe(q)?Gi:"="+q)}),w}function hb(h){var v=Gi;if(!fu&&Rv(),fu.v){var w=fu.v[j_]||Gi;bm!==w&&(xd=U_(w),bm=w),v=Ls(xd[h]||Gi)}return v}function df(h,v){!fu&&Rv(),fu.v&&(fu.v[j_]=h+"="+v)}function Ja(h){return ze(h)?!!(_a(h,"CPU iPhone OS 12")||_a(h,"iPad; CPU OS 12")||_a(h,"Macintosh; Intel Mac OS X 10_14")&&_a(h,"Version/")&&_a(h,"Safari")||_a(h,"Macintosh; Intel Mac OS X 10_14")&&Gs(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||_a(h,"Chrome/5")||_a(h,"Chrome/6")||_a(h,"UnrealEngine")&&!_a(h,"Chrome")||_a(h,"UCBrowser/12")||_a(h,"UCBrowser/11")):!1}var jo={perfEvtsSendAll:!1};function rl(h,v,w,x){Cn(h,function(q){if(q&&q[v])if(w)eh(function(){return x(q)},0);else try{x(q)}catch{}})}var bg=function(){function h(v){this.listeners=[];var w,x,q=[],V=ya(v,jo);x=V[Ju](function(ee){w=!!ee.cfg.perfEvtsSendAll}),Io(h,this,function(ee){Oo(ee,"listeners",{g:function(){return q}}),ee[si]=function(de){q[bi](de)},ee[Cl]=function(de){for(var De=As(q,de);De>-1;)q[ma](De,1),De=As(q,de)},ee[gd]=function(de){rl(q,gd,!0,function(De){De[gd](de)})},ee[Cs]=function(de,De){rl(q,Cs,!0,function(ke){ke[Cs](de,De)})},ee[di]=function(de,De){rl(q,di,De,function(ke){ke[di](de,De)})},ee[uu]=function(de){de&&(w||!de[Sr]())&&rl(q,uu,!1,function(De){de[dd]?eh(function(){return De[uu](de)},0):De[uu](de)})},ee[Qs]=function(de){var De=function(){x&&x.rm(),x=null,q=[]},ke;if(rl(q,"unload",!1,function(Ye){var bt=Ye[Qs](de);bt&&(ke||(ke=[]),ke[bi](bt))}),ke)return rp(function(Ye){return va(vv(ke),function(){De(),Ye()})});De()}})}return h.__ieDyn=1,h}(),Ll="ctx",ff="ParentContextKey",hu="ChildrenContextKey",wg=null,Iv=function(){function h(v,w,x){var q=this;if(q.start=ml(),q[io]=v,q[dd]=x,q[Sr]=function(){return!1},at(w)){var V;Oo(q,"payload",{g:function(){return!V&&at(w)&&(V=w(),w=null),V}})}q[on]=function(ee){return ee?ee===h[ff]||ee===h[hu]?q[ee]:(q[Ll]||{})[ee]:null},q[Fr]=function(ee,de){if(ee)if(ee===h[ff])q[ee]||(q[Sr]=function(){return!0}),q[ee]=de;else if(ee===h[hu])q[ee]=de;else{var De=q[Ll]=q[Ll]||{};De[ee]=de}},q[Bn]=function(){var ee=0,de=q[on](h[hu]);if(tt(de))for(var De=0;De<de[Ni];De++){var ke=de[De];ke&&(ee+=ke[su])}q[su]=ml()-q.start,q.exTime=q[su]-ee,q[Bn]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),pb=function(){function h(v){this.ctx={},Io(h,this,function(w){w.create=function(x,q,V){return new Iv(x,q,V)},w.fire=function(x){x&&(x[Bn](),v&&at(v[uu])&&v[uu](x))},w[Fr]=function(x,q){if(x){var V=w[Ll]=w[Ll]||{};V[x]=q}},w[on]=function(x){return(w[Ll]||{})[x]}})}return h.__ieDyn=1,h}(),H_="CoreUtils.doPerf";function gp(h,v,w,x,q){if(h){var V=h;if(V[Jo]&&(V=V[Jo]()),V){var ee=void 0,de=V[on](H_);try{if(ee=V.create(v(),x,q),ee){if(de&&ee[Fr]&&(ee[Fr](Iv[ff],de),de[on]&&de[Fr])){var De=de[on](Iv[hu]);De||(De=[],de[Fr](Iv[hu],De)),De[bi](ee)}return V[Fr](H_,ee),w(ee)}}catch(ke){ee&&ee[Fr]&&ee[Fr]("exception",ke)}finally{ee&&V.fire(ee),V[Fr](H_,de)}}}return w()}function Sg(){return wg}var iS="00000000000000000000000000000000",mb="0000000000000000";function gb(h,v,w){return h&&h[Ni]===v&&h!==w?!!h.match(/^[\da-f]*$/i):!1}function oS(h){return gb(h,32,iS)}function T(h){return gb(h,16,mb)}var I=el("plugin");function j(h){return I.get(h,"state",{},!0)}function Y(h,v){for(var w=[],x=null,q=h[R](),V;q;){var ee=q[Ha]();if(ee){x&&x[N]&&ee[Uc]&&x[N](ee),V=j(ee);var de=!!V[Fo];ee[Fo]&&(de=ee[Fo]()),de||w[bi](ee),x=ee,q=q[R]()}}Cn(w,function(De){var ke=h[oo]();De[Sl](h.getCfg(),ke,v,h[R]()),V=j(De),!De[oo]&&!V[oo]&&(V[oo]=ke),V[Fo]=!0,delete V[zc]})}function ve(h){return h.sort(function(v,w){var x=0;if(w){var q=w[Uc];v[Uc]?x=q?v[md]-w[md]:1:q&&(x=-1)}else x=v?1:-1;return x})}function We(h){var v={};return{getName:function(){return v[io]},setName:function(w){h&&h.setName(w),v[io]=w},getTraceId:function(){return v[Fs]},setTraceId:function(w){h&&h.setTraceId(w),oS(w)&&(v[Fs]=w)},getSpanId:function(){return v[Wa]},setSpanId:function(w){h&&h.setSpanId(w),T(w)&&(v[Wa]=w)},getTraceFlags:function(){return v[au]},setTraceFlags:function(w){h&&h.setTraceFlags(w),v[au]=w}}}var Ze="TelemetryPluginChain",st="_hasRun",Dt="_getTelCtx",Yt=0;function kr(h,v,w){for(;h;){if(h[Ha]()===w)return h;h=h[R]()}return Qn([w],v.config||{},v)}function Fn(h,v,w,x){var q=null,V=[];v||(v=ya({},null,w[Bi])),x!==null&&(q=x?kr(h,w,x):h);var ee={_next:De,ctx:{core:function(){return w},diagLog:function(){return vm(w,v.cfg)},getCfg:function(){return v.cfg},getExtCfg:Ye,getConfig:bt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(_t){q=_t},iterate:Ot,onComplete:de}};function de(_t,ut){for(var ar=[],Nt=2;Nt<arguments.length;Nt++)ar[Nt-2]=arguments[Nt];_t&&V[bi]({func:_t,self:be(ut)?ee.ctx:ut,args:ar})}function De(){var _t=q;if(q=_t?_t[R]():null,!_t){var ut=V;ut&&ut[Ni]>0&&(Cn(ut,function(ar){try{ar.func.call(ar.self,ar.args)}catch(Nt){vn(w[Bi],2,73,"Unexpected Exception during onComplete - "+kt(Nt))}}),V=[])}return _t}function ke(_t,ut){var ar=null,Nt=v.cfg;if(Nt&&_t){var hr=Nt[pd];!hr&&ut&&(hr={}),Nt[pd]=hr,hr=v.ref(Nt,pd),hr&&(ar=hr[_t],!ar&&ut&&(ar={}),hr[_t]=ar,ar=v.ref(hr,_t))}return ar}function Ye(_t,ut){var ar=ke(_t,!0);return ut&&Rr(ut,function(Nt,hr){if(xe(ar[Nt])){var tr=v.cfg[Nt];(tr||!xe(tr))&&(ar[Nt]=tr)}fp(v,ar,Nt,hr)}),v[Js](ar,ut)}function bt(_t,ut,ar){ar===void 0&&(ar=!1);var Nt,hr=ke(_t,!1),tr=v.cfg;return hr&&(hr[ut]||!xe(hr[ut]))?Nt=hr[ut]:(tr[ut]||!xe(tr[ut]))&&(Nt=tr[ut]),Nt||!xe(Nt)?Nt:ar}function Ot(_t){for(var ut;ut=ee._next();){var ar=ut[Ha]();ar&&_t(ar)}}return ee}function Rn(h,v,w,x){var q=ya(v),V=Fn(h,q,w,x),ee=V.ctx;function de(ke){var Ye=V._next();return Ye&&Ye[Uc](ke,ee),!Ye}function De(ke,Ye){return ke===void 0&&(ke=null),tt(ke)&&(ke=Qn(ke,q.cfg,w,Ye)),Rn(ke||ee[R](),q.cfg,w,Ye)}return ee[Ln]=de,ee[hs]=De,ee}function Xn(h,v,w){var x=ya(v.config),q=Fn(h,x,v,w),V=q.ctx;function ee(De){var ke=q._next();return ke&&ke[Qs](V,De),!ke}function de(De,ke){return De===void 0&&(De=null),tt(De)&&(De=Qn(De,x.cfg,v,ke)),Xn(De||V[R](),v,ke)}return V[Ln]=ee,V[hs]=de,V}function Xr(h,v,w){var x=ya(v.config),q=Fn(h,x,v,w),V=q.ctx;function ee(De){return V.iterate(function(ke){at(ke[E])&&ke[E](V,De)})}function de(De,ke){return De===void 0&&(De=null),tt(De)&&(De=Qn(De,x.cfg,v,ke)),Xr(De||V[R](),v,ke)}return V[Ln]=ee,V[hs]=de,V}function Qn(h,v,w,x){var q=null,V=!x;if(tt(h)&&h[Ni]>0){var ee=null;Cn(h,function(de){if(!V&&x===de&&(V=!0),V&&de&&at(de[Uc])){var De=br(de,v,w);q||(q=De),ee&&ee._setNext(De),ee=De}})}return x&&!q?Qn([x],v,w):q}function br(h,v,w){var x=null,q=at(h[Uc]),V=at(h[N]),ee;h?ee=h[fc]+"-"+h[md]+"-"+Yt++:ee="Unknown-0-"+Yt++;var de={getPlugin:function(){return h},getNext:function(){return x},processTelemetry:Ye,unload:bt,update:Ot,_id:ee,_setNext:function(_t){x=_t}};function De(){var _t;return h&&at(h[Dt])&&(_t=h[Dt]()),_t||(_t=Rn(de,v,w)),_t}function ke(_t,ut,ar,Nt,hr){var tr=!1,ur=h?h[fc]:Ze,rn=_t[st];return rn||(rn=_t[st]={}),_t.setNext(x),h&&gp(_t[oo](),function(){return ur+":"+ar},function(){rn[ee]=!0;try{var Oi=x?x._id:Gi;Oi&&(rn[Oi]=!1),tr=ut(_t)}catch(_c){var es=x?rn[x._id]:!0;es&&(tr=!0),(!x||!es)&&vn(_t[m](),1,73,"Plugin ["+ur+"] failed during "+ar+" - "+kt(_c)+", run flags: "+kt(rn))}},Nt,hr),tr}function Ye(_t,ut){ut=ut||De();function ar(Nt){if(!h||!q)return!1;var hr=j(h);return hr[zc]||hr[_v]?!1:(V&&h[N](x),h[Uc](_t,Nt),!0)}ke(ut,ar,"processTelemetry",function(){return{item:_t}},!_t.sync)||ut[Ln](_t)}function bt(_t,ut){function ar(){var Nt=!1;if(h){var hr=j(h),tr=h[oo]||hr[oo];h&&(!tr||tr===_t.core())&&!hr[zc]&&(hr[oo]=null,hr[zc]=!0,hr[Fo]=!1,h[zc]&&h[zc](_t,ut)===!0&&(Nt=!0))}return Nt}ke(_t,ar,"unload",function(){},ut[dd])||_t[Ln](ut)}function Ot(_t,ut){function ar(){var Nt=!1;if(h){var hr=j(h),tr=h[oo]||hr[oo];h&&(!tr||tr===_t.core())&&!hr[zc]&&h[E]&&h[E](_t,ut)===!0&&(Nt=!0)}return Nt}ke(_t,ar,"update",function(){},!1)||_t[Ln](ut)}return ii(de)}function wi(){var h=[];function v(x){x&&h[bi](x)}function w(x,q){Cn(h,function(V){try{V(x,q)}catch(ee){vn(x[m](),2,73,"Unexpected error calling unload handler - "+kt(ee))}}),h=[]}return{add:v,run:w}}function Wn(){var h=[];function v(x){var q=h;h=[],Cn(q,function(V){try{(V.rm||V.remove).call(V)}catch(ee){vn(x,2,73,"Unloading:"+kt(ee))}})}function w(x){x&&ks(h,x)}return{run:v,add:w}}var Dn,Xo="getPlugin",Xa=(Dn={},Dn[pd]={isVal:em,v:{}},Dn),wa=function(){function h(){var v=this,w,x,q,V,ee;ke(),Io(h,v,function(Ye){Ye[Sl]=function(bt,Ot,_t,ut){De(bt,Ot,ut),w=!0},Ye[zc]=function(bt,Ot){var _t,ut=Ye[oo];if(!ut||bt&&ut!==bt[oo]())return;var ar,Nt=!1,hr=bt||Xn(null,ut,q&&q[Xo]?q[Xo]():q),tr=Ot||(_t={reason:0},_t[dd]=!1,_t);function ur(){Nt||(Nt=!0,V.run(hr,Ot),ee.run(hr[m]()),ar===!0&&hr[Ln](tr),ke())}return!Ye[g]||Ye[g](hr,tr,ur)!==!0?ur():ar=!0,ar},Ye[E]=function(bt,Ot){var _t=Ye[oo];if(!_t||bt&&_t!==bt[oo]())return;var ut,ar=!1,Nt=bt||Xr(null,_t,q&&q[Xo]?q[Xo]():q),hr=Ot||{reason:0};function tr(){ar||(ar=!0,De(Nt.getCfg(),Nt.core(),Nt[R]()))}return!Ye._doUpdate||Ye._doUpdate(Nt,hr,tr)!==!0?tr():ut=!0,ut},nm(Ye,"_addUnloadCb",function(){return V},"add"),nm(Ye,"_addHook",function(){return ee},"add"),Oo(Ye,"_unloadHooks",{g:function(){return ee}})}),v[m]=function(Ye){return de(Ye)[m]()},v[Fo]=function(){return w},v.setInitialized=function(Ye){w=Ye},v[N]=function(Ye){q=Ye},v[Ln]=function(Ye,bt){bt?bt[Ln](Ye):q&&at(q[Uc])&&q[Uc](Ye,null)},v._getTelCtx=de;function de(Ye){Ye===void 0&&(Ye=null);var bt=Ye;if(!bt){var Ot=x||Rn(null,{},v[oo]);q&&q[Xo]?bt=Ot[hs](null,q[Xo]):bt=Ot[hs](null,q)}return bt}function De(Ye,bt,Ot){ya(Ye,Xa,vm(bt)),!Ot&&bt&&(Ot=bt[jc]()[R]());var _t=q;q&&q[Xo]&&(_t=q[Xo]()),v[oo]=bt,x=Rn(Ot,Ye,bt,_t)}function ke(){w=!1,v[oo]=null,x=null,q=null,ee=Wn(),V=wi()}}return h.__ieDyn=1,h}();function Cg(h,v,w){var x={id:v,fn:w};ks(h,x);var q={remove:function(){Cn(h,function(V,ee){if(V.id===x.id)return h[ma](ee,1),-1})}};return q}function Sm(h,v,w){for(var x=!1,q=h[Ni],V=0;V<q;++V){var ee=h[V];if(ee)try{if(ee.fn[Zd](null,[v])===!1){x=!0;break}}catch(de){vn(w,2,64,"Telemetry initializer failed: "+hc(de),{exception:kt(de)},!0)}}return!x}var kv=function(h){Yu(v,h);function v(){var w=h.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var x,q;V(),Io(v,w,function(ee,de){ee.addTelemetryInitializer=function(De){return Cg(q,x++,De)},ee[Uc]=function(De,ke){Sm(q,De,ke?ke[m]():ee[m]())&&ee[Ln](De,ke)},ee[g]=function(){V()}});function V(){x=0,q=[]}return w}return v.__ieDyn=1,v}(wa),Nl,mh="Plugins must provide initialize method",Av="_notificationManager",Mv="SDK is still unloading...",sr="SDK is not initialized",an=Vi((Nl={cookieCfg:{}},Nl[np]={rdOnly:!0,ref:!0,v:[]},Nl[Qp]={rdOnly:!0,ref:!0,v:[]},Nl[pd]={ref:!0,v:{}},Nl[M_]=hd,Nl.loggingLevelConsole=0,Nl.diagnosticLogInterval=hd,Nl));function fi(h,v){return new pb(v)}function Qo(h,v,w){var x,q=[],V=[],ee={};return Cn(w,function(de){(xe(de)||xe(de[Sl]))&&Wr(mh);var De=de[md],ke=de[fc];de&&De&&(xe(ee[De])?ee[De]=ke:xv(h,"Two extensions have same priority #"+De+" - "+ee[De]+", "+ke)),!De||De<v?q[bi](de):V[bi](de)}),x={},x[oo]=q,x[Qp]=V,x}function ps(h,v){var w=!1;return Cn(v,function(x){if(x===h)return w=!0,-1}),w}function ms(h,v,w,x){w&&Rr(w,function(q,V){x&&ds(V)&&ds(v[q])&&ms(h,v[q],V,x),x&&ds(V)&&ds(v[q])?ms(h,v[q],V,x):h.set(v,q,V)})}function Ds(h,v){var w=null,x=-1;return Cn(h,function(q,V){if(q.w===v)return w=q,x=V,-1}),{i:x,l:w}}function Cm(h,v){var w=Ds(h,v).l;return w||(w={w:v,rm:function(){var x=Ds(h,v);x.i!==-1&&h[ma](x.i,1)}},h[bi](w)),w}function vp(h,v,w){Cn(v,function(x){var q=lh(h,x.w,w);delete x.w,x.rm=function(){q.rm()}})}var _p=function(){function h(){var v,w,x,q,V,ee,de,De,ke,Ye,bt,Ot,_t,ut,ar,Nt,hr,tr,ur,rn,Oi,es,_c,Ca,zl,Ou,tD,Z_;Io(h,this,function(jr){vr(),jr._getDbgPlgTargets=function(){return[_c]},jr[Fo]=function(){return w},jr[Sl]=function(Wt,Kr,yi,ui){_t&&Wr(Mv),jr[Fo]()&&Wr("Core cannot be initialized more than once"),v=ya(Wt,an,yi||jr[Bi],!1),Wt=v.cfg,kb(v[Ju](function(vs){Oi=vs.cfg.instrumentationKey;var Bc=vs.ref(vs.cfg,pd);Rr(Bc,function(Iu){vs.ref(Bc,Iu)}),xe(Oi)&&Wr("Please provide instrumentation key")})),V=ui,UR(),nL(),jr[Bi]=yi;var ti=Wt[np];if(Ye=[],Ye[bi].apply(Ye,nh(nh([],Kr,!1),ti)),bt=Wt[Qp],zR(null),(!Ot||Ot[Ni]===0)&&Wr("No "+Qp+" available"),bt&&bt[Ni]>1){var gs=jr[Ha]("TeeChannelController");(!gs||!gs.plugin)&&vn(x,1,28,"TeeChannel required")}vp(Wt,es,x),es=null,w=!0,jr.releaseQueue(),jr[Xs]()},jr.getChannels=function(){var Wt=[];return Ot&&Cn(Ot,function(Kr){Wt[bi](Kr)}),ii(Wt)},jr.track=function(Wt){gp(jr[Jo](),function(){return"AppInsightsCore:track"},function(){Wt===null&&(iL(Wt),Wr("Invalid telemetry item")),!Wt[io]&&xe(Wt[io])&&(iL(Wt),Wr("telemetry name required")),Wt.iKey=Wt.iKey||Oi,Wt[su]=Wt[su]||_d(new Date),Wt.ver=Wt.ver||"4.0",!_t&&jr[Fo]()?a0()[Ln](Wt):q[bi](Wt)},function(){return{item:Wt}},!Wt.sync)},jr[jc]=a0,jr[Co]=function(){return V||(V=new bg(v.cfg),jr[Av]=V),V},jr[si]=function(Wt){jr[Co]()[si](Wt)},jr[Cl]=function(Wt){V&&V[Cl](Wt)},jr.getCookieMgr=function(){return De||(De=db(v.cfg,jr[Bi])),De},jr.setCookieMgr=function(Wt){De!==Wt&&(dh(De,!1),De=Wt)},jr[Jo]=function(){return!ee&&!de&&kb(v[Ju](function(Wt){if(Wt.cfg.enablePerfMgr){var Kr=Wt.cfg[M_];at(Kr)&&(de=Kr(jr,jr[Co]()))}})),ee||de||Sg()},jr.setPerfMgr=function(Wt){ee=Wt},jr.eventCnt=function(){return q[Ni]},jr.releaseQueue=function(){if(w&&q[Ni]>0){var Wt=q;q=[],Cn(Wt,function(Kr){a0()[Ln](Kr)})}},jr[Xs]=function(Wt){return ar=Wt||null,Z_=!1,Ou&&Ou[ud](),ey(!0)};function ey(Wt){if((!Ou||!Ou[ga])&&!Z_){var Kr=Wt||x&&x.queue[Ni]>0;Kr&&(tD||(tD=!0,kb(v[Ju](function(yi){var ui=yi.cfg.diagnosticLogInterval;(!ui||!(ui>0))&&(ui=1e4);var ti=!1;Ou&&(ti=Ou[ga],Ou[ud]()),Ou=Gh(u0,ui),Ou.unref(),Ou[ga]=ti}))),Ou[ga]=!0)}return Ou}jr[oa]=function(){Z_=!0,Ou&&Ou[ud](),u0()},og(jr,function(){return ut},["addTelemetryInitializer"]),jr[Qs]=function(Wt,Kr,yi){var ui;Wt===void 0&&(Wt=!0),w||Wr(sr),_t&&Wr(Mv);var ti=(ui={reason:50},ui[dd]=Wt,ui.flushComplete=!1,ui),gs;Wt&&!Kr&&(gs=rp(function(Iu){Kr=Iu}));var vs=Xn(c0(),jr);vs[Tl](function(){tr.run(jr[Bi]),q_([De,V,x],Wt,function(){vr(),Kr&&Kr(ti)})},jr);function Bc(Iu){ti.flushComplete=Iu,_t=!0,hr.run(vs,ti),jr[oa](),vs[Ln](ti)}return u0(),rL(Wt,Bc,6,yi),gs},jr[Ha]=rD,jr.addPlugin=function(Wt,Kr,yi,ui){if(!Wt){ui&&ui(!1),Ib(mh);return}var ti=rD(Wt[fc]);if(ti&&!Kr){ui&&ui(!1),Ib("Plugin ["+Wt[fc]+"] is already loaded!");return}var gs={reason:16};function vs(Rm){Ye[bi](Wt),gs.added=[Wt],zR(gs),ui&&ui(!0)}if(ti){var Bc=[ti.plugin],Iu={reason:2,isAsync:!!yi};nD(Bc,Iu,function(Rm){Rm?(gs.removed=Bc,gs.reason|=32,vs()):ui&&ui(!1)})}else vs()},jr.updateCfg=function(Wt,Kr){Kr===void 0&&(Kr=!0);var yi;if(jr[Fo]()){yi={reason:1,cfg:v.cfg,oldCfg:ru({},v.cfg),newConfig:ru({},Wt),merge:Kr},Wt=yi.newConfig;var ui=v.cfg;Wt[np]=ui[np],Wt[Qp]=ui[Qp]}v._block(function(ti){var gs=ti.cfg;ms(ti,gs,Wt,Kr),Kr||Rr(gs,function(vs){cn(Wt,vs)||ti.set(gs,vs,hd)}),ti[Js](gs,an)},!0),v[Pu](),yi&&HR(yi)},jr.evtNamespace=function(){return Nt},jr.flush=rL,jr.getTraceCtx=function(Wt){return rn||(rn=We()),rn},jr.setTraceCtx=function(Wt){rn=Wt||null},jr.addUnloadHook=kb,nm(jr,"addUnloadCb",function(){return hr},"add"),jr.onCfgChange=function(Wt){var Kr;return w?Kr=lh(v.cfg,Wt,jr[Bi]):Kr=Cm(es,Wt),{rm:function(){Kr.rm()}}},jr.getWParam=function(){return Mn()||v.cfg.enableWParam?0:-1};function ty(){var Wt={};Ca=[];var Kr=function(yi){yi&&Cn(yi,function(ui){if(ui[fc]&&ui[Ba]&&!Wt[ui.identifier]){var ti=ui[fc]+"="+ui[Ba];Ca[bi](ti),Wt[ui.identifier]=ui}})};Kr(Ot),bt&&Cn(bt,function(yi){Kr(yi)}),Kr(Ye)}function vr(){w=!1,v=ya({},an,jr[Bi]),v.cfg[ld]=1,Oo(jr,"config",{g:function(){return v.cfg},s:function(Kr){jr.updateCfg(Kr,!1)}}),Oo(jr,"pluginVersionStringArr",{g:function(){return Ca||ty(),Ca}}),Oo(jr,"pluginVersionString",{g:function(){return zl||(Ca||ty(),zl=Ca.join(";")),zl||Gi}}),Oo(jr,"logger",{g:function(){return x||(x=new vg(v.cfg),v[Bi]=x),x},s:function(Kr){v[Bi]=Kr,x!==Kr&&(dh(x,!1),x=Kr)}}),jr[Bi]=new vg(v.cfg),_c=[];var Wt=jr.config[np]||[];Wt.splice(0,Wt[Ni]),ks(Wt,_c),ut=new kv,q=[],dh(V,!1),V=null,ee=null,de=null,dh(De,!1),De=null,ke=null,Ye=[],bt=null,Ot=null,_t=!1,ar=null,Nt=pc("AIBaseCore",!0),hr=wi(),rn=null,Oi=null,tr=Wn(),es=[],zl=null,Ca=null,Z_=!1}function a0(){var Wt=Rn(c0(),v.cfg,jr);return Wt[Tl](ey),Wt}function zR(Wt){var Kr=Qo(jr[Bi],eS,Ye);ke=null,zl=null,Ca=null,Ot=(bt||[])[0]||[],Ot=ve(ks(Ot,Kr[Qp]));var yi=ks(ve(Kr[oo]),Ot);_c=ii(yi);var ui=jr.config[np]||[];ui.splice(0,ui[Ni]),ks(ui,_c);var ti=a0();Ot&&Ot[Ni]>0&&Y(ti[hs](Ot),yi),Y(ti,yi),Wt&&HR(Wt)}function rD(Wt){var Kr=null,yi=null,ui=[];return Cn(_c,function(ti){if(ti[fc]===Wt&&ti!==ut)return yi=ti,-1;ti.getChannel&&ui[bi](ti)}),!yi&&ui[Ni]>0&&Cn(ui,function(ti){if(yi=ti.getChannel(Wt),!yi)return-1}),yi&&(Kr={plugin:yi,setEnabled:function(ti){j(yi)[_v]=!ti},isEnabled:function(){var ti=j(yi);return!ti[zc]&&!ti[_v]},remove:function(ti,gs){var vs;ti===void 0&&(ti=!0);var Bc=[yi],Iu=(vs={reason:1},vs[dd]=ti,vs);nD(Bc,Iu,function(Rm){Rm&&zR({reason:32,removed:Bc}),gs&&gs(Rm)})}}),Kr}function c0(){if(!ke){var Wt=(_c||[]).slice();As(Wt,ut)===-1&&Wt[bi](ut),ke=Qn(ve(Wt),v.cfg,jr)}return ke}function nD(Wt,Kr,yi){if(Wt&&Wt[Ni]>0){var ui=Qn(Wt,v.cfg,jr),ti=Xn(ui,jr);ti[Tl](function(){var gs=!1,vs=[];Cn(Ye,function(Iu,Rm){ps(Iu,Wt)?gs=!0:vs[bi](Iu)}),Ye=vs,zl=null,Ca=null;var Bc=[];bt&&(Cn(bt,function(Iu,Rm){var Ab=[];Cn(Iu,function(oL){ps(oL,Wt)?gs=!0:Ab[bi](oL)}),Bc[bi](Ab)}),bt=Bc),yi&&yi(gs),ey()}),ti[Ln](Kr)}else yi(!1)}function u0(){if(x&&x.queue){var Wt=x.queue.slice(0);x.queue[Ni]=0,Cn(Wt,function(Kr){var yi,ui=(yi={},yi[io]=ar||"InternalMessageId: "+Kr[Xu],yi.iKey=Oi,yi[su]=_d(new Date),yi.baseType=Ol.dataType,yi.baseData={message:Kr[Dl]},yi);jr.track(ui)})}}function rL(Wt,Kr,yi,ui){var ti=1,gs=!1,vs=null;ui=ui||5e3;function Bc(){ti--,gs&&ti===0&&(vs&&vs[ud](),vs=null,Kr&&Kr(gs),Kr=null)}if(Ot&&Ot[Ni]>0){var Iu=a0()[hs](Ot);Iu.iterate(function(Rm){if(Rm.flush){ti++;var Ab=!1;Rm.flush(Wt,function(){Ab=!0,Bc()},yi)||Ab||(Wt&&vs==null?vs=eh(function(){vs=null,Bc()},ui):Bc())}})}return gs=!0,Bc(),!0}function UR(){!V&&jr[Co](),kb(v[Ju](function(Wt){var Kr=Wt.cfg.disableDbgExt;Kr===!0&&ur&&(V[Cl](ur),ur=null),V&&!ur&&Kr!==!0&&(ur=WC(Wt.cfg),V[si](ur))}))}function nL(){kb(v[Ju](function(Wt){var Kr=Wt.cfg.enablePerfMgr;!Kr&&de&&(de=null),Kr&&rm(Wt.cfg,M_,fi)}))}function HR(Wt){var Kr=Xr(c0(),jr);Kr[Tl](ey),(!jr._updateHook||jr._updateHook(Kr,Wt)!==!0)&&Kr[Ln](Wt)}function Ib(Wt){var Kr=jr[Bi];Kr?(vn(Kr,2,73,Wt),ey()):Wr(Wt)}function iL(Wt){var Kr=jr[Co]();Kr&&Kr[Cs]([Wt],2)}function kb(Wt){tr.add(Wt)}})}return h.__ieDyn=1,h}(),vb="on",Tm="attachEvent",gh="addEventListener",Lv="detachEvent",pu="removeEventListener",Dm="events";pc("aiEvtPageHide"),pc("aiEvtPageShow");var vh=/\.[\.]+/g,Tg=/[\.]+$/,YT=1,Dg=el("events"),xu=/^([^.]*)(?:\.(.+)|)/;function nl(h){return h&&h[Ie]?h[Ie](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Gi):h}function Nv(h,v){var w;if(v){var x=Gi;tt(v)?(x=Gi,Cn(v,function(V){V=nl(V),V&&(V[0]!=="."&&(V="."+V),x+=V)})):x=nl(v),x&&(x[0]!=="."&&(x="."+x),h=(h||Gi)+x)}var q=xu.exec(h||Gi)||[];return w={},w[ht]=q[1],w.ns=(q[2]||Gi).replace(vh,".").replace(Tg,Gi)[Z](".").sort().join("."),w}function hf(h,v,w){w===void 0&&(w=!0);var x=Dg.get(h,Dm,{},w),q=x[v];return q||(q=x[v]=[]),q}function VC(h,v,w,x){h&&v&&v[ht]&&(h[pu]?h[pu](v[ht],w,x):h[Lv]&&h[Lv](vb+v[ht],w))}function sS(h,v,w,x){var q=!1;return h&&v&&v[ht]&&w&&(h[gh]?(h[gh](v[ht],w,x),q=!0):h[Tm]&&(h[Tm](vb+v[ht],w),q=!0)),q}function JT(h,v,w,x){for(var q=v[Ni];q--;){var V=v[q];V&&(!w.ns||w.ns===V.evtName.ns)&&(!x||x(V))&&(VC(h,V.evtName,V[Ht],V.capture),v[ma](q,1))}}function XT(h,v,w){if(v[ht])JT(h,hf(h,v[ht]),v,w);else{var x=Dg.get(h,Dm,{});Rr(x,function(q,V){JT(h,V,v,w)}),Vr(x)[Ni]===0&&Dg.kill(h,Dm)}}function aS(h,v){var w;return v?(tt(v)?w=[h].concat(v):w=[h,v],w=Nv("xx",w).ns[Z](".")):w=h,w}function pf(h,v,w,x,q){var V;q===void 0&&(q=!1);var ee=!1;if(h)try{var de=Nv(v,x);if(ee=sS(h,de,w,q),ee&&Dg.accept(h)){var De=(V={guid:YT++,evtName:de},V[Ht]=w,V.capture=q,V);hf(h,de.type)[bi](De)}}catch{}return ee}function GC(h,v,w,x,q){if(q===void 0&&(q=!1),h)try{var V=Nv(v,x),ee=!1;XT(h,V,function(de){return V.ns&&!w||de[Ht]===w?(ee=!0,!0):!1}),ee||VC(h,V,w,q)}catch{}}var B_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",_b="sampleRate",yb="ProcessLegacy",bb="http.method",cS="https://dc.services.visualstudio.com",W_="/v2/track",mf="not_specified",$_=Jh({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),wb="split",Xi="length",uS="toLowerCase",Pg="ingestionendpoint",qv="toString",QT="removeItem",gf="name",ql="message",lS="count",_h="stringify",Eg="pathname",yp="exceptions",il="parsedStack",yh="properties",bp="measurements",xg="sizeInBytes",wp="typeName",Sb="severityLevel",dS="problemGroup",KC="isManual",V_="CreateFromInterface",Fv="assembly",Rg="fileName",jv="hasFullStack",Cb="level",Og="method",G_="line",Tb="duration",K_="receivedResponse";function ZT(h,v,w){var x=v[Xi],q=Db(h,v);if(q[Xi]!==x){for(var V=0,ee=q;w[ee]!==void 0;)V++,ee=he(q,0,147)+Ag(V);q=ee}return q}function Db(h,v){var w;return v&&(v=Ls(ft(v)),v[Xi]>150&&(w=he(v,0,150),vn(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:v},!0))),w||v}function Sa(h,v,w){w===void 0&&(w=1024);var x;return v&&(w=w||1024,v=Ls(ft(v)),v[Xi]>w&&(x=he(v,0,w),vn(h,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:v},!0))),x||v}function Sp(h,v){return Pb(h,v,2048,66)}function Ig(h,v){var w;return v&&v[Xi]>32768&&(w=he(v,0,32768),vn(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:v},!0)),w||v}function YC(h,v){var w;if(v){var x=""+v;x[Xi]>32768&&(w=he(x,0,32768),vn(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:v},!0))}return w||v}function Pm(h,v){if(v){var w={};Rr(v,function(x,q){if(ct(q)&&Hc())try{q=Va()[_h](q)}catch(V){vn(h,2,49,"custom property is not valid",{exception:V},!0)}q=Sa(h,q,8192),x=ZT(h,x,w),w[x]=q}),v=w}return v}function kg(h,v){if(v){var w={};Rr(v,function(x,q){x=ZT(h,x,w),w[x]=q}),v=w}return v}function Y_(h,v){return v&&Pb(h,v,128,69)[qv]()}function Pb(h,v,w,x){var q;return v&&(v=Ls(ft(v)),v[Xi]>w&&(q=he(v,0,w),vn(h,2,x,"input is too long, it has been truncated to "+w+" characters.",{data:v},!0))),q||v}function Ag(h){var v="00"+h;return S(v,v[Xi]-3)}var Mg=ro()||{},JC=0,XC=[null,null,null,null,null];function J_(h){var v=JC,w=XC,x=w[v];return Mg.createElement?w[v]||(x=w[v]=Mg.createElement("a")):x={host:QC(h,!0)},x.href=h,v++,v>=w[Xi]&&(v=0),JC=v,x}function QC(h,v){var w=qR(h,v)||"";if(w){var x=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[Xi]>3&&ze(x[2])&&x[2][Xi]>0)return x[2]+(x[3]||"")}return w}function qR(h,v){var w=null;if(h){var x=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[Xi]>2&&ze(x[2])&&x[2][Xi]>0&&(w=x[2]||"",v&&x[Xi]>2)){var q=(x[1]||"")[uS](),V=x[3]||"";(q==="http"&&V===":80"||q==="https"&&V===":443")&&(V=""),w+=V}}return w}var FR=[cS+W_,"https://breeze.aimon.applicationinsights.io"+W_,"https://dc-int.services.visualstudio.com"+W_];function Em(h){return As(FR,h[uS]())!==-1}function jR(h,v,w,x){var q,V=x,ee=x;if(v&&v[Xi]>0){var de=J_(v);if(q=de.host,!V)if(de[Eg]!=null){var De=de.pathname[Xi]===0?"/":de[Eg];De.charAt(0)!=="/"&&(De="/"+De),ee=de[Eg],V=Sa(h,w?w+" "+De:De)}else V=Sa(h,v)}else q=x,V=x;return{target:q,name:V,data:ee}}var Eb=cd({LocalStorage:0,SessionStorage:1});cd({AI:0,AI_AND_W3C:1,W3C:2});var zv=void 0,fS="";function hS(h){try{if(xe(kn()))return null;var v=new Date()[qv](),w=wn(h===Eb.LocalStorage?"localStorage":"sessionStorage"),x=fS+v;w.setItem(x,v);var q=w.getItem(x)!==v;if(w[QT](x),!q)return w}catch{}return null}function xb(){return ZC()?hS(Eb.SessionStorage):null}function xm(h){fS=h||""}function ZC(h){return(h||zv===void 0)&&(zv=!!hS(Eb.SessionStorage)),zv}function js(h,v){var w=xb();if(w!==null)try{return w.getItem(v)}catch(x){zv=!1,vn(h,2,2,"Browser failed read of session storage. "+hc(x),{exception:kt(x)})}return null}function bh(h,v,w){var x=xb();if(x!==null)try{return x.setItem(v,w),!0}catch(q){zv=!1,vn(h,2,4,"Browser failed write to session storage. "+hc(q),{exception:kt(q)})}return!1}var zs=";",e0="=";function t0(h){if(!h)return{};var v=h[wb](zs),w=Mc(v,function(q,V){var ee=V[wb](e0);if(ee[Xi]===2){var de=ee[0][uS](),De=ee[1];q[de]=De}return q},{});if(Vr(w)[Xi]>0){if(w.endpointsuffix){var x=w.location?w.location+".":"";w[Pg]=w[Pg]||"https://"+x+"dc."+w.endpointsuffix}w[Pg]=w[Pg]||cS,Gs(w[Pg],"/")&&(w[Pg]=w[Pg].slice(0,-1))}return w}var r0=function(){function h(v,w,x){var q=this,V=this;V.ver=1,V.sampleRate=100,V.tags={},V[gf]=Sa(v,x)||mf,V.data=w,V.time=_d(new Date),V.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return q.sampleRate===100?4:1},tags:1,data:1}}return h}(),C=function(){function h(v,w,x,q){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var V=this;V.ver=2,V[gf]=Sa(v,w)||mf,V[yh]=Pm(v,x),V[bp]=kg(v,q)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),A="<no_method>",B="error",X="stack",se="stackDetails",we="errorSrc",Se="message",Xe="description";function lt(h,v){var w=h;return w&&!ze(w)&&(JSON&&JSON[_h]?(w=JSON[_h](h),v&&(!w||w==="{}")&&(at(h[qv])?w=h[qv]():w=""+h)):w=""+h+" - (Missing JSON.stringify)"),w||""}function gt(h,v){var w=h;return h&&(w&&!ze(w)&&(w=h[Se]||h[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),h.filename&&(w=w+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),v&&v!=="String"&&v!=="Object"&&v!=="Error"&&yu(w||"",v)===-1&&(w=v+": "+w),w||""}function zt(h){try{if(ct(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}function Pr(h){try{if(ct(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}function wr(h){return h&&h.src&&ze(h.src)&&h.obj&&tt(h.obj)}function Mt(h){var v=h||"";ze(v)||(ze(v[X])?v=v[X]:v=""+v);var w=v[wb](`
`);return{src:v,obj:w}}function Et(h){for(var v=[],w=h[wb](`
`),x=0;x<w[Xi];x++){var q=w[x];w[x+1]&&(q+="@"+w[x+1],x++),v.push(q)}return{src:h,obj:v}}function jt(h){var v=null;if(h)try{if(h[X])v=Mt(h[X]);else if(h[B]&&h[B][X])v=Mt(h[B][X]);else if(h.exception&&h.exception[X])v=Mt(h.exception[X]);else if(wr(h))v=h;else if(wr(h[se]))v=h[se];else if(wo()&&wo().opera&&h[Se])v=Et(h[ql]);else if(h.reason&&h.reason[X])v=Mt(h.reason[X]);else if(ze(h))v=Mt(h);else{var w=h[Se]||h[Xe]||"";ze(h[we])&&(w&&(w+=`
`),w+=" from "+h[we]),w&&(v=Mt(w))}}catch(x){v=Mt(x)}return v||{src:"",obj:null}}function Pt(h){var v="";return h&&(h.obj?Cn(h.obj,function(w){v+=w+`
`}):v=h.src||""),v}function lr(h){var v,w=h.obj;if(w&&w[Xi]>0){v=[];var x=0,q=0;Cn(w,function(ut){var ar=ut[qv]();if(ai.regex.test(ar)){var Nt=new ai(ar,x++);q+=Nt[xg],v.push(Nt)}});var V=32*1024;if(q>V)for(var ee=0,de=v[Xi]-1,De=0,ke=ee,Ye=de;ee<de;){var bt=v[ee][xg],Ot=v[de][xg];if(De+=bt+Ot,De>V){var _t=Ye-ke+1;v.splice(ke,_t);break}ke=ee,Ye=de,ee++,de--}}return v}function ir(h){var v="";if(h&&(v=h.typeName||h[gf]||"",!v))try{var w=/function (.{1,200})\(/,x=w.exec(h.constructor[qv]());v=x&&x[Xi]>1?x[1]:""}catch{}return v}function _r(h){if(h)try{if(!ze(h)){var v=ir(h),w=lt(h,!1);return(!w||w==="{}")&&(h[B]&&(h=h[B],v=ir(h)),w=lt(h,!0)),yu(w,v)!==0&&v!=="String"?v+":"+w:w}}catch{}return""+(h||"")}var dn=function(){function h(v,w,x,q,V,ee){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var de=this;de.ver=2,Pr(w)?(de[yp]=w[yp]||[],de[yh]=w[yh],de[bp]=w[bp],w[Sb]&&(de[Sb]=w[Sb]),w.id&&(de.id=w.id),w[dS]&&(de[dS]=w[dS]),xe(w[KC])||(de[KC]=w[KC])):(x||(x={}),de[yp]=[new hi(v,w,x)],de[yh]=Pm(v,x),de[bp]=kg(v,q),V&&(de[Sb]=V),ee&&(de.id=ee))}return h.CreateAutoException=function(v,w,x,q,V,ee,de,De){var ke,Ye=ir(V||ee||v);return ke={},ke[ql]=gt(v,Ye),ke.url=w,ke.lineNumber=x,ke.columnNumber=q,ke.error=_r(V||ee||v),ke.evt=_r(ee||v),ke[wp]=Ye,ke.stackDetails=jt(de||V||ee),ke.errorSrc=De,ke},h.CreateFromInterface=function(v,w,x,q){var V=w[yp]&&eu(w[yp],function(de){return hi[V_](v,de)}),ee=new h(v,is(is({},w),{exceptions:V}),x,q);return ee},h.prototype.toInterface=function(){var v,w=this,x=w.exceptions,q=w.properties,V=w.measurements,ee=w.severityLevel,de=w.problemGroup,De=w.id,ke=w.isManual,Ye=x instanceof Array&&eu(x,function(bt){return bt.toInterface()})||void 0;return v={ver:"4.0"},v[yp]=Ye,v.severityLevel=ee,v.properties=q,v.measurements=V,v.problemGroup=de,v.id=De,v.isManual=ke,v},h.CreateSimpleException=function(v,w,x,q,V,ee){var de;return{exceptions:[(de={},de[jv]=!0,de.message=v,de.stack=V,de.typeName=w,de)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=_r,h}(),hi=function(){function h(v,w,x){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var q=this;if(zt(w))q[wp]=w[wp],q[ql]=w[ql],q[X]=w[X],q[il]=w[il]||[],q[jv]=w[jv];else{var V=w,ee=V&&V.evt;fr(V)||(V=V[B]||ee||V),q[wp]=Sa(v,ir(V))||mf,q[ql]=Ig(v,gt(w||V,q[wp]))||mf;var de=w[se]||jt(w);q[il]=lr(de),tt(q[il])&&eu(q[il],function(De){De[Fv]=Sa(v,De[Fv]),De[Rg]=Sa(v,De[Rg])}),q[X]=YC(v,Pt(de)),q.hasFullStack=tt(q.parsedStack)&&q.parsedStack[Xi]>0,x&&(x[wp]=x[wp]||q[wp])}}return h.prototype.toInterface=function(){var v,w=this,x=w[il]instanceof Array&&eu(w[il],function(V){return V.toInterface()}),q=(v={id:w.id,outerId:w.outerId,typeName:w[wp],message:w[ql],hasFullStack:w[jv],stack:w[X]},v[il]=x||void 0,v);return q},h.CreateFromInterface=function(v,w){var x=w[il]instanceof Array&&eu(w[il],function(V){return ai[V_](V)})||w[il],q=new h(v,is(is({},w),{parsedStack:x}));return q},h}(),ai=function(){function h(v,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var x=this;if(x[xg]=0,typeof v=="string"){var q=v;x[Cb]=w,x[Og]=A,x[Fv]=Ls(q),x[Rg]="",x[G_]=0;var V=q.match(h.regex);V&&V[Xi]>=5&&(x[Og]=Ls(V[2])||x[Og],x[Rg]=Ls(V[4]),x[G_]=parseInt(V[5])||0)}else x[Cb]=v[Cb],x[Og]=v[Og],x[Fv]=v[Fv],x[Rg]=v[Rg],x[G_]=v[G_],x[xg]=0;x.sizeInBytes+=x.method[Xi],x.sizeInBytes+=x.fileName[Xi],x.sizeInBytes+=x.assembly[Xi],x[xg]+=h.baseSize,x.sizeInBytes+=x.level.toString()[Xi],x.sizeInBytes+=x.line.toString()[Xi]}return h.CreateFromInterface=function(v){return new h(v,null)},h.prototype.toInterface=function(){var v=this;return{level:v[Cb],method:v[Og],assembly:v[Fv],fileName:v[Rg],line:v[G_]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),so=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return h}(),zo=function(){function h(v,w,x,q,V,ee,de,De,ke){this.aiDataContract={ver:1,metrics:1,properties:0};var Ye=this;Ye.ver=2;var bt=new so;bt[lS]=q>0?q:void 0,bt.max=isNaN(ee)||ee===null?void 0:ee,bt.min=isNaN(V)||V===null?void 0:V,bt[gf]=Sa(v,w)||mf,bt.value=x,bt.stdDev=isNaN(de)||de===null?void 0:de,Ye.metrics=[bt],Ye[yh]=Pm(v,De),Ye[bp]=kg(v,ke)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),To="";function Ps(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var v=To+h%1e3,w=To+Math.floor(h/1e3)%60,x=To+Math.floor(h/(1e3*60))%60,q=To+Math.floor(h/(1e3*60*60))%24,V=Math.floor(h/(1e3*60*60*24));return v=v[Xi]===1?"00"+v:v[Xi]===2?"0"+v:v,w=w[Xi]<2?"0"+w:w,x=x[Xi]<2?"0"+x:x,q=q[Xi]<2?"0"+q:q,(V>0?V+".":To)+q+":"+x+":"+w+"."+v}var Qa=function(){function h(v,w,x,q,V,ee,de){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var De=this;De.ver=2,De.id=Y_(v,de),De.url=Sp(v,x),De[gf]=Sa(v,w)||mf,isNaN(q)||(De[Tb]=Ps(q)),De[yh]=Pm(v,V),De[bp]=kg(v,ee)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),Ki=function(){function h(v,w,x,q,V,ee,de,De,ke,Ye,bt,Ot){ke===void 0&&(ke="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var _t=this;_t.ver=2,_t.id=w,_t[Tb]=Ps(V),_t.success=ee,_t.resultCode=de+"",_t.type=Sa(v,ke);var ut=jR(v,x,De,q);_t.data=Sp(v,q)||ut.data,_t.target=Sa(v,ut.target),Ye&&(_t.target="".concat(_t.target," | ").concat(Ye)),_t[gf]=Sa(v,ut[gf]),_t[yh]=Pm(v,bt),_t[bp]=kg(v,Ot)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),mc=function(){function h(v,w,x,q,V){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ee=this;ee.ver=2,w=w||mf,ee[ql]=Ig(v,w),ee[yh]=Pm(v,q),ee[bp]=kg(v,V),x&&(ee[Sb]=x)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),gc=function(){function h(v,w,x,q,V,ee,de){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var De=this;De.ver=2,De.url=Sp(v,x),De[gf]=Sa(v,w)||mf,De[yh]=Pm(v,V),De[bp]=kg(v,ee),de&&(De.domProcessing=de.domProcessing,De[Tb]=de[Tb],De.networkConnect=de.networkConnect,De.perfTotal=de.perfTotal,De[K_]=de[K_],De.sentRequest=de.sentRequest)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),Zs=function(){function h(v,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=v,this.baseData=w}return h}(),ol=cd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function sa(h){var v="ai."+h+".";return function(w){return v+w}}var aa=sa("application"),Si=sa("device"),Qi=sa("location"),Fl=sa("operation"),X_=sa("session"),Cp=sa("user"),Tp=sa("cloud"),p=sa("internal"),b=function(h){Yu(v,h);function v(){return h.call(this)||this}return v}(sp({applicationVersion:aa("ver"),applicationBuild:aa("build"),applicationTypeId:aa("typeId"),applicationId:aa("applicationId"),applicationLayer:aa("layer"),deviceId:Si("id"),deviceIp:Si("ip"),deviceLanguage:Si("language"),deviceLocale:Si("locale"),deviceModel:Si("model"),deviceFriendlyName:Si("friendlyName"),deviceNetwork:Si("network"),deviceNetworkName:Si("networkName"),deviceOEMName:Si("oemName"),deviceOS:Si("os"),deviceOSVersion:Si("osVersion"),deviceRoleInstance:Si("roleInstance"),deviceRoleName:Si("roleName"),deviceScreenResolution:Si("screenResolution"),deviceType:Si("type"),deviceMachineName:Si("machineName"),deviceVMName:Si("vmName"),deviceBrowser:Si("browser"),deviceBrowserVersion:Si("browserVersion"),locationIp:Qi("ip"),locationCountry:Qi("country"),locationProvince:Qi("province"),locationCity:Qi("city"),operationId:Fl("id"),operationName:Fl("name"),operationParentId:Fl("parentId"),operationRootId:Fl("rootId"),operationSyntheticSource:Fl("syntheticSource"),operationCorrelationVector:Fl("correlationVector"),sessionId:X_("id"),sessionIsFirst:X_("isFirst"),sessionIsNew:X_("isNew"),userAccountAcquisitionDate:Cp("accountAcquisitionDate"),userAccountId:Cp("accountId"),userAgent:Cp("userAgent"),userId:Cp("id"),userStoreRegion:Cp("storeRegion"),userAuthUserId:Cp("authUserId"),userAnonymousUserAcquisitionDate:Cp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Cp("authUserAcquisitionDate"),cloudName:Tp("name"),cloudRole:Tp("role"),cloudRoleVer:Tp("roleVer"),cloudRoleInstance:Tp("roleInstance"),cloudEnvironment:Tp("environment"),cloudLocation:Tp("location"),cloudDeploymentUnit:Tp("deploymentUnit"),internalNodeName:p("nodeName"),internalSdkVersion:p("sdkVersion"),internalAgentVersion:p("agentVersion"),internalSnippet:p("snippet"),internalSdkSrc:p("sdkSrc")})),O=new b,F="AppInsightsChannelPlugin",W="duration",ie="tags",ge="deviceType",Oe="data",Be="name",et="traceID",$e="length",wt="stringify",ot="measurements",yt="dataType",it="envelopeType",Zt="toString",Gt="onLine",yr="isOnline",Er="_get",Or="enqueue",An="count",Ri="eventsLimitInMem",Do="push",Ve="emitLineDelimitedJson",At="clear",er="batchPayloads",dr="createNew",tn="markAsSent",Zn="clearSent",St="bufferOverride",nt="BUFFER_KEY",Tt="SENT_BUFFER_KEY",Rt="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Mr="diagLog",ei="_sender",Uo="customHeaders",mo="maxBatchSizeInBytes",wh="onunloadDisableBeacon",Rd="isBeaconApiDisabled",Q_="alwaysUseXhrOverride",vf="enableSessionStorageBuffer",Dp="_buffer",n0="onunloadDisableFetch",Rb="instrumentationKey",$t="convertUndefined",Gr="maxBatchInterval",ci="baseType",$n="sampleRate",pi="_xhrReadyStateChange",ko="_onError",Zo="_onPartialSuccess",vc="_onSuccess",mu="itemsAccepted",Lg="itemsReceived",Uv="oriPayload",eD="setRequestHeader",nse="eventsSendRequest",ise="getSamplingScore",Fqe="getHashCodeScore",I$="baseType",Za="baseData",jl="properties",ose="true";function Ru(h,v,w){return lu(h,v,w,mr)}function jqe(h,v,w){var x=w[ie]=w[ie]||{},q=v.ext=v.ext||{},V=v[ie]=v[ie]||[],ee=q.user;ee&&(Ru(x,O.userAuthUserId,ee.authId),Ru(x,O.userId,ee.id||ee.localId));var de=q.app;de&&Ru(x,O.sessionId,de.sesId);var De=q.device;De&&(Ru(x,O.deviceId,De.id||De.localId),Ru(x,O[ge],De.deviceClass),Ru(x,O.deviceIp,De.ip),Ru(x,O.deviceModel,De.model),Ru(x,O[ge],De[ge]));var ke=v.ext.web;if(ke){Ru(x,O.deviceLanguage,ke.browserLang),Ru(x,O.deviceBrowserVersion,ke.browserVer),Ru(x,O.deviceBrowser,ke.browser);var Ye=w[Oe]=w[Oe]||{},bt=Ye[Za]=Ye[Za]||{},Ot=bt[jl]=bt[jl]||{};Ru(Ot,"domain",ke.domain),Ru(Ot,"isManual",ke.isManual?ose:null),Ru(Ot,"screenRes",ke.screenRes),Ru(Ot,"userConsent",ke.userConsent?ose:null)}var _t=q.os;_t&&Ru(x,O.deviceOS,_t[Be]);var ut=q.trace;ut&&(Ru(x,O.operationParentId,ut.parentID),Ru(x,O.operationName,Sa(h,ut[Be])),Ru(x,O.operationId,ut[et]));for(var ar={},Nt=V[$e]-1;Nt>=0;Nt--){var hr=V[Nt];Rr(hr,function(ur,rn){ar[ur]=rn}),V.splice(Nt,1)}Rr(V,function(ur,rn){ar[ur]=rn});var tr=is(is({},x),ar);tr[O.internalSdkVersion]||(tr[O.internalSdkVersion]=Sa(h,"javascript:".concat(zqe.Version),64)),w[ie]=Tn(tr)}function pS(h,v,w){xe(h)||Rr(h,function(x,q){Nr(q)?w[x]=q:ze(q)?v[x]=q:Hc()&&(v[x]=Va()[wt](q))})}function i0(h,v){xe(h)||Rr(h,function(w,x){h[w]=x||v})}function o0(h,v,w,x){var q=new r0(h,x,v);Ru(q,"sampleRate",w[_b]),(w[Za]||{}).startTime&&(q.time=_d(w[Za].startTime)),q.iKey=w.iKey;var V=w.iKey.replace(/-/g,"");return q[Be]=q[Be].replace("{0}",V),jqe(h,w,q),w[ie]=w[ie]||[],Tn(q)}function s0(h,v){xe(v[Za])&&vn(h,1,46,"telemetryItem.baseData cannot be null.")}var zqe={Version:"3.0.5"};function Uqe(h,v,w){s0(h,v);var x=v[Za][ot]||{},q=v[Za][jl]||{};pS(v[Oe],q,x),xe(w)||i0(q,w);var V=v[Za];if(xe(V))return xv(h,"Invalid input for dependency data"),null;var ee=V[jl]&&V[jl][bb]?V[jl][bb]:"GET",de=new Ki(h,V.id,V.target,V[Be],V[W],V.success,V.responseCode,ee,V.type,V.correlationContext,q,x),De=new Zs(Ki[yt],de);return o0(h,Ki[it],v,De)}function sse(h,v,w){s0(h,v);var x={},q={};v[I$]!==C[yt]&&(x.baseTypeSource=v[I$]),v[I$]===C[yt]?(x=v[Za][jl]||{},q=v[Za][ot]||{}):v[Za]&&pS(v[Za],x,q),pS(v[Oe],x,q),xe(w)||i0(x,w);var V=v[Za][Be],ee=new C(h,V,x,q),de=new Zs(C[yt],ee);return o0(h,C[it],v,de)}function Hqe(h,v,w){s0(h,v);var x=v[Za][ot]||{},q=v[Za][jl]||{};pS(v[Oe],q,x),xe(w)||i0(q,w);var V=v[Za],ee=dn.CreateFromInterface(h,V,q,x),de=new Zs(dn[yt],ee);return o0(h,dn[it],v,de)}function Bqe(h,v,w){s0(h,v);var x=v[Za],q=x[jl]||{},V=x[ot]||{};pS(v[Oe],q,V),xe(w)||i0(q,w);var ee=new zo(h,x[Be],x.average,x.sampleCount,x.min,x.max,x.stdDev,q,V),de=new Zs(zo[yt],ee);return o0(h,zo[it],v,de)}function Wqe(h,v,w){s0(h,v);var x,q=v[Za];!xe(q)&&!xe(q[jl])&&!xe(q[jl][W])?(x=q[jl][W],delete q[jl][W]):!xe(v[Oe])&&!xe(v[Oe][W])&&(x=v[Oe][W],delete v[Oe][W]);var V=v[Za],ee;((v.ext||{}).trace||{})[et]&&(ee=v.ext.trace[et]);var de=V.id||ee,De=V[Be],ke=V.uri,Ye=V[jl]||{},bt=V[ot]||{};if(xe(V.refUri)||(Ye.refUri=V.refUri),xe(V.pageType)||(Ye.pageType=V.pageType),xe(V.isLoggedIn)||(Ye.isLoggedIn=V.isLoggedIn[Zt]()),!xe(V[jl])){var Ot=V[jl];Rr(Ot,function(ar,Nt){Ye[ar]=Nt})}pS(v[Oe],Ye,bt),xe(w)||i0(Ye,w);var _t=new Qa(h,De,ke,x,Ye,bt,de),ut=new Zs(Qa[yt],_t);return o0(h,Qa[it],v,ut)}function $qe(h,v,w){s0(h,v);var x=v[Za],q=x[Be],V=x.uri||x.url,ee=x[jl]||{},de=x[ot]||{};pS(v[Oe],ee,de),xe(w)||i0(ee,w);var De=new gc(h,q,V,void 0,ee,de,x),ke=new Zs(gc[yt],De);return o0(h,gc[it],v,ke)}function Vqe(h,v,w){s0(h,v);var x=v[Za].message,q=v[Za].severityLevel,V=v[Za][jl]||{},ee=v[Za][ot]||{};pS(v[Oe],V,ee),xe(w)||i0(V,w);var de=new mc(h,x,q,V,ee),De=new Zs(mc[yt],de);return o0(h,mc[it],v,De)}function ase(h,v){GC(h,null,null,v)}function Gqe(h){var v,w=ro(),x=Yn(),q=!1,V=!0,ee=aS(pc("OfflineListener"),h);try{if(De(wo())&&(q=!0),w){var de=w.body||w;de.ononline&&De(de)&&(q=!0)}q&&x&&!xe(x[Gt])&&(V=x[Gt])}catch{q=!1}function De(_t){var ut=!1;return _t&&(ut=pf(_t,"online",ke,ee),ut&&pf(_t,"offline",Ye,ee)),ut}function ke(){V=!0}function Ye(){V=!1}function bt(){var _t=!0;return q?_t=V:x&&!xe(x[Gt])&&(_t=x[Gt]),_t}function Ot(){var _t=wo();if(_t&&q){if(ase(_t,ee),w){var ut=w.body||w;be(ut.ononline)||ase(ut,ee)}q=!1}}return v={},v[yr]=bt,v.isListening=function(){return q},v.unload=Ot,v}var cse=function(){function h(v,w){var x=[],q=!1;this[Er]=function(){return x},this._set=function(V){return x=V,x},Io(h,this,function(V){V[Or]=function(ee){if(V[An]()>=w[Ri]){q||(vn(v,2,105,"Maximum in-memory buffer size reached: "+V[An](),!0),q=!0);return}x[Do](ee)},V[An]=function(){return x[$e]},V.size=function(){for(var ee=x[$e],de=0;de<x[$e];de++)ee+=x[de][$e];return w[Ve]||(ee+=2),ee},V[At]=function(){x=[],q=!1},V.getItems=function(){return x.slice(0)},V[er]=function(ee){if(ee&&ee[$e]>0){var de=w[Ve]?ee.join(`
`):"["+ee.join(",")+"]";return de}return null},V[dr]=function(ee,de,De){var ke=x.slice(0);ee=ee||v,de=de||{};var Ye=De?new use(ee,de):new k$(ee,de);return Cn(ke,function(bt){Ye[Or](bt)}),Ye}})}return h.__ieDyn=1,h}(),k$=function(h){Yu(v,h);function v(w,x){var q=h.call(this,w,x)||this;return Io(v,q,function(V,ee){V[tn]=function(de){ee[At]()},V[Zn]=function(de){}}),q}return v.__ieDyn=1,v}(cse),use=function(h){Yu(v,h);function v(w,x){var q=h.call(this,w,x)||this,V=!1,ee=x?.namePrefix,de=x[St]||{getItem:js,setItem:bh},De=de.getItem,ke=de.setItem;return Io(v,q,function(Ye,bt){var Ot=Nt(v[nt]),_t=Nt(v[Tt]),ut=Ye._set(Ot.concat(_t));ut[$e]>v[Rt]&&(ut[$e]=v[Rt]),hr(v[Tt],[]),hr(v[nt],ut),Ye[Or]=function(tr){if(Ye[An]()>=v[Rt]){V||(vn(w,2,67,"Maximum buffer size reached: "+Ye[An](),!0),V=!0);return}bt[Or](tr),hr(v.BUFFER_KEY,Ye[Er]())},Ye[At]=function(){bt[At](),hr(v.BUFFER_KEY,Ye[Er]()),hr(v[Tt],[]),V=!1},Ye[tn]=function(tr){hr(v[nt],Ye._set(ar(tr,Ye[Er]())));var ur=Nt(v[Tt]);ur instanceof Array&&tr instanceof Array&&(ur=ur.concat(tr),ur[$e]>v[Rt]&&(vn(w,1,67,"Sent buffer reached its maximum size: "+ur[$e],!0),ur[$e]=v[Rt]),hr(v[Tt],ur))},Ye[Zn]=function(tr){var ur=Nt(v[Tt]);ur=ar(tr,ur),hr(v[Tt],ur)},Ye[dr]=function(tr,ur,rn){rn=!!rn;var Oi=Ye[Er]().slice(0),es=Nt(v[Tt]).slice(0);tr=tr||w,ur=ur||{},Ye[At]();var _c=rn?new v(tr,ur):new k$(tr,ur);return Cn(Oi,function(Ca){_c[Or](Ca)}),rn&&_c[tn](es),_c};function ar(tr,ur){var rn=[];return Cn(ur,function(Oi){!at(Oi)&&As(tr,Oi)===-1&&rn[Do](Oi)}),rn}function Nt(tr){var ur=tr;try{ur=ee?ee+"_"+ur:ur;var rn=De(w,ur);if(rn){var Oi=Va().parse(rn);if(ze(Oi)&&(Oi=Va().parse(Oi)),Oi&&tt(Oi))return Oi}}catch(es){vn(w,1,42," storage key: "+ur+", "+hc(es),{exception:kt(es)})}return[]}function hr(tr,ur){var rn=tr;try{rn=ee?ee+"_"+rn:rn;var Oi=JSON[wt](ur);ke(w,rn,Oi)}catch(es){ke(w,rn,JSON[wt]([])),vn(w,2,41," storage key: "+rn+", "+hc(es)+". Buffer cleared",{exception:kt(es)})}}}),q}return v.BUFFER_KEY="AI_buffer",v.SENT_BUFFER_KEY="AI_sentBuffer",v.MAX_BUFFER_SIZE=2e3,v}(cse),Kqe=function(){function h(v){Io(h,this,function(w){w.serialize=function(ee){var de=x(ee,"root");try{return Va()[wt](de)}catch(De){vn(v,1,48,De&&at(De[Zt])?De[Zt]():"Error serializing object",null,!0)}};function x(ee,de){var De="__aiCircularRefCheck",ke={};if(!ee)return vn(v,1,48,"cannot serialize object because it is null or undefined",{name:de},!0),ke;if(ee[De])return vn(v,2,50,"Circular reference detected while serializing object",{name:de},!0),ke;if(!ee.aiDataContract){if(de==="measurements")ke=V(ee,"number",de);else if(de==="properties")ke=V(ee,"string",de);else if(de==="tags")ke=V(ee,"string",de);else if(tt(ee))ke=q(ee,de);else{vn(v,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:de},!0);try{Va()[wt](ee),ke=ee}catch(Ye){vn(v,1,48,Ye&&at(Ye[Zt])?Ye[Zt]():"Error serializing object",null,!0)}}return ke}return ee[De]=!0,Rr(ee.aiDataContract,function(Ye,bt){var Ot=at(bt)?bt()&1:bt&1,_t=at(bt)?bt()&4:bt&4,ut=bt&2,ar=ee[Ye]!==void 0,Nt=ct(ee[Ye])&&ee[Ye]!==null;if(Ot&&!ar&&!ut)vn(v,1,24,"Missing required field specification. The field is required but not present on source",{field:Ye,name:de});else if(!_t){var hr=void 0;Nt?ut?hr=q(ee[Ye],Ye):hr=x(ee[Ye],Ye):hr=ee[Ye],hr!==void 0&&(ke[Ye]=hr)}}),delete ee[De],ke}function q(ee,de){var De;if(ee)if(!tt(ee))vn(v,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:de},!0);else{De=[];for(var ke=0;ke<ee[$e];ke++){var Ye=ee[ke],bt=x(Ye,de+"["+ke+"]");De[Do](bt)}}return De}function V(ee,de,De){var ke;return ee&&(ke={},Rr(ee,function(Ye,bt){if(de==="string")bt===void 0?ke[Ye]="undefined":bt===null?ke[Ye]="null":bt[Zt]?ke[Ye]=bt[Zt]():ke[Ye]="invalid field: toString() is not defined.";else if(de==="number")if(bt===void 0)ke[Ye]="undefined";else if(bt===null)ke[Ye]="null";else{var Ot=parseFloat(bt);isNaN(Ot)?ke[Ye]="NaN":ke[Ye]=Ot}else ke[Ye]="invalid field: "+De+" is of unknown type.",vn(v,1,ke[Ye],null,!0)})),ke}})}return h.__ieDyn=1,h}(),Yqe=8,Jqe=function(){function h(){}return h.prototype.getHashCodeScore=function(v){var w=this.getHashCode(v)/h.INT_MAX_VALUE;return w*100},h.prototype.getHashCode=function(v){if(v==="")return 0;for(;v[$e]<Yqe;)v=v.concat(v);for(var w=5381,x=0;x<v[$e];++x)w=(w<<5)+w+v.charCodeAt(x),w=w&w;return Math.abs(w)},h.INT_MAX_VALUE=2147483647,h}(),Xqe=function(){function h(){var v=this,w=new Jqe,x=new b;v[ise]=function(q){var V=0;return q[ie]&&q[ie][x.userId]?V=w.getHashCodeScore(q[ie][x.userId]):q.ext&&q.ext.user&&q.ext.user.id?V=w[Fqe](q.ext.user.id):q[ie]&&q[ie][x.operationId]?V=w.getHashCodeScore(q[ie][x.operationId]):q.ext&&q.ext.telemetryTrace&&q.ext.telemetryTrace[et]?V=w.getHashCodeScore(q.ext.telemetryTrace[et]):V=Math.random()*100,V}}return h}(),Qqe=function(){function h(v,w){this.INT_MAX_VALUE=2147483647;var x=w||vm(null);(v>100||v<0)&&(x.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:v},!0),v=100),this[$n]=v,this.samplingScoreGenerator=new Xqe}return h.prototype.isSampledIn=function(v){var w=this[$n],x=!1;return w==null||w>=100||v.baseType===zo[yt]?!0:(x=this.samplingScoreGenerator[ise](v)<w,x)},h}(),gu,Ob,mS=void 0,Zqe=65e3;function tL(h){try{return h.responseText}catch{}return null}function eFe(h){return h&&h[gr]}var lse=Vi((gu={endpointUrl:fm(mr,cS+W_)},gu[Ve]=hh(),gu[Gr]=15e3,gu[mo]=102400,gu.disableTelemetry=hh(),gu[vf]=hh(!0),gu.isRetryDisabled=hh(),gu[Rd]=hh(!0),gu.disableXhr=hh(),gu[n0]=hh(),gu[wh]=hh(),gu[Rb]=mS,gu.namePrefix=mS,gu.samplingPercentage=fm(tFe,100),gu[Uo]=mS,gu[$t]=mS,gu[Ri]=1e4,gu[St]=!1,gu.httpXHROverride={isVal:eFe,v:mS},gu[Q_]=hh(),gu));function tFe(h){return!isNaN(h)&&h>0&&h<=100}var rFe=(Ob={},Ob[C.dataType]=sse,Ob[mc.dataType]=Vqe,Ob[Qa.dataType]=Wqe,Ob[gc.dataType]=$qe,Ob[dn.dataType]=Hqe,Ob[zo.dataType]=Bqe,Ob[Ki.dataType]=Uqe,Ob),dse=function(h){Yu(v,h);function v(){var w=h.call(this)||this;w.priority=1001,w.identifier=F;var x,q,V,ee,de,De,ke,Ye=0,bt,Ot,_t,ut,ar,Nt,hr,tr,ur,rn,Oi,es,_c,Ca,zl,Ou,tD,Z_,jr,ey,ty;return Io(v,w,function(vr,a0){hse(),vr.pause=function(){Iu(),V=!0},vr.resume=function(){V&&(V=!1,q=null,UR(),Bc())},vr.flush=function(mt,rr,zr){if(mt===void 0&&(mt=!0),!V){Iu();try{return vr[xr](mt,null,zr||1)}catch(Qr){vn(vr[Mr](),1,22,"flush failed, telemetry will not be collected: "+hc(Qr),{exception:kt(Qr)})}}},vr.onunloadFlush=function(){if(!V)if(hr||Z_)try{return vr[xr](!0,iL,2)}catch(mt){vn(vr[Mr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+hc(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,rr){ke[mt]=rr},vr.initialize=function(mt,rr,zr,Qr){vr.isInitialized()&&vn(vr[Mr](),1,28,"Sender is already initialized"),a0.initialize(mt,rr,zr,Qr);var Sn=vr.identifier;de=new Kqe(rr.logger),x=0,q=null,vr[ei]=null,De=0;var On=vr[Mr]();_t=aS(pc("Sender"),rr.evtNamespace&&rr.evtNamespace()),Ot=Gqe(_t),vr._addHook(lh(mt,function(go){var ao=go.cfg;ao.storagePrefix&&xm(ao.storagePrefix);var Ta=Rn(null,ao,rr),Vn=Ta.getExtCfg(Sn,lse);Oo(vr,"_senderConfig",{g:function(){return Vn}}),ar!==Vn.endpointUrl&&(ut=ar=Vn.endpointUrl),tr&&tr!==Vn[Uo]&&Cn(tr,function(Wc){delete ke[Wc.header]}),Nt=Vn[mo],hr=(Vn[wh]===!1||Vn[Rd]===!1)&&Sd(),Z_=Vn[Q_],jr=!!Vn.disableXhr;var Hv=Vn[St],ry=!!Vn[vf]&&(!!Hv||ZC()),iD=Vn.namePrefix,sL=ry!==Ca||ry&&Ou!==iD||ry&&zl!==Hv;if(vr[Dp]){if(sL)try{vr._buffer=vr._buffer[dr](On,Vn,ry)}catch(Wc){vn(vr[Mr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+hc(Wc),{exception:kt(Wc)})}UR()}else vr[Dp]=ry?new use(On,Vn):new k$(On,Vn);Ou=iD,Ca=ry,zl=Hv,ey=!Vn[n0]&&ug(!0),vr._sample=new Qqe(Vn.samplingPercentage,On),rn=Vn[Rb],cFe(rn,ao)||vn(On,1,100,"Invalid Instrumentation key "+rn),tr=Vn[Uo],!Em(ut)&&tr&&tr[$e]>0?Cn(tr,function(Wc){w.addHeader(Wc.header,Wc.value)}):tr=null,tD=Vn.enableSendPromise;var ny=Vn.httpXHROverride,gS=null,oD=null;gS=rD([1,2],!1);var Od={sendPOST:Kr};ty=function(Wc,l0){return nD(Od,Wc,l0)},!Vn[Rd]&&Sd()&&(gS=rD([3],!1)),gS=Z_?ny:gS||ny||Od,vr[ei]=function(Wc,l0){return nD(gS,Wc,l0)},ey&&(bt=yi),oD=Z_?ny:rD([3,1],!0)||ny,(Z_||!bt)&&oD&&(bt=function(Wc,l0){return nD(oD,Wc,l0)}),bt||(bt=ty),ur=Vn.disableTelemetry,Oi=Vn[$t]||mS,es=Vn.isRetryDisabled,_c=Vn[Gr]}))},vr.processTelemetry=function(mt,rr){rr=vr._getTelCtx(rr);var zr=rr[Mr]();try{if(ur)return;if(!mt){vn(zr,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ci]){vn(zr,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ci]||(mt[ci]="EventData"),!vr[ei]){vn(zr,1,28,"Sender was not initialized");return}if(zR(mt))mt[_b]=vr._sample[$n];else{vn(zr,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[$n]});return}var Qr=mt.iKey||rn,Sn=v.constructEnvelope(mt,Qr,zr,Oi);if(!Sn){vn(zr,1,47,"Unable to create an AppInsights envelope");return}var On=!1;if(mt[ie]&&mt[ie][yb]&&(Cn(mt[ie][yb],function(Ta){try{Ta&&Ta(Sn)===!1&&(On=!0,xv(zr,"Telemetry processor check returns false"))}catch(Vn){vn(zr,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+hc(Vn),{exception:kt(Vn)},!0)}}),delete mt[ie][yb]),On)return;var go=de.serialize(Sn),ao=vr[Dp];UR(go),ao[Or](go),Bc()}catch(Ta){vn(zr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+hc(Ta),{exception:kt(Ta)})}vr.processNext(mt,rr)},vr[pi]=function(mt,rr,zr){mt.readyState===4&&nL(mt.status,rr,mt.responseURL,zr,Ab(mt),tL(mt)||mt.response)},vr[xr]=function(mt,rr,zr){mt===void 0&&(mt=!0);var Qr;if(!V)try{var Sn=vr[Dp];if(ur)Sn[At]();else if(Sn[An]()>0){var On=Sn.getItems();aFe(zr||0,mt),rr?Qr=rr.call(vr,On,mt):Qr=vr[ei](On,mt)}Iu()}catch(ao){var go=oh();(!go||go>9)&&vn(vr[Mr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+hc(ao),{exception:kt(ao)})}return Qr},vr._doTeardown=function(mt,rr){vr.onunloadFlush(),dh(Ot,!1),hse()},vr[ko]=function(mt,rr,zr){vn(vr[Mr](),2,26,"Failed to send telemetry.",{message:rr}),vr._buffer&&vr._buffer[Zn](mt)},vr[Zo]=function(mt,rr){for(var zr=[],Qr=[],Sn=rr.errors.reverse(),On=0,go=Sn;On<go.length;On++){var ao=go[On],Ta=mt.splice(ao.index,1)[0];Rm(ao.statusCode)?Qr[Do](Ta):zr[Do](Ta)}mt[$e]>0&&vr[vc](mt,rr[mu]),zr[$e]>0&&vr[ko](zr,Ab(null,["partial success",rr[mu],"of",rr.itemsReceived].join(" "))),Qr[$e]>0&&(gs(Qr),vn(vr[Mr](),2,40,"Partial success. Delivered: "+mt[$e]+", Failed: "+zr[$e]+". Will retry to send "+Qr[$e]+" our of "+rr[Lg]+" items"))},vr[vc]=function(mt,rr){vr._buffer&&vr._buffer[Zn](mt)},vr._xdrOnLoad=function(mt,rr){var zr=tL(mt);if(mt&&(zr+""=="200"||zr===""))x=0,vr[vc](rr,0);else{var Qr=ti(zr);Qr&&Qr.itemsReceived&&Qr.itemsReceived>Qr[mu]&&!es?vr[Zo](rr,Qr):vr[ko](rr,fse(mt))}};function zR(mt){return vr._sample.isSampledIn(mt)}function rD(mt,rr){for(var zr,Qr=null,Sn=null,On=0;Sn==null&&On<mt[$e];)Qr=mt[On],!jr&&Qr===1?up()?Sn=oL:lp()&&(Sn=Kr):Qr===2&&ug(rr)?Sn=rL:Sd()&&Qr===3&&(Sn=Wt),On++;return Sn?(zr={},zr[gr]=Sn,zr):null}function c0(mt,rr,zr,Qr){rr===200&&mt&&vr._onSuccess(mt,mt[$e]),Qr&&vr[ko](mt,Qr)}function nD(mt,rr,zr){var Qr=function(go,ao,Ta){return c0(rr,go,ao,Ta)},Sn=u0(rr),On=mt&&mt[gr];return On&&Sn?(vr._buffer[tn](rr),On(Sn,Qr,!zr)):null}function u0(mt){var rr;if(tt(mt)&&mt[$e]>0){var zr=vr._buffer[er](mt),Qr=(rr={},rr[Oe]=zr,rr.urlString=ut,rr.headers=ke,rr.disableXhrSync=jr,rr.disableFetchKeepAlive=!ey,rr[Uv]=mt,rr);return Qr}return null}function rL(mt,rr,zr){return ui(mt,rr,!1)}function UR(mt){var rr=mt?mt[$e]:0;return vr[Dp].size()+rr>Nt?((!Ot||Ot[yr]())&&vr[xr](!0,null,10),!0):!1}function nL(mt,rr,zr,Qr,Sn,On){var go=null;if(vr._appId||(go=ti(On),go&&go.appId&&(vr._appId=go.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!HR(zr)){vr[ko](rr,Sn);return}!es&&Rm(mt)?(gs(rr),vn(vr[Mr](),2,40,". Response code "+mt+". Will retry to send "+rr[$e]+" items.")):vr[ko](rr,Sn)}else if(Ot&&!Ot[yr]()){if(!es){var ao=10;gs(rr,ao),vn(vr[Mr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!Ot.isOnline(),". Will retry to send ").concat(rr.length," items."))}}else HR(zr),mt===206?(go||(go=ti(On)),go&&!es?vr[Zo](rr,go):vr[ko](rr,Sn)):(x=0,vr[vc](rr,Qr))}function HR(mt){return De>=10?!1:!xe(mt)&&mt!==""&&mt!==ut?(ut=mt,++De,!0):!1}function Ib(mt,rr,zr,Qr){try{mt(rr,zr,Qr)}catch{}}function iL(mt,rr){var zr=function(Sn,On,go){return c0(mt,Sn,On,go)};if(bt)bt(mt,!1);else{var Qr=u0(mt);Wt(Qr,zr)}}function kb(mt,rr){var zr=Yn(),Qr=ut,Sn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),On=zr.sendBeacon(Qr,Sn);return On&&rr(200,{},mt),On}function Wt(mt,rr,zr){var Qr=mt,Sn=Qr&&Qr[Oe];if(ze(Sn)&&Sn[$e]>0&&!kb(Sn,rr)){var On=[],go=Qr[Uv];if(go[$e]>0)for(var ao=0;ao<Sn[$e];ao++){var Ta=mt[ao],Vn=vr._buffer[er](Ta);kb(Vn,rr)||On[Do](Ta)}On[$e]>0&&(ty&&ty(On,!0),vn(vr[Mr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Kr(mt,rr,zr){var Qr=mt,Sn,On,go,ao=new XMLHttpRequest,Ta=ut;try{ao[B_]=!0}catch{}return ao.open("POST",Ta,!zr),ao[eD]("Content-type","application/json"),Em(Ta)&&ao[eD]($_[6],$_[7]),Cn(Vr(ke),function(Vn){ao[eD](Vn,ke[Vn])}),ao.onreadystatechange=function(){var Vn=Qr[Uv];vr._xhrReadyStateChange(ao,Vn,Vn[$e]),ao.readyState===4&&On&&On(!0)},ao.onerror=function(Vn){Ib(rr,400,{},Ab(ao)),go&&go(Vn)},!zr&&tD&&(Sn=rp(function(Vn,Hv){On=Vn,go=Hv})),ao.send(mt[Oe]),Sn}function yi(mt,rr){var zr=function(go,ao,Ta){return c0(mt,go,ao,Ta)};if(tt(mt)){for(var Qr=mt[$e],Sn=0;Sn<mt[$e];Sn++)Qr+=mt[Sn][$e];var On=u0(mt);Ye+Qr<=Zqe?ui(On,zr,!0):Sd()?Wt(On,zr):(ty&&ty(mt,!0),vn(vr[Mr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function ui(mt,rr,zr){var Qr,Sn=ut,On=mt,go=On[Oe],ao=new Blob([go],{type:"application/json"}),Ta,Vn,Hv,ry=new Headers,iD=go[$e],sL=!1,ny=!1;Em(Sn)&&ry.append($_[6],$_[7]),Cn(Vr(ke),function(Od){ry.append(Od,ke[Od])});var gS=(Qr={method:"POST",headers:ry,body:ao},Qr[B_]=!0,Qr);zr&&(gS.keepalive=!0,sL=!0,Ye+=iD);var oD=new Request(Sn,gS);try{oD[B_]=!0}catch{}!zr&&tD&&(Ta=rp(function(Od,Wc){Vn=Od,Hv=Wc}));try{va(fetch(oD),function(Od){if(zr&&(Ye-=iD,iD=0),!ny)if(ny=!0,Od.rejected)Ib(rr,400,{},Od.reason&&Od.reason.message),Hv&&Hv(Od.reason);else{var Wc=Od.value;Wc.ok?va(Wc.text(),function(l0){var pse=On[Uv];nL(Wc.status,pse,Wc.url,pse[$e],Wc.statusText,l0.value||""),Vn&&Vn(!0)}):(Ib(rr,400,{},Wc.statusText),Vn&&Vn(!1))}})}catch(Od){ny||(Ib(rr,400,{},kt(Od)),Hv&&Hv(Od))}return sL&&!ny&&(ny=!0,Ib(rr,200,{}),Vn&&Vn(!0)),Ta}function ti(mt){try{if(mt&&mt!==""){var rr=Va().parse(mt);if(rr&&rr.itemsReceived&&rr.itemsReceived>=rr[mu]&&rr.itemsReceived-rr.itemsAccepted===rr.errors[$e])return rr}}catch(zr){vn(vr[Mr](),1,43,"Cannot parse the response. "+hc(zr),{response:mt})}return null}function gs(mt,rr){if(rr===void 0&&(rr=1),!(!mt||mt[$e]===0)){var zr=vr[Dp];zr[Zn](mt),x++;for(var Qr=0,Sn=mt;Qr<Sn.length;Qr++){var On=Sn[Qr];zr[Or](On)}vs(rr),Bc()}}function vs(mt){var rr=10,zr;if(x<=1)zr=rr;else{var Qr=(Math.pow(2,x)-1)/2,Sn=Math.floor(Math.random()*Qr*rr)+1;Sn=mt*Sn,zr=Math.max(Math.min(Sn,3600),rr)}var On=ml()+zr*1e3;q=On}function Bc(){if(!ee&&!V){var mt=q?Math.max(0,q-ml()):0,rr=Math.max(_c,mt);ee=eh(function(){ee=null,vr[xr](!0,null,1)},rr)}}function Iu(){ee&&ee.cancel(),ee=null,q=null}function Rm(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function Ab(mt,rr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+tL(mt)||mt.response||"":rr}function oL(mt,rr,zr){var Qr=mt,Sn=wo(),On=new XDomainRequest,go=Qr[Oe];On.onload=function(){var Vn=Qr[Uv];vr._xdrOnLoad(On,Vn)},On.onerror=function(){Ib(rr,400,{},fse(On))};var ao=Sn&&Sn.location&&Sn.location.protocol||"";if(ut.lastIndexOf(ao,0)!==0){vn(vr[Mr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var Ta=ut.replace(/^(https?:)/,"");On.open("POST",Ta),On.send(go)}function fse(mt,rr){return mt?"XDomainRequest,Response:"+tL(mt)||"":rr}function sFe(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function aFe(mt,rr){var zr=sFe();if(zr&&zr[nse])try{zr[nse](mt,rr)}catch(Qr){vn(vr[Mr](),1,74,"send request notification failed: "+hc(Qr),{exception:kt(Qr)})}}function cFe(mt,rr){var zr=rr.disableInstrumentationKeyValidation,Qr=xe(zr)?!1:zr;if(Qr)return!0;var Sn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",On=new RegExp(Sn);return On.test(mt)}function hse(){vr[ei]=null,vr[Dp]=null,vr._appId=null,vr._sample=null,ke={},Ot=null,x=0,q=null,V=!1,ee=null,de=null,De=0,Ye=0,bt=null,_t=null,ut=null,ar=null,Nt=0,hr=!1,tr=null,ur=!1,rn=null,Oi=mS,es=!1,Ca=null,Ou=mS,jr=!1,ey=!1,ty=null,Oo(vr,"_senderConfig",{g:function(){return yd({},lse)}})}}),w}return v.constructEnvelope=function(w,x,q,V){var ee;x!==w.iKey&&!xe(x)?ee=is(is({},w),{iKey:x}):ee=w;var de=rFe[ee.baseType]||sse;return de(q,ee,V)},v}(wa),A$="instrumentationKey",M$="connectionString",nFe={diagnosticLogInterval:fm(iFe,1e4)};function iFe(h){return h&&h>0}var oFe=function(){function h(v){var w=new _p,x;(xe(v)||xe(v[A$])&&xe(v[M$]))&&Wr("Invalid input configuration"),Io(h,this,function(V){Oo(V,"config",{g:function(){return x}}),ee(),V.initialize=ee,V.track=q,og(V,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function ee(){var de=ya(v||{},nFe);x=de.cfg,w.addUnloadHook(lh(de,function(){if(x[M$]){var De=t0(x[M$]),ke=De.ingestionendpoint;x.endpointUrl=ke?ke+W_:x.endpointUrl,x[A$]=De.instrumentationkey||x[A$]}})),w.initialize(x,[new dse])}});function q(V){V&&(V.baseData=V.baseData||{},V.baseType=V.baseType||"EventData"),w.track(V)}}return h.__ieDyn=1,h}();r.AppInsightsCore=_p,r.ApplicationInsights=oFe,r.Sender=dse,r.SeverityLevel=ol,r.arrForEach=Cn,r.isNullOrUndefined=xe,r.proxyFunctions=og,r.throwError=Wr})});var Kfe=P(uy=>{"use strict";var s6e=uy&&uy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),a6e=uy&&uy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),c6e=uy&&uy.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&s6e(e,r,t);return a6e(e,r),e};Object.defineProperty(uy,"__esModule",{value:!0});uy.appInsightsClientFactory=void 0;var u6e=$fe(),l6e=O4(),d6e=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>c6e(Gfe()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[u6e.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&l6e.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};uy.appInsightsClientFactory=d6e});var Qfe=P(Wb=>{"use strict";var f6e=Wb&&Wb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),h6e=Wb&&Wb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),A4=Wb&&Wb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&f6e(e,r,t);return h6e(e,r),e};Object.defineProperty(Wb,"__esModule",{value:!0});var I4=A4(require("os")),Yfe=A4(require("vscode")),p6e=A4(require("https")),m6e=Nfe(),g6e=qfe(),Jfe=O4(),v6e=Bfe(),_6e=Kfe();function Xfe(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=p6e.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var k4=class extends m6e.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,_6e.appInsightsClientFactory)(s,Xfe(),t);Jfe.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,v6e.oneDataSystemClientFactory)(s,Yfe,Xfe()));let i={release:I4.release(),platform:I4.platform(),architecture:I4.arch()},o=new g6e.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,Yfe,{additionalCommonProperties:Jfe.TelemetryUtil.getAdditionalCommonProperties(i)})}};Wb.default=k4});var L4=P(XO=>{"use strict";var y6e=XO&&XO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XO,"__esModule",{value:!0});var M4=bc();function b6e(r){return function(t){return t.lift(new w6e(r))}}XO.audit=b6e;var w6e=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new S6e(e,this.durationSelector))},r}(),S6e=function(r){y6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=M4.innerSubscribe(n,new M4.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(M4.SimpleOuterSubscriber)});var ehe=P(N4=>{"use strict";Object.defineProperty(N4,"__esModule",{value:!0});var C6e=Oh(),T6e=L4(),D6e=g4();function P6e(r,e){return e===void 0&&(e=C6e.async),T6e.audit(function(){return D6e.timer(r,e)})}N4.auditTime=P6e});var the=P(QO=>{"use strict";var E6e=QO&&QO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(QO,"__esModule",{value:!0});var q4=bc();function x6e(r){return function(t){return t.lift(new R6e(r))}}QO.buffer=x6e;var R6e=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new O6e(e,this.closingNotifier))},r}(),O6e=function(r){E6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(q4.innerSubscribe(n,new q4.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(q4.SimpleOuterSubscriber)});var ihe=P(ZO=>{"use strict";var rhe=ZO&&ZO.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ZO,"__esModule",{value:!0});var nhe=mi();function I6e(r,e){return e===void 0&&(e=null),function(n){return n.lift(new k6e(r,e))}}ZO.bufferCount=I6e;var k6e=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=A6e:this.subscriberClass=M6e}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),A6e=function(r){rhe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(nhe.Subscriber),M6e=function(r){rhe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(nhe.Subscriber)});var ahe=P(eI=>{"use strict";var L6e=eI&&eI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eI,"__esModule",{value:!0});var N6e=Oh(),q6e=mi(),F6e=Gv();function j6e(r){var e=arguments.length,t=N6e.async;F6e.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new z6e(r,n,i,t))}}eI.bufferTime=j6e;var z6e=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new H6e(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),U6e=function(){function r(){this.buffer=[]}return r}(),H6e=function(r){L6e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(ohe,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(she,n,l)),a.add(s.schedule(B6e,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(ohe,i,o))}},e.prototype.openContext=function(){var t=new U6e;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(q6e.Subscriber);function ohe(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function B6e(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(she,t,{subscriber:n,context:o})),s.schedule(r,e))}function she(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var uhe=P(tI=>{"use strict";var W6e=tI&&tI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tI,"__esModule",{value:!0});var $6e=al(),che=MS(),V6e=AS();function G6e(r,e){return function(n){return n.lift(new K6e(r,e))}}tI.bufferToggle=G6e;var K6e=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Y6e(e,this.openings,this.closingSelector))},r}(),Y6e=function(r){W6e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(che.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new $6e.Subscription,s={buffer:i,subscription:o};n.push(s);var a=che.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(V6e.OuterSubscriber)});var lhe=P(rI=>{"use strict";var J6e=rI&&rI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rI,"__esModule",{value:!0});var X6e=al(),F4=bc();function Q6e(r){return function(e){return e.lift(new Z6e(r))}}rI.bufferWhen=Q6e;var Z6e=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new e5e(e,this.closingSelector))},r}(),e5e=function(r){J6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new X6e.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(F4.innerSubscribe(i,new F4.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(F4.SimpleOuterSubscriber)});var dhe=P(nI=>{"use strict";var t5e=nI&&nI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nI,"__esModule",{value:!0});var j4=bc();function r5e(r){return function(t){var n=new n5e(r),i=t.lift(n);return n.caught=i}}nI.catchError=r5e;var n5e=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new i5e(e,this.selector,this.caught))},r}(),i5e=function(r){t5e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new j4.SimpleInnerSubscriber(this);this.add(i);var o=j4.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(j4.SimpleOuterSubscriber)});var fhe=P(z4=>{"use strict";Object.defineProperty(z4,"__esModule",{value:!0});var o5e=uN();function s5e(r){return function(e){return e.lift(new o5e.CombineLatestOperator(r))}}z4.combineAll=s5e});var hhe=P(U4=>{"use strict";Object.defineProperty(U4,"__esModule",{value:!0});var a5e=Rh(),c5e=uN(),u5e=Kv();function l5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&a5e.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(u5e.from([n].concat(r)),new c5e.CombineLatestOperator(t))}}U4.combineLatest=l5e});var phe=P(H4=>{"use strict";Object.defineProperty(H4,"__esModule",{value:!0});var d5e=WO();function f5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(d5e.concat.apply(void 0,[t].concat(r)))}}H4.concat=f5e});var W4=P(B4=>{"use strict";Object.defineProperty(B4,"__esModule",{value:!0});var h5e=BO();function p5e(r,e){return h5e.mergeMap(r,e,1)}B4.concatMap=p5e});var mhe=P($4=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});var m5e=W4();function g5e(r,e){return m5e.concatMap(function(){return r},e)}$4.concatMapTo=g5e});var ghe=P(iI=>{"use strict";var v5e=iI&&iI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iI,"__esModule",{value:!0});var _5e=mi();function y5e(r){return function(e){return e.lift(new b5e(r,e))}}iI.count=y5e;var b5e=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new w5e(e,this.predicate,this.source))},r}(),w5e=function(r){v5e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(_5e.Subscriber)});var vhe=P(oI=>{"use strict";var S5e=oI&&oI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oI,"__esModule",{value:!0});var V4=bc();function C5e(r){return function(e){return e.lift(new T5e(r))}}oI.debounce=C5e;var T5e=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new D5e(e,this.durationSelector))},r}(),D5e=function(r){S5e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=V4.innerSubscribe(n,new V4.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(V4.SimpleOuterSubscriber)});var _he=P(sI=>{"use strict";var P5e=sI&&sI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sI,"__esModule",{value:!0});var E5e=mi(),x5e=Oh();function R5e(r,e){return e===void 0&&(e=x5e.async),function(t){return t.lift(new O5e(r,e))}}sI.debounceTime=R5e;var O5e=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new I5e(e,this.dueTime,this.scheduler))},r}(),I5e=function(r){P5e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k5e,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(E5e.Subscriber);function k5e(r){r.debouncedNext()}});var ND=P(aI=>{"use strict";var A5e=aI&&aI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aI,"__esModule",{value:!0});var M5e=mi();function L5e(r){return r===void 0&&(r=null),function(e){return e.lift(new N5e(r))}}aI.defaultIfEmpty=L5e;var N5e=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new q5e(e,this.defaultValue))},r}(),q5e=function(r){A5e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(M5e.Subscriber)});var K4=P(G4=>{"use strict";Object.defineProperty(G4,"__esModule",{value:!0});function F5e(r){return r instanceof Date&&!isNaN(+r)}G4.isDate=F5e});var bhe=P(cI=>{"use strict";var j5e=cI&&cI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cI,"__esModule",{value:!0});var z5e=Oh(),U5e=K4(),H5e=mi(),yhe=RO();function B5e(r,e){e===void 0&&(e=z5e.async);var t=U5e.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new W5e(n,e))}}cI.delay=B5e;var W5e=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new $5e(e,this.delay,this.scheduler))},r}(),$5e=function(r){j5e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new V5e(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(yhe.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yhe.Notification.createComplete()),this.unsubscribe()},e}(H5e.Subscriber),V5e=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var She=P(uI=>{"use strict";var Y4=uI&&uI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uI,"__esModule",{value:!0});var G5e=mi(),K5e=Ao(),Y5e=AS(),J5e=MS();function X5e(r,e){return e?function(t){return new Z5e(t,e).lift(new whe(r))}:function(t){return t.lift(new whe(r))}}uI.delayWhen=X5e;var whe=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Q5e(e,this.delayDurationSelector))},r}(),Q5e=function(r){Y4(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=J5e.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Y5e.OuterSubscriber),Z5e=function(r){Y4(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new e8e(t,this.source))},e}(K5e.Observable),e8e=function(r){Y4(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(G5e.Subscriber)});var Che=P(lI=>{"use strict";var t8e=lI&&lI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lI,"__esModule",{value:!0});var r8e=mi();function n8e(){return function(e){return e.lift(new i8e)}}lI.dematerialize=n8e;var i8e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new o8e(e))},r}(),o8e=function(r){t8e(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(r8e.Subscriber)});var Dhe=P(qD=>{"use strict";var s8e=qD&&qD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qD,"__esModule",{value:!0});var J4=bc();function a8e(r,e){return function(t){return t.lift(new c8e(r,e))}}qD.distinct=a8e;var c8e=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new The(e,this.keySelector,this.flushes))},r}(),The=function(r){s8e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(J4.innerSubscribe(i,new J4.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(J4.SimpleOuterSubscriber);qD.DistinctSubscriber=The});var X4=P(dI=>{"use strict";var u8e=dI&&dI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dI,"__esModule",{value:!0});var l8e=mi();function d8e(r,e){return function(t){return t.lift(new f8e(r,e))}}dI.distinctUntilChanged=d8e;var f8e=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new h8e(e,this.compare,this.keySelector))},r}(),h8e=function(r){u8e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(l8e.Subscriber)});var Phe=P(Q4=>{"use strict";Object.defineProperty(Q4,"__esModule",{value:!0});var p8e=X4();function m8e(r,e){return p8e.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}Q4.distinctUntilKeyChanged=m8e});var hI=P(fI=>{"use strict";var g8e=fI&&fI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fI,"__esModule",{value:!0});var v8e=ID(),_8e=mi();function y8e(r){return r===void 0&&(r=S8e),function(e){return e.lift(new b8e(r))}}fI.throwIfEmpty=y8e;var b8e=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new w8e(e,this.errorFactory))},r}(),w8e=function(r){g8e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(_8e.Subscriber);function S8e(){return new v8e.EmptyError}});var LN=P(pI=>{"use strict";var C8e=pI&&pI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pI,"__esModule",{value:!0});var T8e=mi(),D8e=OD(),P8e=Vv();function E8e(r){return function(e){return r===0?P8e.empty():e.lift(new x8e(r))}}pI.take=E8e;var x8e=function(){function r(e){if(this.total=e,this.total<0)throw new D8e.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new R8e(e,this.total))},r}(),R8e=function(r){C8e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(T8e.Subscriber)});var xhe=P(Z4=>{"use strict";Object.defineProperty(Z4,"__esModule",{value:!0});var Ehe=OD(),O8e=P0(),I8e=hI(),k8e=ND(),A8e=LN();function M8e(r,e){if(r<0)throw new Ehe.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(O8e.filter(function(i,o){return o===r}),A8e.take(1),t?k8e.defaultIfEmpty(e):I8e.throwIfEmpty(function(){return new Ehe.ArgumentOutOfRangeError}))}}Z4.elementAt=M8e});var Rhe=P(e6=>{"use strict";Object.defineProperty(e6,"__esModule",{value:!0});var L8e=WO(),N8e=EO();function q8e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return L8e.concat(t,N8e.of.apply(void 0,r))}}e6.endWith=q8e});var Ohe=P(mI=>{"use strict";var F8e=mI&&mI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mI,"__esModule",{value:!0});var j8e=mi();function z8e(r,e){return function(t){return t.lift(new U8e(r,e,t))}}mI.every=z8e;var U8e=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new H8e(e,this.predicate,this.thisArg,this.source))},r}(),H8e=function(r){F8e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(j8e.Subscriber)});var Ihe=P(gI=>{"use strict";var B8e=gI&&gI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gI,"__esModule",{value:!0});var t6=bc();function W8e(){return function(r){return r.lift(new $8e)}}gI.exhaust=W8e;var $8e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new V8e(e))},r}(),V8e=function(r){B8e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(t6.innerSubscribe(t,new t6.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(t6.SimpleOuterSubscriber)});var Ahe=P(vI=>{"use strict";var G8e=vI&&vI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vI,"__esModule",{value:!0});var K8e=Om(),Y8e=Kv(),r6=bc();function khe(r,e){return e?function(t){return t.pipe(khe(function(n,i){return Y8e.from(r(n,i)).pipe(K8e.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new J8e(r))}}vI.exhaustMap=khe;var J8e=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new X8e(e,this.project))},r}(),X8e=function(r){G8e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new r6.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=r6.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(r6.SimpleOuterSubscriber)});var Nhe=P(I0=>{"use strict";var Q8e=I0&&I0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(I0,"__esModule",{value:!0});var n6=bc();function Z8e(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Mhe(r,e,t))}}I0.expand=Z8e;var Mhe=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new Lhe(e,this.project,this.concurrent,this.scheduler))},r}();I0.ExpandOperator=Mhe;var Lhe=function(r){Q8e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add(n6.innerSubscribe(t,new n6.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(n6.SimpleOuterSubscriber);I0.ExpandSubscriber=Lhe});var qhe=P(_I=>{"use strict";var eGe=_I&&_I.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_I,"__esModule",{value:!0});var tGe=mi(),rGe=al();function nGe(r){return function(e){return e.lift(new iGe(r))}}_I.finalize=nGe;var iGe=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new oGe(e,this.callback))},r}(),oGe=function(r){eGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new rGe.Subscription(n)),i}return e}(tGe.Subscriber)});var i6=P(k0=>{"use strict";var sGe=k0&&k0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(k0,"__esModule",{value:!0});var aGe=mi();function cGe(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new Fhe(r,t,!1,e))}}k0.find=cGe;var Fhe=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new jhe(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();k0.FindValueOperator=Fhe;var jhe=function(r){sGe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(aGe.Subscriber);k0.FindValueSubscriber=jhe});var zhe=P(o6=>{"use strict";Object.defineProperty(o6,"__esModule",{value:!0});var uGe=i6();function lGe(r,e){return function(t){return t.lift(new uGe.FindValueOperator(r,t,!0,e))}}o6.findIndex=lGe});var Uhe=P(s6=>{"use strict";Object.defineProperty(s6,"__esModule",{value:!0});var dGe=ID(),fGe=P0(),hGe=LN(),pGe=ND(),mGe=hI(),gGe=IS();function vGe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?fGe.filter(function(i,o){return r(i,o,n)}):gGe.identity,hGe.take(1),t?pGe.defaultIfEmpty(e):mGe.throwIfEmpty(function(){return new dGe.EmptyError}))}}s6.first=vGe});var Hhe=P(yI=>{"use strict";var _Ge=yI&&yI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yI,"__esModule",{value:!0});var yGe=mi();function bGe(){return function(e){return e.lift(new wGe)}}yI.ignoreElements=bGe;var wGe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new SGe(e))},r}(),SGe=function(r){_Ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(yGe.Subscriber)});var Bhe=P(bI=>{"use strict";var CGe=bI&&bI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bI,"__esModule",{value:!0});var TGe=mi();function DGe(){return function(r){return r.lift(new PGe)}}bI.isEmpty=DGe;var PGe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new EGe(e))},r}(),EGe=function(r){CGe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(TGe.Subscriber)});var NN=P(wI=>{"use strict";var xGe=wI&&wI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wI,"__esModule",{value:!0});var RGe=mi(),OGe=OD(),IGe=Vv();function kGe(r){return function(t){return r===0?IGe.empty():t.lift(new AGe(r))}}wI.takeLast=kGe;var AGe=function(){function r(e){if(this.total=e,this.total<0)throw new OGe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new MGe(e,this.total))},r}(),MGe=function(r){xGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(RGe.Subscriber)});var Whe=P(a6=>{"use strict";Object.defineProperty(a6,"__esModule",{value:!0});var LGe=ID(),NGe=P0(),qGe=NN(),FGe=hI(),jGe=ND(),zGe=IS();function UGe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?NGe.filter(function(i,o){return r(i,o,n)}):zGe.identity,qGe.takeLast(1),t?jGe.defaultIfEmpty(e):FGe.throwIfEmpty(function(){return new LGe.EmptyError}))}}a6.last=UGe});var $he=P(SI=>{"use strict";var HGe=SI&&SI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SI,"__esModule",{value:!0});var BGe=mi();function WGe(r){return function(e){return e.lift(new $Ge(r))}}SI.mapTo=WGe;var $Ge=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new VGe(e,this.value))},r}(),VGe=function(r){HGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(BGe.Subscriber)});var Vhe=P(CI=>{"use strict";var GGe=CI&&CI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CI,"__esModule",{value:!0});var KGe=mi(),c6=RO();function YGe(){return function(e){return e.lift(new JGe)}}CI.materialize=YGe;var JGe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new XGe(e))},r}(),XGe=function(r){GGe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(c6.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(c6.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(c6.Notification.createComplete()),t.complete()},e}(KGe.Subscriber)});var qN=P(TI=>{"use strict";var QGe=TI&&TI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(TI,"__esModule",{value:!0});var ZGe=mi();function e9e(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new t9e(r,e,t))}}TI.scan=e9e;var t9e=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new r9e(e,this.accumulator,this.seed,this.hasSeed))},r}(),r9e=function(r){QGe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(ZGe.Subscriber)});var DI=P(u6=>{"use strict";Object.defineProperty(u6,"__esModule",{value:!0});var Ghe=qN(),Khe=NN(),n9e=ND(),Yhe=ZL();function i9e(r,e){return arguments.length>=2?function(n){return Yhe.pipe(Ghe.scan(r,e),Khe.takeLast(1),n9e.defaultIfEmpty(e))(n)}:function(n){return Yhe.pipe(Ghe.scan(function(i,o,s){return r(i,o,s+1)}),Khe.takeLast(1))(n)}}u6.reduce=i9e});var Jhe=P(l6=>{"use strict";Object.defineProperty(l6,"__esModule",{value:!0});var o9e=DI();function s9e(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return o9e.reduce(e)}l6.max=s9e});var Xhe=P(d6=>{"use strict";Object.defineProperty(d6,"__esModule",{value:!0});var a9e=a4();function c9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(a9e.merge.apply(void 0,[t].concat(r)))}}d6.merge=c9e});var Zhe=P(f6=>{"use strict";Object.defineProperty(f6,"__esModule",{value:!0});var Qhe=BO();function u9e(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?Qhe.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),Qhe.mergeMap(function(){return r},t))}f6.mergeMapTo=u9e});var rpe=P(A0=>{"use strict";var l9e=A0&&A0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(A0,"__esModule",{value:!0});var h6=bc();function d9e(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new epe(r,e,t))}}A0.mergeScan=d9e;var epe=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new tpe(e,this.accumulator,this.seed,this.concurrent))},r}();A0.MergeScanOperator=epe;var tpe=function(r){l9e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new h6.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=h6.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(h6.SimpleOuterSubscriber);A0.MergeScanSubscriber=tpe});var npe=P(p6=>{"use strict";Object.defineProperty(p6,"__esModule",{value:!0});var f9e=DI();function h9e(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return f9e.reduce(e)}p6.min=h9e});var M0=P(FN=>{"use strict";Object.defineProperty(FN,"__esModule",{value:!0});var p9e=iV();function m9e(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new ipe(i,e));var o=Object.create(n,p9e.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}FN.multicast=m9e;var ipe=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();FN.MulticastOperator=ipe});var ape=P(FD=>{"use strict";var g9e=FD&&FD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FD,"__esModule",{value:!0});var v9e=Kv(),ope=Rh(),m6=bc();function _9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&ope.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new spe(r))}}FD.onErrorResumeNext=_9e;function y9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&ope.isArray(r[0])&&(r=r[0]),t=r.shift(),v9e.from(t).lift(new spe(r))}FD.onErrorResumeNextStatic=y9e;var spe=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new b9e(e,this.nextSources))},r}(),b9e=function(r){g9e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new m6.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=m6.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(m6.SimpleOuterSubscriber)});var cpe=P(PI=>{"use strict";var w9e=PI&&PI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(PI,"__esModule",{value:!0});var S9e=mi();function C9e(){return function(r){return r.lift(new T9e)}}PI.pairwise=C9e;var T9e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new D9e(e))},r}(),D9e=function(r){w9e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(S9e.Subscriber)});var lpe=P(g6=>{"use strict";Object.defineProperty(g6,"__esModule",{value:!0});var P9e=f4(),upe=P0();function E9e(r,e){return function(t){return[upe.filter(r,e)(t),upe.filter(P9e.not(r,e))(t)]}}g6.partition=E9e});var dpe=P(v6=>{"use strict";Object.defineProperty(v6,"__esModule",{value:!0});var x9e=Om();function R9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return x9e.map(O9e(r,t))(n)}}v6.pluck=R9e;function O9e(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var ppe=P(_6=>{"use strict";Object.defineProperty(_6,"__esModule",{value:!0});var fpe=bf(),hpe=M0();function I9e(r){return r?hpe.multicast(function(){return new fpe.Subject},r):hpe.multicast(new fpe.Subject)}_6.publish=I9e});var mpe=P(y6=>{"use strict";Object.defineProperty(y6,"__esModule",{value:!0});var k9e=aV(),A9e=M0();function M9e(r){return function(e){return A9e.multicast(new k9e.BehaviorSubject(r))(e)}}y6.publishBehavior=M9e});var gpe=P(b6=>{"use strict";Object.defineProperty(b6,"__esModule",{value:!0});var L9e=kO(),N9e=M0();function q9e(){return function(r){return N9e.multicast(new L9e.AsyncSubject)(r)}}b6.publishLast=q9e});var vpe=P(w6=>{"use strict";Object.defineProperty(w6,"__esModule",{value:!0});var F9e=oN(),j9e=M0();function z9e(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new F9e.ReplaySubject(r,e,n);return function(s){return j9e.multicast(function(){return o},i)(s)}}w6.publishReplay=z9e});var _pe=P(S6=>{"use strict";Object.defineProperty(S6,"__esModule",{value:!0});var U9e=Rh(),H9e=p4();function B9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&U9e.isArray(r[0])&&(r=r[0]),n.lift.call(H9e.race.apply(void 0,[n].concat(r)))}}S6.race=B9e});var bpe=P(EI=>{"use strict";var W9e=EI&&EI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(EI,"__esModule",{value:!0});var $9e=mi(),V9e=Vv();function G9e(r){return r===void 0&&(r=-1),function(e){return r===0?V9e.empty():r<0?e.lift(new ype(-1,e)):e.lift(new ype(r-1,e))}}EI.repeat=G9e;var ype=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new K9e(e,this.count,this.source))},r}(),K9e=function(r){W9e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}($9e.Subscriber)});var wpe=P(xI=>{"use strict";var Y9e=xI&&xI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xI,"__esModule",{value:!0});var J9e=bf(),C6=bc();function X9e(r){return function(e){return e.lift(new Q9e(r))}}xI.repeatWhen=X9e;var Q9e=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Z9e(e,this.notifier,t))},r}(),Z9e=function(r){Y9e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new J9e.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=C6.innerSubscribe(t,new C6.SimpleInnerSubscriber(this))},e}(C6.SimpleOuterSubscriber)});var Spe=P(RI=>{"use strict";var eKe=RI&&RI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RI,"__esModule",{value:!0});var tKe=mi();function rKe(r){return r===void 0&&(r=-1),function(e){return e.lift(new nKe(r,e))}}RI.retry=rKe;var nKe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new iKe(e,this.count,this.source))},r}(),iKe=function(r){eKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(tKe.Subscriber)});var Cpe=P(OI=>{"use strict";var oKe=OI&&OI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OI,"__esModule",{value:!0});var sKe=bf(),T6=bc();function aKe(r){return function(e){return e.lift(new cKe(r,e))}}OI.retryWhen=aKe;var cKe=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new uKe(e,this.notifier,this.source))},r}(),uKe=function(r){oKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new sKe.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=T6.innerSubscribe(i,new T6.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(T6.SimpleOuterSubscriber)});var Tpe=P(II=>{"use strict";var lKe=II&&II.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(II,"__esModule",{value:!0});var D6=bc();function dKe(r){return function(e){return e.lift(new fKe(r))}}II.sample=dKe;var fKe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new hKe(e),i=t.subscribe(n);return i.add(D6.innerSubscribe(this.notifier,new D6.SimpleInnerSubscriber(n))),i},r}(),hKe=function(r){lKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(D6.SimpleOuterSubscriber)});var Dpe=P(kI=>{"use strict";var pKe=kI&&kI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kI,"__esModule",{value:!0});var mKe=mi(),gKe=Oh();function vKe(r,e){return e===void 0&&(e=gKe.async),function(t){return t.lift(new _Ke(r,e))}}kI.sampleTime=vKe;var _Ke=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new yKe(e,this.period,this.scheduler))},r}(),yKe=function(r){pKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(bKe,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(mKe.Subscriber);function bKe(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var Ope=P(L0=>{"use strict";var Ppe=L0&&L0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L0,"__esModule",{value:!0});var Epe=mi();function wKe(r,e){return function(t){return t.lift(new xpe(r,e))}}L0.sequenceEqual=wKe;var xpe=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new Rpe(e,this.compareTo,this.comparator))},r}();L0.SequenceEqualOperator=xpe;var Rpe=function(r){Ppe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new SKe(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Epe.Subscriber);L0.SequenceEqualSubscriber=Rpe;var SKe=function(r){Ppe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Epe.Subscriber)});var Ipe=P(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});var CKe=M0(),TKe=tN(),DKe=bf();function PKe(){return new DKe.Subject}function EKe(){return function(r){return TKe.refCount()(CKe.multicast(PKe)(r))}}P6.share=EKe});var kpe=P(E6=>{"use strict";Object.defineProperty(E6,"__esModule",{value:!0});var xKe=oN();function RKe(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(OKe(n))}}E6.shareReplay=RKe;function OKe(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(_){c++;var y;!a||l?(l=!1,a=new xKe.ReplaySubject(t,i,s),y=a.subscribe(this),u=_.subscribe({next:function(D){a.next(D)},error:function(D){l=!0,a.error(D)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):y=a.subscribe(this),this.add(function(){c--,y.unsubscribe(),y=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var Ape=P(AI=>{"use strict";var IKe=AI&&AI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AI,"__esModule",{value:!0});var kKe=mi(),AKe=ID();function MKe(r){return function(e){return e.lift(new LKe(r,e))}}AI.single=MKe;var LKe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new NKe(e,this.predicate,this.source))},r}(),NKe=function(r){IKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new AKe.EmptyError)},e}(kKe.Subscriber)});var Mpe=P(MI=>{"use strict";var qKe=MI&&MI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(MI,"__esModule",{value:!0});var FKe=mi();function jKe(r){return function(e){return e.lift(new zKe(r))}}MI.skip=jKe;var zKe=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new UKe(e,this.total))},r}(),UKe=function(r){qKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(FKe.Subscriber)});var Npe=P(LI=>{"use strict";var HKe=LI&&LI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LI,"__esModule",{value:!0});var Lpe=mi(),BKe=OD();function WKe(r){return function(e){return e.lift(new $Ke(r))}}LI.skipLast=WKe;var $Ke=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new BKe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new Lpe.Subscriber(e)):t.subscribe(new VKe(e,this._skipCount))},r}(),VKe=function(r){HKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(Lpe.Subscriber)});var qpe=P(NI=>{"use strict";var GKe=NI&&NI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(NI,"__esModule",{value:!0});var x6=bc();function KKe(r){return function(e){return e.lift(new YKe(r))}}NI.skipUntil=KKe;var YKe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new JKe(e,this.notifier))},r}(),JKe=function(r){GKe(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new x6.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=x6.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(x6.SimpleOuterSubscriber)});var Fpe=P(qI=>{"use strict";var XKe=qI&&qI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qI,"__esModule",{value:!0});var QKe=mi();function ZKe(r){return function(e){return e.lift(new e7e(r))}}qI.skipWhile=ZKe;var e7e=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new t7e(e,this.predicate))},r}(),t7e=function(r){XKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(QKe.Subscriber)});var zpe=P(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});var jpe=WO(),r7e=Gv();function n7e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return r7e.isScheduler(t)?(r.pop(),function(n){return jpe.concat(r,n,t)}):function(n){return jpe.concat(r,n)}}R6.startWith=n7e});var Upe=P(FI=>{"use strict";var i7e=FI&&FI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FI,"__esModule",{value:!0});var o7e=Ao(),O6=bV(),s7e=$O(),a7e=function(r){i7e(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=O6.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!s7e.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=O6.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=O6.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(o7e.Observable);FI.SubscribeOnObservable=a7e});var Hpe=P(I6=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});var c7e=Upe();function u7e(r,e){return e===void 0&&(e=0),function(n){return n.lift(new l7e(r,e))}}I6.subscribeOn=u7e;var l7e=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new c7e.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var jN=P(jI=>{"use strict";var d7e=jI&&jI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jI,"__esModule",{value:!0});var f7e=Om(),h7e=Kv(),k6=bc();function Bpe(r,e){return typeof e=="function"?function(t){return t.pipe(Bpe(function(n,i){return h7e.from(r(n,i)).pipe(f7e.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new p7e(r))}}jI.switchMap=Bpe;var p7e=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new m7e(e,this.project))},r}(),m7e=function(r){d7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new k6.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=k6.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(k6.SimpleOuterSubscriber)});var Wpe=P(A6=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});var g7e=jN(),v7e=IS();function _7e(){return g7e.switchMap(v7e.identity)}A6.switchAll=_7e});var Vpe=P(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});var $pe=jN();function y7e(r,e){return e?$pe.switchMap(function(){return r},e):$pe.switchMap(function(){return r})}M6.switchMapTo=y7e});var Gpe=P(zI=>{"use strict";var b7e=zI&&zI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zI,"__esModule",{value:!0});var L6=bc();function w7e(r){return function(e){return e.lift(new S7e(r))}}zI.takeUntil=w7e;var S7e=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new C7e(e),i=L6.innerSubscribe(this.notifier,new L6.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),C7e=function(r){b7e(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(L6.SimpleOuterSubscriber)});var Kpe=P(UI=>{"use strict";var T7e=UI&&UI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(UI,"__esModule",{value:!0});var D7e=mi();function P7e(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new E7e(r,e))}}UI.takeWhile=P7e;var E7e=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new x7e(e,this.predicate,this.inclusive))},r}(),x7e=function(r){T7e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(D7e.Subscriber)});var Ype=P(HI=>{"use strict";var R7e=HI&&HI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(HI,"__esModule",{value:!0});var O7e=mi(),FS=cN(),I7e=wD();function k7e(r,e,t){return function(i){return i.lift(new A7e(r,e,t))}}HI.tap=k7e;var A7e=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new M7e(e,this.nextOrObserver,this.error,this.complete))},r}(),M7e=function(r){R7e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=FS.noop,s._tapError=FS.noop,s._tapComplete=FS.noop,s._tapError=i||FS.noop,s._tapComplete=o||FS.noop,I7e.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||FS.noop,s._tapError=n.error||FS.noop,s._tapComplete=n.complete||FS.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(O7e.Subscriber)});var q6=P(N0=>{"use strict";var L7e=N0&&N0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(N0,"__esModule",{value:!0});var N6=bc();N0.defaultThrottleConfig={leading:!0,trailing:!1};function N7e(r,e){return e===void 0&&(e=N0.defaultThrottleConfig),function(t){return t.lift(new q7e(r,!!e.leading,!!e.trailing))}}N0.throttle=N7e;var q7e=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new F7e(e,this.durationSelector,this.leading,this.trailing))},r}(),F7e=function(r){L7e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=N6.innerSubscribe(n,new N6.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(N6.SimpleOuterSubscriber)});var Jpe=P(BI=>{"use strict";var j7e=BI&&BI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(BI,"__esModule",{value:!0});var z7e=mi(),U7e=Oh(),H7e=q6();function B7e(r,e,t){return e===void 0&&(e=U7e.async),t===void 0&&(t=H7e.defaultThrottleConfig),function(n){return n.lift(new W7e(r,e,t.leading,t.trailing))}}BI.throttleTime=B7e;var W7e=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new $7e(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),$7e=function(r){j7e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(V7e,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(z7e.Subscriber);function V7e(r){var e=r.subscriber;e.clearThrottle()}});var Qpe=P(zN=>{"use strict";Object.defineProperty(zN,"__esModule",{value:!0});var G7e=Oh(),K7e=qN(),Y7e=hN(),J7e=Om();function X7e(r){return r===void 0&&(r=G7e.async),function(e){return Y7e.defer(function(){return e.pipe(K7e.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),J7e.map(function(t){var n=t.current,i=t.last,o=t.value;return new Xpe(o,n-i)}))})}}zN.timeInterval=X7e;var Xpe=function(){function r(e,t){this.value=e,this.interval=t}return r}();zN.TimeInterval=Xpe});var j6=P(WI=>{"use strict";var Q7e=WI&&WI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(WI,"__esModule",{value:!0});var Z7e=Oh(),eYe=K4(),F6=bc();function tYe(r,e,t){return t===void 0&&(t=Z7e.async),function(n){var i=eYe.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new rYe(o,i,e,t))}}WI.timeoutWith=tYe;var rYe=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new nYe(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),nYe=function(r){Q7e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(F6.innerSubscribe(n,new F6.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(F6.SimpleOuterSubscriber)});var Zpe=P(z6=>{"use strict";Object.defineProperty(z6,"__esModule",{value:!0});var iYe=Oh(),oYe=PV(),sYe=j6(),aYe=iN();function cYe(r,e){return e===void 0&&(e=iYe.async),sYe.timeoutWith(r,aYe.throwError(new oYe.TimeoutError),e)}z6.timeout=cYe});var tme=P(UN=>{"use strict";Object.defineProperty(UN,"__esModule",{value:!0});var uYe=Oh(),lYe=Om();function dYe(r){return r===void 0&&(r=uYe.async),lYe.map(function(e){return new eme(e,r.now())})}UN.timestamp=dYe;var eme=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();UN.Timestamp=eme});var rme=P(U6=>{"use strict";Object.defineProperty(U6,"__esModule",{value:!0});var fYe=DI();function hYe(r,e,t){return t===0?[e]:(r.push(e),r)}function pYe(){return fYe.reduce(hYe,[])}U6.toArray=pYe});var ime=P($I=>{"use strict";var mYe=$I&&$I.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($I,"__esModule",{value:!0});var nme=bf(),H6=bc();function gYe(r){return function(t){return t.lift(new vYe(r))}}$I.window=gYe;var vYe=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new _Ye(e),i=t.subscribe(n);return i.closed||n.add(H6.innerSubscribe(this.windowBoundaries,new H6.SimpleInnerSubscriber(n))),i},r}(),_Ye=function(r){mYe(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new nme.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new nme.Subject;n.next(i)},e}(H6.SimpleOuterSubscriber)});var sme=P(VI=>{"use strict";var yYe=VI&&VI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VI,"__esModule",{value:!0});var bYe=mi(),ome=bf();function wYe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new SYe(r,e))}}VI.windowCount=wYe;var SYe=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new CYe(e,this.windowSize,this.startWindowEvery))},r}(),CYe=function(r){yYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new ome.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new ome.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(bYe.Subscriber)});var lme=P(GI=>{"use strict";var cme=GI&&GI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GI,"__esModule",{value:!0});var TYe=bf(),DYe=Oh(),PYe=mi(),ame=$O(),B6=Gv();function EYe(r){var e=DYe.async,t=null,n=Number.POSITIVE_INFINITY;return B6.isScheduler(arguments[3])&&(e=arguments[3]),B6.isScheduler(arguments[2])?e=arguments[2]:ame.isNumeric(arguments[2])&&(n=Number(arguments[2])),B6.isScheduler(arguments[1])?e=arguments[1]:ame.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new xYe(r,t,n,e))}}GI.windowTime=EYe;var xYe=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new OYe(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),RYe=function(r){cme(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(TYe.Subject),OYe=function(r){cme(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(ume,n,u)),a.add(s.schedule(kYe,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(IYe,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new RYe;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(PYe.Subscriber);function IYe(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function kYe(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(ume,e,c),s.add(a.subscription),s.schedule(r,i)}function ume(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var fme=P(KI=>{"use strict";var AYe=KI&&KI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KI,"__esModule",{value:!0});var MYe=bf(),LYe=al(),NYe=AS(),dme=MS();function qYe(r,e){return function(t){return t.lift(new FYe(r,e))}}KI.windowToggle=qYe;var FYe=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new jYe(e,this.openings,this.closingSelector))},r}(),jYe=function(r){AYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=dme.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(_){return this.error(_)}var u=new MYe.Subject,l=new LYe.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=dme.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(NYe.OuterSubscriber)});var hme=P(YI=>{"use strict";var zYe=YI&&YI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(YI,"__esModule",{value:!0});var UYe=bf(),HYe=AS(),BYe=MS();function WYe(r){return function(t){return t.lift(new $Ye(r))}}YI.windowWhen=WYe;var $Ye=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new VYe(e,this.closingSelector))},r}(),VYe=function(r){zYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new UYe.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=BYe.subscribeToResult(this,o))},e}(HYe.OuterSubscriber)});var pme=P(JI=>{"use strict";var GYe=JI&&JI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JI,"__esModule",{value:!0});var KYe=AS(),YYe=MS();function JYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new XYe(i,n))}}JI.withLatestFrom=JYe;var XYe=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new QYe(e,this.observables,this.project))},r}(),QYe=function(r){GYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(YYe.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(KYe.OuterSubscriber)});var mme=P(W6=>{"use strict";Object.defineProperty(W6,"__esModule",{value:!0});var ZYe=_N();function eJe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(ZYe.zip.apply(void 0,[n].concat(r)))}}W6.zip=eJe});var gme=P($6=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});var tJe=_N();function rJe(r){return function(e){return e.lift(new tJe.ZipOperator(r))}}$6.zipAll=rJe});var XI=P(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});var nJe=L4();or.audit=nJe.audit;var iJe=ehe();or.auditTime=iJe.auditTime;var oJe=the();or.buffer=oJe.buffer;var sJe=ihe();or.bufferCount=sJe.bufferCount;var aJe=ahe();or.bufferTime=aJe.bufferTime;var cJe=uhe();or.bufferToggle=cJe.bufferToggle;var uJe=lhe();or.bufferWhen=uJe.bufferWhen;var lJe=dhe();or.catchError=lJe.catchError;var dJe=fhe();or.combineAll=dJe.combineAll;var fJe=hhe();or.combineLatest=fJe.combineLatest;var hJe=phe();or.concat=hJe.concat;var pJe=JV();or.concatAll=pJe.concatAll;var mJe=W4();or.concatMap=mJe.concatMap;var gJe=mhe();or.concatMapTo=gJe.concatMapTo;var vJe=ghe();or.count=vJe.count;var _Je=vhe();or.debounce=_Je.debounce;var yJe=_he();or.debounceTime=yJe.debounceTime;var bJe=ND();or.defaultIfEmpty=bJe.defaultIfEmpty;var wJe=bhe();or.delay=wJe.delay;var SJe=She();or.delayWhen=SJe.delayWhen;var CJe=Che();or.dematerialize=CJe.dematerialize;var TJe=Dhe();or.distinct=TJe.distinct;var DJe=X4();or.distinctUntilChanged=DJe.distinctUntilChanged;var PJe=Phe();or.distinctUntilKeyChanged=PJe.distinctUntilKeyChanged;var EJe=xhe();or.elementAt=EJe.elementAt;var xJe=Rhe();or.endWith=xJe.endWith;var RJe=Ohe();or.every=RJe.every;var OJe=Ihe();or.exhaust=OJe.exhaust;var IJe=Ahe();or.exhaustMap=IJe.exhaustMap;var kJe=Nhe();or.expand=kJe.expand;var AJe=P0();or.filter=AJe.filter;var MJe=qhe();or.finalize=MJe.finalize;var LJe=i6();or.find=LJe.find;var NJe=zhe();or.findIndex=NJe.findIndex;var qJe=Uhe();or.first=qJe.first;var FJe=sV();or.groupBy=FJe.groupBy;var jJe=Hhe();or.ignoreElements=jJe.ignoreElements;var zJe=Bhe();or.isEmpty=zJe.isEmpty;var UJe=Whe();or.last=UJe.last;var HJe=Om();or.map=HJe.map;var BJe=$he();or.mapTo=BJe.mapTo;var WJe=Vhe();or.materialize=WJe.materialize;var $Je=Jhe();or.max=$Je.max;var VJe=Xhe();or.merge=VJe.merge;var GJe=fN();or.mergeAll=GJe.mergeAll;var vme=BO();or.mergeMap=vme.mergeMap;or.flatMap=vme.flatMap;var KJe=Zhe();or.mergeMapTo=KJe.mergeMapTo;var YJe=rpe();or.mergeScan=YJe.mergeScan;var JJe=npe();or.min=JJe.min;var XJe=M0();or.multicast=XJe.multicast;var QJe=yV();or.observeOn=QJe.observeOn;var ZJe=ape();or.onErrorResumeNext=ZJe.onErrorResumeNext;var eXe=cpe();or.pairwise=eXe.pairwise;var tXe=lpe();or.partition=tXe.partition;var rXe=dpe();or.pluck=rXe.pluck;var nXe=ppe();or.publish=nXe.publish;var iXe=mpe();or.publishBehavior=iXe.publishBehavior;var oXe=gpe();or.publishLast=oXe.publishLast;var sXe=vpe();or.publishReplay=sXe.publishReplay;var aXe=_pe();or.race=aXe.race;var cXe=DI();or.reduce=cXe.reduce;var uXe=bpe();or.repeat=uXe.repeat;var lXe=wpe();or.repeatWhen=lXe.repeatWhen;var dXe=Spe();or.retry=dXe.retry;var fXe=Cpe();or.retryWhen=fXe.retryWhen;var hXe=tN();or.refCount=hXe.refCount;var pXe=Tpe();or.sample=pXe.sample;var mXe=Dpe();or.sampleTime=mXe.sampleTime;var gXe=qN();or.scan=gXe.scan;var vXe=Ope();or.sequenceEqual=vXe.sequenceEqual;var _Xe=Ipe();or.share=_Xe.share;var yXe=kpe();or.shareReplay=yXe.shareReplay;var bXe=Ape();or.single=bXe.single;var wXe=Mpe();or.skip=wXe.skip;var SXe=Npe();or.skipLast=SXe.skipLast;var CXe=qpe();or.skipUntil=CXe.skipUntil;var TXe=Fpe();or.skipWhile=TXe.skipWhile;var DXe=zpe();or.startWith=DXe.startWith;var PXe=Hpe();or.subscribeOn=PXe.subscribeOn;var EXe=Wpe();or.switchAll=EXe.switchAll;var xXe=jN();or.switchMap=xXe.switchMap;var RXe=Vpe();or.switchMapTo=RXe.switchMapTo;var OXe=LN();or.take=OXe.take;var IXe=NN();or.takeLast=IXe.takeLast;var kXe=Gpe();or.takeUntil=kXe.takeUntil;var AXe=Kpe();or.takeWhile=AXe.takeWhile;var MXe=Ype();or.tap=MXe.tap;var LXe=q6();or.throttle=LXe.throttle;var NXe=Jpe();or.throttleTime=NXe.throttleTime;var qXe=hI();or.throwIfEmpty=qXe.throwIfEmpty;var FXe=Qpe();or.timeInterval=FXe.timeInterval;var jXe=Zpe();or.timeout=jXe.timeout;var zXe=j6();or.timeoutWith=zXe.timeoutWith;var UXe=tme();or.timestamp=UXe.timestamp;var HXe=rme();or.toArray=HXe.toArray;var BXe=ime();or.window=BXe.window;var WXe=sme();or.windowCount=WXe.windowCount;var $Xe=lme();or.windowTime=$Xe.windowTime;var VXe=fme();or.windowToggle=VXe.windowToggle;var GXe=hme();or.windowWhen=GXe.windowWhen;var KXe=pme();or.withLatestFrom=KXe.withLatestFrom;var YXe=mme();or.zip=YXe.zip;var JXe=gme();or.zipAll=JXe.zipAll});var wme=P((CAt,bme)=>{var jD=1e3,zD=jD*60,UD=zD*60,q0=UD*24,XXe=q0*7,QXe=q0*365.25;bme.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return ZXe(r);if(t==="number"&&isFinite(r))return e.long?tQe(r):eQe(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function ZXe(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*QXe;case"weeks":case"week":case"w":return t*XXe;case"days":case"day":case"d":return t*q0;case"hours":case"hour":case"hrs":case"hr":case"h":return t*UD;case"minutes":case"minute":case"mins":case"min":case"m":return t*zD;case"seconds":case"second":case"secs":case"sec":case"s":return t*jD;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function eQe(r){var e=Math.abs(r);return e>=q0?Math.round(r/q0)+"d":e>=UD?Math.round(r/UD)+"h":e>=zD?Math.round(r/zD)+"m":e>=jD?Math.round(r/jD)+"s":r+"ms"}function tQe(r){var e=Math.abs(r);return e>=q0?HN(r,e,q0,"day"):e>=UD?HN(r,e,UD,"hour"):e>=zD?HN(r,e,zD,"minute"):e>=jD?HN(r,e,jD,"second"):r+" ms"}function HN(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var G6=P((TAt,Sme)=>{function rQe(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=i,t.enabled=a,t.humanize=wme(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,_,y;function D(...k){if(!D.enabled)return;let H=D,M=Number(new Date),z=M-(d||M);H.diff=z,H.prev=d,H.curr=M,d=M,k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let re=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(_e,G)=>{if(_e==="%%")return"%";re++;let $=t.formatters[G];if(typeof $=="function"){let te=k[re];_e=$.call(H,te),k.splice(re,1),re--}return _e}),t.formatArgs.call(H,k),(H.log||t.log).apply(H,k)}return D.namespace=l,D.useColors=t.useColors(),D.color=t.selectColor(l),D.extend=n,D.destroy=t.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(_!==t.namespaces&&(_=t.namespaces,y=t.enabled(l)),y),set:k=>{f=k}}),typeof t.init=="function"&&t.init(D),D}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let f of d)f[0]==="-"?t.skips.push(f.slice(1)):t.names.push(f)}function o(l,d){let f=0,_=0,y=-1,D=0;for(;f<l.length;)if(_<d.length&&(d[_]===l[f]||d[_]==="*"))d[_]==="*"?(y=_,D=f,_++):(f++,_++);else if(y!==-1)_=y+1,D++,f=D;else return!1;for(;_<d.length&&d[_]==="*";)_++;return _===d.length}function s(){let l=[...t.names,...t.skips.map(d=>"-"+d)].join(",");return t.enable(""),l}function a(l){for(let d of t.skips)if(o(l,d))return!1;for(let d of t.names)if(o(l,d))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Sme.exports=rQe});var Cme=P((xp,BN)=>{xp.formatArgs=iQe;xp.save=oQe;xp.load=sQe;xp.useColors=nQe;xp.storage=aQe();xp.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();xp.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function nQe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function iQe(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+BN.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}xp.log=console.debug||console.log||(()=>{});function oQe(r){try{r?xp.storage.setItem("debug",r):xp.storage.removeItem("debug")}catch{}}function sQe(){let r;try{r=xp.storage.getItem("debug")||xp.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function aQe(){try{return localStorage}catch{}}BN.exports=G6()(xp);var{formatters:cQe}=BN.exports;cQe.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Dme=P((DAt,Tme)=>{"use strict";Tme.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var xme=P((PAt,Eme)=>{"use strict";var uQe=require("os"),Pme=require("tty"),Fg=Dme(),{env:$l}=process,jS;Fg("no-color")||Fg("no-colors")||Fg("color=false")||Fg("color=never")?jS=0:(Fg("color")||Fg("colors")||Fg("color=true")||Fg("color=always"))&&(jS=1);"FORCE_COLOR"in $l&&($l.FORCE_COLOR==="true"?jS=1:$l.FORCE_COLOR==="false"?jS=0:jS=$l.FORCE_COLOR.length===0?1:Math.min(parseInt($l.FORCE_COLOR,10),3));function K6(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Y6(r,e){if(jS===0)return 0;if(Fg("color=16m")||Fg("color=full")||Fg("color=truecolor"))return 3;if(Fg("color=256"))return 2;if(r&&!e&&jS===void 0)return 0;let t=jS||0;if($l.TERM==="dumb")return t;if(process.platform==="win32"){let n=uQe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in $l)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in $l)||$l.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in $l)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($l.TEAMCITY_VERSION)?1:0;if($l.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in $l){let n=parseInt(($l.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($l.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($l.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test($l.TERM)||"COLORTERM"in $l?1:t}function lQe(r){let e=Y6(r,r&&r.isTTY);return K6(e)}Eme.exports={supportsColor:lQe,stdout:K6(Y6(!0,Pme.isatty(1))),stderr:K6(Y6(!0,Pme.isatty(2)))}});var Ome=P((Vl,$N)=>{var dQe=require("tty"),WN=require("util");Vl.init=_Qe;Vl.log=mQe;Vl.formatArgs=hQe;Vl.save=gQe;Vl.load=vQe;Vl.useColors=fQe;Vl.destroy=WN.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Vl.colors=[6,2,3,4,5,1];try{let r=xme();r&&(r.stderr||r).level>=2&&(Vl.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Vl.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function fQe(){return"colors"in Vl.inspectOpts?!!Vl.inspectOpts.colors:dQe.isatty(process.stderr.fd)}function hQe(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+$N.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=pQe()+e+" "+r[0]}function pQe(){return Vl.inspectOpts.hideDate?"":new Date().toISOString()+" "}function mQe(...r){return process.stderr.write(WN.formatWithOptions(Vl.inspectOpts,...r)+`
`)}function gQe(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function vQe(){return process.env.DEBUG}function _Qe(r){r.inspectOpts={};let e=Object.keys(Vl.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Vl.inspectOpts[e[t]]}$N.exports=G6()(Vl);var{formatters:Rme}=$N.exports;Rme.o=function(r){return this.inspectOpts.colors=this.useColors,WN.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Rme.O=function(r){return this.inspectOpts.colors=this.useColors,WN.inspect(r,this.inspectOpts)}});var VN=P((EAt,J6)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?J6.exports=Cme():J6.exports=Ome()});var Ame=P(Rp=>{"use strict";var yQe=Rp&&Rp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bQe=Rp&&Rp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ime=Rp&&Rp.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yQe(e,r,t);return bQe(e,r),e};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.req=Rp.json=Rp.toBuffer=void 0;var wQe=Ime(require("http")),SQe=Ime(require("https"));async function kme(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}Rp.toBuffer=kme;async function CQe(r){let t=(await kme(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}Rp.json=CQe;function TQe(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?SQe:wQe).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}Rp.req=TQe});var Q6=P(Im=>{"use strict";var Lme=Im&&Im.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DQe=Im&&Im.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),PQe=Im&&Im.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Lme(e,r,t);return DQe(e,r),e},EQe=Im&&Im.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lme(e,r,t)};Object.defineProperty(Im,"__esModule",{value:!0});Im.Agent=void 0;var Mme=PQe(require("http"));EQe(Ame(),Im);var ly=Symbol("AgentBaseInternalState"),X6=class extends Mme.Agent{constructor(e){super(e),this[ly]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof Mme.Agent)return o.addRequest(e,i);this[ly].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[ly].currentSocket;if(this[ly].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[ly].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[ly]&&(this[ly].defaultPort=e)}get protocol(){return this[ly].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[ly]&&(this[ly].protocol=e)}};Im.Agent=X6});var qme=P(jg=>{"use strict";var xQe=jg&&jg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),RQe=jg&&jg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Nme=jg&&jg.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xQe(e,r,t);return RQe(e,r),e},OQe=jg&&jg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jg,"__esModule",{value:!0});jg.HttpProxyAgent=void 0;var IQe=Nme(require("net")),kQe=Nme(require("tls")),AQe=OQe(VN()),MQe=require("events"),LQe=Q6(),HD=(0,AQe.default)("http-proxy-agent"),GN=class extends LQe.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},HD("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?NQe(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;HD("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(HD("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),HD("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(HD("Creating `tls.Socket`: %o",this.connectOpts),o=kQe.connect(this.connectOpts)):(HD("Creating `net.Socket`: %o",this.connectOpts),o=IQe.connect(this.connectOpts)),await(0,MQe.once)(o,"connect"),o}};GN.protocols=["http","https"];jg.HttpProxyAgent=GN;function NQe(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var Fme=P(BD=>{"use strict";var qQe=BD&&BD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(BD,"__esModule",{value:!0});BD.parseProxyResponse=void 0;var FQe=qQe(VN()),KN=(0,FQe.default)("https-proxy-agent:parse-proxy-response");function jQe(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),KN("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),KN("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){KN("have not received end of HTTP headers yet..."),o();return}let _=d.slice(0,f).toString("ascii").split(`\r
`),y=_.shift();if(!y)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let D=y.split(" "),k=+D[1],H=D.slice(2).join(" "),M={};for(let z of _){if(!z)continue;let re=z.indexOf(":");if(re===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${z}"`));let ce=z.slice(0,re).toLowerCase(),_e=z.slice(re+1).trimStart(),G=M[ce];typeof G=="string"?M[ce]=[G,_e]:Array.isArray(G)?G.push(_e):M[ce]=_e}KN("got proxy server response: %o %o",y,M),s(),e({connect:{statusCode:k,statusText:H,headers:M},buffered:d})}r.on("error",c),r.on("end",a),o()})}BD.parseProxyResponse=jQe});var Bme=P(zg=>{"use strict";var zQe=zg&&zg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),UQe=zg&&zg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ume=zg&&zg.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zQe(e,r,t);return UQe(e,r),e},Hme=zg&&zg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zg,"__esModule",{value:!0});zg.HttpsProxyAgent=void 0;var QI=Ume(require("net")),jme=Ume(require("tls")),HQe=Hme(require("assert")),BQe=Hme(VN()),WQe=Q6(),$Qe=Fme(),ZI=(0,BQe.default)("https-proxy-agent"),YN=class extends WQe.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},ZI("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?zme(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){ZI("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=jme.connect({...this.connectOpts,servername:f&&QI.isIP(f)?void 0:f})}else ZI("Creating `net.Socket`: %o",this.connectOpts),i=QI.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=QI.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,$Qe.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",VQe),t.secureEndpoint){ZI("Upgrading socket connection to TLS");let f=t.servername||t.host;return jme.connect({...zme(t,"host","path","port"),socket:i,servername:QI.isIP(f)?void 0:f})}return i}i.destroy();let d=new QI.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{ZI("Replaying proxy buffer for failed request"),(0,HQe.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};YN.protocols=["http","https"];zg.HttpsProxyAgent=YN;function VQe(r){r.resume()}function zme(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var Qme=P((zAt,Xme)=>{Xme.exports=XN;function XN(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}XN.prototype.go=function(r){this.pending<this.max?Jme(this,r):this.waiting.push(r)};XN.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};XN.prototype.hold=function(){return Yme(this)};function Yme(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)Jme(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function Jme(r,e){e(Yme(r))}});var ege=P(tk=>{var ek=require("fs"),QN=require("util"),e5=require("stream"),Zme=e5.Readable,t5=e5.Writable,KQe=e5.PassThrough,YQe=Qme(),ZN=require("events").EventEmitter;tk.createFromBuffer=JQe;tk.createFromFd=XQe;tk.BufferSlicer=Vb;tk.FdSlicer=$b;QN.inherits($b,ZN);function $b(r,e){e=e||{},ZN.call(this),this.fd=r,this.pend=new YQe,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}$b.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){ek.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};$b.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){ek.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};$b.prototype.createReadStream=function(r){return new eq(this,r)};$b.prototype.createWriteStream=function(r){return new tq(this,r)};$b.prototype.ref=function(){this.refCount+=1};$b.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&ek.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};QN.inherits(eq,Zme);function eq(r,e){e=e||{},Zme.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}eq.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);ek.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};eq.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};QN.inherits(tq,t5);function tq(r,e){e=e||{},t5.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}tq.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();ek.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};tq.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};QN.inherits(Vb,ZN);function Vb(r,e){ZN.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Vb.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};Vb.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};Vb.prototype.createReadStream=function(r){r=r||{};var e=new KQe(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};Vb.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new t5(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};Vb.prototype.ref=function(){this.refCount+=1};Vb.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function JQe(r,e){return new Vb(r,e)}function XQe(r,e){return new $b(r,e)}});var nge=P((HAt,rge)=>{var zS=require("buffer").Buffer,r5=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(r5=new Int32Array(r5));function tge(r){if(zS.isBuffer(r))return r;var e=typeof zS.alloc=="function"&&typeof zS.from=="function";if(typeof r=="number")return e?zS.alloc(r):new zS(r);if(typeof r=="string")return e?zS.from(r):new zS(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function QQe(r){var e=tge(4);return e.writeInt32BE(r,0),e}function n5(r,e){r=tge(r),zS.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=r5[(t^r[n])&255]^t>>>8;return t^-1}function i5(){return QQe(n5.apply(null,arguments))}i5.signed=function(){return n5.apply(null,arguments)};i5.unsigned=function(){return n5.apply(null,arguments)>>>0};rge.exports=i5});var lge=P(fy=>{var o5=require("fs"),ZQe=require("zlib"),ige=ege(),eZe=nge(),iq=require("util"),oq=require("events").EventEmitter,oge=require("stream").Transform,s5=require("stream").PassThrough,tZe=require("stream").Writable;fy.open=rZe;fy.fromFd=sge;fy.fromBuffer=nZe;fy.fromRandomAccessReader=a5;fy.dosDateTimeToDate=cge;fy.validateFileName=uge;fy.ZipFile=US;fy.Entry=rk;fy.RandomAccessReader=HS;function rZe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=nq),o5.open(r,"r",function(n,i){if(n)return t(n);sge(i,e,function(o,s){o&&o5.close(i,nq),t(o,s)})})}function sge(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=nq),o5.fstat(r,function(n,i){if(n)return t(n);var o=ige.createFromFd(r,{autoClose:!0});a5(o,i.size,e,t)})}function nZe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=ige.createFromBuffer(r,{maxChunkSize:65536});a5(n,r.length,e,t)}function a5(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=nq),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=dy(a),u=e-c.length;WD(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),_=f.readUInt16LE(4);if(_!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+_));var y=f.readUInt16LE(10),D=f.readUInt32LE(16),k=f.readUInt16LE(20),H=f.length-o;if(k!==H)return n(new Error("invalid comment length. expected: "+H+". found: "+k));var M=i?rq(f,22,f.length,!1):f.slice(22);if(!(y===65535||D===4294967295))return n(null,new US(r,D,e,y,M,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var z=dy(20),re=u+d-z.length;WD(r,z,0,z.length,re,function(ce){if(ce)return n(ce);if(z.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var _e=$D(z,8),G=dy(56);WD(r,G,0,G.length,_e,function($){return $?n($):G.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(y=$D(G,32),D=$D(G,48),n(null,new US(r,D,e,y,M,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}iq.inherits(US,oq);function US(r,e,t,n,i,o,s,a,c,u){var l=this;oq.call(l),l.reader=r,l.reader.on("error",function(d){age(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}US.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Yv(r,e){r.autoClose&&r.close(),age(r,e)}function age(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}US.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};US.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=dy(46);WD(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return Yv(r,t);if(!r.emittedError){var n=new rk,i=e.readUInt32LE(0);if(i!==33639248)return Yv(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Yv(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=dy(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),WD(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return Yv(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?rq(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,_=f+d;if(_>c.length)return Yv(r,new Error("extra field length exceeds extra field buffer size"));var y=dy(d);c.copy(y,0,f,_),n.extraFields.push({id:l,data:y}),u=_}if(n.fileComment=r.decodeStrings?rq(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var D=null,u=0;u<n.extraFields.length;u++){var k=n.extraFields[u];if(k.id===1){D=k.data;break}}if(D==null)return Yv(r,new Error("expected zip64 extended information extra field"));var H=0;if(n.uncompressedSize===4294967295){if(H+8>D.length)return Yv(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=$D(D,H),H+=8}if(n.compressedSize===4294967295){if(H+8>D.length)return Yv(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=$D(D,H),H+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(H+8>D.length)return Yv(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=$D(D,H),H+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var k=n.extraFields[u];if(k.id===28789){if(k.data.length<6||k.data.readUInt8(0)!==1)continue;var M=k.data.readUInt32LE(1);if(eZe.unsigned(e.slice(0,n.fileNameLength))!==M)continue;n.fileName=rq(k.data,5,k.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var z=n.uncompressedSize;if(n.isEncrypted()&&(z+=12),n.compressedSize!==z){var re="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Yv(r,new Error(re))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var ce=uge(n.fileName,r.validateFileNameOptions);if(ce!=null)return Yv(r,new Error(ce))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};US.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=dy(30);WD(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var _=d,y=_+r.compressedSize;if(r.compressedSize!==0&&y>n.fileSize)return t(new Error("file data overflows file bounds: "+_+" + "+r.compressedSize+" > "+n.fileSize));var D=n.reader.createReadStream({start:_+i,end:_+o}),k=D;if(f){var H=!1,M=ZQe.createInflateRaw();D.on("error",function(z){setImmediate(function(){H||M.emit("error",z)})}),D.pipe(M),n.validateEntrySizes?(k=new nk(r.uncompressedSize),M.on("error",function(z){setImmediate(function(){H||k.emit("error",z)})}),M.pipe(k)):k=M,k.destroy=function(){H=!0,M!==k&&M.unpipe(k),D.unpipe(M),D.destroy()}}t(null,k)}finally{n.reader.unref()}})};function rk(){}rk.prototype.getLastModDate=function(){return cge(this.lastModFileDate,this.lastModFileTime)};rk.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};rk.prototype.isCompressed=function(){return this.compressionMethod===8};function cge(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function uge(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function WD(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,dy(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}iq.inherits(nk,oge);function nk(r){oge.call(this),this.actualByteCount=0,this.expectedByteCount=r}nk.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};nk.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};iq.inherits(HS,oq);function HS(){oq.call(this),this.refCount=0}HS.prototype.ref=function(){this.refCount+=1};HS.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};HS.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new s5;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new sq(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new nk(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};HS.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};HS.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new tZe,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};HS.prototype.close=function(r){setImmediate(r)};iq.inherits(sq,s5);function sq(r){s5.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}sq.prototype._flush=function(r){this.unref(),r()};sq.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var iZe="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function rq(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=iZe[r[o]];return i}function $D(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var dy;typeof Buffer.allocUnsafe=="function"?dy=function(r){return Buffer.allocUnsafe(r)}:dy=function(r){return new Buffer(r)};function nq(r){if(r)throw r}});var sP=P(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.boolean=MZe;Xb.string=Cve;Xb.number=LZe;Xb.error=NZe;Xb.func=qZe;Xb.array=Tve;Xb.stringArray=FZe;function MZe(r){return r===!0||r===!1}function Cve(r){return typeof r=="string"||r instanceof String}function LZe(r){return typeof r=="number"||r instanceof Number}function NZe(r){return r instanceof Error}function qZe(r){return typeof r=="function"}function Tve(r){return Array.isArray(r)}function FZe(r){return Tve(r)&&r.every(e=>Cve(e))}});var B5=P(mn=>{"use strict";var jZe=mn&&mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zZe=mn&&mn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UZe=mn&&mn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jZe(t,e,n[i]);return zZe(t,e),t}}();Object.defineProperty(mn,"__esModule",{value:!0});mn.Message=mn.NotificationType9=mn.NotificationType8=mn.NotificationType7=mn.NotificationType6=mn.NotificationType5=mn.NotificationType4=mn.NotificationType3=mn.NotificationType2=mn.NotificationType1=mn.NotificationType0=mn.NotificationType=mn.RequestType9=mn.RequestType8=mn.RequestType7=mn.RequestType6=mn.RequestType5=mn.RequestType4=mn.RequestType3=mn.RequestType2=mn.RequestType1=mn.RequestType=mn.RequestType0=mn.AbstractMessageSignature=mn.ParameterStructures=mn.ResponseError=mn.ErrorCodes=void 0;var z0=UZe(sP()),y5;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(y5||(mn.ErrorCodes=y5={}));var b5=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=z0.number(e)?e:y5.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};mn.ResponseError=b5;var VS=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};mn.ParameterStructures=VS;var Pa=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return VS.auto}};mn.AbstractMessageSignature=Pa;var w5=class extends Pa{_;constructor(e){super(e,0)}};mn.RequestType0=w5;var S5=class extends Pa{_parameterStructures;_;constructor(e,t=VS.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};mn.RequestType=S5;var C5=class extends Pa{_parameterStructures;_;constructor(e,t=VS.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};mn.RequestType1=C5;var T5=class extends Pa{_;constructor(e){super(e,2)}};mn.RequestType2=T5;var D5=class extends Pa{_;constructor(e){super(e,3)}};mn.RequestType3=D5;var P5=class extends Pa{_;constructor(e){super(e,4)}};mn.RequestType4=P5;var E5=class extends Pa{_;constructor(e){super(e,5)}};mn.RequestType5=E5;var x5=class extends Pa{_;constructor(e){super(e,6)}};mn.RequestType6=x5;var R5=class extends Pa{_;constructor(e){super(e,7)}};mn.RequestType7=R5;var O5=class extends Pa{_;constructor(e){super(e,8)}};mn.RequestType8=O5;var I5=class extends Pa{_;constructor(e){super(e,9)}};mn.RequestType9=I5;var k5=class extends Pa{_parameterStructures;_;constructor(e,t=VS.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};mn.NotificationType=k5;var A5=class extends Pa{_;constructor(e){super(e,0)}};mn.NotificationType0=A5;var M5=class extends Pa{_parameterStructures;_;constructor(e,t=VS.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};mn.NotificationType1=M5;var L5=class extends Pa{_;constructor(e){super(e,2)}};mn.NotificationType2=L5;var N5=class extends Pa{_;constructor(e){super(e,3)}};mn.NotificationType3=N5;var q5=class extends Pa{_;constructor(e){super(e,4)}};mn.NotificationType4=q5;var F5=class extends Pa{_;constructor(e){super(e,5)}};mn.NotificationType5=F5;var j5=class extends Pa{_;constructor(e){super(e,6)}};mn.NotificationType6=j5;var z5=class extends Pa{_;constructor(e){super(e,7)}};mn.NotificationType7=z5;var U5=class extends Pa{_;constructor(e){super(e,8)}};mn.NotificationType8=U5;var H5=class extends Pa{_;constructor(e){super(e,9)}};mn.NotificationType9=H5;var Dve;(function(r){function e(i){let o=i;return o&&z0.string(o.method)&&(z0.string(o.id)||z0.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&z0.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(z0.string(o.id)||z0.number(o.id)||o.id===null)}r.isResponse=n})(Dve||(mn.Message=Dve={}))});var $5=P(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.LRUCache=GS.LinkedMap=GS.Touch=void 0;var Sf;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Sf||(GS.Touch=Sf={}));var OF=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=Sf.None){let n=this._map.get(e);if(n)return t!==Sf.None&&this.touch(n,t),n.value}set(e,t,n=Sf.None){let i=this._map.get(e);if(i)i.value=t,n!==Sf.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Sf.None:this.addItemLast(i);break;case Sf.First:this.addItemFirst(i);break;case Sf.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Sf.First&&t!==Sf.Last)){if(t===Sf.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Sf.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};GS.LinkedMap=OF;var W5=class extends OF{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Sf.AsNew){return super.get(e,t)}peek(e){return super.get(e,Sf.None)}set(e,t){return super.set(e,t,Sf.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};GS.LRUCache=W5});var Eve=P(IF=>{"use strict";Object.defineProperty(IF,"__esModule",{value:!0});IF.Disposable=void 0;var Pve;(function(r){function e(t){return{dispose:t}}r.create=e})(Pve||(IF.Disposable=Pve={}))});var KS=P(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});var V5;function G5(){if(V5===void 0)throw new Error("No runtime abstraction layer installed");return V5}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");V5=t}r.install=e})(G5||(G5={}));K5.default=G5});var aP=P(YS=>{"use strict";var HZe=YS&&YS.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(YS,"__esModule",{value:!0});YS.Emitter=YS.Event=void 0;var BZe=HZe(KS()),xve;(function(r){let e={dispose(){}};r.None=function(){return e}})(xve||(YS.Event=xve={}));var Y5=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,BZe.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},J5=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Y5),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};YS.Emitter=J5});var MF=P(Ip=>{"use strict";var WZe=Ip&&Ip.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$Ze=Ip&&Ip.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VZe=Ip&&Ip.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&WZe(t,e,n[i]);return $Ze(t,e),t}}(),GZe=Ip&&Ip.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.CancellationTokenSource=Ip.CancellationToken=void 0;var KZe=GZe(KS()),YZe=VZe(sP()),X5=aP(),kF;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:X5.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:X5.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||YZe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(kF||(Ip.CancellationToken=kF={}));var JZe=Object.freeze(function(r,e){let t=(0,KZe.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),AF=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?JZe:(this._emitter||(this._emitter=new X5.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Q5=class{_token;get token(){return this._token||(this._token=new AF),this._token}cancel(){this._token?this._token.cancel():this._token=kF.Cancelled}dispose(){this._token?this._token instanceof AF&&this._token.dispose():this._token=kF.None}};Ip.CancellationTokenSource=Q5});var Rve=P(cP=>{"use strict";Object.defineProperty(cP,"__esModule",{value:!0});cP.SharedArrayReceiverStrategy=cP.SharedArraySenderStrategy=void 0;var XZe=MF(),pk;(function(r){r.Continue=0,r.Cancelled=1})(pk||(pk={}));var Z5=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=pk.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,pk.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};cP.SharedArraySenderStrategy=Z5;var e8=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===pk.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},t8=class{token;constructor(e){this.token=new e8(e)}cancel(){}dispose(){}},r8=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new XZe.CancellationTokenSource:new t8(t)}};cP.SharedArrayReceiverStrategy=r8});var i8=P(uP=>{"use strict";var QZe=uP&&uP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uP,"__esModule",{value:!0});uP.Semaphore=void 0;var ZZe=QZe(KS()),n8=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,ZZe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("Too many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};uP.Semaphore=n8});var Ive=P(Cf=>{"use strict";var eet=Cf&&Cf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tet=Cf&&Cf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ret=Cf&&Cf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&eet(t,e,n[i]);return tet(t,e),t}}(),net=Cf&&Cf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.ReadableStreamMessageReader=Cf.AbstractMessageReader=Cf.MessageReader=void 0;var s8=net(KS()),lP=ret(sP()),o8=aP(),iet=i8(),Ove;(function(r){function e(t){let n=t;return n&&lP.func(n.listen)&&lP.func(n.dispose)&&lP.func(n.onError)&&lP.func(n.onClose)&&lP.func(n.onPartialMessage)}r.is=e})(Ove||(Cf.MessageReader=Ove={}));var LF=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new o8.Emitter,this.closeEmitter=new o8.Emitter,this.partialMessageEmitter=new o8.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${lP.string(e.message)?e.message:"unknown"}`)}};Cf.AbstractMessageReader=LF;var a8;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,s8.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(a8||(a8={}));var c8=class extends LF{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=a8.fromOptions(t),this.buffer=(0,s8.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new iet.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,s8.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Cf.ReadableStreamMessageReader=c8});var Nve=P(Tf=>{"use strict";var oet=Tf&&Tf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),set=Tf&&Tf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),aet=Tf&&Tf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&oet(t,e,n[i]);return set(t,e),t}}(),cet=Tf&&Tf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.WriteableStreamMessageWriter=Tf.AbstractMessageWriter=Tf.MessageWriter=void 0;var kve=cet(KS()),mk=aet(sP()),uet=i8(),Ave=aP(),det="Content-Length: ",Mve=`\r
`,Lve;(function(r){function e(t){let n=t;return n&&mk.func(n.dispose)&&mk.func(n.onClose)&&mk.func(n.onError)&&mk.func(n.write)}r.is=e})(Lve||(Tf.MessageWriter=Lve={}));var NF=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new Ave.Emitter,this.closeEmitter=new Ave.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${mk.string(e.message)?e.message:"unknown"}`)}};Tf.AbstractMessageWriter=NF;var u8;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,kve.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,kve.default)().applicationJson.encoder}}r.fromOptions=e})(u8||(u8={}));var l8=class extends NF{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=u8.fromOptions(t),this.errorCount=0,this.writeSemaphore=new uet.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(det,n.byteLength.toString(),Mve),i.push(Mve),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Tf.WriteableStreamMessageWriter=l8});var qve=P(qF=>{"use strict";Object.defineProperty(qF,"__esModule",{value:!0});qF.AbstractMessageBuffer=void 0;var fet=13,het=10,pet=`\r
`,d8=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case fet:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case het:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(pet);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),_=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,_)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};qF.AbstractMessageBuffer=d8});var Uve=P(Gn=>{"use strict";var met=Gn&&Gn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),get=Gn&&Gn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vet=Gn&&Gn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&met(t,e,n[i]);return get(t,e),t}}(),_et=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.ConnectionOptions=Gn.MessageStrategy=Gn.CancellationStrategy=Gn.CancellationSenderStrategy=Gn.CancellationReceiverStrategy=Gn.RequestCancellationReceiverStrategy=Gn.IdCancellationReceiverStrategy=Gn.ConnectionStrategy=Gn.ConnectionError=Gn.ConnectionErrors=Gn.LogTraceNotification=Gn.SetTraceNotification=Gn.TraceFormat=Gn.TraceValues=Gn.TraceValue=Gn.Trace=Gn.NullLogger=Gn.ProgressType=Gn.ProgressToken=void 0;Gn.createMessageConnection=yet;var Fve=_et(KS()),wc=vet(sP()),Ai=B5(),jve=$5(),gk=aP(),f8=MF(),yk;(function(r){r.type=new Ai.NotificationType("$/cancelRequest")})(yk||(yk={}));var h8;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(h8||(Gn.ProgressToken=h8={}));var vk;(function(r){r.type=new Ai.NotificationType("$/progress")})(vk||(vk={}));var p8=class{__;_pr;constructor(){}};Gn.ProgressType=p8;var m8;(function(r){function e(t){return wc.func(t)}r.is=e})(m8||(m8={}));Gn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var os;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(os||(Gn.Trace=os={}));var g8;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(g8||(Gn.TraceValue=g8={}));Gn.TraceValues=g8;(function(r){function e(n){if(!wc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(os||(Gn.Trace=os={}));var km;(function(r){r.Text="text",r.JSON="json"})(km||(Gn.TraceFormat=km={}));(function(r){function e(t){return wc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(km||(Gn.TraceFormat=km={}));var v8;(function(r){r.type=new Ai.NotificationType("$/setTrace")})(v8||(Gn.SetTraceNotification=v8={}));var FF;(function(r){r.type=new Ai.NotificationType("$/logTrace")})(FF||(Gn.LogTraceNotification=FF={}));var _k;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(_k||(Gn.ConnectionErrors=_k={}));var dP=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Gn.ConnectionError=dP;var _8;(function(r){function e(t){let n=t;return n&&wc.func(n.cancelUndispatched)}r.is=e})(_8||(Gn.ConnectionStrategy=_8={}));var jF;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&wc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||wc.func(n.dispose))}r.is=e})(jF||(Gn.IdCancellationReceiverStrategy=jF={}));var y8;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&wc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||wc.func(n.dispose))}r.is=e})(y8||(Gn.RequestCancellationReceiverStrategy=y8={}));var zF;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new f8.CancellationTokenSource}});function e(t){return jF.is(t)||y8.is(t)}r.is=e})(zF||(Gn.CancellationReceiverStrategy=zF={}));var UF;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(yk.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&wc.func(n.sendCancellation)&&wc.func(n.cleanup)}r.is=e})(UF||(Gn.CancellationSenderStrategy=UF={}));var HF;(function(r){r.Message=Object.freeze({receiver:zF.Message,sender:UF.Message});function e(t){let n=t;return n&&zF.is(n.receiver)&&UF.is(n.sender)}r.is=e})(HF||(Gn.CancellationStrategy=HF={}));var BF;(function(r){function e(t){let n=t;return n&&wc.func(n.handleMessage)}r.is=e})(BF||(Gn.MessageStrategy=BF={}));var zve;(function(r){function e(t){let n=t;return n&&(HF.is(n.cancellationStrategy)||_8.is(n.connectionStrategy)||BF.is(n.messageStrategy)||wc.number(n.maxParallelism))}r.is=e})(zve||(Gn.ConnectionOptions=zve={}));var Xv;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Xv||(Xv={}));function yet(r,e,t,n){let i=t!==void 0?t:Gn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,_,y=new Map,D=new Map,k,H=new jve.LinkedMap,M=new Map,z=new Set,re=new Map,ce=os.Off,_e=km.Text,G,$=Xv.New,te=new gk.Emitter,Te=new gk.Emitter,ae=new gk.Emitter,ue=new gk.Emitter,Fe=new gk.Emitter,qe=n&&n.cancellationStrategy?n.cancellationStrategy:HF.Message;function le(Q){}function Ce(){return $===Xv.Listening}function be(){return $===Xv.Closed}function xe(){return $===Xv.Disposed}function Le(){($===Xv.New||$===Xv.Listening)&&($=Xv.Closed,Te.fire(void 0))}function Ge(Q){te.fire([Q,void 0,void 0])}function Ct(Q){te.fire(Q)}r.onClose(Le),r.onError(Ge),e.onClose(Le),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function at(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function ct(){return"not-"+(++s).toString()}function tt(Q,ye){Ai.Message.isRequest(ye)?Q.set(ze(ye.id),ye):Ai.Message.isResponse(ye)?u===-1?Q.set(at(ye.id),ye):It(ye):Q.set(ct(),ye)}function pr(){k||H.size===0||u!==-1&&l>=u||(k=(0,Fve.default)().timer.setImmediate(async()=>{if(k=void 0,H.size===0||u!==-1&&l>=u)return;let Q=H.shift(),ye;try{l++;let Ke=n?.messageStrategy;BF.is(Ke)?ye=Ke.handleMessage(Q,Nr):ye=Nr(Q)}catch(Ke){i.error(`Processing message queue failed: ${Ke.toString()}`)}finally{ye instanceof Promise?ye.then(()=>{l--,pr()}).catch(Ke=>{i.error(`Processing message queue failed: ${Ke.toString()}`)}):l--,pr()}}))}async function Nr(Q){return Ai.Message.isRequest(Q)?fr(Q):Ai.Message.isNotification(Q)?mr(Q):Ai.Message.isResponse(Q)?It(Q):Lt(Q)}let Hr=Q=>{try{if(Ai.Message.isNotification(Q)&&Q.method===yk.type.method){let ye=Q.params.id,Ke=ze(ye),ft=H.get(Ke);if(Ai.Message.isRequest(ft)){let nr=n?.connectionStrategy,Xt=nr&&nr.cancelUndispatched?nr.cancelUndispatched(ft,le):void 0;if(Xt&&(Xt.error!==void 0||Xt.result!==void 0)){H.delete(Ke),re.delete(ye),Xt.id=ft.id,Rr(Xt,Q.method,Date.now()),e.write(Xt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Jt=re.get(ye);if(Jt!==void 0){Jt.cancel(),Wr(Q);return}else z.add(ye)}tt(H,Q)}finally{pr()}};async function fr(Q){if(xe())return Promise.resolve();function ye(Vt,kt,K){let Ne={jsonrpc:c,id:Q.id};return Vt instanceof Ai.ResponseError?Ne.error=Vt.toJson():Ne.result=Vt===void 0?null:Vt,Rr(Ne,kt,K),e.write(Ne)}function Ke(Vt,kt,K){let Ne={jsonrpc:c,id:Q.id,error:Vt.toJson()};return Rr(Ne,kt,K),e.write(Ne)}Un(Q);let ft=f.get(Q.method),Jt,nr;ft&&(Jt=ft.type,nr=ft.handler);let Xt=Date.now();if(nr||d){let Vt=Q.id??String(Date.now()),kt=jF.is(qe.receiver)?qe.receiver.createCancellationTokenSource(Vt):qe.receiver.createCancellationTokenSource(Q);Q.id!==null&&z.has(Q.id)&&kt.cancel(),Q.id!==null&&re.set(Vt,kt);try{let K;if(nr)if(Q.params===void 0){if(Jt!==void 0&&Jt.numberOfParams!==0)return Ke(new Ai.ResponseError(Ai.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Jt.numberOfParams} params but received none.`),Q.method,Xt);K=nr(kt.token)}else if(Array.isArray(Q.params)){if(Jt!==void 0&&Jt.parameterStructures===Ai.ParameterStructures.byName)return Ke(new Ai.ResponseError(Ai.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Xt);K=nr(...Q.params,kt.token)}else{if(Jt!==void 0&&Jt.parameterStructures===Ai.ParameterStructures.byPosition)return Ke(new Ai.ResponseError(Ai.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Xt);K=nr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let Ne=await K;await ye(Ne,Q.method,Xt)}catch(K){K instanceof Ai.ResponseError?await ye(K,Q.method,Xt):K&&wc.string(K.message)?await Ke(new Ai.ResponseError(Ai.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Xt):await Ke(new Ai.ResponseError(Ai.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Xt)}finally{re.delete(Vt)}}else await Ke(new Ai.ResponseError(Ai.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Xt)}function It(Q){if(!xe())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let ye=Q.id,Ke=M.get(ye);if(un(Q,Ke),Ke!==void 0){M.delete(ye);try{if(Q.error){let ft=Q.error;Ke.reject(new Ai.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Ke.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Ke.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}async function mr(Q){if(xe())return;let ye,Ke;if(Q.method===yk.type.method){let ft=Q.params.id;z.delete(ft),Wr(Q);return}else{let ft=y.get(Q.method);ft&&(Ke=ft.handler,ye=ft.type)}if(Ke||_)try{if(Wr(Q),Ke)if(Q.params===void 0)ye!==void 0&&ye.numberOfParams!==0&&ye.parameterStructures!==Ai.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${ye.numberOfParams} params but received none.`),await Ke();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===vk.type.method&&ft.length===2&&h8.is(ft[0])?await Ke({token:ft[0],value:ft[1]}):(ye!==void 0&&(ye.parameterStructures===Ai.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),ye.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${ye.numberOfParams} params but received ${ft.length} arguments`)),await Ke(...ft))}else ye!==void 0&&ye.parameterStructures===Ai.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Ke(Q.params);else _&&await _(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else ae.fire(Q)}function Lt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let ye=Q;if(wc.string(ye.id)||wc.number(ye.id)){let Ke=ye.id,ft=M.get(Ke);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function nn(Q){if(Q!=null)switch(ce){case os.Verbose:return JSON.stringify(Q,null,4);case os.Compact:return JSON.stringify(Q);default:return}}function cn(Q){if(!(ce===os.Off||!G))if(_e===km.Text){let ye;(ce===os.Verbose||ce===os.Compact)&&Q.params&&(ye=`Params: ${nn(Q.params)}`),G.log(`Sending request '${Q.method} - (${Q.id})'.`,ye)}else ni("send-request",Q)}function xn(Q){if(!(ce===os.Off||!G))if(_e===km.Text){let ye;(ce===os.Verbose||ce===os.Compact)&&(Q.params?ye=`Params: ${nn(Q.params)}`:ye="No parameters provided."),G.log(`Sending notification '${Q.method}'.`,ye)}else ni("send-notification",Q)}function Rr(Q,ye,Ke){if(!(ce===os.Off||!G))if(_e===km.Text){let ft;(ce===os.Verbose||ce===os.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${nn(Q.error.data)}`:Q.result?ft=`Result: ${nn(Q.result)}`:Q.error===void 0&&(ft="No result returned.")),G.log(`Sending response '${ye} - (${Q.id})'. Processing request took ${Date.now()-Ke}ms`,ft)}else ni("send-response",Q)}function Un(Q){if(!(ce===os.Off||!G))if(_e===km.Text){let ye;(ce===os.Verbose||ce===os.Compact)&&Q.params&&(ye=`Params: ${nn(Q.params)}`),G.log(`Received request '${Q.method} - (${Q.id})'.`,ye)}else ni("receive-request",Q)}function Wr(Q){if(!(ce===os.Off||!G||Q.method===FF.type.method))if(_e===km.Text){let ye;(ce===os.Verbose||ce===os.Compact)&&(Q.params?ye=`Params: ${nn(Q.params)}`:ye="No parameters provided."),G.log(`Received notification '${Q.method}'.`,ye)}else ni("receive-notification",Q)}function un(Q,ye){if(!(ce===os.Off||!G))if(_e===km.Text){let Ke;if((ce===os.Verbose||ce===os.Compact)&&(Q.error&&Q.error.data?Ke=`Error data: ${nn(Q.error.data)}`:Q.result?Ke=`Result: ${nn(Q.result)}`:Q.error===void 0&&(Ke="No result returned.")),ye){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";G.log(`Received response '${ye.method} - (${Q.id})' in ${Date.now()-ye.timerStart}ms.${ft}`,Ke)}else G.log(`Received response ${Q.id} without active response promise.`,Ke)}else ni("receive-response",Q)}function ni(Q,ye){if(!G||ce===os.Off)return;let Ke={isLSPMessage:!0,type:Q,message:ye,timestamp:Date.now()};G.log(Ke)}function $r(){if(be())throw new dP(_k.Closed,"Connection is closed.");if(xe())throw new dP(_k.Disposed,"Connection is disposed.")}function In(){if(Ce())throw new dP(_k.AlreadyListening,"Connection is already listening")}function Ei(){if(!Ce())throw new Error("Call listen() first.")}function Vr(Q){return Q===void 0?null:Q}function Vi(Q){if(Q!==null)return Q}function ii(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function ln(Q,ye){switch(Q){case Ai.ParameterStructures.auto:return ii(ye)?Vi(ye):[Vr(ye)];case Ai.ParameterStructures.byName:if(!ii(ye))throw new Error("Received parameters by name but param is not an object literal.");return Vi(ye);case Ai.ParameterStructures.byPosition:return[Vr(ye)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Re(Q,ye){let Ke,ft=Q.numberOfParams;switch(ft){case 0:Ke=void 0;break;case 1:Ke=ln(Q.parameterStructures,ye[0]);break;default:Ke=[];for(let Jt=0;Jt<ye.length&&Jt<ft;Jt++)Ke.push(Vr(ye[Jt]));if(ye.length<ft)for(let Jt=ye.length;Jt<ft;Jt++)Ke.push(null);break}return Ke}let oe={sendNotification:(Q,...ye)=>{$r();let Ke,ft;if(wc.string(Q)){Ke=Q;let nr=ye[0],Xt=0,Vt=Ai.ParameterStructures.auto;Ai.ParameterStructures.is(nr)&&(Xt=1,Vt=nr);let kt=ye.length,K=kt-Xt;switch(K){case 0:ft=void 0;break;case 1:ft=ln(Vt,ye[Xt]);break;default:if(Vt===Ai.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=ye.slice(Xt,kt).map(Ne=>Vr(Ne));break}}else{let nr=ye;Ke=Q.method,ft=Re(Q,nr)}let Jt={jsonrpc:c,method:Ke,params:ft};return xn(Jt),e.write(Jt).catch(nr=>{throw i.error("Sending notification failed."),nr})},onNotification:(Q,ye)=>{$r();let Ke;return wc.func(Q)?_=Q:ye&&(wc.string(Q)?(Ke=Q,y.set(Q,{type:void 0,handler:ye})):(Ke=Q.method,y.set(Q.method,{type:Q,handler:ye}))),{dispose:()=>{Ke!==void 0?y.get(Ke)?.handler===ye&&y.delete(Ke):_===Q&&(_=void 0)}}},onProgress:(Q,ye,Ke)=>{if(D.has(ye))throw new Error(`Progress handler for token ${ye} already registered`);return D.set(ye,Ke),{dispose:()=>{D.get(ye)===Ke&&D.delete(ye)}}},sendProgress:(Q,ye,Ke)=>oe.sendNotification(vk.type,{token:ye,value:Ke}),onUnhandledProgress:ue.event,sendRequest:(Q,...ye)=>{$r(),Ei();function Ke(Ne,Bt){let Tr=qe.sender.sendCancellation(Ne,Bt);Tr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Bt}`):Tr.catch(()=>{i.log(`Sending cancellation messages for id ${Bt} failed.`)})}let ft,Jt,nr;if(wc.string(Q)){ft=Q;let Ne=ye[0],Bt=ye[ye.length-1],Tr=0,He=Ai.ParameterStructures.auto;Ai.ParameterStructures.is(Ne)&&(Tr=1,He=Ne);let ne=ye.length;f8.CancellationToken.is(Bt)&&(ne=ne-1,nr=Bt);let Ee=ne-Tr;switch(Ee){case 0:Jt=void 0;break;case 1:Jt=ln(He,ye[Tr]);break;default:if(He===Ai.ParameterStructures.byName)throw new Error(`Received ${Ee} parameters for 'by Name' request parameter structure.`);Jt=ye.slice(Tr,ne).map(je=>Vr(je));break}}else{let Ne=ye;ft=Q.method,Jt=Re(Q,Ne);let Bt=Q.numberOfParams;nr=f8.CancellationToken.is(Ne[Bt])?Ne[Bt]:void 0}let Xt=o++,Vt,kt=!1;nr!==void 0&&(nr.isCancellationRequested?kt=!0:Vt=nr.onCancellationRequested(()=>{Ke(oe,Xt)}));let K={jsonrpc:c,id:Xt,method:ft,params:Jt};return cn(K),typeof qe.sender.enableCancellation=="function"&&qe.sender.enableCancellation(K),new Promise(async(Ne,Bt)=>{let Tr=Ee=>{Ne(Ee),qe.sender.cleanup(Xt),Vt?.dispose()},He=Ee=>{Bt(Ee),qe.sender.cleanup(Xt),Vt?.dispose()},ne={method:ft,timerStart:Date.now(),resolve:Tr,reject:He};try{M.set(Xt,ne),await e.write(K),kt&&Ke(oe,Xt)}catch(Ee){throw M.delete(Xt),ne.reject(new Ai.ResponseError(Ai.ErrorCodes.MessageWriteError,Ee.message?Ee.message:"Unknown reason")),i.error("Sending request failed."),Ee}})},onRequest:(Q,ye)=>{$r();let Ke=null;return m8.is(Q)?(Ke=void 0,d=Q):wc.string(Q)?(Ke=null,ye!==void 0&&(Ke=Q,f.set(Q,{handler:ye,type:void 0}))):ye!==void 0&&(Ke=Q.method,f.set(Q.method,{type:Q,handler:ye})),{dispose:()=>{Ke!==null&&(Ke!==void 0?f.get(Ke)?.handler===ye&&f.delete(Ke):d===Q&&(d=void 0))}}},hasPendingResponse:()=>M.size>0,trace:async(Q,ye,Ke)=>{let ft=!1,Jt=km.Text;Ke!==void 0&&(wc.boolean(Ke)?ft=Ke:(ft=Ke.sendNotification||!1,Jt=Ke.traceFormat||km.Text)),ce=Q,_e=Jt,ce===os.Off?G=void 0:G=ye,ft&&!be()&&!xe()&&await oe.sendNotification(v8.type,{value:os.toString(Q)})},onError:te.event,onClose:Te.event,onUnhandledNotification:ae.event,onDispose:Fe.event,end:()=>{e.end()},dispose:()=>{if(xe())return;$=Xv.Disposed,Fe.fire(void 0);let Q=new Ai.ResponseError(Ai.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let ye of M.values())ye.reject(Q);M=new Map,re=new Map,z=new Set,H=new jve.LinkedMap,wc.func(e.dispose)&&e.dispose(),wc.func(r.dispose)&&r.dispose()},listen:()=>{$r(),In(),$=Xv.Listening,r.listen(Hr)},inspect:()=>{(0,Fve.default)().console.log("inspect")}};return oe.onNotification(FF.type,Q=>{if(ce===os.Off||!G)return;let ye=ce===os.Verbose||ce===os.Compact;G.log(Q.message,ye?Q.verbose:void 0)}),oe.onNotification(vk.type,async Q=>{let ye=D.get(Q.token);ye?await ye(Q.value):ue.fire(Q)}),oe}});var Df=P(xt=>{"use strict";var bet=xt&&xt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xt,"__esModule",{value:!0});xt.ProgressType=xt.ProgressToken=xt.createMessageConnection=xt.NullLogger=xt.ConnectionOptions=xt.ConnectionStrategy=xt.AbstractMessageBuffer=xt.WriteableStreamMessageWriter=xt.AbstractMessageWriter=xt.MessageWriter=xt.ReadableStreamMessageReader=xt.AbstractMessageReader=xt.MessageReader=xt.SharedArrayReceiverStrategy=xt.SharedArraySenderStrategy=xt.CancellationToken=xt.CancellationTokenSource=xt.Emitter=xt.Event=xt.Disposable=xt.LRUCache=xt.Touch=xt.LinkedMap=xt.ParameterStructures=xt.NotificationType9=xt.NotificationType8=xt.NotificationType7=xt.NotificationType6=xt.NotificationType5=xt.NotificationType4=xt.NotificationType3=xt.NotificationType2=xt.NotificationType1=xt.NotificationType0=xt.NotificationType=xt.ErrorCodes=xt.ResponseError=xt.RequestType9=xt.RequestType8=xt.RequestType7=xt.RequestType6=xt.RequestType5=xt.RequestType4=xt.RequestType3=xt.RequestType2=xt.RequestType1=xt.RequestType0=xt.RequestType=xt.Message=xt.RAL=void 0;xt.MessageStrategy=xt.CancellationStrategy=xt.CancellationSenderStrategy=xt.RequestCancellationReceiverStrategy=xt.IdCancellationReceiverStrategy=xt.CancellationReceiverStrategy=xt.ConnectionError=xt.ConnectionErrors=xt.LogTraceNotification=xt.SetTraceNotification=xt.TraceFormat=xt.TraceValues=xt.TraceValue=xt.Trace=void 0;var la=B5();Object.defineProperty(xt,"Message",{enumerable:!0,get:function(){return la.Message}});Object.defineProperty(xt,"RequestType",{enumerable:!0,get:function(){return la.RequestType}});Object.defineProperty(xt,"RequestType0",{enumerable:!0,get:function(){return la.RequestType0}});Object.defineProperty(xt,"RequestType1",{enumerable:!0,get:function(){return la.RequestType1}});Object.defineProperty(xt,"RequestType2",{enumerable:!0,get:function(){return la.RequestType2}});Object.defineProperty(xt,"RequestType3",{enumerable:!0,get:function(){return la.RequestType3}});Object.defineProperty(xt,"RequestType4",{enumerable:!0,get:function(){return la.RequestType4}});Object.defineProperty(xt,"RequestType5",{enumerable:!0,get:function(){return la.RequestType5}});Object.defineProperty(xt,"RequestType6",{enumerable:!0,get:function(){return la.RequestType6}});Object.defineProperty(xt,"RequestType7",{enumerable:!0,get:function(){return la.RequestType7}});Object.defineProperty(xt,"RequestType8",{enumerable:!0,get:function(){return la.RequestType8}});Object.defineProperty(xt,"RequestType9",{enumerable:!0,get:function(){return la.RequestType9}});Object.defineProperty(xt,"ResponseError",{enumerable:!0,get:function(){return la.ResponseError}});Object.defineProperty(xt,"ErrorCodes",{enumerable:!0,get:function(){return la.ErrorCodes}});Object.defineProperty(xt,"NotificationType",{enumerable:!0,get:function(){return la.NotificationType}});Object.defineProperty(xt,"NotificationType0",{enumerable:!0,get:function(){return la.NotificationType0}});Object.defineProperty(xt,"NotificationType1",{enumerable:!0,get:function(){return la.NotificationType1}});Object.defineProperty(xt,"NotificationType2",{enumerable:!0,get:function(){return la.NotificationType2}});Object.defineProperty(xt,"NotificationType3",{enumerable:!0,get:function(){return la.NotificationType3}});Object.defineProperty(xt,"NotificationType4",{enumerable:!0,get:function(){return la.NotificationType4}});Object.defineProperty(xt,"NotificationType5",{enumerable:!0,get:function(){return la.NotificationType5}});Object.defineProperty(xt,"NotificationType6",{enumerable:!0,get:function(){return la.NotificationType6}});Object.defineProperty(xt,"NotificationType7",{enumerable:!0,get:function(){return la.NotificationType7}});Object.defineProperty(xt,"NotificationType8",{enumerable:!0,get:function(){return la.NotificationType8}});Object.defineProperty(xt,"NotificationType9",{enumerable:!0,get:function(){return la.NotificationType9}});Object.defineProperty(xt,"ParameterStructures",{enumerable:!0,get:function(){return la.ParameterStructures}});var b8=$5();Object.defineProperty(xt,"LinkedMap",{enumerable:!0,get:function(){return b8.LinkedMap}});Object.defineProperty(xt,"LRUCache",{enumerable:!0,get:function(){return b8.LRUCache}});Object.defineProperty(xt,"Touch",{enumerable:!0,get:function(){return b8.Touch}});var wet=Eve();Object.defineProperty(xt,"Disposable",{enumerable:!0,get:function(){return wet.Disposable}});var Hve=aP();Object.defineProperty(xt,"Event",{enumerable:!0,get:function(){return Hve.Event}});Object.defineProperty(xt,"Emitter",{enumerable:!0,get:function(){return Hve.Emitter}});var Bve=MF();Object.defineProperty(xt,"CancellationTokenSource",{enumerable:!0,get:function(){return Bve.CancellationTokenSource}});Object.defineProperty(xt,"CancellationToken",{enumerable:!0,get:function(){return Bve.CancellationToken}});var Wve=Rve();Object.defineProperty(xt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Wve.SharedArraySenderStrategy}});Object.defineProperty(xt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Wve.SharedArrayReceiverStrategy}});var w8=Ive();Object.defineProperty(xt,"MessageReader",{enumerable:!0,get:function(){return w8.MessageReader}});Object.defineProperty(xt,"AbstractMessageReader",{enumerable:!0,get:function(){return w8.AbstractMessageReader}});Object.defineProperty(xt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return w8.ReadableStreamMessageReader}});var S8=Nve();Object.defineProperty(xt,"MessageWriter",{enumerable:!0,get:function(){return S8.MessageWriter}});Object.defineProperty(xt,"AbstractMessageWriter",{enumerable:!0,get:function(){return S8.AbstractMessageWriter}});Object.defineProperty(xt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return S8.WriteableStreamMessageWriter}});var Cet=qve();Object.defineProperty(xt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Cet.AbstractMessageBuffer}});var Au=Uve();Object.defineProperty(xt,"ConnectionStrategy",{enumerable:!0,get:function(){return Au.ConnectionStrategy}});Object.defineProperty(xt,"ConnectionOptions",{enumerable:!0,get:function(){return Au.ConnectionOptions}});Object.defineProperty(xt,"NullLogger",{enumerable:!0,get:function(){return Au.NullLogger}});Object.defineProperty(xt,"createMessageConnection",{enumerable:!0,get:function(){return Au.createMessageConnection}});Object.defineProperty(xt,"ProgressToken",{enumerable:!0,get:function(){return Au.ProgressToken}});Object.defineProperty(xt,"ProgressType",{enumerable:!0,get:function(){return Au.ProgressType}});Object.defineProperty(xt,"Trace",{enumerable:!0,get:function(){return Au.Trace}});Object.defineProperty(xt,"TraceValue",{enumerable:!0,get:function(){return Au.TraceValue}});Object.defineProperty(xt,"TraceFormat",{enumerable:!0,get:function(){return Au.TraceFormat}});Object.defineProperty(xt,"SetTraceNotification",{enumerable:!0,get:function(){return Au.SetTraceNotification}});Object.defineProperty(xt,"LogTraceNotification",{enumerable:!0,get:function(){return Au.LogTraceNotification}});Object.defineProperty(xt,"ConnectionErrors",{enumerable:!0,get:function(){return Au.ConnectionErrors}});Object.defineProperty(xt,"ConnectionError",{enumerable:!0,get:function(){return Au.ConnectionError}});Object.defineProperty(xt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Au.CancellationReceiverStrategy}});Object.defineProperty(xt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return Au.IdCancellationReceiverStrategy}});Object.defineProperty(xt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return Au.RequestCancellationReceiverStrategy}});Object.defineProperty(xt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Au.CancellationSenderStrategy}});Object.defineProperty(xt,"CancellationStrategy",{enumerable:!0,get:function(){return Au.CancellationStrategy}});Object.defineProperty(xt,"MessageStrategy",{enumerable:!0,get:function(){return Au.MessageStrategy}});Object.defineProperty(xt,"TraceValues",{enumerable:!0,get:function(){return Au.TraceValues}});var Tet=bet(KS());xt.RAL=Tet.default});var e2={};BR(e2,{AnnotatedTextEdit:()=>Qb,ApplyKind:()=>W8,ChangeAnnotation:()=>JS,ChangeAnnotationIdentifier:()=>Gl,CodeAction:()=>sG,CodeActionContext:()=>oG,CodeActionKind:()=>iG,CodeActionTag:()=>JF,CodeActionTriggerKind:()=>Pk,CodeDescription:()=>k8,CodeLens:()=>aG,Color:()=>$F,ColorInformation:()=>P8,ColorPresentation:()=>E8,Command:()=>U0,CompletionItem:()=>V8,CompletionItemKind:()=>j8,CompletionItemLabelDetails:()=>$8,CompletionItemTag:()=>U8,CompletionList:()=>G8,CreateFile:()=>hP,DeleteFile:()=>mP,Diagnostic:()=>Sk,DiagnosticRelatedInformation:()=>VF,DiagnosticSeverity:()=>O8,DiagnosticTag:()=>I8,DocumentHighlight:()=>Q8,DocumentHighlightKind:()=>X8,DocumentLink:()=>uG,DocumentSymbol:()=>nG,DocumentUri:()=>C8,EOL:()=>Det,FoldingRange:()=>R8,FoldingRangeKind:()=>x8,FormattingOptions:()=>cG,Hover:()=>K8,InlayHint:()=>_G,InlayHintKind:()=>XF,InlayHintLabelPart:()=>QF,InlineCompletionContext:()=>CG,InlineCompletionItem:()=>yG,InlineCompletionList:()=>bG,InlineCompletionTriggerKind:()=>wG,InlineValueContext:()=>vG,InlineValueEvaluatableExpression:()=>gG,InlineValueText:()=>pG,InlineValueVariableLookup:()=>mG,InsertReplaceEdit:()=>H8,InsertTextFormat:()=>z8,InsertTextMode:()=>B8,LanguageKind:()=>q8,Location:()=>wk,LocationLink:()=>D8,MarkedString:()=>Dk,MarkupContent:()=>gP,MarkupKind:()=>YF,OptionalVersionedTextDocumentIdentifier:()=>Tk,ParameterInformation:()=>Y8,Position:()=>Hg,Range:()=>Sc,RenameFile:()=>pP,SelectedCompletionInfo:()=>SG,SelectionRange:()=>lG,SemanticTokenModifiers:()=>fG,SemanticTokenTypes:()=>dG,SemanticTokens:()=>hG,SignatureInformation:()=>J8,SnippetTextEdit:()=>A8,StringValue:()=>ZF,SymbolInformation:()=>tG,SymbolKind:()=>Z8,SymbolTag:()=>eG,TextDocument:()=>DG,TextDocumentEdit:()=>Ck,TextDocumentIdentifier:()=>L8,TextDocumentItem:()=>F8,TextEdit:()=>py,URI:()=>WF,VersionedTextDocumentIdentifier:()=>N8,WorkspaceChange:()=>M8,WorkspaceEdit:()=>GF,WorkspaceFolder:()=>TG,WorkspaceSymbol:()=>rG,integer:()=>T8,uinteger:()=>bk});var C8,WF,T8,bk,Hg,Sc,wk,D8,$F,P8,E8,x8,R8,VF,O8,I8,k8,Sk,U0,py,JS,Gl,Qb,Ck,hP,pP,mP,GF,fP,A8,KF,M8,L8,N8,Tk,q8,F8,YF,gP,j8,z8,U8,H8,B8,W8,$8,V8,G8,Dk,K8,Y8,J8,X8,Q8,Z8,eG,tG,rG,nG,iG,Pk,oG,JF,sG,aG,cG,uG,lG,dG,fG,hG,pG,mG,gG,vG,XF,QF,_G,ZF,yG,bG,wG,SG,CG,TG,Det,DG,PG,dt,t2=Ci(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(C8||(C8={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(WF||(WF={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(T8||(T8={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(bk||(bk={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=bk.MAX_VALUE),i===Number.MAX_VALUE&&(i=bk.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(Hg||(Hg={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:Hg.create(n,i),end:Hg.create(o,s)};if(Hg.is(n)&&Hg.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Hg.is(i.start)&&Hg.is(i.end)}r.is=t})(Sc||(Sc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Sc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(wk||(wk={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Sc.is(i.targetRange)&&dt.string(i.targetUri)&&Sc.is(i.targetSelectionRange)&&(Sc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(D8||(D8={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})($F||($F={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Sc.is(i.range)&&$F.is(i.color)}r.is=t})(P8||(P8={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||py.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,py.is))}r.is=t})(E8||(E8={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(x8||(x8={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(R8||(R8={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&wk.is(i.location)&&dt.string(i.message)}r.is=t})(VF||(VF={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(O8||(O8={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(I8||(I8={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(k8||(k8={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&Sc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,VF.is))}r.is=t})(Sk||(Sk={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(U0||(U0={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&Sc.is(s.range)}r.is=i})(py||(py={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(JS||(JS={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(Gl||(Gl={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return py.is(s)&&(JS.is(s.annotationId)||Gl.is(s.annotationId))}r.is=i})(Qb||(Qb={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Tk.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(Ck||(Ck={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Gl.is(i.annotationId))}r.is=t})(hP||(hP={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Gl.is(i.annotationId))}r.is=t})(pP||(pP={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Gl.is(i.annotationId))}r.is=t})(mP||(mP={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?hP.is(i)||pP.is(i)||mP.is(i):Ck.is(i)))}r.is=e})(GF||(GF={}));fP=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=py.insert(e,t):Gl.is(n)?(o=n,i=Qb.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Qb.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=py.replace(e,t):Gl.is(n)?(o=n,i=Qb.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Qb.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=py.del(e):Gl.is(t)?(i=t,n=Qb.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=Qb.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&Sc.is(n.range)&&ZF.isSnippet(n.snippet)&&(n.annotationId===void 0||JS.is(n.annotationId)||Gl.is(n.annotationId))}r.is=e})(A8||(A8={}));KF=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(Gl.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},M8=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new KF(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(Ck.is(t)){let n=new fP(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new fP(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(Tk.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new fP(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new fP(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new KF,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;JS.is(t)||Gl.is(t)?i=t:n=t;let o,s;if(i===void 0?o=hP.create(e,n):(s=Gl.is(i)?i:this._changeAnnotations.manage(i),o=hP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;JS.is(n)||Gl.is(n)?o=n:i=n;let s,a;if(o===void 0?s=pP.create(e,t,i):(a=Gl.is(o)?o:this._changeAnnotations.manage(o),s=pP.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;JS.is(t)||Gl.is(t)?i=t:n=t;let o,s;if(i===void 0?o=mP.create(e,n):(s=Gl.is(i)?i:this._changeAnnotations.manage(i),o=mP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(L8||(L8={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(N8||(N8={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})(Tk||(Tk={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(q8||(q8={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(F8||(F8={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(YF||(YF={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&YF.is(n.kind)&&dt.string(n.value)}r.is=e})(gP||(gP={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(j8||(j8={}));(function(r){r.PlainText=1,r.Snippet=2})(z8||(z8={}));(function(r){r.Deprecated=1})(U8||(U8={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&Sc.is(i.insert)&&Sc.is(i.replace)}r.is=t})(H8||(H8={}));(function(r){r.asIs=1,r.adjustIndentation=2})(B8||(B8={}));(function(r){r.Replace=1,r.Merge=2})(W8||(W8={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})($8||($8={}));(function(r){function e(t){return{label:t}}r.create=e})(V8||(V8={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(G8||(G8={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(Dk||(Dk={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(gP.is(n.contents)||Dk.is(n.contents)||dt.typedArray(n.contents,Dk.is))&&(t.range===void 0||Sc.is(t.range))}r.is=e})(K8||(K8={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(Y8||(Y8={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(J8||(J8={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(X8||(X8={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(Q8||(Q8={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(Z8||(Z8={}));(function(r){r.Deprecated=1})(eG||(eG={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(tG||(tG={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(rG||(rG={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&Sc.is(i.range)&&Sc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(nG||(nG={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(iG||(iG={}));(function(r){r.Invoked=1,r.Automatic=2})(Pk||(Pk={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,Sk.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===Pk.Invoked||i.triggerKind===Pk.Automatic)}r.is=t})(oG||(oG={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(JF||(JF={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):U0.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,Sk.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||U0.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||GF.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,JF.is))}r.is=t})(sG||(sG={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&Sc.is(i.range)&&(dt.undefined(i.command)||U0.is(i.command))}r.is=t})(aG||(aG={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(cG||(cG={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Sc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})(uG||(uG={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Sc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(lG||(lG={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(dG||(dG={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(fG||(fG={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(hG||(hG={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Sc.is(i.range)&&dt.string(i.text)}r.is=t})(pG||(pG={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Sc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(mG||(mG={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Sc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(gG||(gG={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Sc.is(n.stoppedLocation)}r.is=t})(vG||(vG={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(XF||(XF={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||gP.is(i.tooltip))&&(i.location===void 0||wk.is(i.location))&&(i.command===void 0||U0.is(i.command))}r.is=t})(QF||(QF={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Hg.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,QF.is))&&(i.kind===void 0||XF.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,py.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||gP.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(_G||(_G={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(ZF||(ZF={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(yG||(yG={}));(function(r){function e(t){return{items:t}}r.create=e})(bG||(bG={}));(function(r){r.Invoked=1,r.Automatic=2})(wG||(wG={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(SG||(SG={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(CG||(CG={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&WF.is(n.uri)&&dt.string(n.name)}r.is=e})(TG||(TG={}));Det=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new PG(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),_=o.offsetAt(d.range.end);if(_<=u)a=a.substring(0,f)+d.newText+a.substring(_,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(DG||(DG={}));PG=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return Hg.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return Hg.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(_){return typeof _<"u"}r.defined=t;function n(_){return typeof _>"u"}r.undefined=n;function i(_){return _===!0||_===!1}r.boolean=i;function o(_){return e.call(_)==="[object String]"}r.string=o;function s(_){return e.call(_)==="[object Number]"}r.number=s;function a(_,y,D){return e.call(_)==="[object Number]"&&y<=_&&_<=D}r.numberRange=a;function c(_){return e.call(_)==="[object Number]"&&-2147483648<=_&&_<=2147483647}r.integer=c;function u(_){return e.call(_)==="[object Number]"&&0<=_&&_<=2147483647}r.uinteger=u;function l(_){return e.call(_)==="[object Function]"}r.func=l;function d(_){return _!==null&&typeof _=="object"}r.objectLiteral=d;function f(_,y){return Array.isArray(_)&&_.every(y)}r.typedArray=f})(dt||(dt={}))});var Ea=P(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.CM=Pf.ProtocolNotificationType=Pf.ProtocolNotificationType0=Pf.ProtocolRequestType=Pf.ProtocolRequestType0=Pf.RegistrationType=Pf.MessageDirection=void 0;var vP=Df(),$ve;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})($ve||(Pf.MessageDirection=$ve={}));var EG=class{____;method;constructor(e){this.method=e}};Pf.RegistrationType=EG;var xG=class extends vP.RequestType0{__;___;____;_pr;constructor(e){super(e)}};Pf.ProtocolRequestType0=xG;var RG=class extends vP.RequestType{__;___;____;_pr;constructor(e){super(e,vP.ParameterStructures.byName)}};Pf.ProtocolRequestType=RG;var OG=class extends vP.NotificationType0{___;____;constructor(e){super(e)}};Pf.ProtocolNotificationType0=OG;var IG=class extends vP.NotificationType{___;____;constructor(e){super(e,vP.ParameterStructures.byName)}};Pf.ProtocolNotificationType=IG;var Vve;(function(r){function e(t,n){return{client:t,server:n}}r.create=e})(Vve||(Pf.CM=Vve={}))});var r2=P(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.boolean=Pet;Qv.string=Gve;Qv.number=Eet;Qv.error=xet;Qv.func=Ret;Qv.array=Kve;Qv.stringArray=Oet;Qv.typedArray=Iet;Qv.objectLiteral=ket;function Pet(r){return r===!0||r===!1}function Gve(r){return typeof r=="string"||r instanceof String}function Eet(r){return typeof r=="number"||r instanceof Number}function xet(r){return r instanceof Error}function Ret(r){return typeof r=="function"}function Kve(r){return Array.isArray(r)}function Oet(r){return Kve(r)&&r.every(e=>Gve(e))}function Iet(r,e){return Array.isArray(r)&&r.every(e)}function ket(r){return r!==null&&typeof r=="object"}});var Jve=P(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.ImplementationRequest=void 0;var kG=Ea(),Yve;(function(r){r.method="textDocument/implementation",r.messageDirection=kG.MessageDirection.clientToServer,r.type=new kG.ProtocolRequestType(r.method),r.capabilities=kG.CM.create("textDocument.implementation","implementationProvider")})(Yve||(n2.ImplementationRequest=Yve={}))});var Qve=P(i2=>{"use strict";Object.defineProperty(i2,"__esModule",{value:!0});i2.TypeDefinitionRequest=void 0;var AG=Ea(),Xve;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=AG.MessageDirection.clientToServer,r.type=new AG.ProtocolRequestType(r.method),r.capabilities=AG.CM.create("textDocument.typeDefinition","typeDefinitionProvider")})(Xve||(i2.TypeDefinitionRequest=Xve={}))});var t_e=P(yP=>{"use strict";Object.defineProperty(yP,"__esModule",{value:!0});yP.DidChangeWorkspaceFoldersNotification=yP.WorkspaceFoldersRequest=void 0;var _P=Ea(),Zve;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=_P.MessageDirection.serverToClient,r.type=new _P.ProtocolRequestType0(r.method),r.capabilities=_P.CM.create("workspace.workspaceFolders","workspace.workspaceFolders")})(Zve||(yP.WorkspaceFoldersRequest=Zve={}));var e_e;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=_P.MessageDirection.clientToServer,r.type=new _P.ProtocolNotificationType(r.method),r.capabilities=_P.CM.create(void 0,"workspace.workspaceFolders.changeNotifications")})(e_e||(yP.DidChangeWorkspaceFoldersNotification=e_e={}))});var n_e=P(o2=>{"use strict";Object.defineProperty(o2,"__esModule",{value:!0});o2.ConfigurationRequest=void 0;var MG=Ea(),r_e;(function(r){r.method="workspace/configuration",r.messageDirection=MG.MessageDirection.serverToClient,r.type=new MG.ProtocolRequestType(r.method),r.capabilities=MG.CM.create("workspace.configuration",void 0)})(r_e||(o2.ConfigurationRequest=r_e={}))});var s_e=P(wP=>{"use strict";Object.defineProperty(wP,"__esModule",{value:!0});wP.ColorPresentationRequest=wP.DocumentColorRequest=void 0;var bP=Ea(),i_e;(function(r){r.method="textDocument/documentColor",r.messageDirection=bP.MessageDirection.clientToServer,r.type=new bP.ProtocolRequestType(r.method),r.capabilities=bP.CM.create("textDocument.colorProvider","colorProvider")})(i_e||(wP.DocumentColorRequest=i_e={}));var o_e;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=bP.MessageDirection.clientToServer,r.type=new bP.ProtocolRequestType(r.method),r.capabilities=bP.CM.create("textDocument.colorProvider","colorProvider")})(o_e||(wP.ColorPresentationRequest=o_e={}))});var u_e=P(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});CP.FoldingRangeRefreshRequest=CP.FoldingRangeRequest=void 0;var SP=Ea(),a_e;(function(r){r.method="textDocument/foldingRange",r.messageDirection=SP.MessageDirection.clientToServer,r.type=new SP.ProtocolRequestType(r.method),r.capabilities=SP.CM.create("textDocument.foldingRange","foldingRangeProvider")})(a_e||(CP.FoldingRangeRequest=a_e={}));var c_e;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=SP.MessageDirection.serverToClient,r.type=new SP.ProtocolRequestType0(r.method),r.capabilities=SP.CM.create("workspace.foldingRange.refreshSupport",void 0)})(c_e||(CP.FoldingRangeRefreshRequest=c_e={}))});var d_e=P(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.DeclarationRequest=void 0;var LG=Ea(),l_e;(function(r){r.method="textDocument/declaration",r.messageDirection=LG.MessageDirection.clientToServer,r.type=new LG.ProtocolRequestType(r.method),r.capabilities=LG.CM.create("textDocument.declaration","declarationProvider")})(l_e||(s2.DeclarationRequest=l_e={}))});var h_e=P(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.SelectionRangeRequest=void 0;var NG=Ea(),f_e;(function(r){r.method="textDocument/selectionRange",r.messageDirection=NG.MessageDirection.clientToServer,r.type=new NG.ProtocolRequestType(r.method),r.capabilities=NG.CM.create("textDocument.selectionRange","selectionRangeProvider")})(f_e||(a2.SelectionRangeRequest=f_e={}))});var v_e=P(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.WorkDoneProgressCancelNotification=XS.WorkDoneProgressCreateRequest=XS.WorkDoneProgress=void 0;var Aet=Df(),Ek=Ea(),p_e;(function(r){r.type=new Aet.ProgressType;function e(t){return t===r.type}r.is=e})(p_e||(XS.WorkDoneProgress=p_e={}));var m_e;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=Ek.MessageDirection.serverToClient,r.type=new Ek.ProtocolRequestType(r.method),r.capabilities=Ek.CM.create("window.workDoneProgress",void 0)})(m_e||(XS.WorkDoneProgressCreateRequest=m_e={}));var g_e;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=Ek.MessageDirection.clientToServer,r.type=new Ek.ProtocolNotificationType(r.method)})(g_e||(XS.WorkDoneProgressCancelNotification=g_e={}))});var S_e=P(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.CallHierarchyOutgoingCallsRequest=QS.CallHierarchyIncomingCallsRequest=QS.CallHierarchyPrepareRequest=void 0;var H0=Ea(),y_e;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=H0.MessageDirection.clientToServer,r.type=new H0.ProtocolRequestType(r.method),r.capabilities=H0.CM.create("textDocument.callHierarchy","callHierarchyProvider")})(y_e||(QS.CallHierarchyPrepareRequest=y_e={}));var b_e;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=H0.MessageDirection.clientToServer,r.type=new H0.ProtocolRequestType(r.method)})(b_e||(QS.CallHierarchyIncomingCallsRequest=b_e={}));var w_e;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=H0.MessageDirection.clientToServer,r.type=new H0.ProtocolRequestType(r.method)})(w_e||(QS.CallHierarchyOutgoingCallsRequest=w_e={}))});var x_e=P(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.SemanticTokensRefreshRequest=kp.SemanticTokensRangeRequest=kp.SemanticTokensDeltaRequest=kp.SemanticTokensRequest=kp.SemanticTokensRegistrationType=kp.TokenFormat=void 0;var Am=Ea(),C_e;(function(r){r.Relative="relative"})(C_e||(kp.TokenFormat=C_e={}));var xk;(function(r){r.method="textDocument/semanticTokens",r.type=new Am.RegistrationType(r.method)})(xk||(kp.SemanticTokensRegistrationType=xk={}));var T_e;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Am.MessageDirection.clientToServer,r.type=new Am.ProtocolRequestType(r.method),r.registrationMethod=xk.method,r.capabilities=Am.CM.create("textDocument.semanticTokens","semanticTokensProvider")})(T_e||(kp.SemanticTokensRequest=T_e={}));var D_e;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Am.MessageDirection.clientToServer,r.type=new Am.ProtocolRequestType(r.method),r.registrationMethod=xk.method,r.capabilities=Am.CM.create("textDocument.semanticTokens.requests.full.delta","semanticTokensProvider.full.delta")})(D_e||(kp.SemanticTokensDeltaRequest=D_e={}));var P_e;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Am.MessageDirection.clientToServer,r.type=new Am.ProtocolRequestType(r.method),r.registrationMethod=xk.method,r.capabilities=Am.CM.create("textDocument.semanticTokens.requests.range","semanticTokensProvider.range")})(P_e||(kp.SemanticTokensRangeRequest=P_e={}));var E_e;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Am.MessageDirection.serverToClient,r.type=new Am.ProtocolRequestType0(r.method),r.capabilities=Am.CM.create("workspace.semanticTokens.refreshSupport",void 0)})(E_e||(kp.SemanticTokensRefreshRequest=E_e={}))});var O_e=P(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.ShowDocumentRequest=void 0;var qG=Ea(),R_e;(function(r){r.method="window/showDocument",r.messageDirection=qG.MessageDirection.serverToClient,r.type=new qG.ProtocolRequestType(r.method),r.capabilities=qG.CM.create("window.showDocument.support",void 0)})(R_e||(c2.ShowDocumentRequest=R_e={}))});var k_e=P(u2=>{"use strict";Object.defineProperty(u2,"__esModule",{value:!0});u2.LinkedEditingRangeRequest=void 0;var FG=Ea(),I_e;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=FG.MessageDirection.clientToServer,r.type=new FG.ProtocolRequestType(r.method),r.capabilities=FG.CM.create("textDocument.linkedEditingRange","linkedEditingRangeProvider")})(I_e||(u2.LinkedEditingRangeRequest=I_e={}))});var z_e=P(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.WillDeleteFilesRequest=Ef.DidDeleteFilesNotification=Ef.DidRenameFilesNotification=Ef.WillRenameFilesRequest=Ef.DidCreateFilesNotification=Ef.WillCreateFilesRequest=Ef.FileOperationPatternKind=void 0;var Kl=Ea(),A_e;(function(r){r.file="file",r.folder="folder"})(A_e||(Ef.FileOperationPatternKind=A_e={}));var M_e;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolRequestType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.willCreate","workspace.fileOperations.willCreate")})(M_e||(Ef.WillCreateFilesRequest=M_e={}));var L_e;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolNotificationType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.didCreate","workspace.fileOperations.didCreate")})(L_e||(Ef.DidCreateFilesNotification=L_e={}));var N_e;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolRequestType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.willRename","workspace.fileOperations.willRename")})(N_e||(Ef.WillRenameFilesRequest=N_e={}));var q_e;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolNotificationType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.didRename","workspace.fileOperations.didRename")})(q_e||(Ef.DidRenameFilesNotification=q_e={}));var F_e;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolNotificationType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.didDelete","workspace.fileOperations.didDelete")})(F_e||(Ef.DidDeleteFilesNotification=F_e={}));var j_e;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=Kl.MessageDirection.clientToServer,r.type=new Kl.ProtocolRequestType(r.method),r.capabilities=Kl.CM.create("workspace.fileOperations.willDelete","workspace.fileOperations.willDelete")})(j_e||(Ef.WillDeleteFilesRequest=j_e={}))});var W_e=P(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.MonikerRequest=ZS.MonikerKind=ZS.UniquenessLevel=void 0;var jG=Ea(),U_e;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(U_e||(ZS.UniquenessLevel=U_e={}));var H_e;(function(r){r.$import="import",r.$export="export",r.local="local"})(H_e||(ZS.MonikerKind=H_e={}));var B_e;(function(r){r.method="textDocument/moniker",r.messageDirection=jG.MessageDirection.clientToServer,r.type=new jG.ProtocolRequestType(r.method),r.capabilities=jG.CM.create("textDocument.moniker","monikerProvider")})(B_e||(ZS.MonikerRequest=B_e={}))});var K_e=P(eC=>{"use strict";Object.defineProperty(eC,"__esModule",{value:!0});eC.TypeHierarchySubtypesRequest=eC.TypeHierarchySupertypesRequest=eC.TypeHierarchyPrepareRequest=void 0;var B0=Ea(),$_e;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=B0.MessageDirection.clientToServer,r.type=new B0.ProtocolRequestType(r.method),r.capabilities=B0.CM.create("textDocument.typeHierarchy","typeHierarchyProvider")})($_e||(eC.TypeHierarchyPrepareRequest=$_e={}));var V_e;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=B0.MessageDirection.clientToServer,r.type=new B0.ProtocolRequestType(r.method)})(V_e||(eC.TypeHierarchySupertypesRequest=V_e={}));var G_e;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=B0.MessageDirection.clientToServer,r.type=new B0.ProtocolRequestType(r.method)})(G_e||(eC.TypeHierarchySubtypesRequest=G_e={}))});var X_e=P(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});DP.InlineValueRefreshRequest=DP.InlineValueRequest=void 0;var TP=Ea(),Y_e;(function(r){r.method="textDocument/inlineValue",r.messageDirection=TP.MessageDirection.clientToServer,r.type=new TP.ProtocolRequestType(r.method),r.capabilities=TP.CM.create("textDocument.inlineValue","inlineValueProvider")})(Y_e||(DP.InlineValueRequest=Y_e={}));var J_e;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=TP.MessageDirection.serverToClient,r.type=new TP.ProtocolRequestType0(r.method),r.capabilities=TP.CM.create("workspace.inlineValue.refreshSupport",void 0)})(J_e||(DP.InlineValueRefreshRequest=J_e={}))});var tye=P(tC=>{"use strict";Object.defineProperty(tC,"__esModule",{value:!0});tC.InlayHintRefreshRequest=tC.InlayHintResolveRequest=tC.InlayHintRequest=void 0;var Zb=Ea(),Q_e;(function(r){r.method="textDocument/inlayHint",r.messageDirection=Zb.MessageDirection.clientToServer,r.type=new Zb.ProtocolRequestType(r.method),r.capabilities=Zb.CM.create("textDocument.inlayHint","inlayHintProvider")})(Q_e||(tC.InlayHintRequest=Q_e={}));var Z_e;(function(r){r.method="inlayHint/resolve",r.messageDirection=Zb.MessageDirection.clientToServer,r.type=new Zb.ProtocolRequestType(r.method),r.capabilities=Zb.CM.create("textDocument.inlayHint.resolveSupport","inlayHintProvider.resolveProvider")})(Z_e||(tC.InlayHintResolveRequest=Z_e={}));var eye;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=Zb.MessageDirection.serverToClient,r.type=new Zb.ProtocolRequestType0(r.method),r.capabilities=Zb.CM.create("workspace.inlayHint.refreshSupport",void 0)})(eye||(tC.InlayHintRefreshRequest=eye={}))});var cye=P(Yl=>{"use strict";var Met=Yl&&Yl.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Let=Yl&&Yl.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Net=Yl&&Yl.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Met(t,e,n[i]);return Let(t,e),t}}();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.DiagnosticRefreshRequest=Yl.WorkspaceDiagnosticRequest=Yl.DocumentDiagnosticRequest=Yl.DocumentDiagnosticReportKind=Yl.DiagnosticServerCancellationData=void 0;var aye=Df(),qet=Net(r2()),ew=Ea(),rye;(function(r){function e(t){let n=t;return n&&qet.boolean(n.retriggerRequest)}r.is=e})(rye||(Yl.DiagnosticServerCancellationData=rye={}));var nye;(function(r){r.Full="full",r.Unchanged="unchanged"})(nye||(Yl.DocumentDiagnosticReportKind=nye={}));var iye;(function(r){r.method="textDocument/diagnostic",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolRequestType(r.method),r.partialResult=new aye.ProgressType,r.capabilities=ew.CM.create("textDocument.diagnostic","diagnosticProvider")})(iye||(Yl.DocumentDiagnosticRequest=iye={}));var oye;(function(r){r.method="workspace/diagnostic",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolRequestType(r.method),r.partialResult=new aye.ProgressType,r.capabilities=ew.CM.create("workspace.diagnostics","diagnosticProvider.workspaceDiagnostics")})(oye||(Yl.WorkspaceDiagnosticRequest=oye={}));var sye;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=ew.MessageDirection.serverToClient,r.type=new ew.ProtocolRequestType0(r.method),r.capabilities=ew.CM.create("workspace.diagnostics.refreshSupport",void 0)})(sye||(Yl.DiagnosticRefreshRequest=sye={}))});var mye=P(Us=>{"use strict";var Fet=Us&&Us.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jet=Us&&Us.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zet=Us&&Us.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Fet(t,e,n[i]);return jet(t,e),t}}();Object.defineProperty(Us,"__esModule",{value:!0});Us.DidCloseNotebookDocumentNotification=Us.DidSaveNotebookDocumentNotification=Us.DidChangeNotebookDocumentNotification=Us.NotebookCellArrayChange=Us.DidOpenNotebookDocumentNotification=Us.NotebookDocumentSyncRegistrationType=Us.NotebookDocument=Us.NotebookCell=Us.ExecutionSummary=Us.NotebookCellKind=void 0;var Rk=(t2(),vS(e2)),Zv=zet(r2()),my=Ea(),zG;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(zG||(Us.NotebookCellKind=zG={}));var UG;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return Zv.objectLiteral(o)&&Rk.uinteger.is(o.executionOrder)&&(o.success===void 0||Zv.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(UG||(Us.ExecutionSummary=UG={}));var l2;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return Zv.objectLiteral(s)&&zG.is(s.kind)&&Rk.DocumentUri.is(s.document)&&(s.metadata===void 0||Zv.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!UG.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(Zv.objectLiteral(o)&&Zv.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(l2||(Us.NotebookCell=l2={}));var uye;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return Zv.objectLiteral(i)&&Zv.string(i.uri)&&Rk.integer.is(i.version)&&Zv.typedArray(i.cells,l2.is)}r.is=t})(uye||(Us.NotebookDocument=uye={}));var PP;(function(r){r.method="notebookDocument/sync",r.messageDirection=my.MessageDirection.clientToServer,r.type=new my.RegistrationType(r.method)})(PP||(Us.NotebookDocumentSyncRegistrationType=PP={}));var lye;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=my.MessageDirection.clientToServer,r.type=new my.ProtocolNotificationType(r.method),r.registrationMethod=PP.method})(lye||(Us.DidOpenNotebookDocumentNotification=lye={}));var dye;(function(r){function e(n){let i=n;return Zv.objectLiteral(i)&&Rk.uinteger.is(i.start)&&Rk.uinteger.is(i.deleteCount)&&(i.cells===void 0||Zv.typedArray(i.cells,l2.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(dye||(Us.NotebookCellArrayChange=dye={}));var fye;(function(r){r.method="notebookDocument/didChange",r.messageDirection=my.MessageDirection.clientToServer,r.type=new my.ProtocolNotificationType(r.method),r.registrationMethod=PP.method})(fye||(Us.DidChangeNotebookDocumentNotification=fye={}));var hye;(function(r){r.method="notebookDocument/didSave",r.messageDirection=my.MessageDirection.clientToServer,r.type=new my.ProtocolNotificationType(r.method),r.registrationMethod=PP.method})(hye||(Us.DidSaveNotebookDocumentNotification=hye={}));var pye;(function(r){r.method="notebookDocument/didClose",r.messageDirection=my.MessageDirection.clientToServer,r.type=new my.ProtocolNotificationType(r.method),r.registrationMethod=PP.method})(pye||(Us.DidCloseNotebookDocumentNotification=pye={}))});var vye=P(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.InlineCompletionRequest=void 0;var HG=Ea(),gye;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=HG.MessageDirection.clientToServer,r.type=new HG.ProtocolRequestType(r.method),r.capabilities=HG.CM.create("textDocument.inlineCompletion","inlineCompletionProvider")})(gye||(d2.InlineCompletionRequest=gye={}))});var bye=P(EP=>{"use strict";Object.defineProperty(EP,"__esModule",{value:!0});EP.TextDocumentContentRefreshRequest=EP.TextDocumentContentRequest=void 0;var Ok=Ea(),_ye;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=Ok.MessageDirection.clientToServer,r.type=new Ok.ProtocolRequestType(r.method),r.capabilities=Ok.CM.create("workspace.textDocumentContent","workspace.textDocumentContent")})(_ye||(EP.TextDocumentContentRequest=_ye={}));var yye;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=Ok.MessageDirection.serverToClient,r.type=new Ok.ProtocolRequestType(r.method)})(yye||(EP.TextDocumentContentRefreshRequest=yye={}))});var Mbe=P(Pe=>{"use strict";var Uet=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Het=Pe&&Pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bet=Pe&&Pe.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Uet(t,e,n[i]);return Het(t,e),t}}();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.CodeActionRequest=Pe.DocumentSymbolRequest=Pe.DocumentHighlightRequest=Pe.ReferencesRequest=Pe.DefinitionRequest=Pe.SignatureHelpRequest=Pe.SignatureHelpTriggerKind=Pe.HoverRequest=Pe.CompletionResolveRequest=Pe.CompletionRequest=Pe.CompletionTriggerKind=Pe.PublishDiagnosticsNotification=Pe.WatchKind=Pe.GlobPattern=Pe.RelativePattern=Pe.FileChangeType=Pe.DidChangeWatchedFilesNotification=Pe.WillSaveTextDocumentWaitUntilRequest=Pe.WillSaveTextDocumentNotification=Pe.TextDocumentSaveReason=Pe.DidSaveTextDocumentNotification=Pe.DidCloseTextDocumentNotification=Pe.DidChangeTextDocumentNotification=Pe.TextDocumentContentChangeEvent=Pe.DidOpenTextDocumentNotification=Pe.TextDocumentSyncKind=Pe.TelemetryEventNotification=Pe.LogMessageNotification=Pe.ShowMessageRequest=Pe.ShowMessageNotification=Pe.MessageType=Pe.DidChangeConfigurationNotification=Pe.ExitNotification=Pe.ShutdownRequest=Pe.InitializedNotification=Pe.InitializeErrorCodes=Pe.InitializeRequest=Pe.WorkDoneProgressOptions=Pe.TextDocumentRegistrationOptions=Pe.StaticRegistrationOptions=Pe.PositionEncodingKind=Pe.RegularExpressionEngineKind=Pe.FailureHandlingKind=Pe.ResourceOperationKind=Pe.UnregistrationRequest=Pe.RegistrationRequest=Pe.DocumentSelector=Pe.NotebookCellTextDocumentFilter=Pe.NotebookDocumentFilter=Pe.TextDocumentFilter=void 0;Pe.UniquenessLevel=Pe.WillDeleteFilesRequest=Pe.DidDeleteFilesNotification=Pe.WillRenameFilesRequest=Pe.DidRenameFilesNotification=Pe.WillCreateFilesRequest=Pe.DidCreateFilesNotification=Pe.FileOperationPatternKind=Pe.LinkedEditingRangeRequest=Pe.ShowDocumentRequest=Pe.SemanticTokensRegistrationType=Pe.SemanticTokensRefreshRequest=Pe.SemanticTokensRangeRequest=Pe.SemanticTokensDeltaRequest=Pe.SemanticTokensRequest=Pe.TokenFormat=Pe.CallHierarchyPrepareRequest=Pe.CallHierarchyOutgoingCallsRequest=Pe.CallHierarchyIncomingCallsRequest=Pe.WorkDoneProgressCancelNotification=Pe.WorkDoneProgressCreateRequest=Pe.WorkDoneProgress=Pe.SelectionRangeRequest=Pe.DeclarationRequest=Pe.FoldingRangeRefreshRequest=Pe.FoldingRangeRequest=Pe.ColorPresentationRequest=Pe.DocumentColorRequest=Pe.ConfigurationRequest=Pe.DidChangeWorkspaceFoldersNotification=Pe.WorkspaceFoldersRequest=Pe.TypeDefinitionRequest=Pe.ImplementationRequest=Pe.ApplyWorkspaceEditRequest=Pe.ExecuteCommandRequest=Pe.PrepareRenameRequest=Pe.RenameRequest=Pe.PrepareSupportDefaultBehavior=Pe.DocumentOnTypeFormattingRequest=Pe.DocumentRangesFormattingRequest=Pe.DocumentRangeFormattingRequest=Pe.DocumentFormattingRequest=Pe.DocumentLinkResolveRequest=Pe.DocumentLinkRequest=Pe.CodeLensRefreshRequest=Pe.CodeLensResolveRequest=Pe.CodeLensRequest=Pe.WorkspaceSymbolResolveRequest=Pe.WorkspaceSymbolRequest=Pe.CodeActionResolveRequest=void 0;Pe.TextDocumentContentRefreshRequest=Pe.TextDocumentContentRequest=Pe.InlineCompletionRequest=Pe.DidCloseNotebookDocumentNotification=Pe.DidSaveNotebookDocumentNotification=Pe.DidChangeNotebookDocumentNotification=Pe.NotebookCellArrayChange=Pe.DidOpenNotebookDocumentNotification=Pe.NotebookDocumentSyncRegistrationType=Pe.NotebookDocument=Pe.NotebookCell=Pe.ExecutionSummary=Pe.NotebookCellKind=Pe.DiagnosticRefreshRequest=Pe.WorkspaceDiagnosticRequest=Pe.DocumentDiagnosticRequest=Pe.DocumentDiagnosticReportKind=Pe.DiagnosticServerCancellationData=Pe.InlayHintRefreshRequest=Pe.InlayHintResolveRequest=Pe.InlayHintRequest=Pe.InlineValueRefreshRequest=Pe.InlineValueRequest=Pe.TypeHierarchySupertypesRequest=Pe.TypeHierarchySubtypesRequest=Pe.TypeHierarchyPrepareRequest=Pe.MonikerRequest=Pe.MonikerKind=void 0;var qt=Ea(),wye=(t2(),vS(e2)),Jl=Bet(r2()),Wet=Jve();Object.defineProperty(Pe,"ImplementationRequest",{enumerable:!0,get:function(){return Wet.ImplementationRequest}});var $et=Qve();Object.defineProperty(Pe,"TypeDefinitionRequest",{enumerable:!0,get:function(){return $et.TypeDefinitionRequest}});var Rbe=t_e();Object.defineProperty(Pe,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Rbe.WorkspaceFoldersRequest}});Object.defineProperty(Pe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Rbe.DidChangeWorkspaceFoldersNotification}});var Vet=n_e();Object.defineProperty(Pe,"ConfigurationRequest",{enumerable:!0,get:function(){return Vet.ConfigurationRequest}});var Obe=s_e();Object.defineProperty(Pe,"DocumentColorRequest",{enumerable:!0,get:function(){return Obe.DocumentColorRequest}});Object.defineProperty(Pe,"ColorPresentationRequest",{enumerable:!0,get:function(){return Obe.ColorPresentationRequest}});var Ibe=u_e();Object.defineProperty(Pe,"FoldingRangeRequest",{enumerable:!0,get:function(){return Ibe.FoldingRangeRequest}});Object.defineProperty(Pe,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return Ibe.FoldingRangeRefreshRequest}});var Get=d_e();Object.defineProperty(Pe,"DeclarationRequest",{enumerable:!0,get:function(){return Get.DeclarationRequest}});var Ket=h_e();Object.defineProperty(Pe,"SelectionRangeRequest",{enumerable:!0,get:function(){return Ket.SelectionRangeRequest}});var YG=v_e();Object.defineProperty(Pe,"WorkDoneProgress",{enumerable:!0,get:function(){return YG.WorkDoneProgress}});Object.defineProperty(Pe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return YG.WorkDoneProgressCreateRequest}});Object.defineProperty(Pe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return YG.WorkDoneProgressCancelNotification}});var JG=S_e();Object.defineProperty(Pe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return JG.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return JG.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return JG.CallHierarchyPrepareRequest}});var xP=x_e();Object.defineProperty(Pe,"TokenFormat",{enumerable:!0,get:function(){return xP.TokenFormat}});Object.defineProperty(Pe,"SemanticTokensRequest",{enumerable:!0,get:function(){return xP.SemanticTokensRequest}});Object.defineProperty(Pe,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return xP.SemanticTokensDeltaRequest}});Object.defineProperty(Pe,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return xP.SemanticTokensRangeRequest}});Object.defineProperty(Pe,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return xP.SemanticTokensRefreshRequest}});Object.defineProperty(Pe,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return xP.SemanticTokensRegistrationType}});var Yet=O_e();Object.defineProperty(Pe,"ShowDocumentRequest",{enumerable:!0,get:function(){return Yet.ShowDocumentRequest}});var Jet=k_e();Object.defineProperty(Pe,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Jet.LinkedEditingRangeRequest}});var W0=z_e();Object.defineProperty(Pe,"FileOperationPatternKind",{enumerable:!0,get:function(){return W0.FileOperationPatternKind}});Object.defineProperty(Pe,"DidCreateFilesNotification",{enumerable:!0,get:function(){return W0.DidCreateFilesNotification}});Object.defineProperty(Pe,"WillCreateFilesRequest",{enumerable:!0,get:function(){return W0.WillCreateFilesRequest}});Object.defineProperty(Pe,"DidRenameFilesNotification",{enumerable:!0,get:function(){return W0.DidRenameFilesNotification}});Object.defineProperty(Pe,"WillRenameFilesRequest",{enumerable:!0,get:function(){return W0.WillRenameFilesRequest}});Object.defineProperty(Pe,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return W0.DidDeleteFilesNotification}});Object.defineProperty(Pe,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return W0.WillDeleteFilesRequest}});var XG=W_e();Object.defineProperty(Pe,"UniquenessLevel",{enumerable:!0,get:function(){return XG.UniquenessLevel}});Object.defineProperty(Pe,"MonikerKind",{enumerable:!0,get:function(){return XG.MonikerKind}});Object.defineProperty(Pe,"MonikerRequest",{enumerable:!0,get:function(){return XG.MonikerRequest}});var QG=K_e();Object.defineProperty(Pe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return QG.TypeHierarchyPrepareRequest}});Object.defineProperty(Pe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return QG.TypeHierarchySubtypesRequest}});Object.defineProperty(Pe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return QG.TypeHierarchySupertypesRequest}});var kbe=X_e();Object.defineProperty(Pe,"InlineValueRequest",{enumerable:!0,get:function(){return kbe.InlineValueRequest}});Object.defineProperty(Pe,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return kbe.InlineValueRefreshRequest}});var ZG=tye();Object.defineProperty(Pe,"InlayHintRequest",{enumerable:!0,get:function(){return ZG.InlayHintRequest}});Object.defineProperty(Pe,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ZG.InlayHintResolveRequest}});Object.defineProperty(Pe,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ZG.InlayHintRefreshRequest}});var Ik=cye();Object.defineProperty(Pe,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Ik.DiagnosticServerCancellationData}});Object.defineProperty(Pe,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Ik.DocumentDiagnosticReportKind}});Object.defineProperty(Pe,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Ik.DocumentDiagnosticRequest}});Object.defineProperty(Pe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Ik.WorkspaceDiagnosticRequest}});Object.defineProperty(Pe,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Ik.DiagnosticRefreshRequest}});var gy=mye();Object.defineProperty(Pe,"NotebookCellKind",{enumerable:!0,get:function(){return gy.NotebookCellKind}});Object.defineProperty(Pe,"ExecutionSummary",{enumerable:!0,get:function(){return gy.ExecutionSummary}});Object.defineProperty(Pe,"NotebookCell",{enumerable:!0,get:function(){return gy.NotebookCell}});Object.defineProperty(Pe,"NotebookDocument",{enumerable:!0,get:function(){return gy.NotebookDocument}});Object.defineProperty(Pe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return gy.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Pe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return gy.DidOpenNotebookDocumentNotification}});Object.defineProperty(Pe,"NotebookCellArrayChange",{enumerable:!0,get:function(){return gy.NotebookCellArrayChange}});Object.defineProperty(Pe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return gy.DidChangeNotebookDocumentNotification}});Object.defineProperty(Pe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return gy.DidSaveNotebookDocumentNotification}});Object.defineProperty(Pe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return gy.DidCloseNotebookDocumentNotification}});var Xet=vye();Object.defineProperty(Pe,"InlineCompletionRequest",{enumerable:!0,get:function(){return Xet.InlineCompletionRequest}});var Abe=bye();Object.defineProperty(Pe,"TextDocumentContentRequest",{enumerable:!0,get:function(){return Abe.TextDocumentContentRequest}});Object.defineProperty(Pe,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return Abe.TextDocumentContentRefreshRequest}});var BG;(function(r){function e(t){let n=t;return Jl.string(n)||Jl.string(n.language)||Jl.string(n.scheme)||KG.is(n.pattern)}r.is=e})(BG||(Pe.TextDocumentFilter=BG={}));var WG;(function(r){function e(t){let n=t;return Jl.objectLiteral(n)&&(Jl.string(n.notebookType)||Jl.string(n.scheme)||Jl.string(n.pattern))}r.is=e})(WG||(Pe.NotebookDocumentFilter=WG={}));var $G;(function(r){function e(t){let n=t;return Jl.objectLiteral(n)&&(Jl.string(n.notebook)||WG.is(n.notebook))&&(n.language===void 0||Jl.string(n.language))}r.is=e})($G||(Pe.NotebookCellTextDocumentFilter=$G={}));var VG;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!Jl.string(n)&&!BG.is(n)&&!$G.is(n))return!1;return!0}r.is=e})(VG||(Pe.DocumentSelector=VG={}));var Sye;(function(r){r.method="client/registerCapability",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolRequestType(r.method)})(Sye||(Pe.RegistrationRequest=Sye={}));var Cye;(function(r){r.method="client/unregisterCapability",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolRequestType(r.method)})(Cye||(Pe.UnregistrationRequest=Cye={}));var Tye;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(Tye||(Pe.ResourceOperationKind=Tye={}));var Dye;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(Dye||(Pe.FailureHandlingKind=Dye={}));var Pye;(function(r){r.ES2020="ES2020"})(Pye||(Pe.RegularExpressionEngineKind=Pye={}));var Eye;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(Eye||(Pe.PositionEncodingKind=Eye={}));var xye;(function(r){function e(t){let n=t;return n&&Jl.string(n.id)&&n.id.length>0}r.hasId=e})(xye||(Pe.StaticRegistrationOptions=xye={}));var Rye;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||VG.is(n.documentSelector))}r.is=e})(Rye||(Pe.TextDocumentRegistrationOptions=Rye={}));var Oye;(function(r){function e(n){let i=n;return Jl.objectLiteral(i)&&(i.workDoneProgress===void 0||Jl.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&Jl.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(Oye||(Pe.WorkDoneProgressOptions=Oye={}));var Iye;(function(r){r.method="initialize",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method)})(Iye||(Pe.InitializeRequest=Iye={}));var kye;(function(r){r.unknownProtocolVersion=1})(kye||(Pe.InitializeErrorCodes=kye={}));var Aye;(function(r){r.method="initialized",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method)})(Aye||(Pe.InitializedNotification=Aye={}));var Mye;(function(r){r.method="shutdown",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType0(r.method)})(Mye||(Pe.ShutdownRequest=Mye={}));var Lye;(function(r){r.method="exit",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType0(r.method)})(Lye||(Pe.ExitNotification=Lye={}));var Nye;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("workspace.didChangeConfiguration",void 0)})(Nye||(Pe.DidChangeConfigurationNotification=Nye={}));var qye;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(qye||(Pe.MessageType=qye={}));var Fye;(function(r){r.method="window/showMessage",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("window.showMessage",void 0)})(Fye||(Pe.ShowMessageNotification=Fye={}));var jye;(function(r){r.method="window/showMessageRequest",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("window.showMessage",void 0)})(jye||(Pe.ShowMessageRequest=jye={}));var zye;(function(r){r.method="window/logMessage",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolNotificationType(r.method)})(zye||(Pe.LogMessageNotification=zye={}));var Uye;(function(r){r.method="telemetry/event",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolNotificationType(r.method)})(Uye||(Pe.TelemetryEventNotification=Uye={}));var Hye;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Hye||(Pe.TextDocumentSyncKind=Hye={}));var Bye;(function(r){r.method="textDocument/didOpen",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization","textDocumentSync.openClose")})(Bye||(Pe.DidOpenTextDocumentNotification=Bye={}));var Wye;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(Wye||(Pe.TextDocumentContentChangeEvent=Wye={}));var $ye;(function(r){r.method="textDocument/didChange",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization","textDocumentSync")})($ye||(Pe.DidChangeTextDocumentNotification=$ye={}));var Vye;(function(r){r.method="textDocument/didClose",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization","textDocumentSync.openClose")})(Vye||(Pe.DidCloseTextDocumentNotification=Vye={}));var Gye;(function(r){r.method="textDocument/didSave",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization.didSave","textDocumentSync.save")})(Gye||(Pe.DidSaveTextDocumentNotification=Gye={}));var Kye;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(Kye||(Pe.TextDocumentSaveReason=Kye={}));var Yye;(function(r){r.method="textDocument/willSave",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization.willSave","textDocumentSync.willSave")})(Yye||(Pe.WillSaveTextDocumentNotification=Yye={}));var Jye;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.synchronization.willSaveWaitUntil","textDocumentSync.willSaveWaitUntil")})(Jye||(Pe.WillSaveTextDocumentWaitUntilRequest=Jye={}));var Xye;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("workspace.didChangeWatchedFiles",void 0)})(Xye||(Pe.DidChangeWatchedFilesNotification=Xye={}));var Qye;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(Qye||(Pe.FileChangeType=Qye={}));var GG;(function(r){function e(t){let n=t;return Jl.objectLiteral(n)&&(wye.URI.is(n.baseUri)||wye.WorkspaceFolder.is(n.baseUri))&&Jl.string(n.pattern)}r.is=e})(GG||(Pe.RelativePattern=GG={}));var KG;(function(r){function e(t){let n=t;return Jl.string(n)||GG.is(n)}r.is=e})(KG||(Pe.GlobPattern=KG={}));var Zye;(function(r){r.Create=1,r.Change=2,r.Delete=4})(Zye||(Pe.WatchKind=Zye={}));var ebe;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolNotificationType(r.method),r.capabilities=qt.CM.create("textDocument.publishDiagnostics",void 0)})(ebe||(Pe.PublishDiagnosticsNotification=ebe={}));var tbe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(tbe||(Pe.CompletionTriggerKind=tbe={}));var rbe;(function(r){r.method="textDocument/completion",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.completion","completionProvider")})(rbe||(Pe.CompletionRequest=rbe={}));var nbe;(function(r){r.method="completionItem/resolve",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.completion.completionItem.resolveSupport","completionProvider.resolveProvider")})(nbe||(Pe.CompletionResolveRequest=nbe={}));var ibe;(function(r){r.method="textDocument/hover",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.hover","hoverProvider")})(ibe||(Pe.HoverRequest=ibe={}));var obe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(obe||(Pe.SignatureHelpTriggerKind=obe={}));var sbe;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.signatureHelp","signatureHelpProvider")})(sbe||(Pe.SignatureHelpRequest=sbe={}));var abe;(function(r){r.method="textDocument/definition",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.definition","definitionProvider")})(abe||(Pe.DefinitionRequest=abe={}));var cbe;(function(r){r.method="textDocument/references",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.references","referencesProvider")})(cbe||(Pe.ReferencesRequest=cbe={}));var ube;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.documentHighlight","documentHighlightProvider")})(ube||(Pe.DocumentHighlightRequest=ube={}));var lbe;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.documentSymbol","documentSymbolProvider")})(lbe||(Pe.DocumentSymbolRequest=lbe={}));var dbe;(function(r){r.method="textDocument/codeAction",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.codeAction","codeActionProvider")})(dbe||(Pe.CodeActionRequest=dbe={}));var fbe;(function(r){r.method="codeAction/resolve",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.codeAction.resolveSupport","codeActionProvider.resolveProvider")})(fbe||(Pe.CodeActionResolveRequest=fbe={}));var hbe;(function(r){r.method="workspace/symbol",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("workspace.symbol","workspaceSymbolProvider")})(hbe||(Pe.WorkspaceSymbolRequest=hbe={}));var pbe;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("workspace.symbol.resolveSupport","workspaceSymbolProvider.resolveProvider")})(pbe||(Pe.WorkspaceSymbolResolveRequest=pbe={}));var mbe;(function(r){r.method="textDocument/codeLens",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.codeLens","codeLensProvider")})(mbe||(Pe.CodeLensRequest=mbe={}));var gbe;(function(r){r.method="codeLens/resolve",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.codeLens.resolveSupport","codeLensProvider.resolveProvider")})(gbe||(Pe.CodeLensResolveRequest=gbe={}));var vbe;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolRequestType0(r.method),r.capabilities=qt.CM.create("workspace.codeLens",void 0)})(vbe||(Pe.CodeLensRefreshRequest=vbe={}));var _be;(function(r){r.method="textDocument/documentLink",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.documentLink","documentLinkProvider")})(_be||(Pe.DocumentLinkRequest=_be={}));var ybe;(function(r){r.method="documentLink/resolve",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.documentLink","documentLinkProvider.resolveProvider")})(ybe||(Pe.DocumentLinkResolveRequest=ybe={}));var bbe;(function(r){r.method="textDocument/formatting",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.formatting","documentFormattingProvider")})(bbe||(Pe.DocumentFormattingRequest=bbe={}));var wbe;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.rangeFormatting","documentRangeFormattingProvider")})(wbe||(Pe.DocumentRangeFormattingRequest=wbe={}));var Sbe;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.rangeFormatting.rangesSupport","documentRangeFormattingProvider.rangesSupport")})(Sbe||(Pe.DocumentRangesFormattingRequest=Sbe={}));var Cbe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.onTypeFormatting","documentOnTypeFormattingProvider")})(Cbe||(Pe.DocumentOnTypeFormattingRequest=Cbe={}));var Tbe;(function(r){r.Identifier=1})(Tbe||(Pe.PrepareSupportDefaultBehavior=Tbe={}));var Dbe;(function(r){r.method="textDocument/rename",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.rename","renameProvider")})(Dbe||(Pe.RenameRequest=Dbe={}));var Pbe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("textDocument.rename.prepareSupport","renameProvider.prepareProvider")})(Pbe||(Pe.PrepareRenameRequest=Pbe={}));var Ebe;(function(r){r.method="workspace/executeCommand",r.messageDirection=qt.MessageDirection.clientToServer,r.type=new qt.ProtocolRequestType(r.method),r.capabilities=qt.CM.create("workspace.executeCommand","executeCommandProvider")})(Ebe||(Pe.ExecuteCommandRequest=Ebe={}));var xbe;(function(r){r.method="workspace/applyEdit",r.messageDirection=qt.MessageDirection.serverToClient,r.type=new qt.ProtocolRequestType("workspace/applyEdit"),r.capabilities=qt.CM.create("workspace.applyEdit",void 0)})(xbe||(Pe.ApplyWorkspaceEditRequest=xbe={}))});var Nbe=P(e9=>{"use strict";Object.defineProperty(e9,"__esModule",{value:!0});e9.createProtocolConnection=Qet;var Lbe=Df();function Qet(r,e,t,n){return Lbe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Lbe.createMessageConnection)(r,e,t,n)}});var gn=P(Ap=>{"use strict";var Zet=Ap&&Ap.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),f2=Ap&&Ap.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zet(e,r,t)};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.LSPErrorCodes=Ap.createProtocolConnection=void 0;f2(Df(),Ap);f2((t2(),vS(e2)),Ap);f2(Ea(),Ap);f2(Mbe(),Ap);var ett=Nbe();Object.defineProperty(Ap,"createProtocolConnection",{enumerable:!0,get:function(){return ett.createProtocolConnection}});var qbe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(qbe||(Ap.LSPErrorCodes=qbe={}))});var Wg=P(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.boolean=ttt;Bg.string=Fbe;Bg.number=rtt;Bg.error=ntt;Bg.func=jbe;Bg.array=zbe;Bg.stringArray=itt;Bg.typedArray=ott;Bg.thenable=Ube;Bg.asPromise=stt;function ttt(r){return r===!0||r===!1}function Fbe(r){return typeof r=="string"||r instanceof String}function rtt(r){return typeof r=="number"||r instanceof Number}function ntt(r){return r instanceof Error}function jbe(r){return typeof r=="function"}function zbe(r){return Array.isArray(r)}function itt(r){return zbe(r)&&r.every(e=>Fbe(e))}function ott(r,e){return Array.isArray(r)&&r.every(e)}function Ube(r){return r&&jbe(r.then)}function stt(r){return r instanceof Promise?r:Ube(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var h2=P(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.Semaphore=e_.Delayer=void 0;e_.setTestMode=att;e_.clearTestMode=ctt;e_.map=utt;e_.mapAsync=ltt;e_.forEach=dtt;var Ak=gn(),t9=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,Ak.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};e_.Delayer=t9;var r9=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ak.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};e_.Semaphore=r9;var n9=!1;function att(){n9=!0}function ctt(){n9=!1}var Hbe=15,kk=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=Hbe){this.yieldAfter=n9===!0?Math.max(e,2):Math.max(e,Hbe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function utt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new kk(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,Ak.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?c(-1):c(s(a))})});return i}async function ltt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new kk(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,Ak.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?c(-1):c(s(a))})});return i}async function dtt(r,e,t,n){if(r.length===0)return;let i=new kk(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,Ak.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?a(-1):a(o(s))})})}});var o9=P(tw=>{"use strict";var ftt=tw&&tw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),htt=tw&&tw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ptt=tw&&tw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ftt(t,e,n[i]);return htt(t,e),t}}();Object.defineProperty(tw,"__esModule",{value:!0});var mtt=ptt(require("vscode")),i9=class extends mtt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};tw.default=i9});var a9=P(rw=>{"use strict";var gtt=rw&&rw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vtt=rw&&rw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_tt=rw&&rw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&gtt(t,e,n[i]);return vtt(t,e),t}}();Object.defineProperty(rw,"__esModule",{value:!0});var ytt=_tt(require("vscode")),s9=class extends ytt.CodeLens{data;constructor(e){super(e)}};rw.default=s9});var u9=P(nw=>{"use strict";var btt=nw&&nw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wtt=nw&&nw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Stt=nw&&nw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&btt(t,e,n[i]);return wtt(t,e),t}}();Object.defineProperty(nw,"__esModule",{value:!0});var Ctt=Stt(require("vscode")),c9=class extends Ctt.DocumentLink{data;constructor(e,t){super(e,t)}};nw.default=c9});var d9=P(iw=>{"use strict";var Ttt=iw&&iw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dtt=iw&&iw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ptt=iw&&iw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Ttt(t,e,n[i]);return Dtt(t,e),t}}();Object.defineProperty(iw,"__esModule",{value:!0});var Ett=Ptt(require("vscode")),l9=class extends Ett.CodeAction{data;constructor(e,t){super(e),this.data=t}};iw.default=l9});var p9=P($g=>{"use strict";var xtt=$g&&$g.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rtt=$g&&$g.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wbe=$g&&$g.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xtt(t,e,n[i]);return Rtt(t,e),t}}();Object.defineProperty($g,"__esModule",{value:!0});$g.ProtocolDiagnostic=$g.DiagnosticCode=void 0;var Ott=Wbe(require("vscode")),f9=Wbe(Wg()),Bbe;(function(r){function e(t){let n=t;return n!=null&&(f9.number(n.value)||f9.string(n.value))&&f9.string(n.target)}r.is=e})(Bbe||($g.DiagnosticCode=Bbe={}));var h9=class extends Ott.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};$g.ProtocolDiagnostic=h9});var g9=P(ow=>{"use strict";var Itt=ow&&ow.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ktt=ow&&ow.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Att=ow&&ow.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Itt(t,e,n[i]);return ktt(t,e),t}}();Object.defineProperty(ow,"__esModule",{value:!0});var Mtt=Att(require("vscode")),m9=class extends Mtt.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};ow.default=m9});var _9=P(sw=>{"use strict";var Ltt=sw&&sw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ntt=sw&&sw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qtt=sw&&sw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Ltt(t,e,n[i]);return Ntt(t,e),t}}();Object.defineProperty(sw,"__esModule",{value:!0});var Ftt=qtt(require("vscode")),v9=class extends Ftt.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};sw.default=v9});var b9=P(aw=>{"use strict";var jtt=aw&&aw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ztt=aw&&aw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Utt=aw&&aw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jtt(t,e,n[i]);return ztt(t,e),t}}();Object.defineProperty(aw,"__esModule",{value:!0});var p2=Utt(require("vscode")),y9=class extends p2.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof p2.Uri);super(e,t,n,s?i:new p2.Location(i,new p2.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};aw.default=y9});var S9=P(cw=>{"use strict";var Htt=cw&&cw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Btt=cw&&cw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wtt=cw&&cw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Htt(t,e,n[i]);return Btt(t,e),t}}();Object.defineProperty(cw,"__esModule",{value:!0});var $tt=Wtt(require("vscode")),w9=class extends $tt.InlayHint{data;constructor(e,t,n){super(e,t,n)}};cw.default=w9});var Kbe=P(t_=>{"use strict";var Vtt=t_&&t_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gtt=t_&&t_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),m2=t_&&t_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vtt(t,e,n[i]);return Gtt(t,e),t}}(),rC=t_&&t_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t_,"__esModule",{value:!0});t_.createConverter=trt;var Vc=m2(require("vscode")),Ti=m2(gn()),$0=m2(Wg()),$be=m2(h2()),Ktt=rC(o9()),Ytt=rC(a9()),Jtt=rC(u9()),Vbe=rC(d9()),Gbe=p9(),Xtt=rC(g9()),Qtt=rC(_9()),Ztt=rC(b9()),ert=rC(S9()),C9;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(C9||(C9={}));function trt(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let fe=S;return!!fe.document&&!!fe.contentChanges}function u(S){let fe=S;return!!fe.uri&&!!fe.version}function l(S,fe,Je){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Cr=fe,Br=Je;return{textDocument:{uri:t(Cr),version:Br},contentChanges:S.contentChanges.map(qn=>{let xi=qn.range;return{range:{start:{line:xi.start.line,character:xi.start.character},end:{line:xi.end.line,character:xi.end.character}},rangeLength:qn.rangeLength,text:qn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,fe=!1){let Je={textDocument:i(S)};return fe&&(Je.text=S.getText()),Je}function _(S){switch(S){case Vc.TextDocumentSaveReason.Manual:return Ti.TextDocumentSaveReason.Manual;case Vc.TextDocumentSaveReason.AfterDelay:return Ti.TextDocumentSaveReason.AfterDelay;case Vc.TextDocumentSaveReason.FocusOut:return Ti.TextDocumentSaveReason.FocusOut}return Ti.TextDocumentSaveReason.Manual}function y(S){return{textDocument:i(S.document),reason:_(S.reason)}}function D(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function k(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function H(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function M(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function z(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function re(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function ce(S,fe){return{textDocument:i(S),position:le(fe)}}function _e(S){switch(S){case Vc.CompletionTriggerKind.TriggerCharacter:return Ti.CompletionTriggerKind.TriggerCharacter;case Vc.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ti.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ti.CompletionTriggerKind.Invoked}}function G(S,fe,Je){return{textDocument:i(S),position:le(fe),context:{triggerKind:_e(Je.triggerKind),triggerCharacter:Je.triggerCharacter}}}function $(S){switch(S){case Vc.SignatureHelpTriggerKind.Invoke:return Ti.SignatureHelpTriggerKind.Invoked;case Vc.SignatureHelpTriggerKind.TriggerCharacter:return Ti.SignatureHelpTriggerKind.TriggerCharacter;case Vc.SignatureHelpTriggerKind.ContentChange:return Ti.SignatureHelpTriggerKind.ContentChange}}function te(S){return{label:S.label}}function Te(S){return S.map(te)}function ae(S){return{label:S.label,parameters:Te(S.parameters)}}function ue(S){return S.map(ae)}function Fe(S){return S===void 0?S:{signatures:ue(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function qe(S,fe,Je){return{textDocument:i(S),position:le(fe),context:{isRetrigger:Je.isRetrigger,triggerCharacter:Je.triggerCharacter,triggerKind:$(Je.triggerKind),activeSignatureHelp:Fe(Je.activeSignatureHelp)}}}function le(S){return{line:S.line,character:S.character}}function Ce(S){return S==null?S:{line:S.line>Ti.uinteger.MAX_VALUE?Ti.uinteger.MAX_VALUE:S.line,character:S.character>Ti.uinteger.MAX_VALUE?Ti.uinteger.MAX_VALUE:S.character}}function be(S,fe){return $be.map(S,Ce,fe)}function xe(S){return S.map(Ce)}function Le(S){return S==null?S:{start:Ce(S.start),end:Ce(S.end)}}function Ge(S){return S.map(Le)}function Ct(S){return S==null?S:Ti.Location.create(n(S.uri),Le(S.range))}function ze(S){switch(S){case Vc.DiagnosticSeverity.Error:return Ti.DiagnosticSeverity.Error;case Vc.DiagnosticSeverity.Warning:return Ti.DiagnosticSeverity.Warning;case Vc.DiagnosticSeverity.Information:return Ti.DiagnosticSeverity.Information;case Vc.DiagnosticSeverity.Hint:return Ti.DiagnosticSeverity.Hint}}function at(S){if(!S)return;let fe=[];for(let Je of S){let Cr=ct(Je);Cr!==void 0&&fe.push(Cr)}return fe.length>0?fe:void 0}function ct(S){switch(S){case Vc.DiagnosticTag.Unnecessary:return Ti.DiagnosticTag.Unnecessary;case Vc.DiagnosticTag.Deprecated:return Ti.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function pr(S){return S.map(tt)}function Nr(S){if(S!=null)return $0.number(S)||$0.string(S)?S:{value:S.value,target:n(S.target)}}function Hr(S){let fe=Ti.Diagnostic.create(Le(S.range),S.message),Je=S instanceof Gbe.ProtocolDiagnostic?S:void 0;Je!==void 0&&Je.data!==void 0&&(fe.data=Je.data);let Cr=Nr(S.code);return Gbe.DiagnosticCode.is(Cr)?Je!==void 0&&Je.hasDiagnosticCode?fe.code=Cr:(fe.code=Cr.value,fe.codeDescription={href:Cr.target}):fe.code=Cr,$0.number(S.severity)&&(fe.severity=ze(S.severity)),Array.isArray(S.tags)&&(fe.tags=at(S.tags)),S.relatedInformation&&(fe.relatedInformation=pr(S.relatedInformation)),S.source&&(fe.source=S.source),fe}function fr(S,fe){return S==null?S:$be.map(S,Hr,fe)}function It(S){return S==null?S:S.map(Hr)}function mr(S,fe){switch(S){case"$string":return fe;case Ti.MarkupKind.PlainText:return{kind:S,value:fe};case Ti.MarkupKind.Markdown:return{kind:S,value:fe.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Lt(S){switch(S){case Vc.CompletionItemTag.Deprecated:return Ti.CompletionItemTag.Deprecated}}function nn(S){if(S===void 0)return S;let fe=[];for(let Je of S){let Cr=Lt(Je);Cr!==void 0&&fe.push(Cr)}return fe}function cn(S,fe){return fe!==void 0?fe:S+1}function xn(S,fe=!1){let Je,Cr;$0.string(S.label)?Je=S.label:(Je=S.label.label,fe&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Cr={detail:S.label.detail,description:S.label.description}));let Br={label:Je};Cr!==void 0&&(Br.labelDetails=Cr);let Jr=S instanceof Ktt.default?S:void 0;S.detail&&(Br.detail=S.detail),S.documentation&&(!Jr||Jr.documentationFormat==="$string"?Br.documentation=S.documentation:Br.documentation=mr(Jr.documentationFormat,S.documentation)),S.filterText&&(Br.filterText=S.filterText),Rr(Br,S),$0.number(S.kind)&&(Br.kind=cn(S.kind,Jr&&Jr.originalItemKind)),S.sortText&&(Br.sortText=S.sortText),S.additionalTextEdits&&(Br.additionalTextEdits=un(S.additionalTextEdits)),S.commitCharacters&&(Br.commitCharacters=S.commitCharacters.slice()),S.command&&(Br.command=nr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Br.preselect=S.preselect);let qn=nn(S.tags);if(Jr){if(Jr.data!==void 0&&(Br.data=Jr.data),Jr.deprecated===!0||Jr.deprecated===!1){if(Jr.deprecated===!0&&qn!==void 0&&qn.length>0){let xi=qn.indexOf(Vc.CompletionItemTag.Deprecated);xi!==-1&&qn.splice(xi,1)}Br.deprecated=Jr.deprecated}Jr.insertTextMode!==void 0&&(Br.insertTextMode=Jr.insertTextMode)}return qn!==void 0&&qn.length>0&&(Br.tags=qn),Br.insertTextMode===void 0&&S.keepWhitespace===!0&&(Br.insertTextMode=Ti.InsertTextMode.adjustIndentation),Br}function Rr(S,fe){let Je=Ti.InsertTextFormat.PlainText,Cr,Br;fe.textEdit?(Cr=fe.textEdit.newText,Br=fe.textEdit.range):fe.insertText instanceof Vc.SnippetString?(Je=Ti.InsertTextFormat.Snippet,Cr=fe.insertText.value):Cr=fe.insertText,fe.range&&(Br=fe.range),S.insertTextFormat=Je,fe.fromEdit&&Cr!==void 0&&Br!==void 0?S.textEdit=Un(Cr,Br):S.insertText=Cr}function Un(S,fe){return C9.is(fe)?Ti.InsertReplaceEdit.create(S,Le(fe.inserting),Le(fe.replacing)):{newText:S,range:Le(fe)}}function Wr(S){return{range:Le(S.range),newText:S.newText}}function un(S){return S==null?S:S.map(Wr)}function ni(S){return S<=Vc.SymbolKind.TypeParameter?S+1:Ti.SymbolKind.Property}function $r(S){return S}function In(S){return S.map($r)}function Ei(S,fe,Je){return{textDocument:i(S),position:le(fe),context:{includeDeclaration:Je.includeDeclaration}}}async function Vr(S,fe){let Je=Ti.CodeAction.create(S.title);if(S instanceof Vbe.default&&S.data!==void 0&&(Je.data=S.data),S.kind!==void 0&&(Je.kind=oe(S.kind)),S.diagnostics!==void 0&&(Je.diagnostics=await fr(S.diagnostics,fe)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Je.command=nr(S.command)),S.isPreferred!==void 0&&(Je.isPreferred=S.isPreferred),S.disabled!==void 0&&(Je.disabled={reason:S.disabled.reason}),S.isAI&&(Je.tags??=[],Je.tags.push(Ti.CodeActionTag.LLMGenerated)),Je}function Vi(S){let fe=Ti.CodeAction.create(S.title);if(S instanceof Vbe.default&&S.data!==void 0&&(fe.data=S.data),S.kind!==void 0&&(fe.kind=oe(S.kind)),S.diagnostics!==void 0&&(fe.diagnostics=It(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(fe.command=nr(S.command)),S.isPreferred!==void 0&&(fe.isPreferred=S.isPreferred),S.disabled!==void 0&&(fe.disabled={reason:S.disabled.reason}),S.isAI&&(fe.tags??=[],fe.tags.push(Ti.CodeActionTag.LLMGenerated)),fe}async function ii(S,fe){if(S==null)return S;let Je;return S.only&&$0.string(S.only.value)&&(Je=[S.only.value]),Ti.CodeActionContext.create(await fr(S.diagnostics,fe),Je,Re(S.triggerKind))}function ln(S){if(S==null)return S;let fe;return S.only&&$0.string(S.only.value)&&(fe=[S.only.value]),Ti.CodeActionContext.create(It(S.diagnostics),fe,Re(S.triggerKind))}function Re(S){switch(S){case Vc.CodeActionTriggerKind.Invoke:return Ti.CodeActionTriggerKind.Invoked;case Vc.CodeActionTriggerKind.Automatic:return Ti.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Ti.InlineValueContext.create(S.frameId,Le(S.stoppedLocation))}function ye(S,fe,Je){return{textDocument:i(S),position:Ce(fe),context:Ke(Je)}}function Ke(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Jt(S.selectedCompletionInfo)}}function ft(S){switch(S){case Vc.InlineCompletionTriggerKind.Invoke:return Ti.InlineCompletionTriggerKind.Invoked;case Vc.InlineCompletionTriggerKind.Automatic:return Ti.InlineCompletionTriggerKind.Automatic}}function Jt(S){if(S!=null)return{range:Le(S.range),text:S.text}}function nr(S){let fe=Ti.Command.create(S.title,S.command);return S.tooltip&&(fe.tooltip=S.tooltip),S.arguments&&(fe.arguments=S.arguments),fe}function Xt(S){let fe=Ti.CodeLens.create(Le(S.range));return S.command&&(fe.command=nr(S.command)),S instanceof Ytt.default&&S.data&&(fe.data=S.data),fe}function Vt(S,fe){let Je={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return fe.trimTrailingWhitespace&&(Je.trimTrailingWhitespace=!0),fe.trimFinalNewlines&&(Je.trimFinalNewlines=!0),fe.insertFinalNewline&&(Je.insertFinalNewline=!0),Je}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function Ne(S){let fe=Ti.DocumentLink.create(Le(S.range));S.target&&(fe.target=n(S.target)),S.tooltip!==void 0&&(fe.tooltip=S.tooltip);let Je=S instanceof Jtt.default?S:void 0;return Je&&Je.data&&(fe.data=Je.data),fe}function Bt(S){return{textDocument:i(S)}}function Tr(S){let fe={name:S.name,kind:ni(S.kind),uri:n(S.uri),range:Le(S.range),selectionRange:Le(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=In(S.tags)),S instanceof Xtt.default&&S.data!==void 0&&(fe.data=S.data),fe}function He(S){let fe={name:S.name,kind:ni(S.kind),uri:n(S.uri),range:Le(S.range),selectionRange:Le(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=In(S.tags)),S instanceof Qtt.default&&S.data!==void 0&&(fe.data=S.data),fe}function ne(S){let fe=S instanceof Ztt.default?{name:S.name,kind:ni(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ni(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(fe.tags=In(S.tags)),S.containerName!==""&&(fe.containerName=S.containerName),fe}function Ee(S){let fe=typeof S.label=="string"?S.label:S.label.map(je),Je=Ti.InlayHint.create(Ce(S.position),fe);return S.kind!==void 0&&(Je.kind=S.kind),S.textEdits!==void 0&&(Je.textEdits=un(S.textEdits)),S.tooltip!==void 0&&(Je.tooltip=he(S.tooltip)),S.paddingLeft!==void 0&&(Je.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Je.paddingRight=S.paddingRight),S instanceof ert.default&&S.data!==void 0&&(Je.data=S.data),Je}function je(S){let fe=Ti.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(fe.location=Ct(S.location)),S.command!==void 0&&(fe.command=nr(S.command)),S.tooltip!==void 0&&(fe.tooltip=he(S.tooltip)),fe}function he(S){return typeof S=="string"?S:{kind:Ti.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:y,asDidCreateFilesParams:D,asDidRenameFilesParams:k,asDidDeleteFilesParams:H,asWillCreateFilesParams:M,asWillRenameFilesParams:z,asWillDeleteFilesParams:re,asTextDocumentPositionParams:ce,asCompletionParams:G,asSignatureHelpParams:qe,asWorkerPosition:le,asRange:Le,asRanges:Ge,asPosition:Ce,asPositions:be,asPositionsSync:xe,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:ct,asDiagnostic:Hr,asDiagnostics:fr,asDiagnosticsSync:It,asCompletionItem:xn,asTextEdit:Wr,asSymbolKind:ni,asSymbolTag:$r,asSymbolTags:In,asReferenceParams:Ei,asCodeAction:Vr,asCodeActionSync:Vi,asCodeActionContext:ii,asCodeActionContextSync:ln,asInlineValueContext:Q,asCommand:nr,asCodeLens:Xt,asFormattingOptions:Vt,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:Ne,asDocumentLinkParams:Bt,asCallHierarchyItem:Tr,asTypeHierarchyItem:He,asInlayHint:Ee,asWorkspaceSymbol:ne,asInlineCompletionParams:ye,asInlineCompletionContext:Ke}}});var _2=P(r_=>{"use strict";var rrt=r_&&r_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nrt=r_&&r_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),v2=r_&&r_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rrt(t,e,n[i]);return nrt(t,e),t}}(),nC=r_&&r_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(r_,"__esModule",{value:!0});r_.createConverter=frt;var Ir=v2(require("vscode")),zn=v2(gn()),Mm=v2(Wg()),Ho=v2(h2()),irt=nC(o9()),ort=nC(a9()),srt=nC(u9()),art=nC(d9()),Ybe=p9(),crt=nC(g9()),urt=nC(_9()),lrt=nC(b9()),drt=nC(S9()),Jbe=gn(),g2;(function(r){function e(t){let n=t;return n&&Mm.string(n.language)&&Mm.string(n.value)}r.is=e})(g2||(g2={}));function frt(r,e,t,n){let o=r||(L=>Ir.Uri.parse(L));function s(L){return o(L)}function a(L){let Ae=[];for(let rt of L)if(typeof rt=="string")Ae.push(rt);else if(Jbe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Ae.push({notebookType:rt.notebook,language:rt.language});else{let Ut=rt.notebook.notebookType??"*";Ae.push({notebookType:Ut,scheme:rt.notebook.scheme,pattern:qr(rt.notebook.pattern),language:rt.language})}else Jbe.TextDocumentFilter.is(rt)&&Ae.push({language:rt.language,scheme:rt.scheme,pattern:qr(rt.pattern)});return Ae}async function c(L,Ae){return Ho.map(L,l,Ae)}function u(L){let Ae=new Array(L.length);for(let rt=0;rt<L.length;rt++)Ae[rt]=l(L[rt]);return Ae}function l(L){let Ae=new Ybe.ProtocolDiagnostic(D(L.range),L.message,H(L.severity),L.data);if(L.code!==void 0){if(typeof L.code=="string"||typeof L.code=="number")zn.CodeDescription.is(L.codeDescription)?Ae.code={value:L.code,target:s(L.codeDescription.href)}:Ae.code=L.code;else if(Ybe.DiagnosticCode.is(L.code)){Ae.hasDiagnosticCode=!0;let rt=L.code;Ae.code={value:rt.value,target:s(rt.target)}}}return L.source&&(Ae.source=L.source),L.relatedInformation&&(Ae.relatedInformation=d(L.relatedInformation)),Array.isArray(L.tags)&&(Ae.tags=f(L.tags)),Ae}function d(L){let Ae=new Array(L.length);for(let rt=0;rt<L.length;rt++){let Ut=L[rt];Ae[rt]=new Ir.DiagnosticRelatedInformation(tt(Ut.location),Ut.message)}return Ae}function f(L){if(!L)return;let Ae=[];for(let rt of L){let Ut=_(rt);Ut!==void 0&&Ae.push(Ut)}return Ae.length>0?Ae:void 0}function _(L){switch(L){case zn.DiagnosticTag.Unnecessary:return Ir.DiagnosticTag.Unnecessary;case zn.DiagnosticTag.Deprecated:return Ir.DiagnosticTag.Deprecated;default:return}}function y(L){return L?new Ir.Position(L.line,L.character):void 0}function D(L){return L?new Ir.Range(L.start.line,L.start.character,L.end.line,L.end.character):void 0}async function k(L,Ae){return Ho.map(L,rt=>new Ir.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Ae)}function H(L){if(L==null)return Ir.DiagnosticSeverity.Error;switch(L){case zn.DiagnosticSeverity.Error:return Ir.DiagnosticSeverity.Error;case zn.DiagnosticSeverity.Warning:return Ir.DiagnosticSeverity.Warning;case zn.DiagnosticSeverity.Information:return Ir.DiagnosticSeverity.Information;case zn.DiagnosticSeverity.Hint:return Ir.DiagnosticSeverity.Hint}return Ir.DiagnosticSeverity.Error}function M(L){if(Mm.string(L))return re(L);if(g2.is(L))return re().appendCodeblock(L.value,L.language);if(Array.isArray(L)){let Ae=[];for(let rt of L){let Ut=re();g2.is(rt)?Ut.appendCodeblock(rt.value,rt.language):Ut.appendMarkdown(rt),Ae.push(Ut)}return Ae}else return re(L)}function z(L){if(Mm.string(L))return L;switch(L.kind){case zn.MarkupKind.Markdown:return re(L.value);case zn.MarkupKind.PlainText:return L.value;default:return`Unsupported Markup content received. Kind is: ${L.kind}`}}function re(L){let Ae;if(L===void 0||typeof L=="string")Ae=new Ir.MarkdownString(L);else switch(L.kind){case zn.MarkupKind.Markdown:Ae=new Ir.MarkdownString(L.value);break;case zn.MarkupKind.PlainText:Ae=new Ir.MarkdownString,Ae.appendText(L.value);break;default:Ae=new Ir.MarkdownString,Ae.appendText(`Unsupported Markup content received. Kind is: ${L.kind}`);break}return Ae.isTrusted=e,Ae.supportHtml=t,Ae.supportThemeIcons=n,Ae}function ce(L){if(L)return new Ir.Hover(M(L.contents),D(L.range))}async function _e(L,Ae,rt){if(!L)return;if(Array.isArray(L))return Ho.map(L,ro=>ae(ro,Ae),rt);let Ut=L,{defaultRange:kn,commitCharacters:wn}=G(Ut,Ae),Mn=await Ho.map(Ut.items,ro=>ae(ro,wn,Ut.applyKind?.commitCharacters,kn,Ut.itemDefaults?.insertTextMode,Ut.itemDefaults?.insertTextFormat,Ut.itemDefaults?.data,Ut.applyKind?.data),rt);return new Ir.CompletionList(Mn,Ut.isIncomplete)}function G(L,Ae){let rt=L.itemDefaults?.editRange,Ut=L.itemDefaults?.commitCharacters??Ae;return zn.Range.is(rt)?{defaultRange:D(rt),commitCharacters:Ut}:rt!==void 0?{defaultRange:{inserting:D(rt.insert),replacing:D(rt.replace)},commitCharacters:Ut}:{defaultRange:void 0,commitCharacters:Ut}}function $(L){return zn.CompletionItemKind.Text<=L&&L<=zn.CompletionItemKind.TypeParameter?[L-1,void 0]:[Ir.CompletionItemKind.Text,L]}function te(L){switch(L){case zn.CompletionItemTag.Deprecated:return Ir.CompletionItemTag.Deprecated}}function Te(L){if(L==null)return[];let Ae=[];for(let rt of L){let Ut=te(rt);Ut!==void 0&&Ae.push(Ut)}return Ae}function ae(L,Ae,rt,Ut,kn,wn,Mn,ro){let Li=Te(L.tags),wo=qe(L),Hi=new irt.default(wo);L.detail&&(Hi.detail=L.detail),L.documentation&&(Hi.documentation=z(L.documentation),Hi.documentationFormat=Mm.string(L.documentation)?"$string":L.documentation.kind),L.filterText&&(Hi.filterText=L.filterText);let Yn=le(L,Ut,wn);if(Yn&&(Hi.insertText=Yn.text,Hi.range=Yn.range,Hi.fromEdit=Yn.fromEdit),Mm.number(L.kind)){let[Wu,ki]=$(L.kind);Hi.kind=Wu,ki&&(Hi.originalItemKind=ki)}L.sortText&&(Hi.sortText=L.sortText),L.additionalTextEdits&&(Hi.additionalTextEdits=Le(L.additionalTextEdits));let Qc=ue(L,Ae,rt);Qc&&(Hi.commitCharacters=Qc.slice()),L.command&&(Hi.command=In(L.command)),(L.deprecated===!0||L.deprecated===!1)&&(Hi.deprecated=L.deprecated,L.deprecated===!0&&Li.push(Ir.CompletionItemTag.Deprecated)),(L.preselect===!0||L.preselect===!1)&&(Hi.preselect=L.preselect);let Ko=Fe(L,Mn,ro);Ko!==void 0&&(Hi.data=Ko),Li.length>0&&(Hi.tags=Li);let fo=L.insertTextMode??kn;return fo!==void 0&&(Hi.insertTextMode=fo,fo===zn.InsertTextMode.asIs&&(Hi.keepWhitespace=!0)),Hi}function ue(L,Ae,rt){if(rt===zn.ApplyKind.Merge){if(!Ae&&!L.commitCharacters)return;let Ut=new Set;if(Ae)for(let kn of Ae)Ut.add(kn);if(Mm.stringArray(L.commitCharacters))for(let kn of L.commitCharacters)Ut.add(kn);return Array.from(Ut)}return L.commitCharacters!==void 0?Mm.stringArray(L.commitCharacters)?L.commitCharacters:void 0:Ae}function Fe(L,Ae,rt){if(rt===zn.ApplyKind.Merge){let Ut={...Ae};return L.data&&Object.entries(L.data).forEach(([kn,wn])=>{wn!=null&&(Ut[kn]=wn)}),Ut}return L.data??Ae}function qe(L){return zn.CompletionItemLabelDetails.is(L.labelDetails)?{label:L.label,detail:L.labelDetails.detail,description:L.labelDetails.description}:L.label}function le(L,Ae,rt){let Ut=L.insertTextFormat??rt;if(L.textEdit!==void 0||Ae!==void 0){let[kn,wn]=L.textEdit!==void 0?Ce(L.textEdit):[Ae,L.textEditText??L.label];return Ut===zn.InsertTextFormat.Snippet?{text:new Ir.SnippetString(wn),range:kn,fromEdit:!0}:{text:wn,range:kn,fromEdit:!0}}else return L.insertText?Ut===zn.InsertTextFormat.Snippet?{text:new Ir.SnippetString(L.insertText),fromEdit:!1}:{text:L.insertText,fromEdit:!1}:void 0}function Ce(L){return zn.InsertReplaceEdit.is(L)?[{inserting:D(L.insert),replacing:D(L.replace)},L.newText]:[D(L.range),L.newText]}function be(L){if(L)return new Ir.TextEdit(D(L.range),L.newText)}async function xe(L,Ae){if(L)return Ho.map(L,be,Ae)}function Le(L){if(!L)return;let Ae=new Array(L.length);for(let rt=0;rt<L.length;rt++)Ae[rt]=be(L[rt]);return Ae}async function Ge(L,Ae){if(!L)return;let rt=new Ir.SignatureHelp;return Mm.number(L.activeSignature)?rt.activeSignature=L.activeSignature:rt.activeSignature=0,Mm.number(L.activeParameter)?rt.activeParameter=L.activeParameter:L.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,L.signatures&&(rt.signatures=await Ct(L.signatures,Ae)),rt}async function Ct(L,Ae){return Ho.mapAsync(L,ze,Ae)}async function ze(L,Ae){let rt=new Ir.SignatureInformation(L.label);return L.documentation!==void 0&&(rt.documentation=z(L.documentation)),L.parameters!==void 0&&(rt.parameters=await at(L.parameters,Ae)),L.activeParameter!==void 0&&(rt.activeParameter=L.activeParameter??-1),rt}function at(L,Ae){return Ho.map(L,ct,Ae)}function ct(L){let Ae=new Ir.ParameterInformation(L.label);return L.documentation&&(Ae.documentation=z(L.documentation)),Ae}function tt(L){return L?new Ir.Location(o(L.uri),D(L.range)):void 0}async function pr(L,Ae){if(L)return fr(L,Ae)}async function Nr(L,Ae){if(L)return fr(L,Ae)}function Hr(L){if(!L)return;let Ae={targetUri:o(L.targetUri),targetRange:D(L.targetRange),originSelectionRange:D(L.originSelectionRange),targetSelectionRange:D(L.targetSelectionRange)};if(!Ae.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ae}async function fr(L,Ae){if(L)if(Mm.array(L)){if(L.length===0)return[];if(zn.LocationLink.is(L[0])){let rt=L;return Ho.map(rt,Hr,Ae)}else{let rt=L;return Ho.map(rt,tt,Ae)}}else return zn.LocationLink.is(L)?[Hr(L)]:tt(L)}async function It(L,Ae){if(L)return Ho.map(L,tt,Ae)}async function mr(L,Ae){if(L)return Ho.map(L,Lt,Ae)}function Lt(L){let Ae=new Ir.DocumentHighlight(D(L.range));return Mm.number(L.kind)&&(Ae.kind=nn(L.kind)),Ae}function nn(L){switch(L){case zn.DocumentHighlightKind.Text:return Ir.DocumentHighlightKind.Text;case zn.DocumentHighlightKind.Read:return Ir.DocumentHighlightKind.Read;case zn.DocumentHighlightKind.Write:return Ir.DocumentHighlightKind.Write}return Ir.DocumentHighlightKind.Text}async function cn(L,Ae){if(L)return Ho.map(L,Wr,Ae)}function xn(L){return L<=zn.SymbolKind.TypeParameter?L-1:Ir.SymbolKind.Property}function Rr(L){switch(L){case zn.SymbolTag.Deprecated:return Ir.SymbolTag.Deprecated;default:return}}function Un(L){if(L==null)return;let Ae=[];for(let rt of L){let Ut=Rr(rt);Ut!==void 0&&Ae.push(Ut)}return Ae.length===0?void 0:Ae}function Wr(L){let Ae=L.data,rt=L.location,Ut=rt.range===void 0||Ae!==void 0?new lrt.default(L.name,xn(L.kind),L.containerName??"",rt.range===void 0?o(rt.uri):new Ir.Location(o(L.location.uri),D(rt.range)),Ae):new Ir.SymbolInformation(L.name,xn(L.kind),L.containerName??"",new Ir.Location(o(L.location.uri),D(rt.range)));return $r(Ut,L),Ut}async function un(L,Ae){if(L!=null)return Ho.map(L,ni,Ae)}function ni(L){let Ae=new Ir.DocumentSymbol(L.name,L.detail||"",xn(L.kind),D(L.range),D(L.selectionRange));if($r(Ae,L),L.children!==void 0&&L.children.length>0){let rt=[];for(let Ut of L.children)rt.push(ni(Ut));Ae.children=rt}return Ae}function $r(L,Ae){L.tags=Un(Ae.tags),Ae.deprecated&&(L.tags?L.tags.includes(Ir.SymbolTag.Deprecated)||(L.tags=L.tags.concat(Ir.SymbolTag.Deprecated)):L.tags=[Ir.SymbolTag.Deprecated])}function In(L){let Ae={title:L.title,command:L.command};return L.tooltip&&(Ae.tooltip=L.tooltip),L.arguments&&(Ae.arguments=L.arguments),Ae}async function Ei(L,Ae){if(L)return Ho.map(L,In,Ae)}let Vr=new Map;Vr.set(zn.CodeActionKind.Empty,Ir.CodeActionKind.Empty),Vr.set(zn.CodeActionKind.QuickFix,Ir.CodeActionKind.QuickFix),Vr.set(zn.CodeActionKind.Refactor,Ir.CodeActionKind.Refactor),Vr.set(zn.CodeActionKind.RefactorExtract,Ir.CodeActionKind.RefactorExtract),Vr.set(zn.CodeActionKind.RefactorInline,Ir.CodeActionKind.RefactorInline),Vr.set(zn.CodeActionKind.RefactorRewrite,Ir.CodeActionKind.RefactorRewrite),Vr.set(zn.CodeActionKind.Source,Ir.CodeActionKind.Source),Vr.set(zn.CodeActionKind.SourceOrganizeImports,Ir.CodeActionKind.SourceOrganizeImports);function Vi(L){if(L==null)return;let Ae=Vr.get(L);if(Ae)return Ae;let rt=L.split(".");Ae=Ir.CodeActionKind.Empty;for(let Ut of rt)Ae=Ae.append(Ut);return Ae}function ii(L){if(L!=null)return L.map(Ae=>Vi(Ae))}function ln(L){if(L!=null)return L.map(Ae=>({kind:Vi(Ae.kind),command:In(Ae.command)}))}async function Re(L,Ae){if(L==null)return;let rt=new art.default(L.title,L.data);return L.kind!==void 0&&(rt.kind=Vi(L.kind)),L.diagnostics!==void 0&&(rt.diagnostics=u(L.diagnostics)),L.edit!==void 0&&(rt.edit=await Ke(L.edit,Ae)),L.command!==void 0&&(rt.command=In(L.command)),L.isPreferred!==void 0&&(rt.isPreferred=L.isPreferred),L.disabled!==void 0&&(rt.disabled={reason:L.disabled.reason}),L.tags?.includes(zn.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(L,Ae){return Ho.mapAsync(L,async rt=>zn.Command.is(rt)?In(rt):Re(rt,Ae),Ae)}function Q(L){if(!L)return;let Ae=new ort.default(D(L.range));return L.command&&(Ae.command=In(L.command)),L.data!==void 0&&L.data!==null&&(Ae.data=L.data),Ae}async function ye(L,Ae){if(L)return Ho.map(L,Q,Ae)}async function Ke(L,Ae){if(!L)return;let rt=new Map;if(L.changeAnnotations!==void 0){let wn=L.changeAnnotations;await Ho.forEach(Object.keys(wn),Mn=>{let ro=ft(wn[Mn]);rt.set(Mn,ro)},Ae)}let Ut=wn=>{if(wn!==void 0)return rt.get(wn)},kn=new Ir.WorkspaceEdit;if(L.documentChanges){let wn=L.documentChanges;await Ho.forEach(wn,Mn=>{if(zn.CreateFile.is(Mn))kn.createFile(o(Mn.uri),Mn.options,Ut(Mn.annotationId));else if(zn.RenameFile.is(Mn))kn.renameFile(o(Mn.oldUri),o(Mn.newUri),Mn.options,Ut(Mn.annotationId));else if(zn.DeleteFile.is(Mn))kn.deleteFile(o(Mn.uri),Mn.options,Ut(Mn.annotationId));else if(zn.TextDocumentEdit.is(Mn)){let ro=o(Mn.textDocument.uri),Li=[];for(let wo of Mn.edits)zn.AnnotatedTextEdit.is(wo)?Li.push([new Ir.TextEdit(D(wo.range),wo.newText),Ut(wo.annotationId)]):zn.SnippetTextEdit.is(wo)?Li.push([new Ir.SnippetTextEdit(D(wo.range),new Ir.SnippetString(wo.snippet.value)),Ut(wo.annotationId)]):Li.push([new Ir.TextEdit(D(wo.range),wo.newText),void 0]);kn.set(ro,Li)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Mn,void 0,4)}`)},Ae)}else if(L.changes){let wn=L.changes;await Ho.forEach(Object.keys(wn),Mn=>{kn.set(o(Mn),Le(wn[Mn]))},Ae)}return kn}function ft(L){if(L!==void 0)return{label:L.label,needsConfirmation:!!L.needsConfirmation,description:L.description}}function Jt(L){let Ae=D(L.range),rt=L.target?s(L.target):void 0,Ut=new srt.default(Ae,rt);return L.tooltip!==void 0&&(Ut.tooltip=L.tooltip),L.data!==void 0&&L.data!==null&&(Ut.data=L.data),Ut}async function nr(L,Ae){if(L)return Ho.map(L,Jt,Ae)}function Xt(L){return new Ir.Color(L.red,L.green,L.blue,L.alpha)}function Vt(L){return new Ir.ColorInformation(D(L.range),Xt(L.color))}async function kt(L,Ae){if(L)return Ho.map(L,Vt,Ae)}function K(L){let Ae=new Ir.ColorPresentation(L.label);return Ae.additionalTextEdits=Le(L.additionalTextEdits),L.textEdit&&(Ae.textEdit=be(L.textEdit)),Ae}async function Ne(L,Ae){if(L)return Ho.map(L,K,Ae)}function Bt(L){if(L)switch(L){case zn.FoldingRangeKind.Comment:return Ir.FoldingRangeKind.Comment;case zn.FoldingRangeKind.Imports:return Ir.FoldingRangeKind.Imports;case zn.FoldingRangeKind.Region:return Ir.FoldingRangeKind.Region}}function Tr(L){return new Ir.FoldingRange(L.startLine,L.endLine,Bt(L.kind))}async function He(L,Ae){if(L)return Ho.map(L,Tr,Ae)}function ne(L){return new Ir.SelectionRange(D(L.range),L.parent?ne(L.parent):void 0)}async function Ee(L,Ae){return Array.isArray(L)?Ho.map(L,ne,Ae):[]}function je(L){return zn.InlineValueText.is(L)?new Ir.InlineValueText(D(L.range),L.text):zn.InlineValueVariableLookup.is(L)?new Ir.InlineValueVariableLookup(D(L.range),L.variableName,L.caseSensitiveLookup):new Ir.InlineValueEvaluatableExpression(D(L.range),L.expression)}async function he(L,Ae){return Array.isArray(L)?Ho.map(L,je,Ae):[]}async function S(L,Ae){let rt=typeof L.label=="string"?L.label:await Ho.map(L.label,fe,Ae),Ut=new drt.default(y(L.position),rt);return L.kind!==void 0&&(Ut.kind=L.kind),L.textEdits!==void 0&&(Ut.textEdits=await xe(L.textEdits,Ae)),L.tooltip!==void 0&&(Ut.tooltip=Je(L.tooltip)),L.paddingLeft!==void 0&&(Ut.paddingLeft=L.paddingLeft),L.paddingRight!==void 0&&(Ut.paddingRight=L.paddingRight),L.data!==void 0&&(Ut.data=L.data),Ut}function fe(L){let Ae=new Ir.InlayHintLabelPart(L.value);return L.location!==void 0&&(Ae.location=tt(L.location)),L.tooltip!==void 0&&(Ae.tooltip=Je(L.tooltip)),L.command!==void 0&&(Ae.command=In(L.command)),Ae}function Je(L){return typeof L=="string"?L:re(L)}async function Cr(L,Ae){if(Array.isArray(L))return Ho.mapAsync(L,S,Ae)}function Br(L){if(L===null)return;let Ae=new crt.default(xn(L.kind),L.name,L.detail||"",s(L.uri),D(L.range),D(L.selectionRange),L.data);return L.tags!==void 0&&(Ae.tags=Un(L.tags)),Ae}async function Jr(L,Ae){if(L!==null)return Ho.map(L,Br,Ae)}async function qn(L,Ae){return new Ir.CallHierarchyIncomingCall(Br(L.from),await k(L.fromRanges,Ae))}async function xi(L,Ae){if(L!==null)return Ho.mapAsync(L,qn,Ae)}async function ws(L,Ae){return new Ir.CallHierarchyOutgoingCall(Br(L.to),await k(L.fromRanges,Ae))}async function bn(L,Ae){if(L!==null)return Ho.mapAsync(L,ws,Ae)}async function Go(L,Ae){if(L!=null)return new Ir.SemanticTokens(new Uint32Array(L.data),L.resultId)}function Is(L){return new Ir.SemanticTokensEdit(L.start,L.deleteCount,L.data!==void 0?new Uint32Array(L.data):void 0)}async function Ws(L,Ae){if(L!=null)return new Ir.SemanticTokensEdits(L.edits.map(Is),L.resultId)}function Oo(L){return L}async function bo(L,Ae){if(L!=null)return new Ir.LinkedEditingRanges(await k(L.ranges,Ae),U(L.wordPattern))}function U(L){if(L!=null)return new RegExp(L)}function Ue(L){if(L===null)return;let Ae=new urt.default(xn(L.kind),L.name,L.detail||"",s(L.uri),D(L.range),D(L.selectionRange),L.data);return L.tags!==void 0&&(Ae.tags=Un(L.tags)),Ae}async function vt(L,Ae){if(L!==null)return Ho.map(L,Ue,Ae)}function qr(L){if(Mm.string(L))return L;if(zn.RelativePattern.is(L)){if(zn.URI.is(L.baseUri))return new Ir.RelativePattern(s(L.baseUri),L.pattern);if(zn.WorkspaceFolder.is(L.baseUri)){let Ae=Ir.workspace.getWorkspaceFolder(s(L.baseUri.uri));return Ae!==void 0?new Ir.RelativePattern(Ae,L.pattern):void 0}}}async function to(L,Ae){if(!L)return;if(Array.isArray(L))return Ho.map(L,kn=>zi(kn),Ae);let rt=L,Ut=await Ho.map(rt.items,kn=>zi(kn),Ae);return new Ir.InlineCompletionList(Ut)}function zi(L){let Ae;typeof L.insertText=="string"?Ae=L.insertText:Ae=new Ir.SnippetString(L.insertText.value);let rt;L.command&&(rt=In(L.command));let Ut=new Ir.InlineCompletionItem(Ae,D(L.range),rt);return L.filterText&&(Ut.filterText=L.filterText),Ut}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:D,asRanges:k,asPosition:y,asDiagnosticSeverity:H,asDiagnosticTag:_,asHover:ce,asCompletionResult:_e,asCompletionItem:ae,asTextEdit:be,asTextEdits:xe,asSignatureHelp:Ge,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:at,asParameterInformation:ct,asDeclarationResult:pr,asDefinitionResult:Nr,asLocation:tt,asReferences:It,asDocumentHighlights:mr,asDocumentHighlight:Lt,asDocumentHighlightKind:nn,asSymbolKind:xn,asSymbolTag:Rr,asSymbolTags:Un,asSymbolInformations:cn,asSymbolInformation:Wr,asDocumentSymbols:un,asDocumentSymbol:ni,asCommand:In,asCommands:Ei,asCodeAction:Re,asCodeActionKind:Vi,asCodeActionKinds:ii,asCodeActionDocumentations:ln,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:ye,asWorkspaceEdit:Ke,asDocumentLink:Jt,asDocumentLinks:nr,asFoldingRangeKind:Bt,asFoldingRange:Tr,asFoldingRanges:He,asColor:Xt,asColorInformation:Vt,asColorInformations:kt,asColorPresentation:K,asColorPresentations:Ne,asSelectionRange:ne,asSelectionRanges:Ee,asInlineValue:je,asInlineValues:he,asInlayHint:S,asInlayHints:Cr,asSemanticTokensLegend:Oo,asSemanticTokens:Go,asSemanticTokensEdit:Is,asSemanticTokensEdits:Ws,asCallHierarchyItem:Br,asCallHierarchyItems:Jr,asCallHierarchyIncomingCall:qn,asCallHierarchyIncomingCalls:xi,asCallHierarchyOutgoingCall:ws,asCallHierarchyOutgoingCalls:bn,asLinkedEditingRanges:bo,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:qr,asInlineCompletionResult:to,asInlineCompletionItem:zi}}});var xa=P(iC=>{"use strict";Object.defineProperty(iC,"__esModule",{value:!0});iC.empty=void 0;iC.v4=Xbe;iC.isUUID=Qbe;iC.parse=prt;iC.generateUuid=mrt;var Mk=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},T9=class r extends Mk{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};iC.empty=new Mk("00000000-0000-0000-0000-000000000000");function Xbe(){return new T9}var hrt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Qbe(r){return hrt.test(r)}function prt(r){if(!Qbe(r))throw new Error("invalid uuid");return new Mk(r)}function mrt(){return Xbe().asHex()}});var P9=P(vy=>{"use strict";var grt=vy&&vy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vrt=vy&&vy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_rt=vy&&vy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&grt(t,e,n[i]);return vrt(t,e),t}}();Object.defineProperty(vy,"__esModule",{value:!0});vy.ProgressPart=void 0;var Zbe=require("vscode"),ewe=gn(),twe=_rt(Wg()),D9=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(ewe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&Zbe.window.withProgress({location:Zbe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(ewe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&twe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(twe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};vy.ProgressPart=D9});var Eo=P(Cc=>{"use strict";var yrt=Cc&&Cc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),brt=Cc&&Cc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),owe=Cc&&Cc.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&yrt(t,e,n[i]);return brt(t,e),t}}();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.WorkspaceFeature=Cc.TextDocumentLanguageFeature=Cc.TextDocumentEventFeature=Cc.DynamicDocumentFeature=Cc.DynamicFeature=Cc.StaticFeature=Cc.LSPCancellationError=void 0;Cc.ensure=wrt;var oC=require("vscode"),E9=gn(),kh=owe(Wg()),rwe=owe(xa()),x9=class extends oC.CancellationError{data;constructor(e){super(),this.data=e}};Cc.LSPCancellationError=x9;function wrt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var nwe;(function(r){function e(t){let n=t;return n!=null&&kh.func(n.fillClientCapabilities)&&kh.func(n.initialize)&&kh.func(n.getState)&&kh.func(n.clear)&&(n.fillInitializeParams===void 0||kh.func(n.fillInitializeParams))}r.is=e})(nwe||(Cc.StaticFeature=nwe={}));var iwe;(function(r){function e(t){let n=t;return n!=null&&kh.func(n.fillClientCapabilities)&&kh.func(n.initialize)&&kh.func(n.getState)&&kh.func(n.clear)&&(n.fillInitializeParams===void 0||kh.func(n.fillInitializeParams))&&kh.func(n.register)&&kh.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(iwe||(Cc.DynamicFeature=iwe={}));var Lk=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of oC.workspace.textDocuments)if(oC.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Cc.DynamicDocumentFeature=Lk;var R9=class extends Lk{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(oC.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new oC.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new oC.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(oC.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};Cc.TextDocumentEventFeature=R9;var O9=class extends Lk{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(E9.TextDocumentRegistrationOptions.is(t)){let n=E9.StaticRegistrationOptions.hasId(t)?t.id:rwe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(kh.boolean(t)&&t===!0||E9.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[rwe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&oC.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Cc.TextDocumentLanguageFeature=O9;var I9=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Cc.WorkspaceFeature=I9});var awe=P(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.range=V0.balanced=void 0;var Srt=(r,e,t)=>{let n=r instanceof RegExp?swe(r,t):r,i=e instanceof RegExp?swe(e,t):e,o=n!==null&&i!=null&&(0,V0.range)(n,i,t);return o&&{start:o[0],end:o[1],pre:t.slice(0,o[0]),body:t.slice(o[0]+n.length,o[1]),post:t.slice(o[1]+i.length)}};V0.balanced=Srt;var swe=(r,e)=>{let t=e.match(r);return t?t[0]:null},Crt=(r,e,t)=>{let n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(r===e)return[c,u];for(n=[],o=t.length;l>=0&&!a;){if(l===c)n.push(l),c=t.indexOf(r,l+1);else if(n.length===1){let d=n.pop();d!==void 0&&(a=[d,u])}else i=n.pop(),i!==void 0&&i<o&&(o=i,s=u),u=t.indexOf(e,l+1);l=c<u&&c>=0?c:u}n.length&&s!==void 0&&(a=[o,s])}return a};V0.range=Crt});var pwe=P(M9=>{"use strict";Object.defineProperty(M9,"__esModule",{value:!0});M9.expand=Nrt;var cwe=awe(),uwe="\0SLASH"+Math.random()+"\0",lwe="\0OPEN"+Math.random()+"\0",A9="\0CLOSE"+Math.random()+"\0",dwe="\0COMMA"+Math.random()+"\0",fwe="\0PERIOD"+Math.random()+"\0",Trt=new RegExp(uwe,"g"),Drt=new RegExp(lwe,"g"),Prt=new RegExp(A9,"g"),Ert=new RegExp(dwe,"g"),xrt=new RegExp(fwe,"g"),Rrt=/\\\\/g,Ort=/\\{/g,Irt=/\\}/g,krt=/\\,/g,Art=/\\./g;function k9(r){return isNaN(r)?r.charCodeAt(0):parseInt(r,10)}function Mrt(r){return r.replace(Rrt,uwe).replace(Ort,lwe).replace(Irt,A9).replace(krt,dwe).replace(Art,fwe)}function Lrt(r){return r.replace(Trt,"\\").replace(Drt,"{").replace(Prt,"}").replace(Ert,",").replace(xrt,".")}function hwe(r){if(!r)return[""];let e=[],t=(0,cwe.balanced)("{","}",r);if(!t)return r.split(",");let{pre:n,body:i,post:o}=t,s=n.split(",");s[s.length-1]+="{"+i+"}";let a=hwe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Nrt(r){return r?(r.slice(0,2)==="{}"&&(r="\\{\\}"+r.slice(2)),Nk(Mrt(r),!0).map(Lrt)):[]}function qrt(r){return"{"+r+"}"}function Frt(r){return/^-?0\d/.test(r)}function jrt(r,e){return r<=e}function zrt(r,e){return r>=e}function Nk(r,e){let t=[],n=(0,cwe.balanced)("{","}",r);if(!n)return[r];let i=n.pre,o=n.post.length?Nk(n.post,!1):[""];if(/\$$/.test(n.pre))for(let s=0;s<o.length;s++){let a=i+"{"+n.body+"}"+o[s];t.push(a)}else{let s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),c=s||a,u=n.body.indexOf(",")>=0;if(!c&&!u)return n.post.match(/,(?!,).*\}/)?(r=n.pre+"{"+n.body+A9+n.post,Nk(r)):[r];let l;if(c)l=n.body.split(/\.\./);else if(l=hwe(n.body),l.length===1&&l[0]!==void 0&&(l=Nk(l[0],!1).map(qrt),l.length===1))return o.map(f=>n.pre+l[0]+f);let d;if(c&&l[0]!==void 0&&l[1]!==void 0){let f=k9(l[0]),_=k9(l[1]),y=Math.max(l[0].length,l[1].length),D=l.length===3&&l[2]!==void 0?Math.abs(k9(l[2])):1,k=jrt;_<f&&(D*=-1,k=zrt);let M=l.some(Frt);d=[];for(let z=f;k(z,_);z+=D){let re;if(a)re=String.fromCharCode(z),re==="\\"&&(re="");else if(re=String(z),M){let ce=y-re.length;if(ce>0){let _e=new Array(ce+1).join("0");z<0?re="-"+_e+re.slice(1):re=_e+re}}d.push(re)}}else{d=[];for(let f=0;f<l.length;f++)d.push.apply(d,Nk(l[f],!1))}for(let f=0;f<d.length;f++)for(let _=0;_<o.length;_++){let y=i+d[f]+o[_];(!e||c||y)&&t.push(y)}}return t}});var mwe=P(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});y2.assertValidPattern=void 0;var Urt=1024*64,Hrt=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Urt)throw new TypeError("pattern is too long")};y2.assertValidPattern=Hrt});var vwe=P(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.parseClass=void 0;var Brt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},qk=r=>r.replace(/[[\]\\-]/g,"\\$&"),Wrt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),gwe=r=>r.join(""),$rt=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let D=r.charAt(o);if((D==="!"||D==="^")&&o===t+1){u=!0,o++;continue}if(D==="]"&&s&&!c){l=o+1;break}if(s=!0,D==="\\"&&!c){c=!0,o++;continue}if(D==="["&&!c){for(let[k,[H,M,z]]of Object.entries(Brt))if(r.startsWith(k,o)){if(d)return["$.",!1,r.length-t,!0];o+=k.length,z?i.push(H):n.push(H),a=a||M;continue e}}if(c=!1,d){D>d?n.push(qk(d)+"-"+qk(D)):D===d&&n.push(qk(D)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(qk(D+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=D,o+=2;continue}n.push(qk(D)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let D=n[0].length===2?n[0].slice(-1):n[0];return[Wrt(D),!1,l-t,!1]}let f="["+(u?"^":"")+gwe(n)+"]",_="["+(u?"":"^")+gwe(i)+"]";return[n.length&&i.length?"("+f+"|"+_+")":n.length?f:_,a,l-t,!0]};b2.parseClass=$rt});var S2=P(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.unescape=void 0;var Vrt=(r,{windowsPathsNoEscape:e=!1,magicalBraces:t=!0}={})=>t?e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):e?r.replace(/\[([^\/\\{}])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1");w2.unescape=Vrt});var q9=P(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});D2.AST=void 0;var Grt=vwe(),C2=S2(),Krt=new Set(["!","?","+","*","@"]),_we=r=>Krt.has(r),Yrt="(?!(?:^|/)\\.\\.?(?:$|/))",T2="(?!\\.)",Jrt=new Set(["[","."]),Xrt=new Set(["..","."]),Qrt=new Set("().*{}+?[]^$\\!"),Zrt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),N9="[^/]",ywe=N9+"*?",bwe=N9+"+?",L9=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let _=n,y="";for(;_<e.length;){let D=e.charAt(_++);if(o||D==="\\"){o=!o,y+=D;continue}if(s){_===a+1?(D==="^"||D==="!")&&(c=!0):D==="]"&&!(_===a+2&&c)&&(s=!1),y+=D;continue}else if(D==="["){s=!0,a=_,c=!1,y+=D;continue}if(!i.noext&&_we(D)&&e.charAt(_)==="("){t.push(y),y="";let k=new r(D,t);_=r.#l(e,k,_,i),t.push(k);continue}y+=D}return t.push(y),_}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let _=e.charAt(u++);if(o||_==="\\"){o=!o,f+=_;continue}if(s){u===a+1?(_==="^"||_==="!")&&(c=!0):_==="]"&&!(u===a+2&&c)&&(s=!1),f+=_;continue}else if(_==="["){s=!0,a=u,c=!1,f+=_;continue}if(_we(_)&&e.charAt(u)==="("){l.push(f),f="";let y=new r(_,l);l.push(y),u=r.#l(e,y,u,i);continue}if(_==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(_===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=_}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#h(),!this.type){let c=this.isStart()&&this.isEnd()&&!this.#e.some(_=>typeof _!="string"),u=this.#e.map(_=>{let[y,D,k,H]=typeof _=="string"?r.#p(_,this.#n,c):_.toRegExpSource(e);return this.#n=this.#n||k,this.#o=this.#o||H,y}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&Xrt.has(this.#e[0]))){let y=Jrt,D=t&&y.has(u.charAt(0))||u.startsWith("\\.")&&y.has(u.charAt(2))||u.startsWith("\\.\\.")&&y.has(u.charAt(4)),k=!t&&!e&&y.has(u.charAt(0));l=D?Yrt:k?T2:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,C2.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,C2.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!T2?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?T2:"")+bwe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?T2:"")+ywe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,C2.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=(Qrt.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,Grt.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){o+=n&&e==="*"?bwe:ywe,t=!0;continue}if(c==="?"){o+=N9,t=!0;continue}o+=Zrt(c)}return[o,(0,C2.unescape)(e),!!t,s]}};D2.AST=L9});var F9=P(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});P2.escape=void 0;var ent=(r,{windowsPathsNoEscape:e=!1,magicalBraces:t=!1}={})=>t?e?r.replace(/[?*()[\]{}]/g,"[$&]"):r.replace(/[?*()[\]\\{}]/g,"\\$&"):e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");P2.escape=ent});var j9=P(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.unescape=_n.escape=_n.AST=_n.Minimatch=_n.match=_n.makeRe=_n.braceExpand=_n.defaults=_n.filter=_n.GLOBSTAR=_n.sep=_n.minimatch=void 0;var tnt=pwe(),E2=mwe(),Cwe=q9(),rnt=F9(),nnt=S2(),int=(r,e,t={})=>((0,E2.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new G0(e,t).match(r));_n.minimatch=int;var ont=/^\*+([^+@!?\*\[\(]*)$/,snt=r=>e=>!e.startsWith(".")&&e.endsWith(r),ant=r=>e=>e.endsWith(r),cnt=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),unt=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),lnt=/^\*+\.\*+$/,dnt=r=>!r.startsWith(".")&&r.includes("."),fnt=r=>r!=="."&&r!==".."&&r.includes("."),hnt=/^\.\*+$/,pnt=r=>r!=="."&&r!==".."&&r.startsWith("."),mnt=/^\*+$/,gnt=r=>r.length!==0&&!r.startsWith("."),vnt=r=>r.length!==0&&r!=="."&&r!=="..",_nt=/^\?+([^+@!?\*\[\(]*)?$/,ynt=([r,e=""])=>{let t=Twe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},bnt=([r,e=""])=>{let t=Dwe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},wnt=([r,e=""])=>{let t=Dwe([r]);return e?n=>t(n)&&n.endsWith(e):t},Snt=([r,e=""])=>{let t=Twe([r]);return e?n=>t(n)&&n.endsWith(e):t},Twe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},Dwe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},Pwe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",wwe={win32:{sep:"\\"},posix:{sep:"/"}};_n.sep=Pwe==="win32"?wwe.win32.sep:wwe.posix.sep;_n.minimatch.sep=_n.sep;_n.GLOBSTAR=Symbol("globstar **");_n.minimatch.GLOBSTAR=_n.GLOBSTAR;var Cnt="[^/]",Tnt=Cnt+"*?",Dnt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Pnt="(?:(?!(?:\\/|^)\\.).)*?",Ent=(r,e={})=>t=>(0,_n.minimatch)(t,r,e);_n.filter=Ent;_n.minimatch.filter=_n.filter;var Vg=(r,e={})=>Object.assign({},r,e),xnt=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return _n.minimatch;let e=_n.minimatch;return Object.assign((n,i,o={})=>e(n,i,Vg(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,Vg(r,o))}static defaults(i){return e.defaults(Vg(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,Vg(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,Vg(r,o))}},unescape:(n,i={})=>e.unescape(n,Vg(r,i)),escape:(n,i={})=>e.escape(n,Vg(r,i)),filter:(n,i={})=>e.filter(n,Vg(r,i)),defaults:n=>e.defaults(Vg(r,n)),makeRe:(n,i={})=>e.makeRe(n,Vg(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,Vg(r,i)),match:(n,i,o={})=>e.match(n,i,Vg(r,o)),sep:e.sep,GLOBSTAR:_n.GLOBSTAR})};_n.defaults=xnt;_n.minimatch.defaults=_n.defaults;var Rnt=(r,e={})=>((0,E2.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,tnt.expand)(r));_n.braceExpand=Rnt;_n.minimatch.braceExpand=_n.braceExpand;var Ont=(r,e={})=>new G0(r,e).makeRe();_n.makeRe=Ont;_n.minimatch.makeRe=_n.makeRe;var Int=(r,e,t={})=>{let n=new G0(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};_n.match=Int;_n.minimatch.match=_n.match;var Swe=/[?*]|[+@!]\(.*?\)|\[|\]/,knt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),G0=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,E2.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||Pwe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!Swe.test(o[2]))&&!Swe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let D=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),k=!D&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),H=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),M=!H&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),z=k?3:D?0:void 0,re=M?3:H?0:void 0;if(typeof z=="number"&&typeof re=="number"){let[ce,_e]=[e[z],t[re]];ce.toLowerCase()===_e.toLowerCase()&&(t[re]=ce,re>z?t=t.slice(re):z>re&&(e=e.slice(z)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===_n.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,_=a+1;if(_===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var y=e[f];if(this.debug(`
globstar while`,e,f,t,_,y),this.matchOne(e.slice(f),t.slice(_),n))return this.debug("globstar found match!",f,c,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",e,f,t,_);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,_),f===c))}let D;if(typeof l=="string"?(D=d===l,this.debug("string match",l,d,D)):(D=l.test(d),this.debug("pattern match",l,d,D)),!D)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,_n.braceExpand)(this.pattern,this.options)}parse(e){(0,E2.assertValidPattern)(e);let t=this.options;if(e==="**")return _n.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(mnt))?i=t.dot?vnt:gnt:(n=e.match(ont))?i=(t.nocase?t.dot?unt:cnt:t.dot?ant:snt)(n[1]):(n=e.match(_nt))?i=(t.nocase?t.dot?bnt:ynt:t.dot?wnt:Snt)(n):(n=e.match(lnt))?i=t.dot?fnt:dnt:(n=e.match(hnt))&&(i=pnt);let o=Cwe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?Tnt:t.dot?Dnt:Pnt,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let f of d.flags.split(""))i.add(f);return typeof d=="string"?knt(d):d===_n.GLOBSTAR?_n.GLOBSTAR:d._src});u.forEach((d,f)=>{let _=u[f+1],y=u[f-1];d!==_n.GLOBSTAR||y===_n.GLOBSTAR||(y===void 0?_!==void 0&&_!==_n.GLOBSTAR?u[f+1]="(?:\\/|"+n+"\\/)?"+_:u[f]=n:_===void 0?u[f-1]=y+"(?:\\/|\\/"+n+")?":_!==_n.GLOBSTAR&&(u[f-1]=y+"(?:\\/|\\/"+n+"\\/)"+_,u[f+1]=_n.GLOBSTAR))});let l=u.filter(d=>d!==_n.GLOBSTAR);if(this.partial&&l.length>=1){let d=[];for(let f=1;f<=l.length;f++)d.push(l.slice(0,f).join("/"));return"(?:"+d.join("|")+")"}return l.join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.partial&&(o="^(?:\\/|"+s+o.slice(1,-1)+a+")$"),this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return _n.minimatch.defaults(e).Minimatch}};_n.Minimatch=G0;var Ant=q9();Object.defineProperty(_n,"AST",{enumerable:!0,get:function(){return Ant.AST}});var Mnt=F9();Object.defineProperty(_n,"escape",{enumerable:!0,get:function(){return Mnt.escape}});var Lnt=S2();Object.defineProperty(_n,"unescape",{enumerable:!0,get:function(){return Lnt.unescape}});_n.minimatch.AST=Cwe.AST;_n.minimatch.Minimatch=G0;_n.minimatch.escape=rnt.escape;_n.minimatch.unescape=nnt.unescape});var z9=P(uw=>{"use strict";var Nnt=uw&&uw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qnt=uw&&uw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fnt=uw&&uw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Nnt(t,e,n[i]);return qnt(t,e),t}}();Object.defineProperty(uw,"__esModule",{value:!0});uw.matchGlobPattern=Unt;var jnt=Fnt(j9()),znt=require("vscode");function Unt(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=znt.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new jnt.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var R2=P(sC=>{"use strict";Object.defineProperty(sC,"__esModule",{value:!0});sC.DiagnosticFeature=sC.DiagnosticPullMode=sC.vsdiag=void 0;var ec=require("vscode"),Ra=gn(),Hnt=xa(),Bnt=z9(),U9=Eo();function x2(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Gg;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(Gg||(sC.vsdiag=Gg={}));var Fk;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(Fk||(sC.DiagnosticPullMode=Fk={}));var xf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(xf||(xf={}));var cl;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(cl||(cl={}));var lw;(function(r){function e(t){return t instanceof ec.Uri?t.toString():t.uri.toString()}r.asKey=e})(lw||(lw={}));var H9=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===cl.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof ec.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===cl.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof ec.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=lw.asKey(t);(e===cl.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=lw.asKey(t);return(e===cl.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=lw.asKey(t);return(e===cl.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},B9=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new ec.EventEmitter,this.provider=this.createProvider(),this.diagnostics=ec.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new H9,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof ec.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof ec.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof ec.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(cl.document,e,t):this.documentStates.track(cl.document,e);if(s===void 0){let c=new ec.CancellationTokenSource;this.openRequests.set(o,{state:xf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Gg.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof U9.LSPCancellationError&&Ra.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:xf.outDated,document:e}),l===void 0&&d instanceof ec.CancellationError)l={state:xf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(cl.document,e);return}if(l.state===xf.outDated)return;u!==void 0&&(u.kind===Gg.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===xf.reschedule&&this.pull(e)}else s.state===xf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:xf.reschedule,document:s.document})):s.state===xf.outDated&&this.openRequests.set(o,{state:xf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof ec.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?(i!==void 0?this.openRequests.set(n,{state:xf.reschedule,document:e}):this.pull(e,()=>{this.forget(cl.document,e)}),this.forget(cl.workspace,e)):(i!==void 0&&(i.state===xf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:xf.outDated,document:e})),this.diagnostics.delete(t),this.forget(cl.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Ra.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof U9.LSPCancellationError)&&!Ra.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Ra.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new ec.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===Gg.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(cl.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(cl.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof ec.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Gg.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Ra.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:Gg.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Ra.DocumentDiagnosticReportKind.Full?{kind:Gg.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:Gg.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Ra.DocumentDiagnosticRequest.type,u,d,{kind:Gg.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Ra.DocumentDiagnosticReportKind.Full?{kind:Gg.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:Gg.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,Hnt.generateUuid)(),_=this.client.onProgress(Ra.WorkspaceDiagnosticRequest.partialResult,f,async D=>{if(D==null){d(null);return}let k={items:[]};for(let H of D.items)try{k.items.push(await o(H))}catch(M){this.client.error("Converting workspace diagnostics failed.",M)}d(k)}),y={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Ra.WorkspaceDiagnosticRequest.type,y,l).then(async D=>{if(l.isCancellationRequested)return{items:[]};let k={items:[]};for(let H of D.items)k.items.push(await o(H));return _.dispose(),d(k),{items:[]}},D=>(_.dispose(),this.client.handleFailedRequest(Ra.DocumentDiagnosticRequest.type,l,D,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===xf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:xf.outDated,document:t.document});this.diagnostics.dispose()}},W9=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new Ra.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=lw.asKey(e);this.documents.has(t)||(this.documents.set(t,e,Ra.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=lw.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,Ra.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=lw.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,Ra.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?lw.asKey(this.lastDocumentToPull):void 0}},$9=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(M,z)=>!(typeof M=="string"||M.language!==void 0&&M.language!=="*"||M.scheme!==void 0&&M.scheme!=="*"&&M.scheme!==z.scheme||M.pattern!==void 0&&!(0,Bnt.matchGlobPattern)(M.pattern,z)),c=M=>{let z=n.documentSelector;if(i.match!==void 0)return i.match(z,M);for(let re of z)if(Ra.TextDocumentFilter.is(re)&&a(re,M))return!0;return!1},u=M=>M instanceof ec.Uri?c(M):ec.languages.match(o,M)>0&&t.isVisible(M),l=M=>ec.languages.match(o,M.document)>0&&t.isVisible(M.notebook.uri),d=M=>M instanceof ec.Uri?this.activeTextDocument?.uri.toString()===M.toString():this.activeTextDocument===M;this.diagnosticRequestor=new B9(e,t,n),this.backgroundScheduler=new W9(e,this.diagnosticRequestor);let f=M=>{!u(M)||!n.interFileDependencies||d(M)||i.onChange===!1||this.backgroundScheduler.add(M)},_=(M,z)=>(i.filter===void 0||!i.filter(M,z))&&this.diagnosticRequestor.knows(cl.document,M);this.activeTextDocument=ec.window.activeTextEditor?.document,s.push(ec.window.onDidChangeActiveTextEditor(M=>{let z=this.activeTextDocument;this.activeTextDocument=M?.document,z!==void 0&&f(z),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&_(this.activeTextDocument,Fk.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let y=e.getFeature(Ra.DidOpenTextDocumentNotification.method);s.push(y.onNotificationSent(M=>{let z=M.textDocument;this.diagnosticRequestor.knows(cl.document,z)||u(z)&&this.diagnosticRequestor.pull(z,()=>{f(z)})}));let D=e.getFeature(Ra.NotebookDocumentSyncRegistrationType.method);s.push(D.onOpenNotificationSent(M=>{for(let z of M.getCells())l(z)&&this.diagnosticRequestor.pull(z.document,()=>{f(z.document)})})),s.push(t.onOpen(M=>{for(let z of M){if(this.diagnosticRequestor.knows(cl.document,z))continue;let re=z.toString(),ce;for(let _e of ec.workspace.textDocuments)if(re===_e.uri.toString()){ce=_e;break}ce!==void 0&&u(ce)&&this.diagnosticRequestor.pull(ce,()=>{f(ce)})}}));let k=new Set;for(let M of ec.workspace.textDocuments)u(M)&&(this.diagnosticRequestor.pull(M,()=>{f(M)}),k.add(M.uri.toString()));for(let M of ec.workspace.notebookDocuments)for(let z of M.getCells())l(z)&&(this.diagnosticRequestor.pull(z.document,()=>{f(z.document)}),k.add(z.document.uri.toString()));if(i.onTabs===!0)for(let M of t.getTabResources())!k.has(M.toString())&&u(M)&&this.diagnosticRequestor.pull(M,()=>{f(M)});if(i.onChange===!0){let M=e.getFeature(Ra.DidChangeTextDocumentNotification.method);s.push(M.onNotificationSent(async z=>{let re=z.textDocument;_(re,Fk.onType)&&this.diagnosticRequestor.pull(re,()=>{this.backgroundScheduler.trigger()})})),s.push(D.onChangeNotificationSent(async z=>{let ce=(z.cells?.textContent||[]).map($=>z.notebook.getCells().find(te=>te.document.uri.toString()===$.document.uri.toString()));for(let $ of ce)$&&l($)&&this.diagnosticRequestor.pull($.document,()=>{this.backgroundScheduler.trigger()});let _e=z.cells?.structure?.didClose||[];for(let $ of _e)this.diagnosticRequestor.forgetDocument($.document);let G=z.cells?.structure?.didOpen||[];for(let $ of G)l($)&&this.diagnosticRequestor.pull($.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let M=e.getFeature(Ra.DidSaveTextDocumentNotification.method);s.push(M.onNotificationSent(z=>{let re=z.textDocument;_(re,Fk.onSave)&&this.diagnosticRequestor.pull(z.textDocument)})),s.push(D.onSaveNotificationSent(z=>{for(let re of z.getCells())l(re)&&this.diagnosticRequestor.pull(re.document)}))}let H=e.getFeature(Ra.DidCloseTextDocumentNotification.method);s.push(H.onNotificationSent(M=>{this.cleanUpDocument(M.textDocument)})),s.push(D.onCloseNotificationSent(M=>{for(let z of M.getCells())this.cleanUpDocument(z.document)})),t.onClose(M=>{for(let z of M)this.cleanUpDocument(z)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let M of ec.workspace.textDocuments)u(M)&&this.diagnosticRequestor.pull(M)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=ec.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(cl.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},V9=class extends U9.TextDocumentLanguageFeature{constructor(e){super(e,Ra.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=x2(x2(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[Ra.DiagnosticTag.Unnecessary,Ra.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,x2(x2(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ra.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new $9(this._client,this._client.tabsModel,e);return[t.disposable,t]}};sC.DiagnosticFeature=V9});var Y9=P(_y=>{"use strict";var Wnt=_y&&_y.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$nt=_y&&_y.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),A2=_y&&_y.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Wnt(t,e,n[i]);return $nt(t,e),t}}();Object.defineProperty(_y,"__esModule",{value:!0});_y.NotebookDocumentSyncFeature=void 0;var tc=A2(require("vscode")),dw=A2(gn()),Vnt=A2(xa()),Ewe=A2(Wg()),Gnt=z9();function xwe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var RP;(function(r){let e;(function(t){function n(f,_){return{version:f.version,uri:_.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,_,y){let D=dw.NotebookDocument.create(y.asUri(f.uri),f.notebookType,f.version,o(_,y));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,_){return f.map(y=>a(y,_))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,_){let y=dw.NotebookCell.create(c(f.kind),_.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(y.metadata=s(f.metadata)),f.executionSummary!==void 0&&Ewe.number(f.executionSummary.executionOrder)&&Ewe.boolean(f.executionSummary.success)&&(y.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),y}t.asNotebookCell=a;function c(f){switch(f){case tc.NotebookCellKind.Markup:return dw.NotebookCellKind.Markup;case tc.NotebookCellKind.Code:return dw.NotebookCellKind.Code}}function u(f,_){if(f.has(_))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(_)){let y=[];for(let D of _)if(D!==null&&typeof D=="object"||Array.isArray(D))y.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");y.push(D)}return y}else{let y=Object.keys(_),D=Object.create(null);for(let k of y){let H=_[k];if(H!==null&&typeof H=="object"||Array.isArray(H))D[k]=u(f,H);else{if(H instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[k]=H}}return D}}function l(f,_){let y=_.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:y.textDocument,changes:y.contentChanges}}t.asTextContentChange=l;function d(f,_){let y=Object.create(null);if(f.metadata&&(y.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),k=f.cells;k.structure&&(D.structure={array:{start:k.structure.array.start,deleteCount:k.structure.array.deleteCount,cells:k.structure.array.cells!==void 0?k.structure.array.cells.map(H=>r.c2p.asNotebookCell(H,_)):void 0},didOpen:k.structure.didOpen!==void 0?k.structure.didOpen.map(H=>_.asOpenTextDocumentParams(H.document).textDocument):void 0,didClose:k.structure.didClose!==void 0?k.structure.didClose.map(H=>_.asCloseTextDocumentParams(H.document).textDocument):void 0}),k.data!==void 0&&(D.data=k.data.map(H=>r.c2p.asNotebookCell(H,_))),k.textContent!==void 0&&(D.textContent=k.textContent.map(H=>r.c2p.asTextContentChange(H,_))),Object.keys(D).length>0&&(y.cells=D)}return y}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(RP||(RP={}));var G9;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let _=l-1,y=d-1;for(;_>=0&&y>=0&&t(a[_],c[y],u);)_--,y--;let D=_+1-f,k=f===y+1?void 0:c.slice(f,y+1);return k!==void 0?{start:f,deleteCount:D,cells:k}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let _=0;_<d.length;_++){let y=d[_];if(!o(a[y],c[y]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(G9||(G9={}));var O2;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,Gnt.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(O2||(O2={}));var I2;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(I2||(I2={}));var k2;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(k2||(k2={}));var OP=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(I2.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,tc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of tc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);tc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&tc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),tc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of tc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(tc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(tc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(tc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(dw.DidOpenNotebookDocumentNotification.type,{notebookDocument:RP.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),k2.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(dw.DidChangeNotebookDocumentNotification.type,{notebookDocument:RP.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:RP.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),k2.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(dw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(dw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=RP.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=G9.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(y=>[y.document.uri.toString(),y])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(y=>[y.document.uri.toString(),y]));for(let y of Array.from(d.keys()))l.has(y)&&(d.delete(y),l.delete(y));o.cells=o.cells??{};let f=[],_=[];if(l.size>0||d.size>0){for(let y of l.values())f.push(y);for(let y of d.values())_.push(y)}o.cells.structure={array:u,didOpen:f,didClose:_}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||O2.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||O2.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},K9=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=dw.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new tc.EventEmitter,this._onOpenNotificationSent=new tc.EventEmitter,this._onCloseNotificationSent=new tc.EventEmitter,this._onSaveNotificationSent=new tc.EventEmitter,tc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof OP&&o.didOpenNotebookCellTextDocument(n,i)}),tc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof OP&&s.didChangeNotebookCellTextDocument(i,o,t)}),tc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof OP&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=xwe(xwe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(I2.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??Vnt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new OP(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new tc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new tc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new tc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new tc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&tc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of tc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};_y.NotebookDocumentSyncFeature=K9});var Iwe=P(Lm=>{"use strict";var Knt=Lm&&Lm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ynt=Lm&&Lm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Owe=Lm&&Lm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Knt(t,e,n[i]);return Ynt(t,e),t}}();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.SyncConfigurationFeature=Lm.ConfigurationFeature=void 0;Lm.toJSONObject=K0;var IP=require("vscode"),jk=gn(),Jnt=Owe(Wg()),Xnt=Owe(xa()),Rwe=Eo(),J9=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(jk.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=K0(IP.workspace.getConfiguration(void 0,e).get(t));else{let o=IP.workspace.getConfiguration(t.substr(0,i),e);o&&(n=K0(o.get(t.substr(i+1))))}}else{let i=IP.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=K0(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};Lm.ConfigurationFeature=J9;function K0(r){if(r){if(Array.isArray(r))return r.map(K0);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=K0(r[t]));return e}}return r}var X9=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return jk.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Rwe.ensure)((0,Rwe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Xnt.generateUuid(),registerOptions:{section:e}})}register(e){let t=IP.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(Jnt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(jk.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(jk.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${jk.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=IP.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=IP.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=K0(c)}}return i}};Lm.SyncConfigurationFeature=X9});var kwe=P(Mu=>{"use strict";var Qnt=Mu&&Mu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Znt=Mu&&Mu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eit=Mu&&Mu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qnt(t,e,n[i]);return Znt(t,e),t}}();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.DidSaveTextDocumentFeature=Mu.WillSaveWaitUntilFeature=Mu.WillSaveFeature=Mu.DidChangeTextDocumentFeature=Mu.DidCloseTextDocumentFeature=Mu.DidOpenTextDocumentFeature=void 0;var Mp=require("vscode"),ea=gn(),Tc=Eo(),kP=eit(xa()),Q9=class extends Tc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,Mp.workspace.onDidOpenTextDocument,ea.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Tc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:kP.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return ea.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(Mp.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&Mp.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push(Mp.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();let n=!1;for(let i of t){if(e!==void 0&&i.uri.toString()===e){n=!0;continue}await super.callback(i)}return n}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};Mu.DidOpenTextDocumentFeature=Q9;var Z9=class extends Tc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,Mp.workspace.onDidCloseTextDocument,ea.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Tc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return ea.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:kP.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(Mp.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Mu.DidCloseTextDocumentFeature=Z9;var eK=class extends Tc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new Mp.EventEmitter,this._onPendingChangeAdded=new Mp.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=ea.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return ea.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==ea.TextDocumentSyncKind.None&&this.register({id:kP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Mp.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(Mp.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===ea.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(ea.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,ea.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===ea.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${ea.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=ea.TextDocumentSyncKind.None;else{this._syncKind=ea.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===ea.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=ea.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(Mp.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==ea.TextDocumentSyncKind.Full)switch(e){case ea.TextDocumentSyncKind.Full:this._syncKind=e;break;case ea.TextDocumentSyncKind.Incremental:this._syncKind===ea.TextDocumentSyncKind.None&&(this._syncKind=ea.TextDocumentSyncKind.Incremental);break}}};Mu.DidChangeTextDocumentFeature=eK;var tK=class extends Tc.TextDocumentEventFeature{constructor(e){super(e,Mp.workspace.onWillSaveTextDocument,ea.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Tc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return ea.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:kP.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};Mu.WillSaveFeature=tK;var rK=class extends Tc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return ea.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:kP.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Mp.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Tc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(ea.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Mu.WillSaveWaitUntilFeature=rK;var nK=class extends Tc.TextDocumentEventFeature{_includeText;constructor(e){super(e,Mp.workspace.onDidSaveTextDocument,ea.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Tc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return ea.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Tc.ensure)((0,Tc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:kP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Mu.DidSaveTextDocumentFeature=nK});var Awe=P(yy=>{"use strict";var tit=yy&&yy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rit=yy&&yy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nit=yy&&yy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&tit(t,e,n[i]);return rit(t,e),t}}();Object.defineProperty(yy,"__esModule",{value:!0});yy.CompletionItemFeature=void 0;var iit=require("vscode"),vo=gn(),iK=Eo(),oit=nit(xa()),sit=[vo.CompletionItemKind.Text,vo.CompletionItemKind.Method,vo.CompletionItemKind.Function,vo.CompletionItemKind.Constructor,vo.CompletionItemKind.Field,vo.CompletionItemKind.Variable,vo.CompletionItemKind.Class,vo.CompletionItemKind.Interface,vo.CompletionItemKind.Module,vo.CompletionItemKind.Property,vo.CompletionItemKind.Unit,vo.CompletionItemKind.Value,vo.CompletionItemKind.Enum,vo.CompletionItemKind.Keyword,vo.CompletionItemKind.Snippet,vo.CompletionItemKind.Color,vo.CompletionItemKind.File,vo.CompletionItemKind.Reference,vo.CompletionItemKind.Folder,vo.CompletionItemKind.EnumMember,vo.CompletionItemKind.Constant,vo.CompletionItemKind.Struct,vo.CompletionItemKind.Event,vo.CompletionItemKind.Operator,vo.CompletionItemKind.TypeParameter],oK=class extends iK.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,vo.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,iK.ensure)((0,iK.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[vo.MarkupKind.Markdown,vo.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[vo.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[vo.InsertTextMode.asIs,vo.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=vo.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:sit},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:oit.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,_=(y,D,k,H)=>d.sendRequest(vo.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(y,D,k),H).then(M=>H.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(M,i,H),M=>d.handleFailedRequest(vo.CompletionRequest.type,H,M,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,_):_(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,_)=>u.sendRequest(vo.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),_).then(y=>_.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(y),y=>u.handleFailedRequest(vo.CompletionResolveRequest.type,_,y,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[iit.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};yy.CompletionItemFeature=oK});var Mwe=P(by=>{"use strict";var ait=by&&by.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cit=by&&by.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uit=by&&by.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ait(t,e,n[i]);return cit(t,e),t}}();Object.defineProperty(by,"__esModule",{value:!0});by.HoverFeature=void 0;var lit=require("vscode"),zk=gn(),sK=Eo(),dit=uit(xa()),aK=class extends sK.TextDocumentLanguageFeature{constructor(e){super(e,zk.HoverRequest.type)}fillClientCapabilities(e){let t=(0,sK.ensure)((0,sK.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[zk.MarkupKind.Markdown,zk.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:dit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(zk.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(_),_=>a.handleFailedRequest(zk.HoverRequest.type,f,_,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return lit.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};by.HoverFeature=aK});var Lwe=P(wy=>{"use strict";var fit=wy&&wy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hit=wy&&wy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pit=wy&&wy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&fit(t,e,n[i]);return hit(t,e),t}}();Object.defineProperty(wy,"__esModule",{value:!0});wy.DefinitionFeature=void 0;var mit=require("vscode"),cK=gn(),uK=Eo(),git=pit(xa()),lK=class extends uK.TextDocumentLanguageFeature{constructor(e){super(e,cK.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,uK.ensure)((0,uK.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:git.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(cK.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(cK.DefinitionRequest.type,f,_,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return mit.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};wy.DefinitionFeature=lK});var qwe=P(Sy=>{"use strict";var vit=Sy&&Sy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_it=Sy&&Sy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yit=Sy&&Sy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&vit(t,e,n[i]);return _it(t,e),t}}();Object.defineProperty(Sy,"__esModule",{value:!0});Sy.SignatureHelpFeature=void 0;var Nwe=require("vscode"),Uk=gn(),dK=Eo(),bit=yit(xa()),fK=class extends dK.TextDocumentLanguageFeature{constructor(e){super(e,Uk.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,dK.ensure)((0,dK.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[Uk.MarkupKind.Markdown,Uk.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:bit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,_)=>a.sendRequest(Uk.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),_).then(y=>_.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(y,_),y=>a.handleFailedRequest(Uk.SignatureHelpRequest.type,_,y,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return Nwe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return Nwe.languages.registerSignatureHelpProvider(n,t,i)}}};Sy.SignatureHelpFeature=fK});var Fwe=P(Cy=>{"use strict";var wit=Cy&&Cy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sit=Cy&&Cy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cit=Cy&&Cy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wit(t,e,n[i]);return Sit(t,e),t}}();Object.defineProperty(Cy,"__esModule",{value:!0});Cy.DocumentHighlightFeature=void 0;var Tit=require("vscode"),hK=gn(),pK=Eo(),Dit=Cit(xa()),mK=class extends pK.TextDocumentLanguageFeature{constructor(e){super(e,hK.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,pK.ensure)((0,pK.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:Dit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(hK.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(_,f),_=>a.handleFailedRequest(hK.DocumentHighlightRequest.type,f,_,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Tit.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Cy.DocumentHighlightFeature=mK});var _K=P(Rf=>{"use strict";var Pit=Rf&&Rf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eit=Rf&&Rf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xit=Rf&&Rf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Pit(t,e,n[i]);return Eit(t,e),t}}();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.DocumentSymbolFeature=Rf.SupportedSymbolTags=Rf.SupportedSymbolKinds=void 0;var Rit=require("vscode"),ss=gn(),gK=Eo(),Oit=xit(xa());Rf.SupportedSymbolKinds=[ss.SymbolKind.File,ss.SymbolKind.Module,ss.SymbolKind.Namespace,ss.SymbolKind.Package,ss.SymbolKind.Class,ss.SymbolKind.Method,ss.SymbolKind.Property,ss.SymbolKind.Field,ss.SymbolKind.Constructor,ss.SymbolKind.Enum,ss.SymbolKind.Interface,ss.SymbolKind.Function,ss.SymbolKind.Variable,ss.SymbolKind.Constant,ss.SymbolKind.String,ss.SymbolKind.Number,ss.SymbolKind.Boolean,ss.SymbolKind.Array,ss.SymbolKind.Object,ss.SymbolKind.Key,ss.SymbolKind.Null,ss.SymbolKind.EnumMember,ss.SymbolKind.Struct,ss.SymbolKind.Event,ss.SymbolKind.Operator,ss.SymbolKind.TypeParameter];Rf.SupportedSymbolTags=[ss.SymbolTag.Deprecated];var vK=class extends gK.TextDocumentLanguageFeature{constructor(e){super(e,ss.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,gK.ensure)((0,gK.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Rf.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Rf.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:Oit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(ss.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let _=f[0];return ss.DocumentSymbol.is(_)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(ss.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Rit.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};Rf.DocumentSymbolFeature=vK});var zwe=P(Ty=>{"use strict";var Iit=Ty&&Ty.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kit=Ty&&Ty.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ait=Ty&&Ty.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Iit(t,e,n[i]);return kit(t,e),t}}();Object.defineProperty(Ty,"__esModule",{value:!0});Ty.WorkspaceSymbolFeature=void 0;var Mit=require("vscode"),Hk=gn(),yK=Eo(),jwe=_K(),Lit=Ait(xa()),bK=class extends yK.WorkspaceFeature{constructor(e){super(e,Hk.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,yK.ensure)((0,yK.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:jwe.SupportedSymbolKinds},t.tagSupport={valueSet:jwe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Lit.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Hk.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(Hk.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Hk.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(Hk.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[Mit.languages.registerWorkspaceSymbolProvider(t),t]}};Ty.WorkspaceSymbolFeature=bK});var Uwe=P(Dy=>{"use strict";var Nit=Dy&&Dy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qit=Dy&&Dy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fit=Dy&&Dy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Nit(t,e,n[i]);return qit(t,e),t}}();Object.defineProperty(Dy,"__esModule",{value:!0});Dy.ReferencesFeature=void 0;var jit=require("vscode"),wK=gn(),SK=Eo(),zit=Fit(xa()),CK=class extends SK.TextDocumentLanguageFeature{constructor(e){super(e,wK.ReferencesRequest.type)}fillClientCapabilities(e){(0,SK.ensure)((0,SK.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:zit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>c.sendRequest(wK.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,_),y).then(D=>y.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,y),D=>c.handleFailedRequest(wK.ReferencesRequest.type,y,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return jit.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Dy.ReferencesFeature=CK});var Hwe=P(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});M2.TypeDefinitionFeature=void 0;var Uit=require("vscode"),TK=gn(),Bk=Eo(),DK=class extends Bk.TextDocumentLanguageFeature{constructor(e){super(e,TK.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,Bk.ensure)((0,Bk.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,Bk.ensure)((0,Bk.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(TK.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(TK.TypeDefinitionRequest.type,f,_,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Uit.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};M2.TypeDefinitionFeature=DK});var Bwe=P(L2=>{"use strict";Object.defineProperty(L2,"__esModule",{value:!0});L2.ImplementationFeature=void 0;var Hit=require("vscode"),PK=gn(),EK=Eo(),xK=class extends EK.TextDocumentLanguageFeature{constructor(e){super(e,PK.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,EK.ensure)((0,EK.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(PK.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(PK.ImplementationRequest.type,f,_,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Hit.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};L2.ImplementationFeature=xK});var IK=P(N2=>{"use strict";Object.defineProperty(N2,"__esModule",{value:!0});N2.ColorProviderFeature=void 0;var Bit=require("vscode"),Wk=gn(),RK=Eo(),OK=class extends RK.TextDocumentLanguageFeature{constructor(e){super(e,Wk.DocumentColorRequest.type)}fillClientCapabilities(e){(0,RK.ensure)((0,RK.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(Wk.ColorPresentationRequest.type,_,f).then(y=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(y,f),y=>a.handleFailedRequest(Wk.ColorPresentationRequest.type,f,y,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(Wk.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(Wk.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[Bit.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};N2.ColorProviderFeature=OK});var Wwe=P(Py=>{"use strict";var Wit=Py&&Py.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$it=Py&&Py.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vit=Py&&Py.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Wit(t,e,n[i]);return $it(t,e),t}}();Object.defineProperty(Py,"__esModule",{value:!0});Py.CodeActionFeature=void 0;var Git=require("vscode"),Of=gn(),Kit=Vit(xa()),kK=Eo(),AK=class extends kK.TextDocumentLanguageFeature{constructor(e){super(e,Of.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,kK.ensure)((0,kK.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Of.CodeActionKind.Empty,Of.CodeActionKind.QuickFix,Of.CodeActionKind.Refactor,Of.CodeActionKind.RefactorExtract,Of.CodeActionKind.RefactorInline,Of.CodeActionKind.RefactorMove,Of.CodeActionKind.RefactorRewrite,Of.CodeActionKind.Source,Of.CodeActionKind.SourceOrganizeImports,Of.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[Of.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:Kit.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(_)};return c.sendRequest(Of.CodeActionRequest.type,D,y).then(k=>y.isCancellationRequested||k===null||k===void 0?null:c.protocol2CodeConverter.asCodeActionResult(k,y),k=>c.handleFailedRequest(Of.CodeActionRequest.type,y,k,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Of.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Of.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[Git.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};Py.CodeActionFeature=AK});var Vwe=P(Ey=>{"use strict";var Yit=Ey&&Ey.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jit=Ey&&Ey.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xit=Ey&&Ey.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Yit(t,e,n[i]);return Jit(t,e),t}}();Object.defineProperty(Ey,"__esModule",{value:!0});Ey.CodeLensFeature=void 0;var $we=require("vscode"),AP=gn(),Qit=Xit(xa()),$k=Eo(),MK=class extends $k.TextDocumentLanguageFeature{constructor(e){super(e,AP.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,$k.ensure)((0,$k.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,$k.ensure)((0,$k.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(AP.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:Qit.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new $we.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(AP.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(AP.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(AP.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(AP.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[$we.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Ey.CodeLensFeature=MK});var Gwe=P(Lp=>{"use strict";var Zit=Lp&&Lp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),eot=Lp&&Lp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tot=Lp&&Lp.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Zit(t,e,n[i]);return eot(t,e),t}}();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.DocumentOnTypeFormattingFeature=Lp.DocumentRangeFormattingFeature=Lp.DocumentFormattingFeature=void 0;var q2=require("vscode"),n_=gn(),FK=tot(xa()),fw=Eo(),MP;(function(r){function e(t){let n=q2.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(MP||(MP={}));var LK=class extends fw.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,fw.ensure)((0,fw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:FK.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,MP.fromConfiguration(l))};return a.sendRequest(n_.DocumentFormattingRequest.type,_,f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(y,f),y=>a.handleFailedRequest(n_.DocumentFormattingRequest.type,f,y,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[q2.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Lp.DocumentFormattingFeature=LK;var NK=class extends fw.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,fw.ensure)((0,fw.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:FK.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(_,MP.fromConfiguration(d))};return c.sendRequest(n_.DocumentRangeFormattingRequest.type,D,y).then(k=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,y),k=>c.handleFailedRequest(n_.DocumentRangeFormattingRequest.type,y,k,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(_,MP.fromConfiguration(d))};return c.sendRequest(n_.DocumentRangesFormattingRequest.type,D,y).then(k=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,y),k=>c.handleFailedRequest(n_.DocumentRangesFormattingRequest.type,y,k,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[q2.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Lp.DocumentRangeFormattingFeature=NK;var qK=class extends fw.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,fw.ensure)((0,fw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:FK.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(_,y,D,k,H)=>{let M={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(_),position:l.code2ProtocolConverter.asPosition(y),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(k,MP.fromConfiguration(_))};return l.sendRequest(n_.DocumentOnTypeFormattingRequest.type,M,H).then(z=>H.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(z,H),z=>l.handleFailedRequest(n_.DocumentOnTypeFormattingRequest.type,H,z,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[q2.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};Lp.DocumentOnTypeFormattingFeature=qK});var Jwe=P(xy=>{"use strict";var rot=xy&&xy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),not=xy&&xy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ywe=xy&&xy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rot(t,e,n[i]);return not(t,e),t}}();Object.defineProperty(xy,"__esModule",{value:!0});xy.RenameFeature=void 0;var iot=require("vscode"),Y0=gn(),oot=Ywe(xa()),Kwe=Ywe(Wg()),jK=Eo(),zK=class extends jK.TextDocumentLanguageFeature{constructor(e){super(e,Y0.RenameRequest.type)}fillClientCapabilities(e){let t=(0,jK.ensure)((0,jK.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=Y0.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(Kwe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:oot.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:_};return c.sendRequest(Y0.RenameRequest.type,D,y).then(k=>y.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(k,y),k=>c.handleFailedRequest(Y0.RenameRequest.type,y,k,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(Y0.PrepareRenameRequest.type,_,f).then(y=>f.isCancellationRequested?null:Y0.Range.is(y)?a.protocol2CodeConverter.asRange(y):this.isDefaultBehavior(y)?y.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):y&&Y0.Range.is(y.range)?{range:a.protocol2CodeConverter.asRange(y.range),placeholder:y.placeholder}:Promise.reject(new Error("The element can't be renamed.")),y=>{throw typeof y.message=="string"?new Error(y.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return iot.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Kwe.boolean(t.defaultBehavior)}};xy.RenameFeature=zK});var BK=P(Ry=>{"use strict";var sot=Ry&&Ry.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aot=Ry&&Ry.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cot=Ry&&Ry.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&sot(t,e,n[i]);return aot(t,e),t}}();Object.defineProperty(Ry,"__esModule",{value:!0});Ry.DocumentLinkFeature=void 0;var uot=require("vscode"),Vk=gn(),UK=Eo(),lot=cot(xa()),HK=class extends UK.TextDocumentLanguageFeature{constructor(e){super(e,Vk.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,UK.ensure)((0,UK.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:lot.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(Vk.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(Vk.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(Vk.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(Vk.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[uot.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Ry.DocumentLinkFeature=HK});var Qwe=P(Oy=>{"use strict";var dot=Oy&&Oy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fot=Oy&&Oy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hot=Oy&&Oy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&dot(t,e,n[i]);return fot(t,e),t}}();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.ExecuteCommandFeature=void 0;var pot=require("vscode"),WK=gn(),mot=hot(xa()),Xwe=Eo(),$K=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return WK.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,Xwe.ensure)((0,Xwe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:mot.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(WK.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(WK.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(pot.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Oy.ExecuteCommandFeature=$K});var eSe=P(F2=>{"use strict";Object.defineProperty(F2,"__esModule",{value:!0});F2.FoldingRangeFeature=void 0;var Zwe=require("vscode"),J0=gn(),Gk=Eo(),VK=class extends Gk.TextDocumentLanguageFeature{constructor(e){super(e,J0.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Gk.ensure)((0,Gk.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[J0.FoldingRangeKind.Comment,J0.FoldingRangeKind.Imports,J0.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,Gk.ensure)((0,Gk.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(J0.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Zwe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,_)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(J0.FoldingRangeRequest.type,y,_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(D,_),D=>c.handleFailedRequest(J0.FoldingRangeRequest.type,_,D,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[Zwe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};F2.FoldingRangeFeature=VK});var JK=P(j2=>{"use strict";Object.defineProperty(j2,"__esModule",{value:!0});j2.DeclarationFeature=void 0;var got=require("vscode"),GK=gn(),KK=Eo(),YK=class extends KK.TextDocumentLanguageFeature{constructor(e){super(e,GK.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,KK.ensure)((0,KK.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(GK.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(_,f),_=>a.handleFailedRequest(GK.DeclarationRequest.type,f,_,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return got.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};j2.DeclarationFeature=YK});var e7=P(z2=>{"use strict";Object.defineProperty(z2,"__esModule",{value:!0});z2.SelectionRangeFeature=void 0;var vot=require("vscode"),XK=gn(),QK=Eo(),ZK=class extends QK.TextDocumentLanguageFeature{constructor(e){super(e,XK.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,QK.ensure)((0,QK.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(XK.SelectionRangeRequest.type,_,f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(y,f),y=>a.handleFailedRequest(XK.SelectionRangeRequest.type,f,y,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return vot.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};z2.SelectionRangeFeature=ZK});var i7=P(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});U2.CallHierarchyFeature=void 0;var _ot=require("vscode"),X0=gn(),t7=Eo(),r7=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(X0.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(X0.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(X0.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(X0.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(X0.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(X0.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},n7=class extends t7.TextDocumentLanguageFeature{constructor(e){super(e,X0.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,t7.ensure)((0,t7.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new r7(t);return[_ot.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};U2.CallHierarchyFeature=n7});var rSe=P(Iy=>{"use strict";var yot=Iy&&Iy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bot=Iy&&Iy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tSe=Iy&&Iy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&yot(t,e,n[i]);return bot(t,e),t}}();Object.defineProperty(Iy,"__esModule",{value:!0});Iy.SemanticTokensFeature=void 0;var H2=tSe(require("vscode")),qi=gn(),Kk=Eo(),wot=tSe(Wg()),o7=class extends Kk.TextDocumentLanguageFeature{constructor(e){super(e,qi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,Kk.ensure)((0,Kk.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[qi.SemanticTokenTypes.namespace,qi.SemanticTokenTypes.type,qi.SemanticTokenTypes.class,qi.SemanticTokenTypes.enum,qi.SemanticTokenTypes.interface,qi.SemanticTokenTypes.struct,qi.SemanticTokenTypes.typeParameter,qi.SemanticTokenTypes.parameter,qi.SemanticTokenTypes.variable,qi.SemanticTokenTypes.property,qi.SemanticTokenTypes.enumMember,qi.SemanticTokenTypes.event,qi.SemanticTokenTypes.function,qi.SemanticTokenTypes.method,qi.SemanticTokenTypes.macro,qi.SemanticTokenTypes.keyword,qi.SemanticTokenTypes.comment,qi.SemanticTokenTypes.string,qi.SemanticTokenTypes.number,qi.SemanticTokenTypes.regexp,qi.SemanticTokenTypes.operator,qi.SemanticTokenTypes.decorator,qi.SemanticTokenTypes.label],t.tokenModifiers=[qi.SemanticTokenModifiers.declaration,qi.SemanticTokenModifiers.definition,qi.SemanticTokenModifiers.readonly,qi.SemanticTokenModifiers.static,qi.SemanticTokenModifiers.deprecated,qi.SemanticTokenModifiers.abstract,qi.SemanticTokenModifiers.async,qi.SemanticTokenModifiers.modification,qi.SemanticTokenModifiers.documentation,qi.SemanticTokenModifiers.defaultLibrary],t.formats=[qi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,Kk.ensure)((0,Kk.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(qi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=wot.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new H2.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(_,y)=>{let D=this._client,k=D.middleware,H=(M,z)=>{let re={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(M)};return D.sendRequest(qi.SemanticTokensRequest.type,re,z).then(ce=>z.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(ce,z),ce=>D.handleFailedRequest(qi.SemanticTokensRequest.type,z,ce,null))};return k.provideDocumentSemanticTokens?k.provideDocumentSemanticTokens(_,y,H):H(_,y)},provideDocumentSemanticTokensEdits:i?(_,y,D)=>{let k=this._client,H=k.middleware,M=(z,re,ce)=>{let _e={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(z),previousResultId:re};return k.sendRequest(qi.SemanticTokensDeltaRequest.type,_e,ce).then(async G=>ce.isCancellationRequested?null:qi.SemanticTokens.is(G)?await k.protocol2CodeConverter.asSemanticTokens(G,ce):await k.protocol2CodeConverter.asSemanticTokensEdits(G,ce),G=>k.handleFailedRequest(qi.SemanticTokensDeltaRequest.type,ce,G,null))};return H.provideDocumentSemanticTokensEdits?H.provideDocumentSemanticTokensEdits(_,y,D,M):M(_,y,D)}:void 0}:void 0,c=e.range===!0?{onDidChangeSemanticTokens:o.event,provideDocumentRangeSemanticTokens:(_,y,D)=>{let k=this._client,H=k.middleware,M=(z,re,ce)=>{let _e={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(z),range:k.code2ProtocolConverter.asRange(re)};return k.sendRequest(qi.SemanticTokensRangeRequest.type,_e,ce).then(G=>ce.isCancellationRequested?null:k.protocol2CodeConverter.asSemanticTokens(G,ce),G=>k.handleFailedRequest(qi.SemanticTokensRangeRequest.type,ce,G,null))};return H.provideDocumentRangeSemanticTokens?H.provideDocumentRangeSemanticTokens(_,y,D,M):M(_,y,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(H2.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(H2.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new H2.Disposable(()=>u.forEach(_=>_.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};Iy.SemanticTokensFeature=o7});var iSe=P(ky=>{"use strict";var Sot=ky&&ky.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cot=ky&&ky.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nSe=ky&&ky.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Sot(t,e,n[i]);return Cot(t,e),t}}();Object.defineProperty(ky,"__esModule",{value:!0});ky.LinkedEditingFeature=void 0;var Tot=nSe(require("vscode")),s7=nSe(gn()),a7=Eo(),c7=class extends a7.TextDocumentLanguageFeature{constructor(e){super(e,s7.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,a7.ensure)((0,a7.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(s7.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(_,f),_=>a.handleFailedRequest(s7.LinkedEditingRangeRequest.type,f,_,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Tot.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ky.LinkedEditingFeature=c7});var f7=P(B2=>{"use strict";Object.defineProperty(B2,"__esModule",{value:!0});B2.TypeHierarchyFeature=void 0;var Dot=require("vscode"),Q0=gn(),u7=Eo(),l7=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Q0.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(Q0.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(Q0.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(Q0.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(Q0.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(Q0.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},d7=class extends u7.TextDocumentLanguageFeature{constructor(e){super(e,Q0.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,u7.ensure)((0,u7.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new l7(t);return[Dot.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};B2.TypeHierarchyFeature=d7});var p7=P($2=>{"use strict";Object.defineProperty($2,"__esModule",{value:!0});$2.InlineValueFeature=void 0;var oSe=require("vscode"),W2=gn(),Yk=Eo(),h7=class extends Yk.TextDocumentLanguageFeature{constructor(e){super(e,W2.InlineValueRequest.type)}fillClientCapabilities(e){(0,Yk.ensure)((0,Yk.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,Yk.ensure)((0,Yk.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(W2.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new oSe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,_,y,D)=>{let k={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(_),context:u.code2ProtocolConverter.asInlineValueContext(y)};return u.sendRequest(W2.InlineValueRequest.type,k,D).then(H=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(H,D),H=>u.handleFailedRequest(W2.InlineValueRequest.type,D,H,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return oSe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};$2.InlineValueFeature=h7});var aSe=P(V2=>{"use strict";Object.defineProperty(V2,"__esModule",{value:!0});V2.InlayHintsFeature=void 0;var sSe=require("vscode"),LP=gn(),Jk=Eo(),m7=class extends Jk.TextDocumentLanguageFeature{constructor(e){super(e,LP.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,Jk.ensure)((0,Jk.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,Jk.ensure)((0,Jk.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(LP.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new sSe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,_)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(LP.InlayHintRequest.type,y,_);return _.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,_)}catch(D){return c.handleFailedRequest(LP.InlayHintRequest.type,_,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(LP.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let _=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:_}catch(f){return a.handleFailedRequest(LP.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return sSe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};V2.InlayHintsFeature=m7});var y7=P(i_=>{"use strict";var Pot=i_&&i_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eot=i_&&i_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xot=i_&&i_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Pot(t,e,n[i]);return Eot(t,e),t}}();Object.defineProperty(i_,"__esModule",{value:!0});i_.WorkspaceFoldersFeature=void 0;i_.arrayDiff=v7;var Rot=xot(xa()),G2=require("vscode"),Xk=gn();function g7(r,e){if(r!=null)return r[e]}function v7(r,e){return r.filter(t=>e.indexOf(t)<0)}var _7=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Xk.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=G2.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(Xk.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=G2.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=g7(g7(g7(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=Rot.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=v7(this._initialFolders,e),i=v7(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${Xk.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(Xk.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=G2.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${Xk.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(G2.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};i_.WorkspaceFoldersFeature=_7});var lSe=P(Lu=>{"use strict";var Oot=Lu&&Lu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Iot=Lu&&Lu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),J2=Lu&&Lu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Oot(t,e,n[i]);return Iot(t,e),t}}();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.WillDeleteFilesFeature=Lu.WillRenameFilesFeature=Lu.WillCreateFilesFeature=Lu.DidDeleteFilesFeature=Lu.DidRenameFilesFeature=Lu.DidCreateFilesFeature=void 0;var Kg=J2(require("vscode")),kot=J2(j9()),hw=J2(gn()),Aot=J2(xa());function cSe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function Mot(r,e){return r[e]}function uSe(r,e,t){r[e]=t}var Qk=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=cSe(cSe(e,"workspace"),"fileOperations");uSe(t,"dynamicRegistration",!0),uSe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?Mot(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:Aot.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new kot.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===Kg.FileType.File&&u.kind===hw.FileOperationPatternKind.file||l===Kg.FileType.Directory&&u.kind===hw.FileOperationPatternKind.folder)return!0}else if(u.kind===hw.FileOperationPatternKind.folder&&await r.getFileType(s)===Kg.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Kg.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},K2=class extends Qk{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},Y2=class extends K2{_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await Qk.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},b7=class extends K2{constructor(e){super(e,Kg.workspace.onDidCreateFiles,hw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Lu.DidCreateFilesFeature=b7;var w7=class extends Y2{constructor(e){super(e,Kg.workspace.onDidRenameFiles,hw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Kg.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Lu.DidRenameFilesFeature=w7;var S7=class extends Y2{constructor(e){super(e,Kg.workspace.onDidDeleteFiles,hw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Kg.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Lu.DidDeleteFilesFeature=S7;var Zk=class extends Qk{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},C7=class extends Zk{constructor(e){super(e,Kg.workspace.onWillCreateFiles,hw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Lu.WillCreateFilesFeature=C7;var T7=class extends Zk{constructor(e){super(e,Kg.workspace.onWillRenameFiles,hw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Lu.WillRenameFilesFeature=T7;var D7=class extends Zk{constructor(e){super(e,Kg.workspace.onWillDeleteFiles,hw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Lu.WillDeleteFilesFeature=D7});var dSe=P(Ay=>{"use strict";var Lot=Ay&&Ay.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Not=Ay&&Ay.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qot=Ay&&Ay.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Lot(t,e,n[i]);return Not(t,e),t}}();Object.defineProperty(Ay,"__esModule",{value:!0});Ay.InlineCompletionItemFeature=void 0;var Fot=require("vscode"),P7=gn(),E7=Eo(),jot=qot(xa()),x7=class extends E7.TextDocumentLanguageFeature{constructor(e){super(e,P7.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,E7.ensure)((0,E7.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:jot.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,_,y)=>c.sendRequest(P7.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,_),y).then(D=>y.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(D,y),D=>c.handleFailedRequest(P7.InlineCompletionRequest.type,y,D,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[Fot.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Ay.InlineCompletionItemFeature=x7});var pSe=P(My=>{"use strict";var zot=My&&My.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Uot=My&&My.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hSe=My&&My.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&zot(t,e,n[i]);return Uot(t,e),t}}();Object.defineProperty(My,"__esModule",{value:!0});My.TextDocumentContentFeature=void 0;var R7=hSe(require("vscode")),NP=gn(),fSe=Eo(),Hot=hSe(xa()),O7=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:NP.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return NP.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,fSe.ensure)((0,fSe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(NP.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme===s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=NP.StaticRegistrationOptions.hasId(n)?n.id:Hot.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:R7.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new R7.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(NP.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(NP.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[R7.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};My.TextDocumentContentFeature=O7});var mSe=P(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});Q2.FileSystemWatcherFeature=void 0;var Bot=require("vscode"),Z0=gn(),X2=Eo(),I7=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Z0.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,X2.ensure)((0,X2.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,X2.ensure)((0,X2.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&Z0.WatchKind.Create)!==0,s=(n.kind&Z0.WatchKind.Change)!==0,a=(n.kind&Z0.WatchKind.Delete)!==0);let c=Bot.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Z0.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Z0.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Z0.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};Q2.FileSystemWatcherFeature=I7});var vSe=P(Z2=>{"use strict";Object.defineProperty(Z2,"__esModule",{value:!0});Z2.ProgressFeature=void 0;var gSe=gn(),Wot=P9();function $ot(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var k7=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:gSe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){$ot(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new Wot.ProgressPart(this._client,i.token,t))};e.onRequest(gSe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};Z2.ProgressFeature=k7});var U7=P(Hs=>{"use strict";var Vot=Hs&&Hs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Got=Hs&&Hs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rj=Hs&&Hs.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vot(t,e,n[i]);return Got(t,e),t}}();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ProposedFeatures=Hs.LanguageClient=Hs.BaseLanguageClient=Hs.ShutdownMode=Hs.MessageTransports=Hs.SuspendMode=Hs.State=Hs.CloseAction=Hs.ErrorAction=Hs.RevealOutputChannelOn=void 0;var Di=require("vscode"),cr=gn(),Kot=rj(Kbe()),Yot=rj(_2()),o_=rj(Wg()),ej=h2(),_Se=rj(xa()),Jot=P9(),Nm=Eo(),Xot=R2(),M7=Y9(),ySe=Iwe(),qP=kwe(),Qot=Awe(),Zot=Mwe(),est=Lwe(),tst=qwe(),rst=Fwe(),nst=_K(),ist=zwe(),ost=Uwe(),sst=Hwe(),ast=Bwe(),cst=IK(),ust=Wwe(),lst=Vwe(),A7=Gwe(),dst=Jwe(),fst=BK(),hst=Qwe(),pst=eSe(),mst=JK(),gst=e7(),vst=i7(),_st=rSe(),yst=iSe(),bst=f7(),wst=p7(),Sst=aSe(),Cst=y7(),FP=lSe(),Tst=dSe(),Dst=pSe(),Pst=mSe(),Est=vSe(),eT;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(eT||(Hs.RevealOutputChannelOn=eT={}));var e1;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(e1||(Hs.ErrorAction=e1={}));var cC;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(cC||(Hs.CloseAction=cC={}));var jP;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(jP||(Hs.State=jP={}));var bSe;(function(r){r.off="off",r.on="on"})(bSe||(Hs.SuspendMode=bSe={}));var L7;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&o_.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(L7||(L7={}));var N7=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:e1.Continue}:{action:e1.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:cC.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:cC.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:cC.Restart})}},Zi;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(Zi||(Zi={}));var wSe;(function(r){function e(t){return t&&cr.MessageReader.is(t.reader)&&cr.MessageWriter.is(t.writer)}r.is=e})(wSe||(Hs.MessageTransports=wSe={}));var aC;(function(r){r.Restart="restart",r.Stop="stop"})(aC||(Hs.ShutdownMode=aC={}));var q7=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Di.EventEmitter,this._onClose=new Di.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Di.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Di.Uri.parse(c));this._onOpen.fire(a)}};Di.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Di.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Di.Uri?Di.window.activeTextEditor?.document.uri===e:Di.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Di.Uri?e:e.uri;return t.scheme===M7.NotebookDocumentSyncFeature.CellScheme?Di.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Di.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Di.TabInputText?a=s.uri:s instanceof Di.TabInputTextDiff?a=s.modified:(s instanceof Di.TabInputCustom||s instanceof Di.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},tj=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_traceLogLevel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=cr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=L7.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??eT.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Zi.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1,this._traceLogLevel=this._outputChannel.logLevel):(this._outputChannel=void 0,this._disposeOutputChannel=!0,this._traceLogLevel=Di.LogLevel.Info),this._traceOutputChannel=n.traceOutputChannel,this._traceOutputChannel!==void 0&&(this._traceLogLevel=this._traceOutputChannel.logLevel),this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new ej.Semaphore(1),this._pendingChangeDelayer=new ej.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new ej.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new cr.Emitter,this._stateChangeEmitter=new cr.Emitter,this._trace=cr.Trace.Off,this._tracer={log:(o,s)=>{o_.string(o)?this.trace(o,s):this.traceObject(o)}},this._c2p=Kot.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Yot.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new q7),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Di.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name,{log:!0}),this._traceOutputChannel===void 0&&(this._traceLogLevel=this._outputChannel.logLevel)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case Zi.Starting:return jP.Starting;case Zi.Running:return jP.Running;case Zi.StartFailed:return jP.StartFailed;default:return jP.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===Zi.StartFailed||this.$state===Zi.Stopping||this.$state===Zi.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===cr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?cr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new cr.ResponseError(cr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===Zi.StartFailed||this.$state===Zi.Stopping||this.$state===Zi.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===cr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===cr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===cr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();if(await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o))return;n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let c=this._clientOptions.middleware?.sendNotification;return c?c(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===Zi.StartFailed||this.$state===Zi.Stopping||this.$state===Zi.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=cr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new N7(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof cr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?o_.string(e.stack)?e.stack:e.message:o_.string(e)?e:e.toString()}error(e,t,n=!0){this.outputChannel.error(this.getLogMessage(e,t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=eT.Error)&&this.showNotificationMessage(cr.MessageType.Error,e,t)}warn(e,t,n=!0){this.outputChannel.warn(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=eT.Warn&&this.showNotificationMessage(cr.MessageType.Warning,e,t)}info(e,t,n=!0){this.outputChannel.info(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=eT.Info&&this.showNotificationMessage(cr.MessageType.Info,e,t)}debug(e,t,n=!0){this.outputChannel.debug(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=eT.Debug&&this.showNotificationMessage(cr.MessageType.Debug,e,t)}trace(e,t){this.traceOutputChannel.trace(this.getLogMessage(e,t))}traceObject(e){this.traceOutputChannel.trace(JSON.stringify(e))}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===cr.MessageType.Error?Di.window.showErrorMessage:e===cr.MessageType.Warning?Di.window.showWarningMessage:Di.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}getLogMessage(e,t){return t!=null?`${e}
${this.data2String(t)}`:e}needsStart(){return this.$state===Zi.Initial||this.$state===Zi.Stopping||this.$state===Zi.Stopped}needsStop(){return this.$state===Zi.Starting||this.$state===Zi.Running}activeConnection(){return this.$state===Zi.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Zi.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Zi.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Di.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=Zi.Starting;try{let i=await this.createConnection();i.onNotification(cr.LogMessageNotification.type,o=>{switch(o.type){case cr.MessageType.Error:this.error(o.message,void 0,!1);break;case cr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case cr.MessageType.Info:this.info(o.message,void 0,!1);break;case cr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(cr.ShowMessageNotification.type,o=>{switch(o.type){case cr.MessageType.Error:Di.window.showErrorMessage(o.message);break;case cr.MessageType.Warning:Di.window.showWarningMessage(o.message);break;case cr.MessageType.Info:Di.window.showInformationMessage(o.message);break;default:Di.window.showInformationMessage(o.message)}}),i.onRequest(cr.ShowMessageRequest.type,o=>{let s;switch(o.type){case cr.MessageType.Error:s=Di.window.showErrorMessage;break;case cr.MessageType.Warning:s=Di.window.showWarningMessage;break;case cr.MessageType.Info:s=Di.window.showInformationMessage;break;default:s=Di.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(cr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(cr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Di.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Di.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=Zi.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Di.env.appName,version:Di.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Di.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:o_.func(t)?t():t,trace:cr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=_Se.generateUuid(),a=new Jot.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==cr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=Zi.Running;let i;o_.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===cr.TextDocumentSyncKind.None?i={openClose:!1,change:cr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(cr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(cr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(cr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(cr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(cr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookLogLevelChanged(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof cr.ResponseError&&n.data&&n.data.retry?Di.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Di.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Di.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(aC.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===Zi.Stopped||this.$state===Zi.Initial)return;if(this.$state===Zi.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==Zi.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Zi.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,cr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=Zi.Stopped,e===aC.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===aC.Stop||e===aC.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(cr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(cr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,cr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,cr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Di.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Di.env.language}async $start(){if(this.$state===Zi.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=xst(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Zi.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:cC.DoNotRestart};if(this.$state!==Zi.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===cC.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(aC.Stop),this.$state===Zi.Starting?this.$state=Zi.StartFailed:this.$state=Zi.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===cC.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(aC.Restart),this.$state=Zi.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===e1.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Di.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}hookLogLevelChanged(e){this._listeners.push(this.traceOutputChannel.onDidChangeLogLevel(t=>{this._traceLogLevel=t,this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Di.workspace.getConfiguration(this._id),i=this._traceLogLevel!==Di.LogLevel.Trace?cr.Trace.Off:cr.Trace.Messages,o=cr.TraceFormat.Text;if(n&&i!==cr.Trace.Off){let s=n.get("trace.server","messages");typeof s=="string"?(i=cr.Trace.fromString(s),i===cr.Trace.Off&&(i=cr.Trace.Messages)):(i=cr.Trace.fromString(n.get("trace.server.verbosity","messages")),i===cr.Trace.Off&&(i=cr.Trace.Messages),o=cr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;o_.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(cr.DidChangeWatchedFilesNotification.type.method).registerRaw(_Se.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Nm.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(cr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof M7.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new ySe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new qP.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new qP.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new qP.WillSaveFeature(this)),this.registerFeature(new qP.WillSaveWaitUntilFeature(this)),this.registerFeature(new qP.DidSaveTextDocumentFeature(this)),this.registerFeature(new qP.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new Pst.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new Qot.CompletionItemFeature(this)),this.registerFeature(new Zot.HoverFeature(this)),this.registerFeature(new tst.SignatureHelpFeature(this)),this.registerFeature(new est.DefinitionFeature(this)),this.registerFeature(new ost.ReferencesFeature(this)),this.registerFeature(new rst.DocumentHighlightFeature(this)),this.registerFeature(new nst.DocumentSymbolFeature(this)),this.registerFeature(new ist.WorkspaceSymbolFeature(this)),this.registerFeature(new ust.CodeActionFeature(this)),this.registerFeature(new lst.CodeLensFeature(this)),this.registerFeature(new A7.DocumentFormattingFeature(this)),this.registerFeature(new A7.DocumentRangeFormattingFeature(this)),this.registerFeature(new A7.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new dst.RenameFeature(this)),this.registerFeature(new fst.DocumentLinkFeature(this)),this.registerFeature(new hst.ExecuteCommandFeature(this)),this.registerFeature(new ySe.SyncConfigurationFeature(this)),this.registerFeature(new sst.TypeDefinitionFeature(this)),this.registerFeature(new ast.ImplementationFeature(this)),this.registerFeature(new cst.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new Cst.WorkspaceFoldersFeature(this)),this.registerFeature(new pst.FoldingRangeFeature(this)),this.registerFeature(new mst.DeclarationFeature(this)),this.registerFeature(new gst.SelectionRangeFeature(this)),this.registerFeature(new Est.ProgressFeature(this)),this.registerFeature(new vst.CallHierarchyFeature(this)),this.registerFeature(new _st.SemanticTokensFeature(this)),this.registerFeature(new yst.LinkedEditingFeature(this)),this.registerFeature(new FP.DidCreateFilesFeature(this)),this.registerFeature(new FP.DidRenameFilesFeature(this)),this.registerFeature(new FP.DidDeleteFilesFeature(this)),this.registerFeature(new FP.WillCreateFilesFeature(this)),this.registerFeature(new FP.WillRenameFilesFeature(this)),this.registerFeature(new FP.WillDeleteFilesFeature(this)),this.registerFeature(new bst.TypeHierarchyFeature(this)),this.registerFeature(new wst.InlineValueFeature(this)),this.registerFeature(new Sst.InlayHintsFeature(this)),this.registerFeature(new Xot.DiagnosticFeature(this)),this.registerFeature(new M7.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(z7.createAll(this))}fillInitializeParams(e){for(let t of this._features)o_.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Nm.ensure)(e,"workspace").applyEdit=!0;let t=(0,Nm.ensure)((0,Nm.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[cr.ResourceOperationKind.Create,cr.ResourceOperationKind.Rename,cr.ResourceOperationKind.Delete],t.failureHandling=cr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,Nm.ensure)((0,Nm.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[cr.DiagnosticTag.Unnecessary,cr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Nm.ensure)((0,Nm.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,Nm.ensure)(e,"window"),s=(0,Nm.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,Nm.ensure)(o,"showDocument");a.support=!0;let c=(0,Nm.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)o_.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof cr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new ej.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Di.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(cr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):o_.asPromise(Di.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([cr.SemanticTokensRequest.method,cr.SemanticTokensRangeRequest.method,cr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([cr.CompletionResolveRequest.method,cr.CodeLensResolveRequest.method,cr.CodeActionResolveRequest.method,cr.InlayHintResolveRequest.method,cr.DocumentLinkResolveRequest.method,cr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof cr.ResponseError){if(n.code===cr.ErrorCodes.PendingResponseRejected||n.code===cr.ErrorCodes.ConnectionInactive)return i;if(n.code===cr.LSPErrorCodes.RequestCancelled||n.code===cr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new Nm.LSPCancellationError(n.data):new Di.CancellationError}else if(n.code===cr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Di.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Hs.BaseLanguageClient=tj;var F7=class extends tj{serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};Hs.LanguageClient=F7;var j7=class{error(e){(0,cr.RAL)().console.error(e)}warn(e){(0,cr.RAL)().console.warn(e)}info(e){(0,cr.RAL)().console.info(e)}log(e){(0,cr.RAL)().console.log(e)}};function xst(r,e,t,n,i){let o=new j7,s=(0,cr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:cr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(o_.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(cr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(cr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(cr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var z7;(function(r){function e(t){return[new Tst.InlineCompletionItemFeature(t),new Dst.TextDocumentContentFeature(t)]}r.createAll=e})(z7||(Hs.ProposedFeatures=z7={}))});var CSe=P(pw=>{"use strict";var Rst=pw&&pw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ost=pw&&pw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ist=pw&&pw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Rst(t,e,n[i]);return Ost(t,e),t}}();Object.defineProperty(pw,"__esModule",{value:!0});pw.terminate=Nst;var SSe=Ist(require("child_process")),kst=require("path"),Ast=process.platform==="win32",Mst=process.platform==="darwin",Lst=process.platform==="linux";function Nst(r,e){if(Ast)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),SSe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(Lst||Mst)try{let t=(0,kst.join)(__dirname,"terminateProcess.sh");return!SSe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var PSe=P(V7=>{"use strict";Object.defineProperty(V7,"__esModule",{value:!0});var TSe=require("util"),mw=Df(),H7=class r extends mw.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new TSe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},B7=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),mw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),mw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),mw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),mw.Disposable.create(()=>this.stream.off("data",e))}},W7=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),mw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),mw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),mw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},DSe=Object.freeze({messageBuffer:Object.freeze({create:r=>new H7(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new TSe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new B7(r),asWritableStream:r=>new W7(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function $7(){return DSe}(function(r){function e(){mw.RAL.install(DSe)}r.install=e})($7||($7={}));V7.default=$7});var Q7=P(xo=>{"use strict";var xSe=xo&&xo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qst=xo&&xo.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),X7=xo&&xo.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xSe(t,e,n[i]);return qst(t,e),t}}(),Fst=xo&&xo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xSe(e,r,t)},jst=xo&&xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xo,"__esModule",{value:!0});xo.StreamMessageWriter=xo.StreamMessageReader=xo.SocketMessageWriter=xo.SocketMessageReader=xo.PortMessageWriter=xo.PortMessageReader=xo.IPCMessageWriter=xo.IPCMessageReader=void 0;xo.generateRandomPipeName=$st;xo.createClientPipeTransport=Vst;xo.createServerPipeTransport=Gst;xo.createClientSocketTransport=Kst;xo.createServerSocketTransport=Yst;xo.createMessageConnection=Qst;var t1=jst(PSe());t1.default.install();var zst=X7(require("path")),Ust=X7(require("os")),Hst=X7(require("fs")),ESe=require("crypto"),oj=require("net"),qm=Df();Fst(Df(),xo);var G7=class extends qm.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),qm.Disposable.create(()=>this.process.off("message",e))}};xo.IPCMessageReader=G7;var K7=class extends qm.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};xo.IPCMessageWriter=K7;var Y7=class extends qm.AbstractMessageReader{onData;constructor(e){super(),this.onData=new qm.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};xo.PortMessageReader=Y7;var J7=class extends qm.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};xo.PortMessageWriter=J7;var tT=class extends qm.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,t1.default)().stream.asReadableStream(e),t)}};xo.SocketMessageReader=tT;var rT=class extends qm.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,t1.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};xo.SocketMessageWriter=rT;var nj=class extends qm.ReadableStreamMessageReader{constructor(e,t){super((0,t1.default)().stream.asReadableStream(e),t)}};xo.StreamMessageReader=nj;var ij=class extends qm.WriteableStreamMessageWriter{constructor(e,t){super((0,t1.default)().stream.asWritableStream(e),t)}};xo.StreamMessageWriter=ij;var Bst=process.env.XDG_RUNTIME_DIR,Wst=new Map([["linux",107],["darwin",103]]);function $st(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,ESe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=Hst.realpathSync(Bst??Ust.tmpdir()),n=Wst.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,ESe.randomBytes)(Math.floor(r/2)).toString("hex");return zst.join(t,`lsp-${i}.sock`)}function Vst(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,oj.createServer)(a=>{s.close(),t([new tT(a,e),new rT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function Gst(r,e="utf-8"){let t=(0,oj.createConnection)(r);return[new tT(t,e),new rT(t,e)]}function Kst(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,oj.createServer)(a=>{s.close(),t([new tT(a,e),new rT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function Yst(r,e="utf-8"){let t=(0,oj.createConnection)(r,"127.0.0.1");return[new tT(t,e),new rT(t,e)]}function Jst(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function Xst(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function Qst(r,e,t,n){t||(t=qm.NullLogger);let i=Jst(r)?new nj(r):r,o=Xst(e)?new ij(e):e;return qm.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,qm.createMessageConnection)(i,o,t,n)}});var Z7=P(gw=>{"use strict";var Zst=gw&&gw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),RSe=gw&&gw.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zst(e,r,t)};Object.defineProperty(gw,"__esModule",{value:!0});gw.createProtocolConnection=tat;var eat=Q7();RSe(Q7(),gw);RSe(gn(),gw);function tat(r,e,t,n){return(0,eat.createMessageConnection)(r,e,t,n)}});var r1=P((rFt,OSe)=>{var rat=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};OSe.exports=rat});var sj=P((nFt,ISe)=>{var nat="2.0.0",iat=Number.MAX_SAFE_INTEGER||9007199254740991,oat=16,sat=250,aat=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ISe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:oat,MAX_SAFE_BUILD_LENGTH:sat,MAX_SAFE_INTEGER:iat,RELEASE_TYPES:aat,SEMVER_SPEC_VERSION:nat,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var aj=P((Ly,kSe)=>{var{MAX_SAFE_COMPONENT_LENGTH:eY,MAX_SAFE_BUILD_LENGTH:cat,MAX_LENGTH:uat}=sj(),lat=r1();Ly=kSe.exports={};var dat=Ly.re=[],fat=Ly.safeRe=[],Zr=Ly.src=[],hat=Ly.safeSrc=[],en=Ly.t={},pat=0,tY="[a-zA-Z0-9-]",mat=[["\\s",1],["\\d",uat],[tY,cat]],gat=r=>{for(let[e,t]of mat)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Fi=(r,e,t)=>{let n=gat(e),i=pat++;lat(r,i,e),en[r]=i,Zr[i]=e,hat[i]=n,dat[i]=new RegExp(e,t?"g":void 0),fat[i]=new RegExp(n,t?"g":void 0)};Fi("NUMERICIDENTIFIER","0|[1-9]\\d*");Fi("NUMERICIDENTIFIERLOOSE","\\d+");Fi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${tY}*`);Fi("MAINVERSION",`(${Zr[en.NUMERICIDENTIFIER]})\\.(${Zr[en.NUMERICIDENTIFIER]})\\.(${Zr[en.NUMERICIDENTIFIER]})`);Fi("MAINVERSIONLOOSE",`(${Zr[en.NUMERICIDENTIFIERLOOSE]})\\.(${Zr[en.NUMERICIDENTIFIERLOOSE]})\\.(${Zr[en.NUMERICIDENTIFIERLOOSE]})`);Fi("PRERELEASEIDENTIFIER",`(?:${Zr[en.NUMERICIDENTIFIER]}|${Zr[en.NONNUMERICIDENTIFIER]})`);Fi("PRERELEASEIDENTIFIERLOOSE",`(?:${Zr[en.NUMERICIDENTIFIERLOOSE]}|${Zr[en.NONNUMERICIDENTIFIER]})`);Fi("PRERELEASE",`(?:-(${Zr[en.PRERELEASEIDENTIFIER]}(?:\\.${Zr[en.PRERELEASEIDENTIFIER]})*))`);Fi("PRERELEASELOOSE",`(?:-?(${Zr[en.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Zr[en.PRERELEASEIDENTIFIERLOOSE]})*))`);Fi("BUILDIDENTIFIER",`${tY}+`);Fi("BUILD",`(?:\\+(${Zr[en.BUILDIDENTIFIER]}(?:\\.${Zr[en.BUILDIDENTIFIER]})*))`);Fi("FULLPLAIN",`v?${Zr[en.MAINVERSION]}${Zr[en.PRERELEASE]}?${Zr[en.BUILD]}?`);Fi("FULL",`^${Zr[en.FULLPLAIN]}$`);Fi("LOOSEPLAIN",`[v=\\s]*${Zr[en.MAINVERSIONLOOSE]}${Zr[en.PRERELEASELOOSE]}?${Zr[en.BUILD]}?`);Fi("LOOSE",`^${Zr[en.LOOSEPLAIN]}$`);Fi("GTLT","((?:<|>)?=?)");Fi("XRANGEIDENTIFIERLOOSE",`${Zr[en.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Fi("XRANGEIDENTIFIER",`${Zr[en.NUMERICIDENTIFIER]}|x|X|\\*`);Fi("XRANGEPLAIN",`[v=\\s]*(${Zr[en.XRANGEIDENTIFIER]})(?:\\.(${Zr[en.XRANGEIDENTIFIER]})(?:\\.(${Zr[en.XRANGEIDENTIFIER]})(?:${Zr[en.PRERELEASE]})?${Zr[en.BUILD]}?)?)?`);Fi("XRANGEPLAINLOOSE",`[v=\\s]*(${Zr[en.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Zr[en.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Zr[en.XRANGEIDENTIFIERLOOSE]})(?:${Zr[en.PRERELEASELOOSE]})?${Zr[en.BUILD]}?)?)?`);Fi("XRANGE",`^${Zr[en.GTLT]}\\s*${Zr[en.XRANGEPLAIN]}$`);Fi("XRANGELOOSE",`^${Zr[en.GTLT]}\\s*${Zr[en.XRANGEPLAINLOOSE]}$`);Fi("COERCEPLAIN",`(^|[^\\d])(\\d{1,${eY}})(?:\\.(\\d{1,${eY}}))?(?:\\.(\\d{1,${eY}}))?`);Fi("COERCE",`${Zr[en.COERCEPLAIN]}(?:$|[^\\d])`);Fi("COERCEFULL",Zr[en.COERCEPLAIN]+`(?:${Zr[en.PRERELEASE]})?(?:${Zr[en.BUILD]})?(?:$|[^\\d])`);Fi("COERCERTL",Zr[en.COERCE],!0);Fi("COERCERTLFULL",Zr[en.COERCEFULL],!0);Fi("LONETILDE","(?:~>?)");Fi("TILDETRIM",`(\\s*)${Zr[en.LONETILDE]}\\s+`,!0);Ly.tildeTrimReplace="$1~";Fi("TILDE",`^${Zr[en.LONETILDE]}${Zr[en.XRANGEPLAIN]}$`);Fi("TILDELOOSE",`^${Zr[en.LONETILDE]}${Zr[en.XRANGEPLAINLOOSE]}$`);Fi("LONECARET","(?:\\^)");Fi("CARETTRIM",`(\\s*)${Zr[en.LONECARET]}\\s+`,!0);Ly.caretTrimReplace="$1^";Fi("CARET",`^${Zr[en.LONECARET]}${Zr[en.XRANGEPLAIN]}$`);Fi("CARETLOOSE",`^${Zr[en.LONECARET]}${Zr[en.XRANGEPLAINLOOSE]}$`);Fi("COMPARATORLOOSE",`^${Zr[en.GTLT]}\\s*(${Zr[en.LOOSEPLAIN]})$|^$`);Fi("COMPARATOR",`^${Zr[en.GTLT]}\\s*(${Zr[en.FULLPLAIN]})$|^$`);Fi("COMPARATORTRIM",`(\\s*)${Zr[en.GTLT]}\\s*(${Zr[en.LOOSEPLAIN]}|${Zr[en.XRANGEPLAIN]})`,!0);Ly.comparatorTrimReplace="$1$2$3";Fi("HYPHENRANGE",`^\\s*(${Zr[en.XRANGEPLAIN]})\\s+-\\s+(${Zr[en.XRANGEPLAIN]})\\s*$`);Fi("HYPHENRANGELOOSE",`^\\s*(${Zr[en.XRANGEPLAINLOOSE]})\\s+-\\s+(${Zr[en.XRANGEPLAINLOOSE]})\\s*$`);Fi("STAR","(<|>)?=?\\s*\\*");Fi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Fi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var cj=P((iFt,ASe)=>{var vat=Object.freeze({loose:!0}),_at=Object.freeze({}),yat=r=>r?typeof r!="object"?vat:r:_at;ASe.exports=yat});var qSe=P((oFt,NSe)=>{var MSe=/^[0-9]+$/,LSe=(r,e)=>{let t=MSe.test(r),n=MSe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},bat=(r,e)=>LSe(e,r);NSe.exports={compareIdentifiers:LSe,rcompareIdentifiers:bat}});var n1=P((sFt,USe)=>{var uj=r1(),{MAX_LENGTH:FSe,MAX_SAFE_INTEGER:lj}=sj(),{safeRe:jSe,safeSrc:zSe,t:dj}=aj(),wat=cj(),{compareIdentifiers:zP}=qSe(),rY=class r{constructor(e,t){if(t=wat(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>FSe)throw new TypeError(`version is longer than ${FSe} characters`);uj("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?jSe[dj.LOOSE]:jSe[dj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>lj||this.major<0)throw new TypeError("Invalid major version");if(this.minor>lj||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>lj||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<lj)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(uj("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),zP(this.major,e.major)||zP(this.minor,e.minor)||zP(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(uj("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return zP(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(uj("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return zP(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?zSe[dj.PRERELEASELOOSE]:zSe[dj.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),zP(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};USe.exports=rY});var WSe=P((aFt,BSe)=>{var HSe=n1(),Sat=(r,e,t=!1)=>{if(r instanceof HSe)return r;try{return new HSe(r,e)}catch(n){if(!t)return null;throw n}};BSe.exports=Sat});var VSe=P((cFt,$Se)=>{var nY=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};$Se.exports=nY});var nT=P((uFt,KSe)=>{var GSe=n1(),Cat=(r,e,t)=>new GSe(r,t).compare(new GSe(e,t));KSe.exports=Cat});var JSe=P((lFt,YSe)=>{var Tat=nT(),Dat=(r,e,t)=>Tat(r,e,t)===0;YSe.exports=Dat});var QSe=P((dFt,XSe)=>{var Pat=nT(),Eat=(r,e,t)=>Pat(r,e,t)!==0;XSe.exports=Eat});var eCe=P((fFt,ZSe)=>{var xat=nT(),Rat=(r,e,t)=>xat(r,e,t)>0;ZSe.exports=Rat});var rCe=P((hFt,tCe)=>{var Oat=nT(),Iat=(r,e,t)=>Oat(r,e,t)>=0;tCe.exports=Iat});var iCe=P((pFt,nCe)=>{var kat=nT(),Aat=(r,e,t)=>kat(r,e,t)<0;nCe.exports=Aat});var sCe=P((mFt,oCe)=>{var Mat=nT(),Lat=(r,e,t)=>Mat(r,e,t)<=0;oCe.exports=Lat});var cCe=P((gFt,aCe)=>{var Nat=JSe(),qat=QSe(),Fat=eCe(),jat=rCe(),zat=iCe(),Uat=sCe(),Hat=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Nat(r,t,n);case"!=":return qat(r,t,n);case">":return Fat(r,t,n);case">=":return jat(r,t,n);case"<":return zat(r,t,n);case"<=":return Uat(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};aCe.exports=Hat});var mCe=P((vFt,pCe)=>{var i1=Symbol("SemVer ANY"),sY=class r{static get ANY(){return i1}constructor(e,t){if(t=uCe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),oY("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i1?this.value="":this.value=this.operator+this.semver.version,oY("comp",this)}parse(e){let t=this.options.loose?lCe[dCe.COMPARATORLOOSE]:lCe[dCe.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new fCe(n[2],this.options.loose):this.semver=i1}toString(){return this.value}test(e){if(oY("Comparator.test",e,this.options.loose),this.semver===i1||e===i1)return!0;if(typeof e=="string")try{e=new fCe(e,this.options)}catch{return!1}return iY(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new hCe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new hCe(this.value,t).test(e.semver):(t=uCe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||iY(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||iY(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};pCe.exports=sY;var uCe=cj(),{safeRe:lCe,t:dCe}=aj(),iY=cCe(),oY=r1(),fCe=n1(),hCe=aY()});var aY=P((_Ft,yCe)=>{var Bat=/\s+/g,cY=class r{constructor(e,t){if(t=$at(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof uY)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(Bat," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!vCe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Qat(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Jat)|(this.options.loose&&Xat))+":"+e,i=gCe.get(n);if(i)return i;let o=this.options.loose,s=o?Np[Ah.HYPHENRANGELOOSE]:Np[Ah.HYPHENRANGE];e=e.replace(s,cct(this.options.includePrerelease)),Oa("hyphen replace",e),e=e.replace(Np[Ah.COMPARATORTRIM],Gat),Oa("comparator trim",e),e=e.replace(Np[Ah.TILDETRIM],Kat),Oa("tilde trim",e),e=e.replace(Np[Ah.CARETTRIM],Yat),Oa("caret trim",e);let a=e.split(" ").map(d=>Zat(d,this.options)).join(" ").split(/\s+/).map(d=>act(d,this.options));o&&(a=a.filter(d=>(Oa("loose invalid filter",d,this.options),!!d.match(Np[Ah.COMPARATORLOOSE])))),Oa("range list",a);let c=new Map,u=a.map(d=>new uY(d,this.options));for(let d of u){if(vCe(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return gCe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>_Ce(n,t)&&e.set.some(i=>_Ce(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Vat(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(uct(this.set[t],e,this.options))return!0;return!1}};yCe.exports=cY;var Wat=VSe(),gCe=new Wat,$at=cj(),uY=mCe(),Oa=r1(),Vat=n1(),{safeRe:Np,t:Ah,comparatorTrimReplace:Gat,tildeTrimReplace:Kat,caretTrimReplace:Yat}=aj(),{FLAG_INCLUDE_PRERELEASE:Jat,FLAG_LOOSE:Xat}=sj(),vCe=r=>r.value==="<0.0.0-0",Qat=r=>r.value==="",_Ce=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},Zat=(r,e)=>(Oa("comp",r,e),r=rct(r,e),Oa("caret",r),r=ect(r,e),Oa("tildes",r),r=ict(r,e),Oa("xrange",r),r=sct(r,e),Oa("stars",r),r),Mh=r=>!r||r.toLowerCase()==="x"||r==="*",ect=(r,e)=>r.trim().split(/\s+/).map(t=>tct(t,e)).join(" "),tct=(r,e)=>{let t=e.loose?Np[Ah.TILDELOOSE]:Np[Ah.TILDE];return r.replace(t,(n,i,o,s,a)=>{Oa("tilde",r,n,i,o,s,a);let c;return Mh(i)?c="":Mh(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Mh(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Oa("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Oa("tilde return",c),c})},rct=(r,e)=>r.trim().split(/\s+/).map(t=>nct(t,e)).join(" "),nct=(r,e)=>{Oa("caret",r,e);let t=e.loose?Np[Ah.CARETLOOSE]:Np[Ah.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Oa("caret",r,i,o,s,a,c);let u;return Mh(o)?u="":Mh(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Mh(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Oa("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Oa("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Oa("caret return",u),u})},ict=(r,e)=>(Oa("replaceXRanges",r,e),r.split(/\s+/).map(t=>oct(t,e)).join(" ")),oct=(r,e)=>{r=r.trim();let t=e.loose?Np[Ah.XRANGELOOSE]:Np[Ah.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Oa("xRange",r,n,i,o,s,a,c);let u=Mh(o),l=u||Mh(s),d=l||Mh(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Oa("xRange return",n),n})},sct=(r,e)=>(Oa("replaceStars",r,e),r.trim().replace(Np[Ah.STAR],"")),act=(r,e)=>(Oa("replaceGTE0",r,e),r.trim().replace(Np[e.includePrerelease?Ah.GTE0PRE:Ah.GTE0],"")),cct=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>(Mh(n)?t="":Mh(i)?t=`>=${n}.0.0${r?"-0":""}`:Mh(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Mh(u)?c="":Mh(l)?c=`<${+u+1}.0.0-0`:Mh(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),uct=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Oa(r[n].semver),r[n].semver!==uY.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var wCe=P((yFt,bCe)=>{var lct=aY(),dct=(r,e,t)=>{try{e=new lct(e,t)}catch{return!1}return e.test(r)};bCe.exports=dct});var dY=P(Fm=>{"use strict";var fct=Fm&&Fm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lY=Fm&&Fm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fct(e,r,t)};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.DiagnosticPullMode=Fm.vsdiag=void 0;lY(gn(),Fm);lY(Eo(),Fm);var SCe=R2();Object.defineProperty(Fm,"vsdiag",{enumerable:!0,get:function(){return SCe.vsdiag}});Object.defineProperty(Fm,"DiagnosticPullMode",{enumerable:!0,get:function(){return SCe.DiagnosticPullMode}});lY(U7(),Fm)});var dC=P(Xl=>{"use strict";var PCe=Xl&&Xl.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hct=Xl&&Xl.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o1=Xl&&Xl.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&PCe(t,e,n[i]);return hct(t,e),t}}(),ECe=Xl&&Xl.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&PCe(e,r,t)};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.SettingMonitor=Xl.LanguageClient=Xl.TransportKind=void 0;var vw=o1(require("child_process")),fY=o1(require("fs")),hY=o1(require("path")),CCe=o1(require("readline")),lC=require("vscode"),HP=o1(Wg()),TCe=U7(),pct=CSe(),Dc=Z7(),mct=WSe(),gct=wCe();ECe(Z7(),Xl);ECe(dY(),Xl);var DCe="^1.91.0",Pc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Pc||(Xl.TransportKind=Pc={}));var uC;(function(r){function e(t){let n=t;return n&&n.kind===Pc.socket&&HP.number(n.port)}r.isSocket=e})(uC||(uC={}));var pY;(function(r){function e(t){return HP.string(t.command)}r.is=e})(pY||(pY={}));var mY;(function(r){function e(t){return HP.string(t.module)}r.is=e})(mY||(mY={}));var gY;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(gY||(gY={}));var vY;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(vY||(vY={}));var _Y=class extends TCe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;HP.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw HP.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=mct(lC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${lC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!gct(e,DCe))throw new Error(`The language client requires VS Code version ${DCe} but received version ${lC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,pct.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(f,_){if(!f&&!_)return;let y=Object.create(null);return Object.keys(process.env).forEach(D=>y[D]=process.env[D]),_&&(y.ELECTRON_RUN_AS_NODE="1",y.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(D=>y[D]=f[D]),y}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let f=process.execArgv;return f?f.some(_=>n.some(y=>_.startsWith(y))||i.some(y=>_===y)):!1}function s(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}function a(f,_){CCe.createInterface({input:f,crlfDelay:1/0,terminal:!1,historySize:0}).on("line",y=>_.info(y))}function c(f,_){CCe.createInterface({input:f,crlfDelay:1/0,terminal:!1,historySize:0}).on("line",y=>_.error(y))}let u=this._serverOptions;if(HP.func(u))return u().then(f=>{if(TCe.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(gY.is(f))return this._isDetached=!!f.detached,{reader:new Dc.StreamMessageReader(f.reader),writer:new Dc.StreamMessageWriter(f.writer)};{let _;return vY.is(f)?(_=f.process,this._isDetached=f.detached):(_=f,this._isDetached=!1),c(_.stderr,this.outputChannel),{reader:new Dc.StreamMessageReader(_.stdout),writer:new Dc.StreamMessageWriter(_.stdin)}}});let l,d=u;return d.run||d.debug?this._forceDebug||o()?(l=d.debug,this._isInDebugMode=!0):(l=d.run,this._isInDebugMode=!1):l=u,this._getServerWorkingDir(l.options).then(f=>{if(mY.is(l)&&l.module){let _=l,y=_.transport||Pc.stdio;if(_.runtime){let D=[],k=_.options??Object.create(null);k.execArgv&&k.execArgv.forEach(re=>D.push(re)),D.push(_.module),_.args&&_.args.forEach(re=>D.push(re));let H=Object.create(null);H.cwd=f,H.env=t(k.env,!1);let M=this._getRuntimePath(_.runtime,f),z;if(y===Pc.ipc?(H.stdio=[null,null,null,"ipc"],D.push("--node-ipc")):y===Pc.stdio?D.push("--stdio"):y===Pc.pipe?(z=(0,Dc.generateRandomPipeName)(),D.push(`--pipe=${z}`)):uC.isSocket(y)&&D.push(`--socket=${y.port}`),D.push(`--clientProcessId=${process.pid.toString()}`),y===Pc.ipc||y===Pc.stdio){let re=vw.spawn(M,D,H);return!re||!re.pid?UP(re,`Launching server using runtime ${M} failed.`):(this._serverProcess=re,c(re.stderr,this.outputChannel),y===Pc.ipc?(a(re.stdout,this.outputChannel),Promise.resolve({reader:new Dc.IPCMessageReader(re),writer:new Dc.IPCMessageWriter(re)})):Promise.resolve({reader:new Dc.StreamMessageReader(re.stdout),writer:new Dc.StreamMessageWriter(re.stdin)}))}else{if(y===Pc.pipe)return(0,Dc.createClientPipeTransport)(z).then(re=>{let ce=vw.spawn(M,D,H);return!ce||!ce.pid?UP(ce,`Launching server using runtime ${M} failed.`):(this._serverProcess=ce,c(ce.stderr,this.outputChannel),a(ce.stdout,this.outputChannel),re.onConnected().then(_e=>({reader:_e[0],writer:_e[1]})))});if(uC.isSocket(y))return(0,Dc.createClientSocketTransport)(y.port).then(re=>{let ce=vw.spawn(M,D,H);return!ce||!ce.pid?UP(ce,`Launching server using runtime ${M} failed.`):(this._serverProcess=ce,c(ce.stderr,this.outputChannel),a(ce.stdout,this.outputChannel),re.onConnected().then(_e=>({reader:_e[0],writer:_e[1]})))})}}else{let D;return new Promise((k,H)=>{let M=(_.args&&_.args.slice())??[];y===Pc.ipc?M.push("--node-ipc"):y===Pc.stdio?M.push("--stdio"):y===Pc.pipe?(D=(0,Dc.generateRandomPipeName)(),M.push(`--pipe=${D}`)):uC.isSocket(y)&&M.push(`--socket=${y.port}`),M.push(`--clientProcessId=${process.pid.toString()}`);let z=_.options??Object.create(null);if(z.env=t(z.env,!0),z.execArgv=z.execArgv||[],z.cwd=f,z.silent=!0,y===Pc.ipc||y===Pc.stdio){let re=vw.fork(_.module,M||[],z);s(re),this._serverProcess=re,c(re.stderr,this.outputChannel),y===Pc.ipc?(a(re.stdout,this.outputChannel),k({reader:new Dc.IPCMessageReader(this._serverProcess),writer:new Dc.IPCMessageWriter(this._serverProcess)})):k({reader:new Dc.StreamMessageReader(re.stdout),writer:new Dc.StreamMessageWriter(re.stdin)})}else y===Pc.pipe?(0,Dc.createClientPipeTransport)(D).then(re=>{let ce=vw.fork(_.module,M||[],z);s(ce),this._serverProcess=ce,c(ce.stderr,this.outputChannel),a(ce.stdout,this.outputChannel),re.onConnected().then(_e=>{k({reader:_e[0],writer:_e[1]})},H)},H):uC.isSocket(y)&&(0,Dc.createClientSocketTransport)(y.port).then(re=>{let ce=vw.fork(_.module,M||[],z);s(ce),this._serverProcess=ce,c(ce.stderr,this.outputChannel),a(ce.stdout,this.outputChannel),re.onConnected().then(_e=>{k({reader:_e[0],writer:_e[1]})},H)},H)})}}else if(pY.is(l)&&l.command){let _=l,y=l.args!==void 0?l.args.slice(0):[],D,k=l.transport;if(k===Pc.stdio)y.push("--stdio");else if(k===Pc.pipe)D=(0,Dc.generateRandomPipeName)(),y.push(`--pipe=${D}`);else if(uC.isSocket(k))y.push(`--socket=${k.port}`);else if(k===Pc.ipc)throw new Error("Transport kind ipc is not support for command executable");let H=Object.assign({},_.options);if(H.cwd=H.cwd||f,k===void 0||k===Pc.stdio){let M=vw.spawn(_.command,y,H);return!M||!M.pid?UP(M,`Launching server using command ${_.command} failed.`):(c(M.stderr,this.outputChannel),this._serverProcess=M,this._isDetached=!!H.detached,Promise.resolve({reader:new Dc.StreamMessageReader(M.stdout),writer:new Dc.StreamMessageWriter(M.stdin)}))}else{if(k===Pc.pipe)return(0,Dc.createClientPipeTransport)(D).then(M=>{let z=vw.spawn(_.command,y,H);return!z||!z.pid?UP(z,`Launching server using command ${_.command} failed.`):(this._serverProcess=z,this._isDetached=!!H.detached,c(z.stderr,this.outputChannel),a(z.stdout,this.outputChannel),M.onConnected().then(re=>({reader:re[0],writer:re[1]})))});if(uC.isSocket(k))return(0,Dc.createClientSocketTransport)(k.port).then(M=>{let z=vw.spawn(_.command,y,H);return!z||!z.pid?UP(z,`Launching server using command ${_.command} failed.`):(this._serverProcess=z,this._isDetached=!!H.detached,c(z.stderr,this.outputChannel),a(z.stdout,this.outputChannel),M.onConnected().then(re=>({reader:re[0],writer:re[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(u,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,_)=>{f===0?this.info("Server process exited successfully",void 0,!1):f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),_!==null&&this.error(`Server process exited with signal ${_}.`,void 0,!1)})})}_getRuntimePath(e,t){if(hY.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=hY.join(n,e);if(fY.existsSync(i))return i}if(t!==void 0){let i=hY.join(t,e);if(fY.existsSync(i))return i}return e}_mainGetRootPath(){let e=lC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{fY.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};Xl.LanguageClient=_Y;var yY=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return lC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new lC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?lC.workspace.getConfiguration(t).get(n,!1):lC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Xl.SettingMonitor=yY;function UP(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var z0e=P((j1,GY)=>{(function(r,e){typeof j1=="object"&&typeof GY=="object"?GY.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof j1=="object"?j1["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(j1,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,_){var y,D,k,H=d&l.F,M=d&l.G,z=d&l.S,re=d&l.P,ce=d&l.B,_e=d&l.W,G=M?s:s[f]||(s[f]={}),$=G[u],te=M?o:z?o[f]:(o[f]||{})[u];M&&(_=f);for(y in _)D=!H&&te&&te[y]!==void 0,D&&y in G||(k=D?te[y]:_[y],G[y]=M&&typeof te[y]!="function"?_[y]:ce&&D?a(k,o):_e&&te[y]==k?function(Te){var ae=function(ue,Fe,qe){if(this instanceof Te){switch(arguments.length){case 0:return new Te;case 1:return new Te(ue);case 2:return new Te(ue,Fe)}return new Te(ue,Fe,qe)}return Te.apply(this,arguments)};return ae[u]=Te[u],ae}(k):re&&typeof k=="function"?a(Function.call,k):k,re&&((G.virtual||(G.virtual={}))[y]=k,d&l.R&&$&&!$[y]&&c($,y,k)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),_=i(52),y=i(1)("iterator"),D=!([].keys&&"next"in[].keys()),k="@@iterator",H="keys",M="values",z=function(){return this};t.exports=function(re,ce,_e,G,$,te,Te){d(_e,ce,G);var ae,ue,Fe,qe=function(at){if(!D&&at in xe)return xe[at];switch(at){case H:return function(){return new _e(this,at)};case M:return function(){return new _e(this,at)}}return function(){return new _e(this,at)}},le=ce+" Iterator",Ce=$==M,be=!1,xe=re.prototype,Le=xe[y]||xe[k]||$&&xe[$],Ge=Le||qe($),Ct=$?Ce?qe("entries"):Ge:void 0,ze=ce=="Array"&&xe.entries||Le;if(ze&&(Fe=_(ze.call(new re)),Fe!==Object.prototype&&(f(Fe,le,!0),o||u(Fe,y)||c(Fe,y,z))),Ce&&Le&&Le.name!==M&&(be=!0,Ge=function(){return Le.call(this)}),o&&!Te||!D&&!be&&xe[y]||c(xe,y,Ge),l[ce]=Ge,l[le]=z,$)if(ae={values:Ce?Ge:qe(M),keys:te?Ge:qe(H),entries:Ct},Te)for(ue in ae)ue in xe||a(xe,ue,ae[ue]);else s(s.P+s.F*(D||be),ce,ae);return ae}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),_=f.process,y=f.setImmediate,D=f.clearImmediate,k=f.MessageChannel,H=0,M={},z="onreadystatechange",re=function(){var _e=+this;if(M.hasOwnProperty(_e)){var G=M[_e];delete M[_e],G()}},ce=function(_e){re.call(_e.data)};y&&D||(y=function(_e){for(var G=[],$=1;arguments.length>$;)G.push(arguments[$++]);return M[++H]=function(){u(typeof _e=="function"?_e:Function(_e),G)},o(H),H},D=function(_e){delete M[_e]},i(11)(_)=="process"?o=function(_e){_.nextTick(c(re,_e,1))}:k?(s=new k,a=s.port2,s.port1.onmessage=ce,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(_e){f.postMessage(_e+"","*")},f.addEventListener("message",ce,!1)):o=z in d("script")?function(_e){l.appendChild(d("script"))[z]=function(){l.removeChild(this),re.call(_e)}}:function(_e){setTimeout(c(re,_e,1),0)}),t.exports={set:y,clear:D}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(z){return z&&z.__esModule?z:{default:z}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(z){return(0,y.createHash)("sha256").update(z).digest("hex")}function c(z){switch(k){case"darwin":return z.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return z.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return z.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return z.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(z){var re=c((0,_.execSync)(M[k]).toString());return z?re:a(re)}function l(z){return new f.default(function(re,ce){return(0,_.exec)(M[k],{},function(_e,G,$){if(_e)return ce(new Error("Error while obtaining machine id: "+_e.stack));var te=c(G.toString());return re(z?te:a(te))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var _=i(70),y=i(71),D=process,k=D.platform,H={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},M={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:H[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,_=o(u),y=s(_.length),D=a(d,y);if(c&&l!=l){for(;y>D;)if(f=_[D++],f!=f)return!0}else for(;y>D;D++)if((c||D in _)&&_[D]===l)return c||D||0;return!c&&-1}}},function(t,_,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},_=t.exports=function(y,D,k,H,M){var z,re,ce,_e,G=M?function(){return y}:l(y),$=o(k,H,D?2:1),te=0;if(typeof G!="function")throw TypeError(y+" is not iterable!");if(a(G)){for(z=u(y.length);z>te;te++)if(_e=D?$(c(re=y[te])[0],re[1]):$(y[te]),_e===d||_e===f)return _e}else for(ce=G.call(y);!(re=ce.next()).done;)if(_e=s(ce,$,re.value,D),_e===d||_e===f)return _e};_.BREAK=d,_.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,_,y=function(){var M,z;for(l&&(M=c.domain)&&M.exit();d;){z=d.fn,d=d.next;try{z()}catch(re){throw d?_():f=void 0,re}}f=void 0,M&&M.enter()};if(l)_=function(){c.nextTick(y)};else if(a){var D=!0,k=document.createTextNode("");new a(y).observe(k,{characterData:!0}),_=function(){k.data=D=!D}}else if(u&&u.resolve){var H=u.resolve();_=function(){H.then(y)}}else _=function(){s.call(o,y)};return function(M){var z={fn:M,next:void 0};f&&(f.next=z),d||(d=z,_()),f=z}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,_=i(16)("iframe"),y=a.length,D=">";for(_.style.display="none",i(25).appendChild(_),_.src="javascript:",f=_.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+D),f.close(),d=f.F;y--;)delete d[l][a[y]];return d()};t.exports=Object.create||function(f,_){var y;return f!==null?(u[l]=o(f),y=new u,u[l]=null,y[c]=f):y=d(),_===void 0?y:s(y,_)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,_=0;f>_;)o.f(c,l=d[_++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,_){if(f=a(f),_=c(_,!0),l)try{return d(f,_)}catch{}if(u(f,_))return s(!o.f.call(f,_),f[_])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),_=0,y=[];for(d in f)d!=c&&o(f,d)&&y.push(d);for(;l.length>_;)o(f,d=l[_++])&&(~a(y,d)||y.push(d));return y}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),_=o(u),y=f.length;return _<0||_>=y?a?"":void 0:(l=f.charCodeAt(_),l<55296||l>56319||_+1===y||(d=f.charCodeAt(_+1))<56320||d>57343?a?f.charAt(_):l:a?f.slice(_,_+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),_=i(9),y=(i(3),i(14)),D=i(38),k=i(40),H=(i(58).set,i(60)),M=i(30).set,z=i(48)(),re="Promise",ce=u.TypeError,G=u.process,_e=u[re],G=u.process,$=d(G)=="process",te=function(){},Te=!!function(){try{var ze=_e.resolve(1),at=(ze.constructor={})[i(1)("species")]=function(ct){ct(te,te)};return($||typeof PromiseRejectionEvent=="function")&&ze.then(te)instanceof at}catch{}}(),ae=function(ze,at){return ze===at||ze===_e&&at===a},ue=function(ze){var at;return!(!_(ze)||typeof(at=ze.then)!="function")&&at},Fe=function(ze){return ae(_e,ze)?new qe(ze):new s(ze)},qe=s=function(ze){var at,ct;this.promise=new ze(function(tt,pr){if(at!==void 0||ct!==void 0)throw ce("Bad Promise constructor");at=tt,ct=pr}),this.resolve=y(at),this.reject=y(ct)},le=function(ze){try{ze()}catch(at){return{error:at}}},Ce=function(ze,at){if(!ze._n){ze._n=!0;var ct=ze._c;z(function(){for(var tt=ze._v,pr=ze._s==1,Nr=0,Hr=function(fr){var It,mr,Lt=pr?fr.ok:fr.fail,nn=fr.resolve,cn=fr.reject,xn=fr.domain;try{Lt?(pr||(ze._h==2&&Le(ze),ze._h=1),Lt===!0?It=tt:(xn&&xn.enter(),It=Lt(tt),xn&&xn.exit()),It===fr.promise?cn(ce("Promise-chain cycle")):(mr=ue(It))?mr.call(It,nn,cn):nn(It)):cn(tt)}catch(Rr){cn(Rr)}};ct.length>Nr;)Hr(ct[Nr++]);ze._c=[],ze._n=!1,at&&!ze._h&&be(ze)})}},be=function(ze){M.call(u,function(){var at,ct,tt,pr=ze._v;if(xe(ze)&&(at=le(function(){$?G.emit("unhandledRejection",pr,ze):(ct=u.onunhandledrejection)?ct({promise:ze,reason:pr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",pr)}),ze._h=$||xe(ze)?2:1),ze._a=void 0,at)throw at.error})},xe=function(ze){if(ze._h==1)return!1;for(var at,ct=ze._a||ze._c,tt=0;ct.length>tt;)if(at=ct[tt++],at.fail||!xe(at.promise))return!1;return!0},Le=function(ze){M.call(u,function(){var at;$?G.emit("rejectionHandled",ze):(at=u.onrejectionhandled)&&at({promise:ze,reason:ze._v})})},Ge=function(ze){var at=this;at._d||(at._d=!0,at=at._w||at,at._v=ze,at._s=2,at._a||(at._a=at._c.slice()),Ce(at,!0))},Ct=function(ze){var at,ct=this;if(!ct._d){ct._d=!0,ct=ct._w||ct;try{if(ct===ze)throw ce("Promise can't be resolved itself");(at=ue(ze))?z(function(){var tt={_w:ct,_d:!1};try{at.call(ze,l(Ct,tt,1),l(Ge,tt,1))}catch(pr){Ge.call(tt,pr)}}):(ct._v=ze,ct._s=1,Ce(ct,!1))}catch(tt){Ge.call({_w:ct,_d:!1},tt)}}};Te||(_e=function(ze){D(this,_e,re,"_h"),y(ze),o.call(this);try{ze(l(Ct,this,1),l(Ge,this,1))}catch(at){Ge.call(this,at)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(_e.prototype,{then:function(ze,at){var ct=Fe(H(this,_e));return ct.ok=typeof ze!="function"||ze,ct.fail=typeof at=="function"&&at,ct.domain=$?G.domain:void 0,this._c.push(ct),this._a&&this._a.push(ct),this._s&&Ce(this,!1),ct.promise},catch:function(ze){return this.then(void 0,ze)}}),qe=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l(Ge,ze,1)}),f(f.G+f.W+f.F*!Te,{Promise:_e}),i(18)(_e,re),i(59)(re),a=i(6)[re],f(f.S+f.F*!Te,re,{reject:function(ze){var at=Fe(this),ct=at.reject;return ct(ze),at.promise}}),f(f.S+f.F*(c||!Te),re,{resolve:function(ze){if(ze instanceof _e&&ae(ze.constructor,this))return ze;var at=Fe(this),ct=at.resolve;return ct(ze),at.promise}}),f(f.S+f.F*!(Te&&i(46)(function(ze){_e.all(ze).catch(te)})),re,{all:function(ze){var at=this,ct=Fe(at),tt=ct.resolve,pr=ct.reject,Nr=le(function(){var Hr=[],fr=0,It=1;k(ze,!1,function(mr){var Lt=fr++,nn=!1;Hr.push(void 0),It++,at.resolve(mr).then(function(cn){nn||(nn=!0,Hr[Lt]=cn,--It||tt(Hr))},pr)}),--It||tt(Hr)});return Nr&&pr(Nr.error),ct.promise},race:function(ze){var at=this,ct=Fe(at),tt=ct.reject,pr=le(function(){k(ze,!1,function(Nr){at.resolve(Nr).then(ct.resolve,tt)})});return pr&&tt(pr.error),ct.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],_=f&&f.prototype;_&&!_[c]&&s(_,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var KY=P(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});nE.JS_DEBUG_NAME=nE.SERVER_APP_NAME=void 0;nE.SERVER_APP_NAME=".NET Application Server";nE.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var JY=P((bBt,K0e)=>{"use strict";var Eut=require("util"),$0e=require("path"),V0e=require("child_process"),YY=1e3*1e3*10,G0e=Eut.promisify(V0e.execFile),xut=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=$0e.join(__dirname,"vendor",r),{stdout:t}=await G0e(e,{maxBuffer:YY,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},Rut=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await G0e("ps",[e,`pid,${n}`],{maxBuffer:YY});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:$0e.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},W0e="ps output parsing failed",Out="pid,ppid,uid,%cpu,%mem,comm,args",Iut=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,kut=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=V0e.execFile("ps",[e,Out],{maxBuffer:YY},(_,y)=>{_===null?l([f.pid,y]):d(_)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=Iut.exec(l);if(f===null)throw new Error(W0e);let{pid:_,ppid:y,uid:D,cpu:k,memory:H}=f.groups,M={pid:Number.parseInt(_,10),ppid:Number.parseInt(y,10),uid:Number.parseInt(D,10),cpu:Number.parseFloat(k),memory:Number.parseFloat(H),name:void 0,cmd:void 0};return M.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),M});if(o===void 0||s===-1||a===-1)throw new Error(W0e);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},Aut=async(r={})=>{try{return await kut(r)}catch{return Rut(r)}};K0e.exports=process.platform==="win32"?xut:Aut});var Q0e=P(Fy=>{"use strict";var J0e=Fy&&Fy.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Fy,"__esModule",{value:!0});Fy.onDidTerminateDebugSession=Fy.isValidEvent=void 0;var Mut=JY(),Y0e=KY(),Lut=r=>r===Y0e.JS_DEBUG_NAME||r===Y0e.SERVER_APP_NAME;Fy.isValidEvent=Lut;var X0e=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function Nut(r,e,t){return J0e(this,void 0,void 0,function*(){t&&(typeof t=="number"?qut(r,e,t):yield Fut(r,e,t))})}Fy.onDidTerminateDebugSession=Nut;function qut(r,e,t){(0,Fy.isValidEvent)(r.name)&&X0e(t,e)}function Fut(r,e,t){return J0e(this,void 0,void 0,function*(){if(!(0,Fy.isValidEvent)(r.name))return;let n=[];try{n=yield Mut()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&X0e(i.pid,e)})}});var eTe=P(iE=>{"use strict";var z1=iE&&iE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(iE,"__esModule",{value:!0});iE.BlazorDebugConfigurationProvider=void 0;var jut=require("fs"),zut=require("path"),Z0e=require("url"),XY=KY(),Uut=Q0e(),QY=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return z1(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,Z0e.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,Z0e.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,jut.readFileSync)((0,zut.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return z1(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:XY.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>z1(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,Uut.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return z1(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:XY.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[XY.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>z1(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};iE.BlazorDebugConfigurationProvider=QY});var tTe=P(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.convertPositionFromSerializable=oE.convertPositionToSerializable=void 0;var Hut=require("vscode");function But(r){return{line:r.line,character:r.character}}oE.convertPositionToSerializable=But;function Wut(r){return new Hut.Position(r.line,r.character)}oE.convertPositionFromSerializable=Wut});var aE=P(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.convertRangeFromSerializable=sE.convertRangeToSerializable=void 0;var $ut=require("vscode"),Kj=tTe();function Vut(r){return{start:(0,Kj.convertPositionToSerializable)(r.start),end:(0,Kj.convertPositionToSerializable)(r.end)}}sE.convertRangeToSerializable=Vut;function Gut(r){return new $ut.Range((0,Kj.convertPositionFromSerializable)(r.start),(0,Kj.convertPositionFromSerializable)(r.end))}sE.convertRangeFromSerializable=Gut});var U1=P(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.convertTextEditFromSerializable=cE.convertTextEditToSerializable=void 0;var Kut=require("vscode"),rTe=aE();function Yut(r){return{range:(0,rTe.convertRangeToSerializable)(r.range),newText:r.newText}}cE.convertTextEditToSerializable=Yut;function Jut(r){return new Kut.TextEdit((0,rTe.convertRangeFromSerializable)(r.range),r.newText)}cE.convertTextEditFromSerializable=Jut});var iTe=P(Yj=>{"use strict";Object.defineProperty(Yj,"__esModule",{value:!0});Yj.convertWorkspaceEditFromSerializable=void 0;var sT=require("vscode"),nTe=U1();function Xut(r){let e=new sT.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(sT.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(sT.Uri.parse(t.oldUri),sT.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(sT.Uri.parse(t.uri),t.options);else{let n=t.edits.map(nTe.convertTextEditFromSerializable);e.set(sT.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(nTe.convertTextEditFromSerializable);e.set(sT.Uri.parse(t),n)}return e}Yj.convertWorkspaceEditFromSerializable=Xut});var sTe=P(uE=>{"use strict";var Qut=uE&&uE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(uE,"__esModule",{value:!0});uE.RazorCodeActionRunner=void 0;var ZY=require("vscode"),oTe=iTe(),H1=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return ZY.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return Qut(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,oTe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,oTe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return ZY.workspace.applyEdit(i).then(()=>ZY.workspace.applyEdit(n))})}};uE.RazorCodeActionRunner=H1;H1.codeActionResolveEndpoint="textDocument/codeActionResolve";H1.razorCodeActionRunnerCommand="razor/runCodeAction"});var bw=P(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.RazorDocumentChangeKind=void 0;var Zut;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})(Zut=B1.RazorDocumentChangeKind||(B1.RazorDocumentChangeKind={}))});var Yg=P(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.LanguageKind=void 0;var elt;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(elt=W1.LanguageKind||(W1.LanguageKind={}))});var Um=P(Jj=>{"use strict";Object.defineProperty(Jj,"__esModule",{value:!0});Jj.getUriPath=void 0;function tlt(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}Jj.getUriPath=tlt});var s_=P(lE=>{"use strict";var rlt=lE&&lE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(lE,"__esModule",{value:!0});lE.RazorLanguageFeatureBase=void 0;var eJ=Yg(),nlt=Um(),tJ=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return rlt(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case eJ.LanguageKind.CSharp:case eJ.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===eJ.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,nlt.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};lE.RazorLanguageFeatureBase=tJ});var aTe=P(Xj=>{"use strict";Object.defineProperty(Xj,"__esModule",{value:!0});Xj.RazorCodeLens=void 0;var ilt=require("vscode"),rJ=class extends ilt.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};Xj.RazorCodeLens=rJ});var lTe=P(dE=>{"use strict";var Qj=dE&&dE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(dE,"__esModule",{value:!0});dE.RazorCodeLensProvider=void 0;var Zj=require("vscode"),olt=bw(),slt=s_(),cTe=Yg(),uTe=aTe(),nJ=class extends slt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new Zj.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>Qj(this,void 0,void 0,function*(){if(s.kind!==olt.RazorDocumentChangeKind.added)return;Zj.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return Qj(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield Zj.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(cTe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new uTe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return Qj(this,void 0,void 0,function*(){if(e instanceof uTe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return Qj(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==cTe.LanguageKind.CSharp)return e;let o=yield Zj.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};dE.RazorCodeLensProvider=nJ});var Jg=P(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.asPromise=Gc.thenable=Gc.typedArray=Gc.stringArray=Gc.array=Gc.func=Gc.error=Gc.number=Gc.string=Gc.boolean=void 0;function alt(r){return r===!0||r===!1}Gc.boolean=alt;function dTe(r){return typeof r=="string"||r instanceof String}Gc.string=dTe;function clt(r){return typeof r=="number"||r instanceof Number}Gc.number=clt;function ult(r){return r instanceof Error}Gc.error=ult;function fTe(r){return typeof r=="function"}Gc.func=fTe;function hTe(r){return Array.isArray(r)}Gc.array=hTe;function llt(r){return hTe(r)&&r.every(e=>dTe(e))}Gc.stringArray=llt;function dlt(r,e){return Array.isArray(r)&&r.every(e)}Gc.typedArray=dlt;function pTe(r){return r&&fTe(r.then)}Gc.thenable=pTe;function flt(r){return r instanceof Promise?r:pTe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}Gc.asPromise=flt});var ww=P(sJ=>{"use strict";Object.defineProperty(sJ,"__esModule",{value:!0});var iJ;function oJ(){if(iJ===void 0)throw new Error("No runtime abstraction layer installed");return iJ}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");iJ=t}r.install=e})(oJ||(oJ={}));sJ.default=oJ});var aJ=P($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.Disposable=void 0;var hlt;(function(r){function e(t){return{dispose:t}}r.create=e})(hlt=$1.Disposable||($1.Disposable={}))});var mTe=P(ez=>{"use strict";Object.defineProperty(ez,"__esModule",{value:!0});ez.AbstractMessageBuffer=void 0;var plt=13,mlt=10,glt=`\r
`,cJ=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case plt:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case mlt:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(glt);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};ez.AbstractMessageBuffer=cJ});var _Te=P(fJ=>{"use strict";Object.defineProperty(fJ,"__esModule",{value:!0});var vlt=ww(),gTe=require("util"),aT=aJ(),_lt=mTe(),tz=class r extends _lt.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new gTe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};tz.emptyBuffer=Buffer.allocUnsafe(0);var uJ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),aT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),aT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),aT.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),aT.Disposable.create(()=>this.stream.off("data",e))}},lJ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),aT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),aT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),aT.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},vTe=Object.freeze({messageBuffer:Object.freeze({create:r=>new tz(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new gTe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new uJ(r),asWritableStream:r=>new lJ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function dJ(){return vTe}(function(r){function e(){vlt.default.install(vTe)}r.install=e})(dJ||(dJ={}));fJ.default=dJ});var fE=P(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.stringArray=Af.array=Af.func=Af.error=Af.number=Af.string=Af.boolean=void 0;function ylt(r){return r===!0||r===!1}Af.boolean=ylt;function yTe(r){return typeof r=="string"||r instanceof String}Af.string=yTe;function blt(r){return typeof r=="number"||r instanceof Number}Af.number=blt;function wlt(r){return r instanceof Error}Af.error=wlt;function Slt(r){return typeof r=="function"}Af.func=Slt;function bTe(r){return Array.isArray(r)}Af.array=bTe;function Clt(r){return bTe(r)&&r.every(e=>yTe(e))}Af.stringArray=Clt});var NJ=P(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Message=Pn.NotificationType9=Pn.NotificationType8=Pn.NotificationType7=Pn.NotificationType6=Pn.NotificationType5=Pn.NotificationType4=Pn.NotificationType3=Pn.NotificationType2=Pn.NotificationType1=Pn.NotificationType0=Pn.NotificationType=Pn.RequestType9=Pn.RequestType8=Pn.RequestType7=Pn.RequestType6=Pn.RequestType5=Pn.RequestType4=Pn.RequestType3=Pn.RequestType2=Pn.RequestType1=Pn.RequestType=Pn.RequestType0=Pn.AbstractMessageSignature=Pn.ParameterStructures=Pn.ResponseError=Pn.ErrorCodes=void 0;var cT=fE(),wTe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(wTe=Pn.ErrorCodes||(Pn.ErrorCodes={}));var hJ=class r extends Error{constructor(e,t,n){super(t),this.code=cT.number(e)?e:wTe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Pn.ResponseError=hJ;var jp=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Pn.ParameterStructures=jp;jp.auto=new jp("auto");jp.byPosition=new jp("byPosition");jp.byName=new jp("byName");var Aa=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return jp.auto}};Pn.AbstractMessageSignature=Aa;var pJ=class extends Aa{constructor(e){super(e,0)}};Pn.RequestType0=pJ;var mJ=class extends Aa{constructor(e,t=jp.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType=mJ;var gJ=class extends Aa{constructor(e,t=jp.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType1=gJ;var vJ=class extends Aa{constructor(e){super(e,2)}};Pn.RequestType2=vJ;var _J=class extends Aa{constructor(e){super(e,3)}};Pn.RequestType3=_J;var yJ=class extends Aa{constructor(e){super(e,4)}};Pn.RequestType4=yJ;var bJ=class extends Aa{constructor(e){super(e,5)}};Pn.RequestType5=bJ;var wJ=class extends Aa{constructor(e){super(e,6)}};Pn.RequestType6=wJ;var SJ=class extends Aa{constructor(e){super(e,7)}};Pn.RequestType7=SJ;var CJ=class extends Aa{constructor(e){super(e,8)}};Pn.RequestType8=CJ;var TJ=class extends Aa{constructor(e){super(e,9)}};Pn.RequestType9=TJ;var DJ=class extends Aa{constructor(e,t=jp.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType=DJ;var PJ=class extends Aa{constructor(e){super(e,0)}};Pn.NotificationType0=PJ;var EJ=class extends Aa{constructor(e,t=jp.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType1=EJ;var xJ=class extends Aa{constructor(e){super(e,2)}};Pn.NotificationType2=xJ;var RJ=class extends Aa{constructor(e){super(e,3)}};Pn.NotificationType3=RJ;var OJ=class extends Aa{constructor(e){super(e,4)}};Pn.NotificationType4=OJ;var IJ=class extends Aa{constructor(e){super(e,5)}};Pn.NotificationType5=IJ;var kJ=class extends Aa{constructor(e){super(e,6)}};Pn.NotificationType6=kJ;var AJ=class extends Aa{constructor(e){super(e,7)}};Pn.NotificationType7=AJ;var MJ=class extends Aa{constructor(e){super(e,8)}};Pn.NotificationType8=MJ;var LJ=class extends Aa{constructor(e){super(e,9)}};Pn.NotificationType9=LJ;var Tlt;(function(r){function e(i){let o=i;return o&&cT.string(o.method)&&(cT.string(o.id)||cT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&cT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(cT.string(o.id)||cT.number(o.id)||o.id===null)}r.isResponse=n})(Tlt=Pn.Message||(Pn.Message={}))});var FJ=P(Sw=>{"use strict";var STe;Object.defineProperty(Sw,"__esModule",{value:!0});Sw.LRUCache=Sw.LinkedMap=Sw.Touch=void 0;var Nh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Nh=Sw.Touch||(Sw.Touch={}));var rz=class{constructor(){this[STe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Nh.None){let n=this._map.get(e);if(n)return t!==Nh.None&&this.touch(n,t),n.value}set(e,t,n=Nh.None){let i=this._map.get(e);if(i)i.value=t,n!==Nh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Nh.None:this.addItemLast(i);break;case Nh.First:this.addItemFirst(i);break;case Nh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(STe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Nh.First&&t!==Nh.Last)){if(t===Nh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Nh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};Sw.LinkedMap=rz;var qJ=class extends rz{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Nh.AsNew){return super.get(e,t)}peek(e){return super.get(e,Nh.None)}set(e,t){return super.set(e,t,Nh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Sw.LRUCache=qJ});var hE=P(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0});uT.Emitter=uT.Event=void 0;var Dlt=ww(),Plt;(function(r){let e={dispose(){}};r.None=function(){return e}})(Plt=uT.Event||(uT.Event={}));var jJ=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Dlt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},nz=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new jJ),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};uT.Emitter=nz;nz._noop=function(){}});var BJ=P(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});lT.CancellationTokenSource=lT.CancellationToken=void 0;var Elt=ww(),xlt=fE(),zJ=hE(),UJ;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:zJ.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:zJ.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||xlt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(UJ=lT.CancellationToken||(lT.CancellationToken={}));var Rlt=Object.freeze(function(r,e){let t=(0,Elt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),iz=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Rlt:(this._emitter||(this._emitter=new zJ.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},HJ=class{get token(){return this._token||(this._token=new iz),this._token}cancel(){this._token?this._token.cancel():this._token=UJ.Cancelled}dispose(){this._token?this._token instanceof iz&&this._token.dispose():this._token=UJ.None}};lT.CancellationTokenSource=HJ});var CTe=P(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});Cw.ReadableStreamMessageReader=Cw.AbstractMessageReader=Cw.MessageReader=void 0;var $J=ww(),pE=fE(),WJ=hE(),Olt;(function(r){function e(t){let n=t;return n&&pE.func(n.listen)&&pE.func(n.dispose)&&pE.func(n.onError)&&pE.func(n.onClose)&&pE.func(n.onPartialMessage)}r.is=e})(Olt=Cw.MessageReader||(Cw.MessageReader={}));var oz=class{constructor(){this.errorEmitter=new WJ.Emitter,this.closeEmitter=new WJ.Emitter,this.partialMessageEmitter=new WJ.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${pE.string(e.message)?e.message:"unknown"}`)}};Cw.AbstractMessageReader=oz;var VJ;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,$J.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(VJ||(VJ={}));var GJ=class extends oz{constructor(e,t){super(),this.readable=e,this.options=VJ.fromOptions(t),this.buffer=(0,$J.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,$J.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Cw.ReadableStreamMessageReader=GJ});var TTe=P(sz=>{"use strict";Object.defineProperty(sz,"__esModule",{value:!0});sz.Semaphore=void 0;var Ilt=ww(),KJ=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ilt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};sz.Semaphore=KJ});var xTe=P(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});Tw.WriteableStreamMessageWriter=Tw.AbstractMessageWriter=Tw.MessageWriter=void 0;var DTe=ww(),V1=fE(),klt=TTe(),PTe=hE(),Alt="Content-Length: ",ETe=`\r
`,Mlt;(function(r){function e(t){let n=t;return n&&V1.func(n.dispose)&&V1.func(n.onClose)&&V1.func(n.onError)&&V1.func(n.write)}r.is=e})(Mlt=Tw.MessageWriter||(Tw.MessageWriter={}));var az=class{constructor(){this.errorEmitter=new PTe.Emitter,this.closeEmitter=new PTe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${V1.string(e.message)?e.message:"unknown"}`)}};Tw.AbstractMessageWriter=az;var YJ;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,DTe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,DTe.default)().applicationJson.encoder}}r.fromOptions=e})(YJ||(YJ={}));var JJ=class extends az{constructor(e,t){super(),this.writable=e,this.options=YJ.fromOptions(t),this.errorCount=0,this.writeSemaphore=new klt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Alt,n.byteLength.toString(),ETe),i.push(ETe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Tw.WriteableStreamMessageWriter=JJ});var MTe=P(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.createMessageConnection=ri.ConnectionOptions=ri.CancellationStrategy=ri.CancellationSenderStrategy=ri.CancellationReceiverStrategy=ri.ConnectionStrategy=ri.ConnectionError=ri.ConnectionErrors=ri.LogTraceNotification=ri.SetTraceNotification=ri.TraceFormat=ri.TraceValues=ri.Trace=ri.NullLogger=ri.ProgressType=ri.ProgressToken=void 0;var RTe=ww(),ll=fE(),gi=NJ(),OTe=FJ(),G1=hE(),XJ=BJ(),Y1;(function(r){r.type=new gi.NotificationType("$/cancelRequest")})(Y1||(Y1={}));var ITe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(ITe=ri.ProgressToken||(ri.ProgressToken={}));var K1;(function(r){r.type=new gi.NotificationType("$/progress")})(K1||(K1={}));var QJ=class{constructor(){}};ri.ProgressType=QJ;var ZJ;(function(r){function e(t){return ll.func(t)}r.is=e})(ZJ||(ZJ={}));ri.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Es;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Es=ri.Trace||(ri.Trace={}));var Llt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(Llt=ri.TraceValues||(ri.TraceValues={}));(function(r){function e(n){if(!ll.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Es=ri.Trace||(ri.Trace={}));var a_;(function(r){r.Text="text",r.JSON="json"})(a_=ri.TraceFormat||(ri.TraceFormat={}));(function(r){function e(t){return ll.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(a_=ri.TraceFormat||(ri.TraceFormat={}));var kTe;(function(r){r.type=new gi.NotificationType("$/setTrace")})(kTe=ri.SetTraceNotification||(ri.SetTraceNotification={}));var eX;(function(r){r.type=new gi.NotificationType("$/logTrace")})(eX=ri.LogTraceNotification||(ri.LogTraceNotification={}));var cz;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(cz=ri.ConnectionErrors||(ri.ConnectionErrors={}));var mE=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ri.ConnectionError=mE;var ATe;(function(r){function e(t){let n=t;return n&&ll.func(n.cancelUndispatched)}r.is=e})(ATe=ri.ConnectionStrategy||(ri.ConnectionStrategy={}));var tX;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new XJ.CancellationTokenSource}});function e(t){let n=t;return n&&ll.func(n.createCancellationTokenSource)}r.is=e})(tX=ri.CancellationReceiverStrategy||(ri.CancellationReceiverStrategy={}));var rX;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(Y1.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&ll.func(n.sendCancellation)&&ll.func(n.cleanup)}r.is=e})(rX=ri.CancellationSenderStrategy||(ri.CancellationSenderStrategy={}));var nX;(function(r){r.Message=Object.freeze({receiver:tX.Message,sender:rX.Message});function e(t){let n=t;return n&&tX.is(n.receiver)&&rX.is(n.sender)}r.is=e})(nX=ri.CancellationStrategy||(ri.CancellationStrategy={}));var Nlt;(function(r){function e(t){let n=t;return n&&(nX.is(n.cancellationStrategy)||ATe.is(n.connectionStrategy))}r.is=e})(Nlt=ri.ConnectionOptions||(ri.ConnectionOptions={}));var c_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(c_||(c_={}));function qlt(r,e,t,n){let i=t!==void 0?t:ri.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,_=new Map,y,D=new OTe.LinkedMap,k=new Map,H=new Set,M=new Map,z=Es.Off,re=a_.Text,ce,_e=c_.New,G=new G1.Emitter,$=new G1.Emitter,te=new G1.Emitter,Te=new G1.Emitter,ae=new G1.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:nX.Message;function Fe(Re){if(Re===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Re.toString()}function qe(Re){return Re===null?"res-unknown-"+(++a).toString():"res-"+Re.toString()}function le(){return"not-"+(++s).toString()}function Ce(Re,oe){gi.Message.isRequest(oe)?Re.set(Fe(oe.id),oe):gi.Message.isResponse(oe)?Re.set(qe(oe.id),oe):Re.set(le(),oe)}function be(Re){}function xe(){return _e===c_.Listening}function Le(){return _e===c_.Closed}function Ge(){return _e===c_.Disposed}function Ct(){(_e===c_.New||_e===c_.Listening)&&(_e=c_.Closed,$.fire(void 0))}function ze(Re){G.fire([Re,void 0,void 0])}function at(Re){G.fire(Re)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(at);function ct(){y||D.size===0||(y=(0,RTe.default)().timer.setImmediate(()=>{y=void 0,tt()}))}function tt(){if(D.size===0)return;let Re=D.shift();try{gi.Message.isRequest(Re)?Nr(Re):gi.Message.isNotification(Re)?fr(Re):gi.Message.isResponse(Re)?Hr(Re):It(Re)}finally{ct()}}let pr=Re=>{try{if(gi.Message.isNotification(Re)&&Re.method===Y1.type.method){let oe=Re.params.id,Q=Fe(oe),ye=D.get(Q);if(gi.Message.isRequest(ye)){let ft=n?.connectionStrategy,Jt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(ye,be):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){D.delete(Q),M.delete(oe),Jt.id=ye.id,cn(Jt,Re.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ke=M.get(oe);if(Ke!==void 0){Ke.cancel(),Rr(Re);return}else H.add(oe)}Ce(D,Re)}finally{ct()}};function Nr(Re){if(Ge())return;function oe(Xt,Vt,kt){let K={jsonrpc:c,id:Re.id};Xt instanceof gi.ResponseError?K.error=Xt.toJson():K.result=Xt===void 0?null:Xt,cn(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Xt,Vt,kt){let K={jsonrpc:c,id:Re.id,error:Xt.toJson()};cn(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function ye(Xt,Vt,kt){Xt===void 0&&(Xt=null);let K={jsonrpc:c,id:Re.id,result:Xt};cn(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}xn(Re);let Ke=l.get(Re.method),ft,Jt;Ke&&(ft=Ke.type,Jt=Ke.handler);let nr=Date.now();if(Jt||u){let Xt=Re.id??String(Date.now()),Vt=ue.receiver.createCancellationTokenSource(Xt);Re.id!==null&&H.has(Re.id)&&Vt.cancel(),Re.id!==null&&M.set(Xt,Vt);try{let kt;if(Jt)if(Re.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Re.method} defines ${ft.numberOfParams} params but received none.`),Re.method,nr);return}kt=Jt(Vt.token)}else if(Array.isArray(Re.params)){if(ft!==void 0&&ft.parameterStructures===gi.ParameterStructures.byName){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Re.method} defines parameters by name but received parameters by position`),Re.method,nr);return}kt=Jt(...Re.params,Vt.token)}else{if(ft!==void 0&&ft.parameterStructures===gi.ParameterStructures.byPosition){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Re.method} defines parameters by position but received parameters by name`),Re.method,nr);return}kt=Jt(Re.params,Vt.token)}else u&&(kt=u(Re.method,Re.params,Vt.token));let K=kt;kt?K.then?K.then(Ne=>{M.delete(Xt),oe(Ne,Re.method,nr)},Ne=>{M.delete(Xt),Ne instanceof gi.ResponseError?Q(Ne,Re.method,nr):Ne&&ll.string(Ne.message)?Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Re.method} failed with message: ${Ne.message}`),Re.method,nr):Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Re.method} failed unexpectedly without providing any details.`),Re.method,nr)}):(M.delete(Xt),oe(kt,Re.method,nr)):(M.delete(Xt),ye(kt,Re.method,nr))}catch(kt){M.delete(Xt),kt instanceof gi.ResponseError?oe(kt,Re.method,nr):kt&&ll.string(kt.message)?Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Re.method} failed with message: ${kt.message}`),Re.method,nr):Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Re.method} failed unexpectedly without providing any details.`),Re.method,nr)}}else Q(new gi.ResponseError(gi.ErrorCodes.MethodNotFound,`Unhandled method ${Re.method}`),Re.method,nr)}function Hr(Re){if(!Ge())if(Re.id===null)Re.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Re.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Re.id,Q=k.get(oe);if(Un(Re,Q),Q!==void 0){k.delete(oe);try{if(Re.error){let ye=Re.error;Q.reject(new gi.ResponseError(ye.code,ye.message,ye.data))}else if(Re.result!==void 0)Q.resolve(Re.result);else throw new Error("Should never happen.")}catch(ye){ye.message?i.error(`Response handler '${Q.method}' failed with message: ${ye.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function fr(Re){if(Ge())return;let oe,Q;if(Re.method===Y1.type.method){let ye=Re.params.id;H.delete(ye),Rr(Re);return}else{let ye=f.get(Re.method);ye&&(Q=ye.handler,oe=ye.type)}if(Q||d)try{if(Rr(Re),Q)if(Re.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==gi.ParameterStructures.byName&&i.error(`Notification ${Re.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Re.params)){let ye=Re.params;Re.method===K1.type.method&&ye.length===2&&ITe.is(ye[0])?Q({token:ye[0],value:ye[1]}):(oe!==void 0&&(oe.parameterStructures===gi.ParameterStructures.byName&&i.error(`Notification ${Re.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Re.params.length&&i.error(`Notification ${Re.method} defines ${oe.numberOfParams} params but received ${ye.length} arguments`)),Q(...ye))}else oe!==void 0&&oe.parameterStructures===gi.ParameterStructures.byPosition&&i.error(`Notification ${Re.method} defines parameters by position but received parameters by name`),Q(Re.params);else d&&d(Re.method,Re.params)}catch(ye){ye.message?i.error(`Notification handler '${Re.method}' failed with message: ${ye.message}`):i.error(`Notification handler '${Re.method}' failed unexpectedly.`)}else te.fire(Re)}function It(Re){if(!Re){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Re,null,4)}`);let oe=Re;if(ll.string(oe.id)||ll.number(oe.id)){let Q=oe.id,ye=k.get(Q);ye&&ye.reject(new Error("The received response has neither a result nor an error property."))}}function mr(Re){if(Re!=null)switch(z){case Es.Verbose:return JSON.stringify(Re,null,4);case Es.Compact:return JSON.stringify(Re);default:return}}function Lt(Re){if(!(z===Es.Off||!ce))if(re===a_.Text){let oe;(z===Es.Verbose||z===Es.Compact)&&Re.params&&(oe=`Params: ${mr(Re.params)}

`),ce.log(`Sending request '${Re.method} - (${Re.id})'.`,oe)}else Wr("send-request",Re)}function nn(Re){if(!(z===Es.Off||!ce))if(re===a_.Text){let oe;(z===Es.Verbose||z===Es.Compact)&&(Re.params?oe=`Params: ${mr(Re.params)}

`:oe=`No parameters provided.

`),ce.log(`Sending notification '${Re.method}'.`,oe)}else Wr("send-notification",Re)}function cn(Re,oe,Q){if(!(z===Es.Off||!ce))if(re===a_.Text){let ye;(z===Es.Verbose||z===Es.Compact)&&(Re.error&&Re.error.data?ye=`Error data: ${mr(Re.error.data)}

`:Re.result?ye=`Result: ${mr(Re.result)}

`:Re.error===void 0&&(ye=`No result returned.

`)),ce.log(`Sending response '${oe} - (${Re.id})'. Processing request took ${Date.now()-Q}ms`,ye)}else Wr("send-response",Re)}function xn(Re){if(!(z===Es.Off||!ce))if(re===a_.Text){let oe;(z===Es.Verbose||z===Es.Compact)&&Re.params&&(oe=`Params: ${mr(Re.params)}

`),ce.log(`Received request '${Re.method} - (${Re.id})'.`,oe)}else Wr("receive-request",Re)}function Rr(Re){if(!(z===Es.Off||!ce||Re.method===eX.type.method))if(re===a_.Text){let oe;(z===Es.Verbose||z===Es.Compact)&&(Re.params?oe=`Params: ${mr(Re.params)}

`:oe=`No parameters provided.

`),ce.log(`Received notification '${Re.method}'.`,oe)}else Wr("receive-notification",Re)}function Un(Re,oe){if(!(z===Es.Off||!ce))if(re===a_.Text){let Q;if((z===Es.Verbose||z===Es.Compact)&&(Re.error&&Re.error.data?Q=`Error data: ${mr(Re.error.data)}

`:Re.result?Q=`Result: ${mr(Re.result)}

`:Re.error===void 0&&(Q=`No result returned.

`)),oe){let ye=Re.error?` Request failed: ${Re.error.message} (${Re.error.code}).`:"";ce.log(`Received response '${oe.method} - (${Re.id})' in ${Date.now()-oe.timerStart}ms.${ye}`,Q)}else ce.log(`Received response ${Re.id} without active response promise.`,Q)}else Wr("receive-response",Re)}function Wr(Re,oe){if(!ce||z===Es.Off)return;let Q={isLSPMessage:!0,type:Re,message:oe,timestamp:Date.now()};ce.log(Q)}function un(){if(Le())throw new mE(cz.Closed,"Connection is closed.");if(Ge())throw new mE(cz.Disposed,"Connection is disposed.")}function ni(){if(xe())throw new mE(cz.AlreadyListening,"Connection is already listening")}function $r(){if(!xe())throw new Error("Call listen() first.")}function In(Re){return Re===void 0?null:Re}function Ei(Re){if(Re!==null)return Re}function Vr(Re){return Re!=null&&!Array.isArray(Re)&&typeof Re=="object"}function Vi(Re,oe){switch(Re){case gi.ParameterStructures.auto:return Vr(oe)?Ei(oe):[In(oe)];case gi.ParameterStructures.byName:if(!Vr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Ei(oe);case gi.ParameterStructures.byPosition:return[In(oe)];default:throw new Error(`Unknown parameter structure ${Re.toString()}`)}}function ii(Re,oe){let Q,ye=Re.numberOfParams;switch(ye){case 0:Q=void 0;break;case 1:Q=Vi(Re.parameterStructures,oe[0]);break;default:Q=[];for(let Ke=0;Ke<oe.length&&Ke<ye;Ke++)Q.push(In(oe[Ke]));if(oe.length<ye)for(let Ke=oe.length;Ke<ye;Ke++)Q.push(null);break}return Q}let ln={sendNotification:(Re,...oe)=>{un();let Q,ye;if(ll.string(Re)){Q=Re;let ft=oe[0],Jt=0,nr=gi.ParameterStructures.auto;gi.ParameterStructures.is(ft)&&(Jt=1,nr=ft);let Xt=oe.length,Vt=Xt-Jt;switch(Vt){case 0:ye=void 0;break;case 1:ye=Vi(nr,oe[Jt]);break;default:if(nr===gi.ParameterStructures.byName)throw new Error(`Received ${Vt} parameters for 'by Name' notification parameter structure.`);ye=oe.slice(Jt,Xt).map(kt=>In(kt));break}}else{let ft=oe;Q=Re.method,ye=ii(Re,ft)}let Ke={jsonrpc:c,method:Q,params:ye};return nn(Ke),e.write(Ke).catch(()=>i.error("Sending notification failed."))},onNotification:(Re,oe)=>{un();let Q;return ll.func(Re)?d=Re:oe&&(ll.string(Re)?(Q=Re,f.set(Re,{type:void 0,handler:oe})):(Q=Re.method,f.set(Re.method,{type:Re,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Re,oe,Q)=>{if(_.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return _.set(oe,Q),{dispose:()=>{_.delete(oe)}}},sendProgress:(Re,oe,Q)=>ln.sendNotification(K1.type,{token:oe,value:Q}),onUnhandledProgress:Te.event,sendRequest:(Re,...oe)=>{un(),$r();let Q,ye,Ke;if(ll.string(Re)){Q=Re;let Xt=oe[0],Vt=oe[oe.length-1],kt=0,K=gi.ParameterStructures.auto;gi.ParameterStructures.is(Xt)&&(kt=1,K=Xt);let Ne=oe.length;XJ.CancellationToken.is(Vt)&&(Ne=Ne-1,Ke=Vt);let Bt=Ne-kt;switch(Bt){case 0:ye=void 0;break;case 1:ye=Vi(K,oe[kt]);break;default:if(K===gi.ParameterStructures.byName)throw new Error(`Received ${Bt} parameters for 'by Name' request parameter structure.`);ye=oe.slice(kt,Ne).map(Tr=>In(Tr));break}}else{let Xt=oe;Q=Re.method,ye=ii(Re,Xt);let Vt=Re.numberOfParams;Ke=XJ.CancellationToken.is(Xt[Vt])?Xt[Vt]:void 0}let ft=o++,Jt;return Ke&&(Jt=Ke.onCancellationRequested(()=>{let Xt=ue.sender.sendCancellation(ln,ft);return Xt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Xt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Xt,Vt)=>{let kt={jsonrpc:c,id:ft,method:Q,params:ye},K=Tr=>{Xt(Tr),ue.sender.cleanup(ft),Jt?.dispose()},Ne=Tr=>{Vt(Tr),ue.sender.cleanup(ft),Jt?.dispose()},Bt={method:Q,timerStart:Date.now(),resolve:K,reject:Ne};Lt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Tr){Bt.reject(new gi.ResponseError(gi.ErrorCodes.MessageWriteError,Tr.message?Tr.message:"Unknown reason")),Bt=null}Bt&&k.set(ft,Bt)})},onRequest:(Re,oe)=>{un();let Q=null;return ZJ.is(Re)?(Q=void 0,u=Re):ll.string(Re)?(Q=null,oe!==void 0&&(Q=Re,l.set(Re,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Re.method,l.set(Re.method,{type:Re,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>k.size>0,trace:async(Re,oe,Q)=>{let ye=!1,Ke=a_.Text;Q!==void 0&&(ll.boolean(Q)?ye=Q:(ye=Q.sendNotification||!1,Ke=Q.traceFormat||a_.Text)),z=Re,re=Ke,z===Es.Off?ce=void 0:ce=oe,ye&&!Le()&&!Ge()&&await ln.sendNotification(kTe.type,{value:Es.toString(Re)})},onError:G.event,onClose:$.event,onUnhandledNotification:te.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if(Ge())return;_e=c_.Disposed,ae.fire(void 0);let Re=new gi.ResponseError(gi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of k.values())oe.reject(Re);k=new Map,M=new Map,H=new Set,D=new OTe.LinkedMap,ll.func(e.dispose)&&e.dispose(),ll.func(r.dispose)&&r.dispose()},listen:()=>{un(),ni(),_e=c_.Listening,r.listen(pr)},inspect:()=>{(0,RTe.default)().console.log("inspect")}};return ln.onNotification(eX.type,Re=>{if(z===Es.Off||!ce)return;let oe=z===Es.Verbose||z===Es.Compact;ce.log(Re.message,oe?Re.verbose:void 0)}),ln.onNotification(K1.type,Re=>{let oe=_.get(Re.token);oe?oe(Re.value):Te.fire(Re)}),ln}ri.createMessageConnection=qlt});var aX=P(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TraceFormat=Kt.TraceValues=Kt.Trace=Kt.ProgressType=Kt.ProgressToken=Kt.createMessageConnection=Kt.NullLogger=Kt.ConnectionOptions=Kt.ConnectionStrategy=Kt.WriteableStreamMessageWriter=Kt.AbstractMessageWriter=Kt.MessageWriter=Kt.ReadableStreamMessageReader=Kt.AbstractMessageReader=Kt.MessageReader=Kt.CancellationToken=Kt.CancellationTokenSource=Kt.Emitter=Kt.Event=Kt.Disposable=Kt.LRUCache=Kt.Touch=Kt.LinkedMap=Kt.ParameterStructures=Kt.NotificationType9=Kt.NotificationType8=Kt.NotificationType7=Kt.NotificationType6=Kt.NotificationType5=Kt.NotificationType4=Kt.NotificationType3=Kt.NotificationType2=Kt.NotificationType1=Kt.NotificationType0=Kt.NotificationType=Kt.ErrorCodes=Kt.ResponseError=Kt.RequestType9=Kt.RequestType8=Kt.RequestType7=Kt.RequestType6=Kt.RequestType5=Kt.RequestType4=Kt.RequestType3=Kt.RequestType2=Kt.RequestType1=Kt.RequestType0=Kt.RequestType=Kt.Message=Kt.RAL=void 0;Kt.CancellationStrategy=Kt.CancellationSenderStrategy=Kt.CancellationReceiverStrategy=Kt.ConnectionError=Kt.ConnectionErrors=Kt.LogTraceNotification=Kt.SetTraceNotification=void 0;var da=NJ();Object.defineProperty(Kt,"Message",{enumerable:!0,get:function(){return da.Message}});Object.defineProperty(Kt,"RequestType",{enumerable:!0,get:function(){return da.RequestType}});Object.defineProperty(Kt,"RequestType0",{enumerable:!0,get:function(){return da.RequestType0}});Object.defineProperty(Kt,"RequestType1",{enumerable:!0,get:function(){return da.RequestType1}});Object.defineProperty(Kt,"RequestType2",{enumerable:!0,get:function(){return da.RequestType2}});Object.defineProperty(Kt,"RequestType3",{enumerable:!0,get:function(){return da.RequestType3}});Object.defineProperty(Kt,"RequestType4",{enumerable:!0,get:function(){return da.RequestType4}});Object.defineProperty(Kt,"RequestType5",{enumerable:!0,get:function(){return da.RequestType5}});Object.defineProperty(Kt,"RequestType6",{enumerable:!0,get:function(){return da.RequestType6}});Object.defineProperty(Kt,"RequestType7",{enumerable:!0,get:function(){return da.RequestType7}});Object.defineProperty(Kt,"RequestType8",{enumerable:!0,get:function(){return da.RequestType8}});Object.defineProperty(Kt,"RequestType9",{enumerable:!0,get:function(){return da.RequestType9}});Object.defineProperty(Kt,"ResponseError",{enumerable:!0,get:function(){return da.ResponseError}});Object.defineProperty(Kt,"ErrorCodes",{enumerable:!0,get:function(){return da.ErrorCodes}});Object.defineProperty(Kt,"NotificationType",{enumerable:!0,get:function(){return da.NotificationType}});Object.defineProperty(Kt,"NotificationType0",{enumerable:!0,get:function(){return da.NotificationType0}});Object.defineProperty(Kt,"NotificationType1",{enumerable:!0,get:function(){return da.NotificationType1}});Object.defineProperty(Kt,"NotificationType2",{enumerable:!0,get:function(){return da.NotificationType2}});Object.defineProperty(Kt,"NotificationType3",{enumerable:!0,get:function(){return da.NotificationType3}});Object.defineProperty(Kt,"NotificationType4",{enumerable:!0,get:function(){return da.NotificationType4}});Object.defineProperty(Kt,"NotificationType5",{enumerable:!0,get:function(){return da.NotificationType5}});Object.defineProperty(Kt,"NotificationType6",{enumerable:!0,get:function(){return da.NotificationType6}});Object.defineProperty(Kt,"NotificationType7",{enumerable:!0,get:function(){return da.NotificationType7}});Object.defineProperty(Kt,"NotificationType8",{enumerable:!0,get:function(){return da.NotificationType8}});Object.defineProperty(Kt,"NotificationType9",{enumerable:!0,get:function(){return da.NotificationType9}});Object.defineProperty(Kt,"ParameterStructures",{enumerable:!0,get:function(){return da.ParameterStructures}});var iX=FJ();Object.defineProperty(Kt,"LinkedMap",{enumerable:!0,get:function(){return iX.LinkedMap}});Object.defineProperty(Kt,"LRUCache",{enumerable:!0,get:function(){return iX.LRUCache}});Object.defineProperty(Kt,"Touch",{enumerable:!0,get:function(){return iX.Touch}});var Flt=aJ();Object.defineProperty(Kt,"Disposable",{enumerable:!0,get:function(){return Flt.Disposable}});var LTe=hE();Object.defineProperty(Kt,"Event",{enumerable:!0,get:function(){return LTe.Event}});Object.defineProperty(Kt,"Emitter",{enumerable:!0,get:function(){return LTe.Emitter}});var NTe=BJ();Object.defineProperty(Kt,"CancellationTokenSource",{enumerable:!0,get:function(){return NTe.CancellationTokenSource}});Object.defineProperty(Kt,"CancellationToken",{enumerable:!0,get:function(){return NTe.CancellationToken}});var oX=CTe();Object.defineProperty(Kt,"MessageReader",{enumerable:!0,get:function(){return oX.MessageReader}});Object.defineProperty(Kt,"AbstractMessageReader",{enumerable:!0,get:function(){return oX.AbstractMessageReader}});Object.defineProperty(Kt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return oX.ReadableStreamMessageReader}});var sX=xTe();Object.defineProperty(Kt,"MessageWriter",{enumerable:!0,get:function(){return sX.MessageWriter}});Object.defineProperty(Kt,"AbstractMessageWriter",{enumerable:!0,get:function(){return sX.AbstractMessageWriter}});Object.defineProperty(Kt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return sX.WriteableStreamMessageWriter}});var Mf=MTe();Object.defineProperty(Kt,"ConnectionStrategy",{enumerable:!0,get:function(){return Mf.ConnectionStrategy}});Object.defineProperty(Kt,"ConnectionOptions",{enumerable:!0,get:function(){return Mf.ConnectionOptions}});Object.defineProperty(Kt,"NullLogger",{enumerable:!0,get:function(){return Mf.NullLogger}});Object.defineProperty(Kt,"createMessageConnection",{enumerable:!0,get:function(){return Mf.createMessageConnection}});Object.defineProperty(Kt,"ProgressToken",{enumerable:!0,get:function(){return Mf.ProgressToken}});Object.defineProperty(Kt,"ProgressType",{enumerable:!0,get:function(){return Mf.ProgressType}});Object.defineProperty(Kt,"Trace",{enumerable:!0,get:function(){return Mf.Trace}});Object.defineProperty(Kt,"TraceValues",{enumerable:!0,get:function(){return Mf.TraceValues}});Object.defineProperty(Kt,"TraceFormat",{enumerable:!0,get:function(){return Mf.TraceFormat}});Object.defineProperty(Kt,"SetTraceNotification",{enumerable:!0,get:function(){return Mf.SetTraceNotification}});Object.defineProperty(Kt,"LogTraceNotification",{enumerable:!0,get:function(){return Mf.LogTraceNotification}});Object.defineProperty(Kt,"ConnectionErrors",{enumerable:!0,get:function(){return Mf.ConnectionErrors}});Object.defineProperty(Kt,"ConnectionError",{enumerable:!0,get:function(){return Mf.ConnectionError}});Object.defineProperty(Kt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Mf.CancellationReceiverStrategy}});Object.defineProperty(Kt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Mf.CancellationSenderStrategy}});Object.defineProperty(Kt,"CancellationStrategy",{enumerable:!0,get:function(){return Mf.CancellationStrategy}});var jlt=ww();Kt.RAL=jlt.default});var hT=P(cs=>{"use strict";var zlt=cs&&cs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ult=cs&&cs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zlt(e,r,t)};Object.defineProperty(cs,"__esModule",{value:!0});cs.createMessageConnection=cs.createServerSocketTransport=cs.createClientSocketTransport=cs.createServerPipeTransport=cs.createClientPipeTransport=cs.generateRandomPipeName=cs.StreamMessageWriter=cs.StreamMessageReader=cs.SocketMessageWriter=cs.SocketMessageReader=cs.IPCMessageWriter=cs.IPCMessageReader=void 0;var gE=_Te();gE.default.install();var jy=aX(),qTe=require("path"),Hlt=require("os"),Blt=require("crypto"),dz=require("net");Ult(aX(),cs);var cX=class extends jy.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),jy.Disposable.create(()=>this.process.off("message",e))}};cs.IPCMessageReader=cX;var uX=class extends jy.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};cs.IPCMessageWriter=uX;var dT=class extends jy.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,gE.default)().stream.asReadableStream(e),t)}};cs.SocketMessageReader=dT;var fT=class extends jy.WriteableStreamMessageWriter{constructor(e,t){super((0,gE.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};cs.SocketMessageWriter=fT;var uz=class extends jy.ReadableStreamMessageReader{constructor(e,t){super((0,gE.default)().stream.asReadableStream(e),t)}};cs.StreamMessageReader=uz;var lz=class extends jy.WriteableStreamMessageWriter{constructor(e,t){super((0,gE.default)().stream.asWritableStream(e),t)}};cs.StreamMessageWriter=lz;var FTe=process.env.XDG_RUNTIME_DIR,Wlt=new Map([["linux",107],["darwin",103]]);function $lt(){let r=(0,Blt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;FTe?e=qTe.join(FTe,`vscode-ipc-${r}.sock`):e=qTe.join(Hlt.tmpdir(),`vscode-${r}.sock`);let t=Wlt.get(process.platform);return t!==void 0&&e.length>=t&&(0,gE.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}cs.generateRandomPipeName=$lt;function Vlt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,dz.createServer)(a=>{s.close(),t([new dT(a,e),new fT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}cs.createClientPipeTransport=Vlt;function Glt(r,e="utf-8"){let t=(0,dz.createConnection)(r);return[new dT(t,e),new fT(t,e)]}cs.createServerPipeTransport=Glt;function Klt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,dz.createServer)(a=>{s.close(),t([new dT(a,e),new fT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}cs.createClientSocketTransport=Klt;function Ylt(r,e="utf-8"){let t=(0,dz.createConnection)(r,"127.0.0.1");return[new dT(t,e),new fT(t,e)]}cs.createServerSocketTransport=Ylt;function Jlt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function Xlt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function Qlt(r,e,t,n){t||(t=jy.NullLogger);let i=Jlt(r)?new uz(r):r,o=Xlt(e)?new lz(e):e;return jy.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,jy.createMessageConnection)(i,o,t,n)}cs.createMessageConnection=Qlt});var lX=P((JBt,jTe)=>{"use strict";jTe.exports=hT()});var hz=P((zTe,fz)=>{(function(r){if(typeof fz=="object"&&typeof fz.exports=="object"){var e=r(require,zTe);e!==void 0&&(fz.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(ne){function Ee(je){return typeof je=="string"}ne.is=Ee})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(ne){function Ee(je){return typeof je=="string"}ne.is=Ee})(n=e.URI||(e.URI={}));var i;(function(ne){ne.MIN_VALUE=-2147483648,ne.MAX_VALUE=2147483647;function Ee(je){return typeof je=="number"&&ne.MIN_VALUE<=je&&je<=ne.MAX_VALUE}ne.is=Ee})(i=e.integer||(e.integer={}));var o;(function(ne){ne.MIN_VALUE=0,ne.MAX_VALUE=2147483647;function Ee(je){return typeof je=="number"&&ne.MIN_VALUE<=je&&je<=ne.MAX_VALUE}ne.is=Ee})(o=e.uinteger||(e.uinteger={}));var s;(function(ne){function Ee(he,S){return he===Number.MAX_VALUE&&(he=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:he,character:S}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}ne.is=je})(s=e.Position||(e.Position={}));var a;(function(ne){function Ee(he,S,fe,Je){if(He.uinteger(he)&&He.uinteger(S)&&He.uinteger(fe)&&He.uinteger(Je))return{start:s.create(he,S),end:s.create(fe,Je)};if(s.is(he)&&s.is(S))return{start:he,end:S};throw new Error("Range#create called with invalid arguments[".concat(he,", ").concat(S,", ").concat(fe,", ").concat(Je,"]"))}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}ne.is=je})(a=e.Range||(e.Range={}));var c;(function(ne){function Ee(he,S){return{uri:he,range:S}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}ne.is=je})(c=e.Location||(e.Location={}));var u;(function(ne){function Ee(he,S,fe,Je){return{targetUri:he,targetRange:S,targetSelectionRange:fe,originSelectionRange:Je}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}ne.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(ne){function Ee(he,S,fe,Je){return{red:he,green:S,blue:fe,alpha:Je}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}ne.is=je})(l=e.Color||(e.Color={}));var d;(function(ne){function Ee(he,S){return{range:he,color:S}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}ne.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(ne){function Ee(he,S,fe){return{label:he,textEdit:S,additionalTextEdits:fe}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||ce.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,ce.is))}ne.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var _;(function(ne){ne.Comment="comment",ne.Imports="imports",ne.Region="region"})(_=e.FoldingRangeKind||(e.FoldingRangeKind={}));var y;(function(ne){function Ee(he,S,fe,Je,Cr,Br){var Jr={startLine:he,endLine:S};return He.defined(fe)&&(Jr.startCharacter=fe),He.defined(Je)&&(Jr.endCharacter=Je),He.defined(Cr)&&(Jr.kind=Cr),He.defined(Br)&&(Jr.collapsedText=Br),Jr}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}ne.is=je})(y=e.FoldingRange||(e.FoldingRange={}));var D;(function(ne){function Ee(he,S){return{location:he,message:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}ne.is=je})(D=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var k;(function(ne){ne.Error=1,ne.Warning=2,ne.Information=3,ne.Hint=4})(k=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var H;(function(ne){ne.Unnecessary=1,ne.Deprecated=2})(H=e.DiagnosticTag||(e.DiagnosticTag={}));var M;(function(ne){function Ee(je){var he=je;return He.objectLiteral(he)&&He.string(he.href)}ne.is=Ee})(M=e.CodeDescription||(e.CodeDescription={}));var z;(function(ne){function Ee(he,S,fe,Je,Cr,Br){var Jr={range:he,message:S};return He.defined(fe)&&(Jr.severity=fe),He.defined(Je)&&(Jr.code=Je),He.defined(Cr)&&(Jr.source=Cr),He.defined(Br)&&(Jr.relatedInformation=Br),Jr}ne.create=Ee;function je(he){var S,fe=he;return He.defined(fe)&&a.is(fe.range)&&He.string(fe.message)&&(He.number(fe.severity)||He.undefined(fe.severity))&&(He.integer(fe.code)||He.string(fe.code)||He.undefined(fe.code))&&(He.undefined(fe.codeDescription)||He.string((S=fe.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(fe.source)||He.undefined(fe.source))&&(He.undefined(fe.relatedInformation)||He.typedArray(fe.relatedInformation,D.is))}ne.is=je})(z=e.Diagnostic||(e.Diagnostic={}));var re;(function(ne){function Ee(he,S){for(var fe=[],Je=2;Je<arguments.length;Je++)fe[Je-2]=arguments[Je];var Cr={title:he,command:S};return He.defined(fe)&&fe.length>0&&(Cr.arguments=fe),Cr}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}ne.is=je})(re=e.Command||(e.Command={}));var ce;(function(ne){function Ee(fe,Je){return{range:fe,newText:Je}}ne.replace=Ee;function je(fe,Je){return{range:{start:fe,end:fe},newText:Je}}ne.insert=je;function he(fe){return{range:fe,newText:""}}ne.del=he;function S(fe){var Je=fe;return He.objectLiteral(Je)&&He.string(Je.newText)&&a.is(Je.range)}ne.is=S})(ce=e.TextEdit||(e.TextEdit={}));var _e;(function(ne){function Ee(he,S,fe){var Je={label:he};return S!==void 0&&(Je.needsConfirmation=S),fe!==void 0&&(Je.description=fe),Je}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}ne.is=je})(_e=e.ChangeAnnotation||(e.ChangeAnnotation={}));var G;(function(ne){function Ee(je){var he=je;return He.string(he)}ne.is=Ee})(G=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var $;(function(ne){function Ee(fe,Je,Cr){return{range:fe,newText:Je,annotationId:Cr}}ne.replace=Ee;function je(fe,Je,Cr){return{range:{start:fe,end:fe},newText:Je,annotationId:Cr}}ne.insert=je;function he(fe,Je){return{range:fe,newText:"",annotationId:Je}}ne.del=he;function S(fe){var Je=fe;return ce.is(Je)&&(_e.is(Je.annotationId)||G.is(Je.annotationId))}ne.is=S})($=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var te;(function(ne){function Ee(he,S){return{textDocument:he,edits:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&Le.is(S.textDocument)&&Array.isArray(S.edits)}ne.is=je})(te=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Te;(function(ne){function Ee(he,S,fe){var Je={kind:"create",uri:he};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Je.options=S),fe!==void 0&&(Je.annotationId=fe),Je}ne.create=Ee;function je(he){var S=he;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||G.is(S.annotationId))}ne.is=je})(Te=e.CreateFile||(e.CreateFile={}));var ae;(function(ne){function Ee(he,S,fe,Je){var Cr={kind:"rename",oldUri:he,newUri:S};return fe!==void 0&&(fe.overwrite!==void 0||fe.ignoreIfExists!==void 0)&&(Cr.options=fe),Je!==void 0&&(Cr.annotationId=Je),Cr}ne.create=Ee;function je(he){var S=he;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||G.is(S.annotationId))}ne.is=je})(ae=e.RenameFile||(e.RenameFile={}));var ue;(function(ne){function Ee(he,S,fe){var Je={kind:"delete",uri:he};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Je.options=S),fe!==void 0&&(Je.annotationId=fe),Je}ne.create=Ee;function je(he){var S=he;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||G.is(S.annotationId))}ne.is=je})(ue=e.DeleteFile||(e.DeleteFile={}));var Fe;(function(ne){function Ee(je){var he=je;return he&&(he.changes!==void 0||he.documentChanges!==void 0)&&(he.documentChanges===void 0||he.documentChanges.every(function(S){return He.string(S.kind)?Te.is(S)||ae.is(S)||ue.is(S):te.is(S)}))}ne.is=Ee})(Fe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var qe=function(){function ne(Ee,je){this.edits=Ee,this.changeAnnotations=je}return ne.prototype.insert=function(Ee,je,he){var S,fe;if(he===void 0?S=ce.insert(Ee,je):G.is(he)?(fe=he,S=$.insert(Ee,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=$.insert(Ee,je,fe)),this.edits.push(S),fe!==void 0)return fe},ne.prototype.replace=function(Ee,je,he){var S,fe;if(he===void 0?S=ce.replace(Ee,je):G.is(he)?(fe=he,S=$.replace(Ee,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=$.replace(Ee,je,fe)),this.edits.push(S),fe!==void 0)return fe},ne.prototype.delete=function(Ee,je){var he,S;if(je===void 0?he=ce.del(Ee):G.is(je)?(S=je,he=$.del(Ee,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),he=$.del(Ee,S)),this.edits.push(he),S!==void 0)return S},ne.prototype.add=function(Ee){this.edits.push(Ee)},ne.prototype.all=function(){return this.edits},ne.prototype.clear=function(){this.edits.splice(0,this.edits.length)},ne.prototype.assertChangeAnnotations=function(Ee){if(Ee===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},ne}(),le=function(){function ne(Ee){this._annotations=Ee===void 0?Object.create(null):Ee,this._counter=0,this._size=0}return ne.prototype.all=function(){return this._annotations},Object.defineProperty(ne.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ne.prototype.manage=function(Ee,je){var he;if(G.is(Ee)?he=Ee:(he=this.nextId(),je=Ee),this._annotations[he]!==void 0)throw new Error("Id ".concat(he," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(he));return this._annotations[he]=je,this._size++,he},ne.prototype.nextId=function(){return this._counter++,this._counter.toString()},ne}(),Ce=function(){function ne(Ee){var je=this;this._textEditChanges=Object.create(null),Ee!==void 0?(this._workspaceEdit=Ee,Ee.documentChanges?(this._changeAnnotations=new le(Ee.changeAnnotations),Ee.changeAnnotations=this._changeAnnotations.all(),Ee.documentChanges.forEach(function(he){if(te.is(he)){var S=new qe(he.edits,je._changeAnnotations);je._textEditChanges[he.textDocument.uri]=S}})):Ee.changes&&Object.keys(Ee.changes).forEach(function(he){var S=new qe(Ee.changes[he]);je._textEditChanges[he]=S})):this._workspaceEdit={}}return Object.defineProperty(ne.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),ne.prototype.getTextEditChange=function(Ee){if(Le.is(Ee)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:Ee.uri,version:Ee.version},he=this._textEditChanges[je.uri];if(!he){var S=[],fe={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(fe),he=new qe(S,this._changeAnnotations),this._textEditChanges[je.uri]=he}return he}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var he=this._textEditChanges[Ee];if(!he){var S=[];this._workspaceEdit.changes[Ee]=S,he=new qe(S),this._textEditChanges[Ee]=he}return he}},ne.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},ne.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},ne.prototype.createFile=function(Ee,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;_e.is(je)||G.is(je)?S=je:he=je;var fe,Je;if(S===void 0?fe=Te.create(Ee,he):(Je=G.is(S)?S:this._changeAnnotations.manage(S),fe=Te.create(Ee,he,Je)),this._workspaceEdit.documentChanges.push(fe),Je!==void 0)return Je},ne.prototype.renameFile=function(Ee,je,he,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe;_e.is(he)||G.is(he)?fe=he:S=he;var Je,Cr;if(fe===void 0?Je=ae.create(Ee,je,S):(Cr=G.is(fe)?fe:this._changeAnnotations.manage(fe),Je=ae.create(Ee,je,S,Cr)),this._workspaceEdit.documentChanges.push(Je),Cr!==void 0)return Cr},ne.prototype.deleteFile=function(Ee,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;_e.is(je)||G.is(je)?S=je:he=je;var fe,Je;if(S===void 0?fe=ue.create(Ee,he):(Je=G.is(S)?S:this._changeAnnotations.manage(S),fe=ue.create(Ee,he,Je)),this._workspaceEdit.documentChanges.push(fe),Je!==void 0)return Je},ne}();e.WorkspaceChange=Ce;var be;(function(ne){function Ee(he){return{uri:he}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)}ne.is=je})(be=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xe;(function(ne){function Ee(he,S){return{uri:he,version:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}ne.is=je})(xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Le;(function(ne){function Ee(he,S){return{uri:he,version:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}ne.is=je})(Le=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ge;(function(ne){function Ee(he,S,fe,Je){return{uri:he,languageId:S,version:fe,text:Je}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}ne.is=je})(Ge=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(ne){ne.PlainText="plaintext",ne.Markdown="markdown";function Ee(je){var he=je;return he===ne.PlainText||he===ne.Markdown}ne.is=Ee})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(ne){function Ee(je){var he=je;return He.objectLiteral(je)&&Ct.is(he.kind)&&He.string(he.value)}ne.is=Ee})(ze=e.MarkupContent||(e.MarkupContent={}));var at;(function(ne){ne.Text=1,ne.Method=2,ne.Function=3,ne.Constructor=4,ne.Field=5,ne.Variable=6,ne.Class=7,ne.Interface=8,ne.Module=9,ne.Property=10,ne.Unit=11,ne.Value=12,ne.Enum=13,ne.Keyword=14,ne.Snippet=15,ne.Color=16,ne.File=17,ne.Reference=18,ne.Folder=19,ne.EnumMember=20,ne.Constant=21,ne.Struct=22,ne.Event=23,ne.Operator=24,ne.TypeParameter=25})(at=e.CompletionItemKind||(e.CompletionItemKind={}));var ct;(function(ne){ne.PlainText=1,ne.Snippet=2})(ct=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(ne){ne.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var pr;(function(ne){function Ee(he,S,fe){return{newText:he,insert:S,replace:fe}}ne.create=Ee;function je(he){var S=he;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}ne.is=je})(pr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Nr;(function(ne){ne.asIs=1,ne.adjustIndentation=2})(Nr=e.InsertTextMode||(e.InsertTextMode={}));var Hr;(function(ne){function Ee(je){var he=je;return he&&(He.string(he.detail)||he.detail===void 0)&&(He.string(he.description)||he.description===void 0)}ne.is=Ee})(Hr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var fr;(function(ne){function Ee(je){return{label:je}}ne.create=Ee})(fr=e.CompletionItem||(e.CompletionItem={}));var It;(function(ne){function Ee(je,he){return{items:je||[],isIncomplete:!!he}}ne.create=Ee})(It=e.CompletionList||(e.CompletionList={}));var mr;(function(ne){function Ee(he){return he.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}ne.fromPlainText=Ee;function je(he){var S=he;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}ne.is=je})(mr=e.MarkedString||(e.MarkedString={}));var Lt;(function(ne){function Ee(je){var he=je;return!!he&&He.objectLiteral(he)&&(ze.is(he.contents)||mr.is(he.contents)||He.typedArray(he.contents,mr.is))&&(je.range===void 0||a.is(je.range))}ne.is=Ee})(Lt=e.Hover||(e.Hover={}));var nn;(function(ne){function Ee(je,he){return he?{label:je,documentation:he}:{label:je}}ne.create=Ee})(nn=e.ParameterInformation||(e.ParameterInformation={}));var cn;(function(ne){function Ee(je,he){for(var S=[],fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];var Je={label:je};return He.defined(he)&&(Je.documentation=he),He.defined(S)?Je.parameters=S:Je.parameters=[],Je}ne.create=Ee})(cn=e.SignatureInformation||(e.SignatureInformation={}));var xn;(function(ne){ne.Text=1,ne.Read=2,ne.Write=3})(xn=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Rr;(function(ne){function Ee(je,he){var S={range:je};return He.number(he)&&(S.kind=he),S}ne.create=Ee})(Rr=e.DocumentHighlight||(e.DocumentHighlight={}));var Un;(function(ne){ne.File=1,ne.Module=2,ne.Namespace=3,ne.Package=4,ne.Class=5,ne.Method=6,ne.Property=7,ne.Field=8,ne.Constructor=9,ne.Enum=10,ne.Interface=11,ne.Function=12,ne.Variable=13,ne.Constant=14,ne.String=15,ne.Number=16,ne.Boolean=17,ne.Array=18,ne.Object=19,ne.Key=20,ne.Null=21,ne.EnumMember=22,ne.Struct=23,ne.Event=24,ne.Operator=25,ne.TypeParameter=26})(Un=e.SymbolKind||(e.SymbolKind={}));var Wr;(function(ne){ne.Deprecated=1})(Wr=e.SymbolTag||(e.SymbolTag={}));var un;(function(ne){function Ee(je,he,S,fe,Je){var Cr={name:je,kind:he,location:{uri:fe,range:S}};return Je&&(Cr.containerName=Je),Cr}ne.create=Ee})(un=e.SymbolInformation||(e.SymbolInformation={}));var ni;(function(ne){function Ee(je,he,S,fe){return fe!==void 0?{name:je,kind:he,location:{uri:S,range:fe}}:{name:je,kind:he,location:{uri:S}}}ne.create=Ee})(ni=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var $r;(function(ne){function Ee(he,S,fe,Je,Cr,Br){var Jr={name:he,detail:S,kind:fe,range:Je,selectionRange:Cr};return Br!==void 0&&(Jr.children=Br),Jr}ne.create=Ee;function je(he){var S=he;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}ne.is=je})($r=e.DocumentSymbol||(e.DocumentSymbol={}));var In;(function(ne){ne.Empty="",ne.QuickFix="quickfix",ne.Refactor="refactor",ne.RefactorExtract="refactor.extract",ne.RefactorInline="refactor.inline",ne.RefactorRewrite="refactor.rewrite",ne.Source="source",ne.SourceOrganizeImports="source.organizeImports",ne.SourceFixAll="source.fixAll"})(In=e.CodeActionKind||(e.CodeActionKind={}));var Ei;(function(ne){ne.Invoked=1,ne.Automatic=2})(Ei=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Vr;(function(ne){function Ee(he,S,fe){var Je={diagnostics:he};return S!=null&&(Je.only=S),fe!=null&&(Je.triggerKind=fe),Je}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.typedArray(S.diagnostics,z.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===Ei.Invoked||S.triggerKind===Ei.Automatic)}ne.is=je})(Vr=e.CodeActionContext||(e.CodeActionContext={}));var Vi;(function(ne){function Ee(he,S,fe){var Je={title:he},Cr=!0;return typeof S=="string"?(Cr=!1,Je.kind=S):re.is(S)?Je.command=S:Je.edit=S,Cr&&fe!==void 0&&(Je.kind=fe),Je}ne.create=Ee;function je(he){var S=he;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,z.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||re.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||Fe.is(S.edit))}ne.is=je})(Vi=e.CodeAction||(e.CodeAction={}));var ii;(function(ne){function Ee(he,S){var fe={range:he};return He.defined(S)&&(fe.data=S),fe}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||re.is(S.command))}ne.is=je})(ii=e.CodeLens||(e.CodeLens={}));var ln;(function(ne){function Ee(he,S){return{tabSize:he,insertSpaces:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}ne.is=je})(ln=e.FormattingOptions||(e.FormattingOptions={}));var Re;(function(ne){function Ee(he,S,fe){return{range:he,target:S,data:fe}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}ne.is=je})(Re=e.DocumentLink||(e.DocumentLink={}));var oe;(function(ne){function Ee(he,S){return{range:he,parent:S}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||ne.is(S.parent))}ne.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(ne){ne.namespace="namespace",ne.type="type",ne.class="class",ne.enum="enum",ne.interface="interface",ne.struct="struct",ne.typeParameter="typeParameter",ne.parameter="parameter",ne.variable="variable",ne.property="property",ne.enumMember="enumMember",ne.event="event",ne.function="function",ne.method="method",ne.macro="macro",ne.keyword="keyword",ne.modifier="modifier",ne.comment="comment",ne.string="string",ne.number="number",ne.regexp="regexp",ne.operator="operator",ne.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var ye;(function(ne){ne.declaration="declaration",ne.definition="definition",ne.readonly="readonly",ne.static="static",ne.deprecated="deprecated",ne.abstract="abstract",ne.async="async",ne.modification="modification",ne.documentation="documentation",ne.defaultLibrary="defaultLibrary"})(ye=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Ke;(function(ne){function Ee(je){var he=je;return He.objectLiteral(he)&&(he.resultId===void 0||typeof he.resultId=="string")&&Array.isArray(he.data)&&(he.data.length===0||typeof he.data[0]=="number")}ne.is=Ee})(Ke=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(ne){function Ee(he,S){return{range:he,text:S}}ne.create=Ee;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.string(S.text)}ne.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Jt;(function(ne){function Ee(he,S,fe){return{range:he,variableName:S,caseSensitiveLookup:fe}}ne.create=Ee;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}ne.is=je})(Jt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var nr;(function(ne){function Ee(he,S){return{range:he,expression:S}}ne.create=Ee;function je(he){var S=he;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}ne.is=je})(nr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Xt;(function(ne){function Ee(he,S){return{frameId:he,stoppedLocation:S}}ne.create=Ee;function je(he){var S=he;return He.defined(S)&&a.is(he.stoppedLocation)}ne.is=je})(Xt=e.InlineValueContext||(e.InlineValueContext={}));var Vt;(function(ne){ne.Type=1,ne.Parameter=2;function Ee(je){return je===1||je===2}ne.is=Ee})(Vt=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(ne){function Ee(he){return{value:he}}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||re.is(S.command))}ne.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(ne){function Ee(he,S,fe){var Je={position:he,label:S};return fe!==void 0&&(Je.kind=fe),Je}ne.create=Ee;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||Vt.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,ce.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}ne.is=je})(K=e.InlayHint||(e.InlayHint={}));var Ne;(function(ne){function Ee(je){var he=je;return He.objectLiteral(he)&&n.is(he.uri)&&He.string(he.name)}ne.is=Ee})(Ne=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Bt;(function(ne){function Ee(fe,Je,Cr,Br){return new Tr(fe,Je,Cr,Br)}ne.create=Ee;function je(fe){var Je=fe;return!!(He.defined(Je)&&He.string(Je.uri)&&(He.undefined(Je.languageId)||He.string(Je.languageId))&&He.uinteger(Je.lineCount)&&He.func(Je.getText)&&He.func(Je.positionAt)&&He.func(Je.offsetAt))}ne.is=je;function he(fe,Je){for(var Cr=fe.getText(),Br=S(Je,function(Go,Is){var Ws=Go.range.start.line-Is.range.start.line;return Ws===0?Go.range.start.character-Is.range.start.character:Ws}),Jr=Cr.length,qn=Br.length-1;qn>=0;qn--){var xi=Br[qn],ws=fe.offsetAt(xi.range.start),bn=fe.offsetAt(xi.range.end);if(bn<=Jr)Cr=Cr.substring(0,ws)+xi.newText+Cr.substring(bn,Cr.length);else throw new Error("Overlapping edit");Jr=ws}return Cr}ne.applyEdits=he;function S(fe,Je){if(fe.length<=1)return fe;var Cr=fe.length/2|0,Br=fe.slice(0,Cr),Jr=fe.slice(Cr);S(Br,Je),S(Jr,Je);for(var qn=0,xi=0,ws=0;qn<Br.length&&xi<Jr.length;){var bn=Je(Br[qn],Jr[xi]);bn<=0?fe[ws++]=Br[qn++]:fe[ws++]=Jr[xi++]}for(;qn<Br.length;)fe[ws++]=Br[qn++];for(;xi<Jr.length;)fe[ws++]=Jr[xi++];return fe}})(Bt=e.TextDocument||(e.TextDocument={}));var Tr=function(){function ne(Ee,je,he,S){this._uri=Ee,this._languageId=je,this._version=he,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(ne.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),ne.prototype.getText=function(Ee){if(Ee){var je=this.offsetAt(Ee.start),he=this.offsetAt(Ee.end);return this._content.substring(je,he)}return this._content},ne.prototype.update=function(Ee,je){this._content=Ee.text,this._version=je,this._lineOffsets=void 0},ne.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Ee=[],je=this._content,he=!0,S=0;S<je.length;S++){he&&(Ee.push(S),he=!1);var fe=je.charAt(S);he=fe==="\r"||fe===`
`,fe==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}he&&je.length>0&&Ee.push(je.length),this._lineOffsets=Ee}return this._lineOffsets},ne.prototype.positionAt=function(Ee){Ee=Math.max(Math.min(Ee,this._content.length),0);var je=this.getLineOffsets(),he=0,S=je.length;if(S===0)return s.create(0,Ee);for(;he<S;){var fe=Math.floor((he+S)/2);je[fe]>Ee?S=fe:he=fe+1}var Je=he-1;return s.create(Je,Ee-je[Je])},ne.prototype.offsetAt=function(Ee){var je=this.getLineOffsets();if(Ee.line>=je.length)return this._content.length;if(Ee.line<0)return 0;var he=je[Ee.line],S=Ee.line+1<je.length?je[Ee.line+1]:this._content.length;return Math.max(Math.min(he+Ee.character,S),he)},Object.defineProperty(ne.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),ne}(),He;(function(ne){var Ee=Object.prototype.toString;function je(bn){return typeof bn<"u"}ne.defined=je;function he(bn){return typeof bn>"u"}ne.undefined=he;function S(bn){return bn===!0||bn===!1}ne.boolean=S;function fe(bn){return Ee.call(bn)==="[object String]"}ne.string=fe;function Je(bn){return Ee.call(bn)==="[object Number]"}ne.number=Je;function Cr(bn,Go,Is){return Ee.call(bn)==="[object Number]"&&Go<=bn&&bn<=Is}ne.numberRange=Cr;function Br(bn){return Ee.call(bn)==="[object Number]"&&-2147483648<=bn&&bn<=2147483647}ne.integer=Br;function Jr(bn){return Ee.call(bn)==="[object Number]"&&0<=bn&&bn<=2147483647}ne.uinteger=Jr;function qn(bn){return Ee.call(bn)==="[object Function]"}ne.func=qn;function xi(bn){return bn!==null&&typeof bn=="object"}ne.objectLiteral=xi;function ws(bn,Go){return Array.isArray(bn)&&bn.every(Go)}ne.typedArray=ws})(He||(He={}))})});var xc=P(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.ProtocolNotificationType=qh.ProtocolNotificationType0=qh.ProtocolRequestType=qh.ProtocolRequestType0=qh.RegistrationType=qh.MessageDirection=void 0;var vE=hT(),Zlt;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(Zlt=qh.MessageDirection||(qh.MessageDirection={}));var dX=class{constructor(e){this.method=e}};qh.RegistrationType=dX;var fX=class extends vE.RequestType0{constructor(e){super(e)}};qh.ProtocolRequestType0=fX;var hX=class extends vE.RequestType{constructor(e){super(e,vE.ParameterStructures.byName)}};qh.ProtocolRequestType=hX;var pX=class extends vE.NotificationType0{constructor(e){super(e)}};qh.ProtocolNotificationType0=pX;var mX=class extends vE.NotificationType{constructor(e){super(e,vE.ParameterStructures.byName)}};qh.ProtocolNotificationType=mX});var pz=P(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.objectLiteral=qu.typedArray=qu.stringArray=qu.array=qu.func=qu.error=qu.number=qu.string=qu.boolean=void 0;function edt(r){return r===!0||r===!1}qu.boolean=edt;function UTe(r){return typeof r=="string"||r instanceof String}qu.string=UTe;function tdt(r){return typeof r=="number"||r instanceof Number}qu.number=tdt;function rdt(r){return r instanceof Error}qu.error=rdt;function ndt(r){return typeof r=="function"}qu.func=ndt;function HTe(r){return Array.isArray(r)}qu.array=HTe;function idt(r){return HTe(r)&&r.every(e=>UTe(e))}qu.stringArray=idt;function odt(r,e){return Array.isArray(r)&&r.every(e)}qu.typedArray=odt;function sdt(r){return r!==null&&typeof r=="object"}qu.objectLiteral=sdt});var WTe=P(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});J1.ImplementationRequest=void 0;var BTe=xc(),adt;(function(r){r.method="textDocument/implementation",r.messageDirection=BTe.MessageDirection.clientToServer,r.type=new BTe.ProtocolRequestType(r.method)})(adt=J1.ImplementationRequest||(J1.ImplementationRequest={}))});var VTe=P(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.TypeDefinitionRequest=void 0;var $Te=xc(),cdt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=$Te.MessageDirection.clientToServer,r.type=new $Te.ProtocolRequestType(r.method)})(cdt=X1.TypeDefinitionRequest||(X1.TypeDefinitionRequest={}))});var GTe=P(_C=>{"use strict";Object.defineProperty(_C,"__esModule",{value:!0});_C.DidChangeWorkspaceFoldersNotification=_C.WorkspaceFoldersRequest=void 0;var mz=xc(),udt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=mz.MessageDirection.serverToClient,r.type=new mz.ProtocolRequestType0(r.method)})(udt=_C.WorkspaceFoldersRequest||(_C.WorkspaceFoldersRequest={}));var ldt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=mz.MessageDirection.clientToServer,r.type=new mz.ProtocolNotificationType(r.method)})(ldt=_C.DidChangeWorkspaceFoldersNotification||(_C.DidChangeWorkspaceFoldersNotification={}))});var YTe=P(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.ConfigurationRequest=void 0;var KTe=xc(),ddt;(function(r){r.method="workspace/configuration",r.messageDirection=KTe.MessageDirection.serverToClient,r.type=new KTe.ProtocolRequestType(r.method)})(ddt=Q1.ConfigurationRequest||(Q1.ConfigurationRequest={}))});var JTe=P(yC=>{"use strict";Object.defineProperty(yC,"__esModule",{value:!0});yC.ColorPresentationRequest=yC.DocumentColorRequest=void 0;var gz=xc(),fdt;(function(r){r.method="textDocument/documentColor",r.messageDirection=gz.MessageDirection.clientToServer,r.type=new gz.ProtocolRequestType(r.method)})(fdt=yC.DocumentColorRequest||(yC.DocumentColorRequest={}));var hdt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=gz.MessageDirection.clientToServer,r.type=new gz.ProtocolRequestType(r.method)})(hdt=yC.ColorPresentationRequest||(yC.ColorPresentationRequest={}))});var QTe=P(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0});Z1.FoldingRangeRequest=void 0;var XTe=xc(),pdt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=XTe.MessageDirection.clientToServer,r.type=new XTe.ProtocolRequestType(r.method)})(pdt=Z1.FoldingRangeRequest||(Z1.FoldingRangeRequest={}))});var eDe=P(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});eA.DeclarationRequest=void 0;var ZTe=xc(),mdt;(function(r){r.method="textDocument/declaration",r.messageDirection=ZTe.MessageDirection.clientToServer,r.type=new ZTe.ProtocolRequestType(r.method)})(mdt=eA.DeclarationRequest||(eA.DeclarationRequest={}))});var rDe=P(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});tA.SelectionRangeRequest=void 0;var tDe=xc(),gdt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=tDe.MessageDirection.clientToServer,r.type=new tDe.ProtocolRequestType(r.method)})(gdt=tA.SelectionRangeRequest||(tA.SelectionRangeRequest={}))});var nDe=P(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.WorkDoneProgressCancelNotification=u_.WorkDoneProgressCreateRequest=u_.WorkDoneProgress=void 0;var vdt=hT(),vz=xc(),_dt;(function(r){r.type=new vdt.ProgressType;function e(t){return t===r.type}r.is=e})(_dt=u_.WorkDoneProgress||(u_.WorkDoneProgress={}));var ydt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=vz.MessageDirection.serverToClient,r.type=new vz.ProtocolRequestType(r.method)})(ydt=u_.WorkDoneProgressCreateRequest||(u_.WorkDoneProgressCreateRequest={}));var bdt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=vz.MessageDirection.clientToServer,r.type=new vz.ProtocolNotificationType(r.method)})(bdt=u_.WorkDoneProgressCancelNotification||(u_.WorkDoneProgressCancelNotification={}))});var iDe=P(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.CallHierarchyOutgoingCallsRequest=l_.CallHierarchyIncomingCallsRequest=l_.CallHierarchyPrepareRequest=void 0;var _E=xc(),wdt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=_E.MessageDirection.clientToServer,r.type=new _E.ProtocolRequestType(r.method)})(wdt=l_.CallHierarchyPrepareRequest||(l_.CallHierarchyPrepareRequest={}));var Sdt;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=_E.MessageDirection.clientToServer,r.type=new _E.ProtocolRequestType(r.method)})(Sdt=l_.CallHierarchyIncomingCallsRequest||(l_.CallHierarchyIncomingCallsRequest={}));var Cdt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=_E.MessageDirection.clientToServer,r.type=new _E.ProtocolRequestType(r.method)})(Cdt=l_.CallHierarchyOutgoingCallsRequest||(l_.CallHierarchyOutgoingCallsRequest={}))});var oDe=P(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.SemanticTokensRefreshRequest=Fu.SemanticTokensRangeRequest=Fu.SemanticTokensDeltaRequest=Fu.SemanticTokensRequest=Fu.SemanticTokensRegistrationType=Fu.TokenFormat=void 0;var Dw=xc(),Tdt;(function(r){r.Relative="relative"})(Tdt=Fu.TokenFormat||(Fu.TokenFormat={}));var _z;(function(r){r.method="textDocument/semanticTokens",r.type=new Dw.RegistrationType(r.method)})(_z=Fu.SemanticTokensRegistrationType||(Fu.SemanticTokensRegistrationType={}));var Ddt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Dw.MessageDirection.clientToServer,r.type=new Dw.ProtocolRequestType(r.method),r.registrationMethod=_z.method})(Ddt=Fu.SemanticTokensRequest||(Fu.SemanticTokensRequest={}));var Pdt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Dw.MessageDirection.clientToServer,r.type=new Dw.ProtocolRequestType(r.method),r.registrationMethod=_z.method})(Pdt=Fu.SemanticTokensDeltaRequest||(Fu.SemanticTokensDeltaRequest={}));var Edt;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Dw.MessageDirection.clientToServer,r.type=new Dw.ProtocolRequestType(r.method),r.registrationMethod=_z.method})(Edt=Fu.SemanticTokensRangeRequest||(Fu.SemanticTokensRangeRequest={}));var xdt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Dw.MessageDirection.clientToServer,r.type=new Dw.ProtocolRequestType0(r.method)})(xdt=Fu.SemanticTokensRefreshRequest||(Fu.SemanticTokensRefreshRequest={}))});var aDe=P(rA=>{"use strict";Object.defineProperty(rA,"__esModule",{value:!0});rA.ShowDocumentRequest=void 0;var sDe=xc(),Rdt;(function(r){r.method="window/showDocument",r.messageDirection=sDe.MessageDirection.serverToClient,r.type=new sDe.ProtocolRequestType(r.method)})(Rdt=rA.ShowDocumentRequest||(rA.ShowDocumentRequest={}))});var uDe=P(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});nA.LinkedEditingRangeRequest=void 0;var cDe=xc(),Odt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=cDe.MessageDirection.clientToServer,r.type=new cDe.ProtocolRequestType(r.method)})(Odt=nA.LinkedEditingRangeRequest||(nA.LinkedEditingRangeRequest={}))});var lDe=P(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.WillDeleteFilesRequest=Rc.DidDeleteFilesNotification=Rc.DidRenameFilesNotification=Rc.WillRenameFilesRequest=Rc.DidCreateFilesNotification=Rc.WillCreateFilesRequest=Rc.FileOperationPatternKind=void 0;var Xg=xc(),Idt;(function(r){r.file="file",r.folder="folder"})(Idt=Rc.FileOperationPatternKind||(Rc.FileOperationPatternKind={}));var kdt;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolRequestType(r.method)})(kdt=Rc.WillCreateFilesRequest||(Rc.WillCreateFilesRequest={}));var Adt;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolNotificationType(r.method)})(Adt=Rc.DidCreateFilesNotification||(Rc.DidCreateFilesNotification={}));var Mdt;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolRequestType(r.method)})(Mdt=Rc.WillRenameFilesRequest||(Rc.WillRenameFilesRequest={}));var Ldt;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolNotificationType(r.method)})(Ldt=Rc.DidRenameFilesNotification||(Rc.DidRenameFilesNotification={}));var Ndt;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolNotificationType(r.method)})(Ndt=Rc.DidDeleteFilesNotification||(Rc.DidDeleteFilesNotification={}));var qdt;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=Xg.MessageDirection.clientToServer,r.type=new Xg.ProtocolRequestType(r.method)})(qdt=Rc.WillDeleteFilesRequest||(Rc.WillDeleteFilesRequest={}))});var fDe=P(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.MonikerRequest=d_.MonikerKind=d_.UniquenessLevel=void 0;var dDe=xc(),Fdt;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(Fdt=d_.UniquenessLevel||(d_.UniquenessLevel={}));var jdt;(function(r){r.$import="import",r.$export="export",r.local="local"})(jdt=d_.MonikerKind||(d_.MonikerKind={}));var zdt;(function(r){r.method="textDocument/moniker",r.messageDirection=dDe.MessageDirection.clientToServer,r.type=new dDe.ProtocolRequestType(r.method)})(zdt=d_.MonikerRequest||(d_.MonikerRequest={}))});var hDe=P(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.TypeHierarchySubtypesRequest=f_.TypeHierarchySupertypesRequest=f_.TypeHierarchyPrepareRequest=void 0;var yE=xc(),Udt;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=yE.MessageDirection.clientToServer,r.type=new yE.ProtocolRequestType(r.method)})(Udt=f_.TypeHierarchyPrepareRequest||(f_.TypeHierarchyPrepareRequest={}));var Hdt;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=yE.MessageDirection.clientToServer,r.type=new yE.ProtocolRequestType(r.method)})(Hdt=f_.TypeHierarchySupertypesRequest||(f_.TypeHierarchySupertypesRequest={}));var Bdt;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=yE.MessageDirection.clientToServer,r.type=new yE.ProtocolRequestType(r.method)})(Bdt=f_.TypeHierarchySubtypesRequest||(f_.TypeHierarchySubtypesRequest={}))});var pDe=P(bC=>{"use strict";Object.defineProperty(bC,"__esModule",{value:!0});bC.InlineValueRefreshRequest=bC.InlineValueRequest=void 0;var yz=xc(),Wdt;(function(r){r.method="textDocument/inlineValue",r.messageDirection=yz.MessageDirection.clientToServer,r.type=new yz.ProtocolRequestType(r.method)})(Wdt=bC.InlineValueRequest||(bC.InlineValueRequest={}));var $dt;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=yz.MessageDirection.clientToServer,r.type=new yz.ProtocolRequestType0(r.method)})($dt=bC.InlineValueRefreshRequest||(bC.InlineValueRefreshRequest={}))});var mDe=P(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.InlayHintRefreshRequest=h_.InlayHintResolveRequest=h_.InlayHintRequest=void 0;var bE=xc(),Vdt;(function(r){r.method="textDocument/inlayHint",r.messageDirection=bE.MessageDirection.clientToServer,r.type=new bE.ProtocolRequestType(r.method)})(Vdt=h_.InlayHintRequest||(h_.InlayHintRequest={}));var Gdt;(function(r){r.method="inlayHint/resolve",r.messageDirection=bE.MessageDirection.clientToServer,r.type=new bE.ProtocolRequestType(r.method)})(Gdt=h_.InlayHintResolveRequest||(h_.InlayHintResolveRequest={}));var Kdt;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=bE.MessageDirection.clientToServer,r.type=new bE.ProtocolRequestType0(r.method)})(Kdt=h_.InlayHintRefreshRequest||(h_.InlayHintRefreshRequest={}))});var vDe=P(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.DiagnosticRefreshRequest=Nd.WorkspaceDiagnosticRequest=Nd.DocumentDiagnosticRequest=Nd.DocumentDiagnosticReportKind=Nd.DiagnosticServerCancellationData=void 0;var gDe=hT(),Ydt=pz(),wE=xc(),Jdt;(function(r){function e(t){let n=t;return n&&Ydt.boolean(n.retriggerRequest)}r.is=e})(Jdt=Nd.DiagnosticServerCancellationData||(Nd.DiagnosticServerCancellationData={}));var Xdt;(function(r){r.Full="full",r.Unchanged="unchanged"})(Xdt=Nd.DocumentDiagnosticReportKind||(Nd.DocumentDiagnosticReportKind={}));var Qdt;(function(r){r.method="textDocument/diagnostic",r.messageDirection=wE.MessageDirection.clientToServer,r.type=new wE.ProtocolRequestType(r.method),r.partialResult=new gDe.ProgressType})(Qdt=Nd.DocumentDiagnosticRequest||(Nd.DocumentDiagnosticRequest={}));var Zdt;(function(r){r.method="workspace/diagnostic",r.messageDirection=wE.MessageDirection.clientToServer,r.type=new wE.ProtocolRequestType(r.method),r.partialResult=new gDe.ProgressType})(Zdt=Nd.WorkspaceDiagnosticRequest||(Nd.WorkspaceDiagnosticRequest={}));var eft;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=wE.MessageDirection.clientToServer,r.type=new wE.ProtocolRequestType0(r.method)})(eft=Nd.DiagnosticRefreshRequest||(Nd.DiagnosticRefreshRequest={}))});var bDe=P(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.DidCloseNotebookDocumentNotification=ns.DidSaveNotebookDocumentNotification=ns.DidChangeNotebookDocumentNotification=ns.NotebookCellArrayChange=ns.DidOpenNotebookDocumentNotification=ns.NotebookDocumentSyncRegistrationType=ns.NotebookDocument=ns.NotebookCell=ns.ExecutionSummary=ns.NotebookCellKind=void 0;var iA=hz(),p_=pz(),zy=xc(),_De;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(_De=ns.NotebookCellKind||(ns.NotebookCellKind={}));var yDe;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return p_.objectLiteral(o)&&iA.uinteger.is(o.executionOrder)&&(o.success===void 0||p_.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(yDe=ns.ExecutionSummary||(ns.ExecutionSummary={}));var gX;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return p_.objectLiteral(s)&&_De.is(s.kind)&&iA.DocumentUri.is(s.document)&&(s.metadata===void 0||p_.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!yDe.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(p_.objectLiteral(o)&&p_.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(gX=ns.NotebookCell||(ns.NotebookCell={}));var tft;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return p_.objectLiteral(i)&&p_.string(i.uri)&&iA.integer.is(i.version)&&p_.typedArray(i.cells,gX.is)}r.is=t})(tft=ns.NotebookDocument||(ns.NotebookDocument={}));var oA;(function(r){r.method="notebookDocument/sync",r.messageDirection=zy.MessageDirection.clientToServer,r.type=new zy.RegistrationType(r.method)})(oA=ns.NotebookDocumentSyncRegistrationType||(ns.NotebookDocumentSyncRegistrationType={}));var rft;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=zy.MessageDirection.clientToServer,r.type=new zy.ProtocolNotificationType(r.method),r.registrationMethod=oA.method})(rft=ns.DidOpenNotebookDocumentNotification||(ns.DidOpenNotebookDocumentNotification={}));var nft;(function(r){function e(n){let i=n;return p_.objectLiteral(i)&&iA.uinteger.is(i.start)&&iA.uinteger.is(i.deleteCount)&&(i.cells===void 0||p_.typedArray(i.cells,gX.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(nft=ns.NotebookCellArrayChange||(ns.NotebookCellArrayChange={}));var ift;(function(r){r.method="notebookDocument/didChange",r.messageDirection=zy.MessageDirection.clientToServer,r.type=new zy.ProtocolNotificationType(r.method),r.registrationMethod=oA.method})(ift=ns.DidChangeNotebookDocumentNotification||(ns.DidChangeNotebookDocumentNotification={}));var oft;(function(r){r.method="notebookDocument/didSave",r.messageDirection=zy.MessageDirection.clientToServer,r.type=new zy.ProtocolNotificationType(r.method),r.registrationMethod=oA.method})(oft=ns.DidSaveNotebookDocumentNotification||(ns.DidSaveNotebookDocumentNotification={}));var sft;(function(r){r.method="notebookDocument/didClose",r.messageDirection=zy.MessageDirection.clientToServer,r.type=new zy.ProtocolNotificationType(r.method),r.registrationMethod=oA.method})(sft=ns.DidCloseNotebookDocumentNotification||(ns.DidCloseNotebookDocumentNotification={}))});var RDe=P(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Dr=xc(),wDe=hz(),qd=pz(),aft=WTe();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return aft.ImplementationRequest}});var cft=VTe();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return cft.TypeDefinitionRequest}});var SDe=GTe();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return SDe.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return SDe.DidChangeWorkspaceFoldersNotification}});var uft=YTe();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return uft.ConfigurationRequest}});var CDe=JTe();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return CDe.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return CDe.ColorPresentationRequest}});var lft=QTe();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return lft.FoldingRangeRequest}});var dft=eDe();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return dft.DeclarationRequest}});var fft=rDe();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return fft.SelectionRangeRequest}});var vX=nDe();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return vX.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return vX.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return vX.WorkDoneProgressCancelNotification}});var _X=iDe();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return _X.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return _X.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return _X.CallHierarchyPrepareRequest}});var SE=oDe();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return SE.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return SE.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return SE.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return SE.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return SE.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return SE.SemanticTokensRegistrationType}});var hft=aDe();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return hft.ShowDocumentRequest}});var pft=uDe();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return pft.LinkedEditingRangeRequest}});var pT=lDe();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return pT.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return pT.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return pT.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return pT.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return pT.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return pT.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return pT.WillDeleteFilesRequest}});var yX=fDe();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return yX.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return yX.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return yX.MonikerRequest}});var bX=hDe();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return bX.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return bX.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return bX.TypeHierarchySupertypesRequest}});var TDe=pDe();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return TDe.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return TDe.InlineValueRefreshRequest}});var wX=mDe();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return wX.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return wX.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return wX.InlayHintRefreshRequest}});var sA=vDe();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return sA.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return sA.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return sA.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return sA.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return sA.DiagnosticRefreshRequest}});var Uy=bDe();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return Uy.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return Uy.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return Uy.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return Uy.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Uy.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Uy.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Uy.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Uy.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Uy.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Uy.DidCloseNotebookDocumentNotification}});var DDe;(function(r){function e(t){let n=t;return qd.string(n.language)||qd.string(n.scheme)||qd.string(n.pattern)}r.is=e})(DDe=me.TextDocumentFilter||(me.TextDocumentFilter={}));var PDe;(function(r){function e(t){let n=t;return qd.objectLiteral(n)&&(qd.string(n.notebookType)||qd.string(n.scheme)||qd.string(n.pattern))}r.is=e})(PDe=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var EDe;(function(r){function e(t){let n=t;return qd.objectLiteral(n)&&(qd.string(n.notebook)||PDe.is(n.notebook))&&(n.language===void 0||qd.string(n.language))}r.is=e})(EDe=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var xDe;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!qd.string(n)&&!DDe.is(n)&&!EDe.is(n))return!1;return!0}r.is=e})(xDe=me.DocumentSelector||(me.DocumentSelector={}));var mft;(function(r){r.method="client/registerCapability",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolRequestType(r.method)})(mft=me.RegistrationRequest||(me.RegistrationRequest={}));var gft;(function(r){r.method="client/unregisterCapability",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolRequestType(r.method)})(gft=me.UnregistrationRequest||(me.UnregistrationRequest={}));var vft;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(vft=me.ResourceOperationKind||(me.ResourceOperationKind={}));var _ft;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(_ft=me.FailureHandlingKind||(me.FailureHandlingKind={}));var yft;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(yft=me.PositionEncodingKind||(me.PositionEncodingKind={}));var bft;(function(r){function e(t){let n=t;return n&&qd.string(n.id)&&n.id.length>0}r.hasId=e})(bft=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var wft;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||xDe.is(n.documentSelector))}r.is=e})(wft=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var Sft;(function(r){function e(n){let i=n;return qd.objectLiteral(i)&&(i.workDoneProgress===void 0||qd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&qd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(Sft=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var Cft;(function(r){r.method="initialize",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Cft=me.InitializeRequest||(me.InitializeRequest={}));var Tft;(function(r){r.unknownProtocolVersion=1})(Tft=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var Dft;(function(r){r.method="initialized",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(Dft=me.InitializedNotification||(me.InitializedNotification={}));var Pft;(function(r){r.method="shutdown",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType0(r.method)})(Pft=me.ShutdownRequest||(me.ShutdownRequest={}));var Eft;(function(r){r.method="exit",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType0(r.method)})(Eft=me.ExitNotification||(me.ExitNotification={}));var xft;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(xft=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var Rft;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(Rft=me.MessageType||(me.MessageType={}));var Oft;(function(r){r.method="window/showMessage",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolNotificationType(r.method)})(Oft=me.ShowMessageNotification||(me.ShowMessageNotification={}));var Ift;(function(r){r.method="window/showMessageRequest",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolRequestType(r.method)})(Ift=me.ShowMessageRequest||(me.ShowMessageRequest={}));var kft;(function(r){r.method="window/logMessage",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolNotificationType(r.method)})(kft=me.LogMessageNotification||(me.LogMessageNotification={}));var Aft;(function(r){r.method="telemetry/event",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolNotificationType(r.method)})(Aft=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var Mft;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Mft=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var Lft;(function(r){r.method="textDocument/didOpen",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(Lft=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var Nft;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(Nft=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var qft;(function(r){r.method="textDocument/didChange",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(qft=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var Fft;(function(r){r.method="textDocument/didClose",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(Fft=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var jft;(function(r){r.method="textDocument/didSave",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(jft=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var zft;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(zft=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var Uft;(function(r){r.method="textDocument/willSave",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(Uft=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var Hft;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Hft=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var Bft;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolNotificationType(r.method)})(Bft=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var Wft;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(Wft=me.FileChangeType||(me.FileChangeType={}));var $ft;(function(r){function e(t){let n=t;return qd.objectLiteral(n)&&(wDe.URI.is(n.baseUri)||wDe.WorkspaceFolder.is(n.baseUri))&&qd.string(n.pattern)}r.is=e})($ft=me.RelativePattern||(me.RelativePattern={}));var Vft;(function(r){r.Create=1,r.Change=2,r.Delete=4})(Vft=me.WatchKind||(me.WatchKind={}));var Gft;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolNotificationType(r.method)})(Gft=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var Kft;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(Kft=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var Yft;(function(r){r.method="textDocument/completion",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Yft=me.CompletionRequest||(me.CompletionRequest={}));var Jft;(function(r){r.method="completionItem/resolve",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Jft=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var Xft;(function(r){r.method="textDocument/hover",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Xft=me.HoverRequest||(me.HoverRequest={}));var Qft;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(Qft=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var Zft;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(Zft=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var eht;(function(r){r.method="textDocument/definition",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(eht=me.DefinitionRequest||(me.DefinitionRequest={}));var tht;(function(r){r.method="textDocument/references",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(tht=me.ReferencesRequest||(me.ReferencesRequest={}));var rht;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(rht=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var nht;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(nht=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var iht;(function(r){r.method="textDocument/codeAction",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(iht=me.CodeActionRequest||(me.CodeActionRequest={}));var oht;(function(r){r.method="codeAction/resolve",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(oht=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var sht;(function(r){r.method="workspace/symbol",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(sht=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var aht;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(aht=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var cht;(function(r){r.method="textDocument/codeLens",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(cht=me.CodeLensRequest||(me.CodeLensRequest={}));var uht;(function(r){r.method="codeLens/resolve",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(uht=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var lht;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolRequestType0(r.method)})(lht=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var dht;(function(r){r.method="textDocument/documentLink",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(dht=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var fht;(function(r){r.method="documentLink/resolve",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(fht=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var hht;(function(r){r.method="textDocument/formatting",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(hht=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var pht;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(pht=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var mht;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(mht=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var ght;(function(r){r.Identifier=1})(ght=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var vht;(function(r){r.method="textDocument/rename",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(vht=me.RenameRequest||(me.RenameRequest={}));var _ht;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(_ht=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var yht;(function(r){r.method="workspace/executeCommand",r.messageDirection=Dr.MessageDirection.clientToServer,r.type=new Dr.ProtocolRequestType(r.method)})(yht=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var bht;(function(r){r.method="workspace/applyEdit",r.messageDirection=Dr.MessageDirection.serverToClient,r.type=new Dr.ProtocolRequestType("workspace/applyEdit")})(bht=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var IDe=P(bz=>{"use strict";Object.defineProperty(bz,"__esModule",{value:!0});bz.createProtocolConnection=void 0;var ODe=hT();function wht(r,e,t,n){return ODe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,ODe.createMessageConnection)(r,e,t,n)}bz.createProtocolConnection=wht});var kDe=P(Fh=>{"use strict";var Sht=Fh&&Fh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wz=Fh&&Fh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Sht(e,r,t)};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.LSPErrorCodes=Fh.createProtocolConnection=void 0;wz(hT(),Fh);wz(hz(),Fh);wz(xc(),Fh);wz(RDe(),Fh);var Cht=IDe();Object.defineProperty(Fh,"createProtocolConnection",{enumerable:!0,get:function(){return Cht.createProtocolConnection}});var Tht;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(Tht=Fh.LSPErrorCodes||(Fh.LSPErrorCodes={}))});var Mi=P(Hy=>{"use strict";var Dht=Hy&&Hy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ADe=Hy&&Hy.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dht(e,r,t)};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.createProtocolConnection=void 0;var Pht=lX();ADe(lX(),Hy);ADe(kDe(),Hy);function Eht(r,e,t,n){return(0,Pht.createMessageConnection)(r,e,t,n)}Hy.createProtocolConnection=Eht});var uA=P(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.forEach=Lf.mapAsync=Lf.map=Lf.clearTestMode=Lf.setTestMode=Lf.Semaphore=Lf.Delayer=void 0;var cA=Mi(),SX=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,cA.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Lf.Delayer=SX;var CX=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,cA.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Lf.Semaphore=CX;var TX=!1;function xht(){TX=!0}Lf.setTestMode=xht;function Rht(){TX=!1}Lf.clearTestMode=Rht;var MDe=15,aA=class{constructor(e=MDe){this.yieldAfter=TX===!0?Math.max(e,2):Math.max(e,MDe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Oht(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new aA(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,cA.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Lf.map=Oht;async function Iht(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new aA(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,cA.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Lf.mapAsync=Iht;async function kht(r,e,t,n){if(r.length===0)return;let i=new aA(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,cA.RAL)().timer.setImmediate(()=>{a(o(s))})})}Lf.forEach=kht});var EX=P(PX=>{"use strict";Object.defineProperty(PX,"__esModule",{value:!0});var Aht=require("vscode"),DX=class extends Aht.CompletionItem{constructor(e){super(e)}};PX.default=DX});var OX=P(RX=>{"use strict";Object.defineProperty(RX,"__esModule",{value:!0});var Mht=require("vscode"),xX=class extends Mht.CodeLens{constructor(e){super(e)}};RX.default=xX});var AX=P(kX=>{"use strict";Object.defineProperty(kX,"__esModule",{value:!0});var Lht=require("vscode"),IX=class extends Lht.DocumentLink{constructor(e,t){super(e,t)}};kX.default=IX});var NX=P(LX=>{"use strict";Object.defineProperty(LX,"__esModule",{value:!0});var Nht=require("vscode"),MX=class extends Nht.CodeAction{constructor(e,t){super(e),this.data=t}};LX.default=MX});var jX=P(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0});mT.ProtocolDiagnostic=mT.DiagnosticCode=void 0;var qht=require("vscode"),qX=Jg(),Fht;(function(r){function e(t){let n=t;return n!=null&&(qX.number(n.value)||qX.string(n.value))&&qX.string(n.target)}r.is=e})(Fht=mT.DiagnosticCode||(mT.DiagnosticCode={}));var FX=class extends qht.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};mT.ProtocolDiagnostic=FX});var HX=P(UX=>{"use strict";Object.defineProperty(UX,"__esModule",{value:!0});var jht=require("vscode"),zX=class extends jht.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};UX.default=zX});var $X=P(WX=>{"use strict";Object.defineProperty(WX,"__esModule",{value:!0});var zht=require("vscode"),BX=class extends zht.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};WX.default=BX});var KX=P(GX=>{"use strict";Object.defineProperty(GX,"__esModule",{value:!0});var Sz=require("vscode"),VX=class extends Sz.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof Sz.Uri);super(e,t,n,s?i:new Sz.Location(i,new Sz.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};GX.default=VX});var XX=P(JX=>{"use strict";Object.defineProperty(JX,"__esModule",{value:!0});var Uht=require("vscode"),YX=class extends Uht.InlayHint{constructor(e,t,n){super(e,t,n)}};JX.default=YX});var qDe=P(Cz=>{"use strict";Object.defineProperty(Cz,"__esModule",{value:!0});Cz.createConverter=void 0;var ju=require("vscode"),$i=Mi(),CE=Jg(),LDe=uA(),Hht=EX(),Bht=OX(),Wht=AX(),$ht=NX(),NDe=jX(),Vht=HX(),Ght=$X(),Kht=KX(),Yht=XX(),QX;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(QX||(QX={}));function Jht(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let Ne=K;return!!Ne.document&&!!Ne.contentChanges}function u(K){let Ne=K;return!!Ne.uri&&!!Ne.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let Ne=K.document;return{textDocument:{uri:t(Ne.uri),version:Ne.version},contentChanges:K.contentChanges.map(Tr=>{let He=Tr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Tr.rangeLength,text:Tr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,Ne=!1){let Bt={textDocument:i(K)};return Ne&&(Bt.text=K.getText()),Bt}function _(K){switch(K){case ju.TextDocumentSaveReason.Manual:return $i.TextDocumentSaveReason.Manual;case ju.TextDocumentSaveReason.AfterDelay:return $i.TextDocumentSaveReason.AfterDelay;case ju.TextDocumentSaveReason.FocusOut:return $i.TextDocumentSaveReason.FocusOut}return $i.TextDocumentSaveReason.Manual}function y(K){return{textDocument:i(K.document),reason:_(K.reason)}}function D(K){return{files:K.files.map(Ne=>({uri:t(Ne)}))}}function k(K){return{files:K.files.map(Ne=>({oldUri:t(Ne.oldUri),newUri:t(Ne.newUri)}))}}function H(K){return{files:K.files.map(Ne=>({uri:t(Ne)}))}}function M(K){return{files:K.files.map(Ne=>({uri:t(Ne)}))}}function z(K){return{files:K.files.map(Ne=>({oldUri:t(Ne.oldUri),newUri:t(Ne.newUri)}))}}function re(K){return{files:K.files.map(Ne=>({uri:t(Ne)}))}}function ce(K,Ne){return{textDocument:i(K),position:le(Ne)}}function _e(K){switch(K){case ju.CompletionTriggerKind.TriggerCharacter:return $i.CompletionTriggerKind.TriggerCharacter;case ju.CompletionTriggerKind.TriggerForIncompleteCompletions:return $i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return $i.CompletionTriggerKind.Invoked}}function G(K,Ne,Bt){return{textDocument:i(K),position:le(Ne),context:{triggerKind:_e(Bt.triggerKind),triggerCharacter:Bt.triggerCharacter}}}function $(K){switch(K){case ju.SignatureHelpTriggerKind.Invoke:return $i.SignatureHelpTriggerKind.Invoked;case ju.SignatureHelpTriggerKind.TriggerCharacter:return $i.SignatureHelpTriggerKind.TriggerCharacter;case ju.SignatureHelpTriggerKind.ContentChange:return $i.SignatureHelpTriggerKind.ContentChange}}function te(K){return{label:K.label}}function Te(K){return K.map(te)}function ae(K){return{label:K.label,parameters:Te(K.parameters)}}function ue(K){return K.map(ae)}function Fe(K){return K===void 0?K:{signatures:ue(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function qe(K,Ne,Bt){return{textDocument:i(K),position:le(Ne),context:{isRetrigger:Bt.isRetrigger,triggerCharacter:Bt.triggerCharacter,triggerKind:$(Bt.triggerKind),activeSignatureHelp:Fe(Bt.activeSignatureHelp)}}}function le(K){return{line:K.line,character:K.character}}function Ce(K){return K==null?K:{line:K.line>$i.uinteger.MAX_VALUE?$i.uinteger.MAX_VALUE:K.line,character:K.character>$i.uinteger.MAX_VALUE?$i.uinteger.MAX_VALUE:K.character}}function be(K,Ne){return LDe.map(K,Ce,Ne)}function xe(K){return K==null?K:{start:Ce(K.start),end:Ce(K.end)}}function Le(K){return K==null?K:$i.Location.create(n(K.uri),xe(K.range))}function Ge(K){switch(K){case ju.DiagnosticSeverity.Error:return $i.DiagnosticSeverity.Error;case ju.DiagnosticSeverity.Warning:return $i.DiagnosticSeverity.Warning;case ju.DiagnosticSeverity.Information:return $i.DiagnosticSeverity.Information;case ju.DiagnosticSeverity.Hint:return $i.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let Ne=[];for(let Bt of K){let Tr=ze(Bt);Tr!==void 0&&Ne.push(Tr)}return Ne.length>0?Ne:void 0}function ze(K){switch(K){case ju.DiagnosticTag.Unnecessary:return $i.DiagnosticTag.Unnecessary;case ju.DiagnosticTag.Deprecated:return $i.DiagnosticTag.Deprecated;default:return}}function at(K){return{message:K.message,location:Le(K.location)}}function ct(K){return K.map(at)}function tt(K){if(K!=null)return CE.number(K)||CE.string(K)?K:{value:K.value,target:n(K.target)}}function pr(K){let Ne=$i.Diagnostic.create(xe(K.range),K.message),Bt=K instanceof NDe.ProtocolDiagnostic?K:void 0;Bt!==void 0&&Bt.data!==void 0&&(Ne.data=Bt.data);let Tr=tt(K.code);return NDe.DiagnosticCode.is(Tr)?Bt!==void 0&&Bt.hasDiagnosticCode?Ne.code=Tr:(Ne.code=Tr.value,Ne.codeDescription={href:Tr.target}):Ne.code=Tr,CE.number(K.severity)&&(Ne.severity=Ge(K.severity)),Array.isArray(K.tags)&&(Ne.tags=Ct(K.tags)),K.relatedInformation&&(Ne.relatedInformation=ct(K.relatedInformation)),K.source&&(Ne.source=K.source),Ne}function Nr(K,Ne){return K==null?K:LDe.map(K,pr,Ne)}function Hr(K,Ne){switch(K){case"$string":return Ne;case $i.MarkupKind.PlainText:return{kind:K,value:Ne};case $i.MarkupKind.Markdown:return{kind:K,value:Ne.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function fr(K){switch(K){case ju.CompletionItemTag.Deprecated:return $i.CompletionItemTag.Deprecated}}function It(K){if(K===void 0)return K;let Ne=[];for(let Bt of K){let Tr=fr(Bt);Tr!==void 0&&Ne.push(Tr)}return Ne}function mr(K,Ne){return Ne!==void 0?Ne:K+1}function Lt(K,Ne=!1){let Bt,Tr;CE.string(K.label)?Bt=K.label:(Bt=K.label.label,Ne&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Tr={detail:K.label.detail,description:K.label.description}));let He={label:Bt};Tr!==void 0&&(He.labelDetails=Tr);let ne=K instanceof Hht.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!ne||ne.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=Hr(ne.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),nn(He,K),CE.number(K.kind)&&(He.kind=mr(K.kind,ne&&ne.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Rr(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=ii(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let Ee=It(K.tags);if(ne){if(ne.data!==void 0&&(He.data=ne.data),ne.deprecated===!0||ne.deprecated===!1){if(ne.deprecated===!0&&Ee!==void 0&&Ee.length>0){let je=Ee.indexOf(ju.CompletionItemTag.Deprecated);je!==-1&&Ee.splice(je,1)}He.deprecated=ne.deprecated}ne.insertTextMode!==void 0&&(He.insertTextMode=ne.insertTextMode)}return Ee!==void 0&&Ee.length>0&&(He.tags=Ee),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=$i.InsertTextMode.adjustIndentation),He}function nn(K,Ne){let Bt=$i.InsertTextFormat.PlainText,Tr,He;Ne.textEdit?(Tr=Ne.textEdit.newText,He=Ne.textEdit.range):Ne.insertText instanceof ju.SnippetString?(Bt=$i.InsertTextFormat.Snippet,Tr=Ne.insertText.value):Tr=Ne.insertText,Ne.range&&(He=Ne.range),K.insertTextFormat=Bt,Ne.fromEdit&&Tr!==void 0&&He!==void 0?K.textEdit=cn(Tr,He):K.insertText=Tr}function cn(K,Ne){return QX.is(Ne)?$i.InsertReplaceEdit.create(K,xe(Ne.inserting),xe(Ne.replacing)):{newText:K,range:xe(Ne)}}function xn(K){return{range:xe(K.range),newText:K.newText}}function Rr(K){return K==null?K:K.map(xn)}function Un(K){return K<=ju.SymbolKind.TypeParameter?K+1:$i.SymbolKind.Property}function Wr(K){return K}function un(K){return K.map(Wr)}function ni(K,Ne,Bt){return{textDocument:i(K),position:le(Ne),context:{includeDeclaration:Bt.includeDeclaration}}}async function $r(K,Ne){let Bt=$i.CodeAction.create(K.title);if(K instanceof $ht.default&&K.data!==void 0&&(Bt.data=K.data),K.kind!==void 0&&(Bt.kind=Vr(K.kind)),K.diagnostics!==void 0&&(Bt.diagnostics=await Nr(K.diagnostics,Ne)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Bt.command=ii(K.command)),K.isPreferred!==void 0&&(Bt.isPreferred=K.isPreferred),K.disabled!==void 0&&(Bt.disabled={reason:K.disabled.reason}),Bt}async function In(K,Ne){if(K==null)return K;let Bt;return K.only&&CE.string(K.only.value)&&(Bt=[K.only.value]),$i.CodeActionContext.create(await Nr(K.diagnostics,Ne),Bt,Ei(K.triggerKind))}function Ei(K){switch(K){case ju.CodeActionTriggerKind.Invoke:return $i.CodeActionTriggerKind.Invoked;case ju.CodeActionTriggerKind.Automatic:return $i.CodeActionTriggerKind.Automatic;default:return}}function Vr(K){if(K!=null)return K.value}function Vi(K){return K==null?K:$i.InlineValueContext.create(K.frameId,xe(K.stoppedLocation))}function ii(K){let Ne=$i.Command.create(K.title,K.command);return K.arguments&&(Ne.arguments=K.arguments),Ne}function ln(K){let Ne=$i.CodeLens.create(xe(K.range));return K.command&&(Ne.command=ii(K.command)),K instanceof Bht.default&&K.data&&(Ne.data=K.data),Ne}function Re(K,Ne){let Bt={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return Ne.trimTrailingWhitespace&&(Bt.trimTrailingWhitespace=!0),Ne.trimFinalNewlines&&(Bt.trimFinalNewlines=!0),Ne.insertFinalNewline&&(Bt.insertFinalNewline=!0),Bt}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function ye(K){let Ne=$i.DocumentLink.create(xe(K.range));K.target&&(Ne.target=n(K.target)),K.tooltip!==void 0&&(Ne.tooltip=K.tooltip);let Bt=K instanceof Wht.default?K:void 0;return Bt&&Bt.data&&(Ne.data=Bt.data),Ne}function Ke(K){return{textDocument:i(K)}}function ft(K){let Ne={name:K.name,kind:Un(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Ne.detail=K.detail),K.tags!==void 0&&(Ne.tags=un(K.tags)),K instanceof Vht.default&&K.data!==void 0&&(Ne.data=K.data),Ne}function Jt(K){let Ne={name:K.name,kind:Un(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Ne.detail=K.detail),K.tags!==void 0&&(Ne.tags=un(K.tags)),K instanceof Ght.default&&K.data!==void 0&&(Ne.data=K.data),Ne}function nr(K){let Ne=K instanceof Kht.default?{name:K.name,kind:Un(K.kind),location:K.hasRange?Le(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Un(K.kind),location:Le(K.location)};return K.tags!==void 0&&(Ne.tags=un(K.tags)),K.containerName!==""&&(Ne.containerName=K.containerName),Ne}function Xt(K){let Ne=typeof K.label=="string"?K.label:K.label.map(Vt),Bt=$i.InlayHint.create(Ce(K.position),Ne);return K.kind!==void 0&&(Bt.kind=K.kind),K.textEdits!==void 0&&(Bt.textEdits=Rr(K.textEdits)),K.tooltip!==void 0&&(Bt.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Bt.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Bt.paddingRight=K.paddingRight),K instanceof Yht.default&&K.data!==void 0&&(Bt.data=K.data),Bt}function Vt(K){let Ne=$i.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(Ne.location=Le(K.location)),K.command!==void 0&&(Ne.command=ii(K.command)),K.tooltip!==void 0&&(Ne.tooltip=kt(K.tooltip)),Ne}function kt(K){return typeof K=="string"?K:{kind:$i.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:y,asDidCreateFilesParams:D,asDidRenameFilesParams:k,asDidDeleteFilesParams:H,asWillCreateFilesParams:M,asWillRenameFilesParams:z,asWillDeleteFilesParams:re,asTextDocumentPositionParams:ce,asCompletionParams:G,asSignatureHelpParams:qe,asWorkerPosition:le,asRange:xe,asPosition:Ce,asPositions:be,asLocation:Le,asDiagnosticSeverity:Ge,asDiagnosticTag:ze,asDiagnostic:pr,asDiagnostics:Nr,asCompletionItem:Lt,asTextEdit:xn,asSymbolKind:Un,asSymbolTag:Wr,asSymbolTags:un,asReferenceParams:ni,asCodeAction:$r,asCodeActionContext:In,asInlineValueContext:Vi,asCommand:ii,asCodeLens:ln,asFormattingOptions:Re,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:ye,asDocumentLinkParams:Ke,asCallHierarchyItem:ft,asTypeHierarchyItem:Jt,asInlayHint:Xt,asWorkspaceSymbol:nr}}Cz.createConverter=Jht});var zDe=P(Dz=>{"use strict";Object.defineProperty(Dz,"__esModule",{value:!0});Dz.createConverter=void 0;var Ur=require("vscode"),vi=Mi(),Qg=Jg(),us=uA(),Xht=EX(),Qht=OX(),Zht=AX(),ept=NX(),FDe=jX(),tpt=HX(),rpt=$X(),npt=KX(),ipt=XX(),jDe=Mi(),Tz;(function(r){function e(t){let n=t;return n&&Qg.string(n.language)&&Qg.string(n.value)}r.is=e})(Tz||(Tz={}));function opt(r,e,t){let i=r||(U=>Ur.Uri.parse(U));function o(U){return i(U)}function s(U){let Ue=[];for(let vt of U)if(typeof vt=="string")Ue.push(vt);else if(jDe.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let qr=vt.notebook.notebookType??"*";Ue.push({notebookType:qr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else jDe.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(U,Ue){return us.map(U,u,Ue)}function c(U){let Ue=new Array(U.length);for(let vt=0;vt<U.length;vt++)Ue[vt]=u(U[vt]);return Ue}function u(U){let Ue=new FDe.ProtocolDiagnostic(y(U.range),U.message,k(U.severity),U.data);if(U.code!==void 0){if(typeof U.code=="string"||typeof U.code=="number")vi.CodeDescription.is(U.codeDescription)?Ue.code={value:U.code,target:o(U.codeDescription.href)}:Ue.code=U.code;else if(FDe.DiagnosticCode.is(U.code)){Ue.hasDiagnosticCode=!0;let vt=U.code;Ue.code={value:vt.value,target:o(vt.target)}}}return U.source&&(Ue.source=U.source),U.relatedInformation&&(Ue.relatedInformation=l(U.relatedInformation)),Array.isArray(U.tags)&&(Ue.tags=d(U.tags)),Ue}function l(U){let Ue=new Array(U.length);for(let vt=0;vt<U.length;vt++){let qr=U[vt];Ue[vt]=new Ur.DiagnosticRelatedInformation(ze(qr.location),qr.message)}return Ue}function d(U){if(!U)return;let Ue=[];for(let vt of U){let qr=f(vt);qr!==void 0&&Ue.push(qr)}return Ue.length>0?Ue:void 0}function f(U){switch(U){case vi.DiagnosticTag.Unnecessary:return Ur.DiagnosticTag.Unnecessary;case vi.DiagnosticTag.Deprecated:return Ur.DiagnosticTag.Deprecated;default:return}}function _(U){return U?new Ur.Position(U.line,U.character):void 0}function y(U){return U?new Ur.Range(U.start.line,U.start.character,U.end.line,U.end.character):void 0}async function D(U,Ue){return us.map(U,vt=>new Ur.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function k(U){if(U==null)return Ur.DiagnosticSeverity.Error;switch(U){case vi.DiagnosticSeverity.Error:return Ur.DiagnosticSeverity.Error;case vi.DiagnosticSeverity.Warning:return Ur.DiagnosticSeverity.Warning;case vi.DiagnosticSeverity.Information:return Ur.DiagnosticSeverity.Information;case vi.DiagnosticSeverity.Hint:return Ur.DiagnosticSeverity.Hint}return Ur.DiagnosticSeverity.Error}function H(U){if(Qg.string(U))return z(U);if(Tz.is(U))return z().appendCodeblock(U.value,U.language);if(Array.isArray(U)){let Ue=[];for(let vt of U){let qr=z();Tz.is(vt)?qr.appendCodeblock(vt.value,vt.language):qr.appendMarkdown(vt),Ue.push(qr)}return Ue}else return z(U)}function M(U){if(Qg.string(U))return U;switch(U.kind){case vi.MarkupKind.Markdown:return z(U.value);case vi.MarkupKind.PlainText:return U.value;default:return`Unsupported Markup content received. Kind is: ${U.kind}`}}function z(U){let Ue;if(U===void 0||typeof U=="string")Ue=new Ur.MarkdownString(U);else switch(U.kind){case vi.MarkupKind.Markdown:Ue=new Ur.MarkdownString(U.value);break;case vi.MarkupKind.PlainText:Ue=new Ur.MarkdownString,Ue.appendText(U.value);break;default:Ue=new Ur.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${U.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function re(U){if(U)return new Ur.Hover(H(U.contents),y(U.range))}async function ce(U,Ue,vt){if(!U)return;if(Array.isArray(U))return us.map(U,Ae=>Te(Ae,Ue),vt);let qr=U,{defaultRange:to,commitCharacters:zi}=_e(qr,Ue),L=await us.map(qr.items,Ae=>Te(Ae,zi,to,qr.itemDefaults?.insertTextMode,qr.itemDefaults?.insertTextFormat,qr.itemDefaults?.data),vt);return new Ur.CompletionList(L,qr.isIncomplete)}function _e(U,Ue){let vt=U.itemDefaults?.editRange,qr=U.itemDefaults?.commitCharacters??Ue;return vi.Range.is(vt)?{defaultRange:y(vt),commitCharacters:qr}:vt!==void 0?{defaultRange:{inserting:y(vt.insert),replacing:y(vt.replace)},commitCharacters:qr}:{defaultRange:void 0,commitCharacters:qr}}function G(U){return vi.CompletionItemKind.Text<=U&&U<=vi.CompletionItemKind.TypeParameter?[U-1,void 0]:[Ur.CompletionItemKind.Text,U]}function $(U){switch(U){case vi.CompletionItemTag.Deprecated:return Ur.CompletionItemTag.Deprecated}}function te(U){if(U==null)return[];let Ue=[];for(let vt of U){let qr=$(vt);qr!==void 0&&Ue.push(qr)}return Ue}function Te(U,Ue,vt,qr,to,zi){let L=te(U.tags),Ae=ae(U),rt=new Xht.default(Ae);U.detail&&(rt.detail=U.detail),U.documentation&&(rt.documentation=M(U.documentation),rt.documentationFormat=Qg.string(U.documentation)?"$string":U.documentation.kind),U.filterText&&(rt.filterText=U.filterText);let Ut=ue(U,vt,to);if(Ut&&(rt.insertText=Ut.text,rt.range=Ut.range,rt.fromEdit=Ut.fromEdit),Qg.number(U.kind)){let[ro,Li]=G(U.kind);rt.kind=ro,Li&&(rt.originalItemKind=Li)}U.sortText&&(rt.sortText=U.sortText),U.additionalTextEdits&&(rt.additionalTextEdits=Ce(U.additionalTextEdits));let kn=U.commitCharacters!==void 0?Qg.stringArray(U.commitCharacters)?U.commitCharacters:void 0:Ue;kn&&(rt.commitCharacters=kn.slice()),U.command&&(rt.command=un(U.command)),(U.deprecated===!0||U.deprecated===!1)&&(rt.deprecated=U.deprecated,U.deprecated===!0&&L.push(Ur.CompletionItemTag.Deprecated)),(U.preselect===!0||U.preselect===!1)&&(rt.preselect=U.preselect);let wn=U.data??zi;wn!==void 0&&(rt.data=wn),L.length>0&&(rt.tags=L);let Mn=U.insertTextMode??qr;return Mn!==void 0&&(rt.insertTextMode=Mn,Mn===vi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function ae(U){return vi.CompletionItemLabelDetails.is(U.labelDetails)?{label:U.label,detail:U.labelDetails.detail,description:U.labelDetails.description}:U.label}function ue(U,Ue,vt){let qr=U.insertTextFormat??vt;if(U.textEdit!==void 0||Ue!==void 0){let[to,zi]=U.textEdit!==void 0?Fe(U.textEdit):[Ue,U.textEditText??U.label];return qr===vi.InsertTextFormat.Snippet?{text:new Ur.SnippetString(zi),range:to,fromEdit:!0}:{text:zi,range:to,fromEdit:!0}}else return U.insertText?qr===vi.InsertTextFormat.Snippet?{text:new Ur.SnippetString(U.insertText),fromEdit:!1}:{text:U.insertText,fromEdit:!1}:void 0}function Fe(U){return vi.InsertReplaceEdit.is(U)?[{inserting:y(U.insert),replacing:y(U.replace)},U.newText]:[y(U.range),U.newText]}function qe(U){if(U)return new Ur.TextEdit(y(U.range),U.newText)}async function le(U,Ue){if(U)return us.map(U,qe,Ue)}function Ce(U){if(!U)return;let Ue=new Array(U.length);for(let vt=0;vt<U.length;vt++)Ue[vt]=qe(U[vt]);return Ue}async function be(U,Ue){if(!U)return;let vt=new Ur.SignatureHelp;return Qg.number(U.activeSignature)?vt.activeSignature=U.activeSignature:vt.activeSignature=0,Qg.number(U.activeParameter)?vt.activeParameter=U.activeParameter:vt.activeParameter=0,U.signatures&&(vt.signatures=await xe(U.signatures,Ue)),vt}async function xe(U,Ue){return us.mapAsync(U,Le,Ue)}async function Le(U,Ue){let vt=new Ur.SignatureInformation(U.label);return U.documentation!==void 0&&(vt.documentation=M(U.documentation)),U.parameters!==void 0&&(vt.parameters=await Ge(U.parameters,Ue)),U.activeParameter!==void 0&&(vt.activeParameter=U.activeParameter),vt}function Ge(U,Ue){return us.map(U,Ct,Ue)}function Ct(U){let Ue=new Ur.ParameterInformation(U.label);return U.documentation&&(Ue.documentation=M(U.documentation)),Ue}function ze(U){return U?new Ur.Location(i(U.uri),y(U.range)):void 0}async function at(U,Ue){if(U)return pr(U,Ue)}async function ct(U,Ue){if(U)return pr(U,Ue)}function tt(U){if(!U)return;let Ue={targetUri:i(U.targetUri),targetRange:y(U.targetRange),originSelectionRange:y(U.originSelectionRange),targetSelectionRange:y(U.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function pr(U,Ue){if(U)if(Qg.array(U)){if(U.length===0)return[];if(vi.LocationLink.is(U[0])){let vt=U;return us.map(vt,tt,Ue)}else{let vt=U;return us.map(vt,ze,Ue)}}else return vi.LocationLink.is(U)?[tt(U)]:ze(U)}async function Nr(U,Ue){if(U)return us.map(U,ze,Ue)}async function Hr(U,Ue){if(U)return us.map(U,fr,Ue)}function fr(U){let Ue=new Ur.DocumentHighlight(y(U.range));return Qg.number(U.kind)&&(Ue.kind=It(U.kind)),Ue}function It(U){switch(U){case vi.DocumentHighlightKind.Text:return Ur.DocumentHighlightKind.Text;case vi.DocumentHighlightKind.Read:return Ur.DocumentHighlightKind.Read;case vi.DocumentHighlightKind.Write:return Ur.DocumentHighlightKind.Write}return Ur.DocumentHighlightKind.Text}async function mr(U,Ue){if(U)return us.map(U,xn,Ue)}function Lt(U){return U<=vi.SymbolKind.TypeParameter?U-1:Ur.SymbolKind.Property}function nn(U){switch(U){case vi.SymbolTag.Deprecated:return Ur.SymbolTag.Deprecated;default:return}}function cn(U){if(U==null)return;let Ue=[];for(let vt of U){let qr=nn(vt);qr!==void 0&&Ue.push(qr)}return Ue.length===0?void 0:Ue}function xn(U){let Ue=U.data,vt=U.location,qr=vt.range===void 0||Ue!==void 0?new npt.default(U.name,Lt(U.kind),U.containerName??"",vt.range===void 0?i(vt.uri):new Ur.Location(i(U.location.uri),y(vt.range)),Ue):new Ur.SymbolInformation(U.name,Lt(U.kind),U.containerName??"",new Ur.Location(i(U.location.uri),y(vt.range)));return Wr(qr,U),qr}async function Rr(U,Ue){if(U!=null)return us.map(U,Un,Ue)}function Un(U){let Ue=new Ur.DocumentSymbol(U.name,U.detail||"",Lt(U.kind),y(U.range),y(U.selectionRange));if(Wr(Ue,U),U.children!==void 0&&U.children.length>0){let vt=[];for(let qr of U.children)vt.push(Un(qr));Ue.children=vt}return Ue}function Wr(U,Ue){U.tags=cn(Ue.tags),Ue.deprecated&&(U.tags?U.tags.includes(Ur.SymbolTag.Deprecated)||(U.tags=U.tags.concat(Ur.SymbolTag.Deprecated)):U.tags=[Ur.SymbolTag.Deprecated])}function un(U){let Ue={title:U.title,command:U.command};return U.arguments&&(Ue.arguments=U.arguments),Ue}async function ni(U,Ue){if(U)return us.map(U,un,Ue)}let $r=new Map;$r.set(vi.CodeActionKind.Empty,Ur.CodeActionKind.Empty),$r.set(vi.CodeActionKind.QuickFix,Ur.CodeActionKind.QuickFix),$r.set(vi.CodeActionKind.Refactor,Ur.CodeActionKind.Refactor),$r.set(vi.CodeActionKind.RefactorExtract,Ur.CodeActionKind.RefactorExtract),$r.set(vi.CodeActionKind.RefactorInline,Ur.CodeActionKind.RefactorInline),$r.set(vi.CodeActionKind.RefactorRewrite,Ur.CodeActionKind.RefactorRewrite),$r.set(vi.CodeActionKind.Source,Ur.CodeActionKind.Source),$r.set(vi.CodeActionKind.SourceOrganizeImports,Ur.CodeActionKind.SourceOrganizeImports);function In(U){if(U==null)return;let Ue=$r.get(U);if(Ue)return Ue;let vt=U.split(".");Ue=Ur.CodeActionKind.Empty;for(let qr of vt)Ue=Ue.append(qr);return Ue}function Ei(U){if(U!=null)return U.map(Ue=>In(Ue))}async function Vr(U,Ue){if(U==null)return;let vt=new ept.default(U.title,U.data);return U.kind!==void 0&&(vt.kind=In(U.kind)),U.diagnostics!==void 0&&(vt.diagnostics=c(U.diagnostics)),U.edit!==void 0&&(vt.edit=await Re(U.edit,Ue)),U.command!==void 0&&(vt.command=un(U.command)),U.isPreferred!==void 0&&(vt.isPreferred=U.isPreferred),U.disabled!==void 0&&(vt.disabled={reason:U.disabled.reason}),vt}function Vi(U,Ue){return us.mapAsync(U,async vt=>vi.Command.is(vt)?un(vt):Vr(vt,Ue),Ue)}function ii(U){if(!U)return;let Ue=new Qht.default(y(U.range));return U.command&&(Ue.command=un(U.command)),U.data!==void 0&&U.data!==null&&(Ue.data=U.data),Ue}async function ln(U,Ue){if(U)return us.map(U,ii,Ue)}async function Re(U,Ue){if(!U)return;let vt=new Map;if(U.changeAnnotations!==void 0){let zi=U.changeAnnotations;await us.forEach(Object.keys(zi),L=>{let Ae=oe(zi[L]);vt.set(L,Ae)},Ue)}let qr=zi=>{if(zi!==void 0)return vt.get(zi)},to=new Ur.WorkspaceEdit;if(U.documentChanges){let zi=U.documentChanges;await us.forEach(zi,L=>{if(vi.CreateFile.is(L))to.createFile(i(L.uri),L.options,qr(L.annotationId));else if(vi.RenameFile.is(L))to.renameFile(i(L.oldUri),i(L.newUri),L.options,qr(L.annotationId));else if(vi.DeleteFile.is(L))to.deleteFile(i(L.uri),L.options,qr(L.annotationId));else if(vi.TextDocumentEdit.is(L)){let Ae=i(L.textDocument.uri);for(let rt of L.edits)vi.AnnotatedTextEdit.is(rt)?to.replace(Ae,y(rt.range),rt.newText,qr(rt.annotationId)):to.replace(Ae,y(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(L,void 0,4)}`)},Ue)}else if(U.changes){let zi=U.changes;await us.forEach(Object.keys(zi),L=>{to.set(i(L),Ce(zi[L]))},Ue)}return to}function oe(U){if(U!==void 0)return{label:U.label,needsConfirmation:!!U.needsConfirmation,description:U.description}}function Q(U){let Ue=y(U.range),vt=U.target?o(U.target):void 0,qr=new Zht.default(Ue,vt);return U.tooltip!==void 0&&(qr.tooltip=U.tooltip),U.data!==void 0&&U.data!==null&&(qr.data=U.data),qr}async function ye(U,Ue){if(U)return us.map(U,Q,Ue)}function Ke(U){return new Ur.Color(U.red,U.green,U.blue,U.alpha)}function ft(U){return new Ur.ColorInformation(y(U.range),Ke(U.color))}async function Jt(U,Ue){if(U)return us.map(U,ft,Ue)}function nr(U){let Ue=new Ur.ColorPresentation(U.label);return Ue.additionalTextEdits=Ce(U.additionalTextEdits),U.textEdit&&(Ue.textEdit=qe(U.textEdit)),Ue}async function Xt(U,Ue){if(U)return us.map(U,nr,Ue)}function Vt(U){if(U)switch(U){case vi.FoldingRangeKind.Comment:return Ur.FoldingRangeKind.Comment;case vi.FoldingRangeKind.Imports:return Ur.FoldingRangeKind.Imports;case vi.FoldingRangeKind.Region:return Ur.FoldingRangeKind.Region}}function kt(U){return new Ur.FoldingRange(U.startLine,U.endLine,Vt(U.kind))}async function K(U,Ue){if(U)return us.map(U,kt,Ue)}function Ne(U){return new Ur.SelectionRange(y(U.range),U.parent?Ne(U.parent):void 0)}async function Bt(U,Ue){return Array.isArray(U)?us.map(U,Ne,Ue):[]}function Tr(U){return vi.InlineValueText.is(U)?new Ur.InlineValueText(y(U.range),U.text):vi.InlineValueVariableLookup.is(U)?new Ur.InlineValueVariableLookup(y(U.range),U.variableName,U.caseSensitiveLookup):new Ur.InlineValueEvaluatableExpression(y(U.range),U.expression)}async function He(U,Ue){return Array.isArray(U)?us.map(U,Tr,Ue):[]}async function ne(U,Ue){let vt=typeof U.label=="string"?U.label:await us.map(U.label,Ee,Ue),qr=new ipt.default(_(U.position),vt);return U.kind!==void 0&&(qr.kind=U.kind),U.textEdits!==void 0&&(qr.textEdits=await le(U.textEdits,Ue)),U.tooltip!==void 0&&(qr.tooltip=je(U.tooltip)),U.paddingLeft!==void 0&&(qr.paddingLeft=U.paddingLeft),U.paddingRight!==void 0&&(qr.paddingRight=U.paddingRight),U.data!==void 0&&(qr.data=U.data),qr}function Ee(U){let Ue=new Ur.InlayHintLabelPart(U.value);return U.location!==void 0&&(Ue.location=ze(U.location)),U.tooltip!==void 0&&(Ue.tooltip=je(U.tooltip)),U.command!==void 0&&(Ue.command=un(U.command)),Ue}function je(U){return typeof U=="string"?U:z(U)}async function he(U,Ue){if(Array.isArray(U))return us.mapAsync(U,ne,Ue)}function S(U){if(U===null)return;let Ue=new tpt.default(Lt(U.kind),U.name,U.detail||"",o(U.uri),y(U.range),y(U.selectionRange),U.data);return U.tags!==void 0&&(Ue.tags=cn(U.tags)),Ue}async function fe(U,Ue){if(U!==null)return us.map(U,S,Ue)}async function Je(U,Ue){return new Ur.CallHierarchyIncomingCall(S(U.from),await D(U.fromRanges,Ue))}async function Cr(U,Ue){if(U!==null)return us.mapAsync(U,Je,Ue)}async function Br(U,Ue){return new Ur.CallHierarchyOutgoingCall(S(U.to),await D(U.fromRanges,Ue))}async function Jr(U,Ue){if(U!==null)return us.mapAsync(U,Br,Ue)}async function qn(U,Ue){if(U!=null)return new Ur.SemanticTokens(new Uint32Array(U.data),U.resultId)}function xi(U){return new Ur.SemanticTokensEdit(U.start,U.deleteCount,U.data!==void 0?new Uint32Array(U.data):void 0)}async function ws(U,Ue){if(U!=null)return new Ur.SemanticTokensEdits(U.edits.map(xi),U.resultId)}function bn(U){return U}async function Go(U,Ue){if(U!=null)return new Ur.LinkedEditingRanges(await D(U.ranges,Ue),Is(U.wordPattern))}function Is(U){if(U!=null)return new RegExp(U)}function Ws(U){if(U===null)return;let Ue=new rpt.default(Lt(U.kind),U.name,U.detail||"",o(U.uri),y(U.range),y(U.selectionRange),U.data);return U.tags!==void 0&&(Ue.tags=cn(U.tags)),Ue}async function Oo(U,Ue){if(U!==null)return us.map(U,Ws,Ue)}function bo(U){if(Qg.string(U))return U;if(vi.RelativePattern.is(U)){if(vi.URI.is(U.baseUri))return new Ur.RelativePattern(o(U.baseUri),U.pattern);if(vi.WorkspaceFolder.is(U.baseUri)){let Ue=Ur.workspace.getWorkspaceFolder(o(U.baseUri.uri));return Ue!==void 0?new Ur.RelativePattern(Ue,U.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:y,asRanges:D,asPosition:_,asDiagnosticSeverity:k,asDiagnosticTag:f,asHover:re,asCompletionResult:ce,asCompletionItem:Te,asTextEdit:qe,asTextEdits:le,asSignatureHelp:be,asSignatureInformations:xe,asSignatureInformation:Le,asParameterInformations:Ge,asParameterInformation:Ct,asDeclarationResult:at,asDefinitionResult:ct,asLocation:ze,asReferences:Nr,asDocumentHighlights:Hr,asDocumentHighlight:fr,asDocumentHighlightKind:It,asSymbolKind:Lt,asSymbolTag:nn,asSymbolTags:cn,asSymbolInformations:mr,asSymbolInformation:xn,asDocumentSymbols:Rr,asDocumentSymbol:Un,asCommand:un,asCommands:ni,asCodeAction:Vr,asCodeActionKind:In,asCodeActionKinds:Ei,asCodeActionResult:Vi,asCodeLens:ii,asCodeLenses:ln,asWorkspaceEdit:Re,asDocumentLink:Q,asDocumentLinks:ye,asFoldingRangeKind:Vt,asFoldingRange:kt,asFoldingRanges:K,asColor:Ke,asColorInformation:ft,asColorInformations:Jt,asColorPresentation:nr,asColorPresentations:Xt,asSelectionRange:Ne,asSelectionRanges:Bt,asInlineValue:Tr,asInlineValues:He,asInlayHint:ne,asInlayHints:he,asSemanticTokensLegend:bn,asSemanticTokens:qn,asSemanticTokensEdit:xi,asSemanticTokensEdits:ws,asCallHierarchyItem:S,asCallHierarchyItems:fe,asCallHierarchyIncomingCall:Je,asCallHierarchyIncomingCalls:Cr,asCallHierarchyOutgoingCall:Br,asCallHierarchyOutgoingCalls:Jr,asLinkedEditingRanges:Go,asTypeHierarchyItem:Ws,asTypeHierarchyItems:Oo,asGlobPattern:bo}}Dz.createConverter=opt});var Oc=P(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.generateUuid=Zg.parse=Zg.isUUID=Zg.v4=Zg.empty=void 0;var lA=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},dA=class r extends lA{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};dA._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];dA._timeHighBits=["8","9","a","b"];Zg.empty=new lA("00000000-0000-0000-0000-000000000000");function UDe(){return new dA}Zg.v4=UDe;var spt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function HDe(r){return spt.test(r)}Zg.isUUID=HDe;function apt(r){if(!HDe(r))throw new Error("invalid uuid");return new lA(r)}Zg.parse=apt;function cpt(){return UDe().asHex()}Zg.generateUuid=cpt});var eQ=P(Pz=>{"use strict";Object.defineProperty(Pz,"__esModule",{value:!0});Pz.ProgressPart=void 0;var BDe=require("vscode"),WDe=Mi(),$De=Jg(),ZX=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(WDe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&BDe.window.withProgress({location:BDe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(WDe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&$De.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if($De.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Pz.ProgressPart=ZX});var $o=P(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.WorkspaceFeature=zu.TextDocumentLanguageFeature=zu.TextDocumentEventFeature=zu.DynamicDocumentFeature=zu.DynamicFeature=zu.StaticFeature=zu.ensure=zu.LSPCancellationError=void 0;var gT=require("vscode"),tQ=Mi(),jh=Jg(),VDe=Oc(),rQ=class extends gT.CancellationError{constructor(e){super(),this.data=e}};zu.LSPCancellationError=rQ;function upt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}zu.ensure=upt;var lpt;(function(r){function e(t){let n=t;return n!=null&&jh.func(n.fillClientCapabilities)&&jh.func(n.initialize)&&jh.func(n.getState)&&jh.func(n.dispose)&&(n.fillInitializeParams===void 0||jh.func(n.fillInitializeParams))}r.is=e})(lpt=zu.StaticFeature||(zu.StaticFeature={}));var dpt;(function(r){function e(t){let n=t;return n!=null&&jh.func(n.fillClientCapabilities)&&jh.func(n.initialize)&&jh.func(n.getState)&&jh.func(n.dispose)&&(n.fillInitializeParams===void 0||jh.func(n.fillInitializeParams))&&jh.func(n.register)&&jh.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(dpt=zu.DynamicFeature||(zu.DynamicFeature={}));var fA=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of gT.workspace.textDocuments)if(gT.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};zu.DynamicDocumentFeature=fA;var nQ=class extends fA{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new gT.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(gT.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(gT.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};zu.TextDocumentEventFeature=nQ;var iQ=class extends fA{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(tQ.TextDocumentRegistrationOptions.is(t)){let n=tQ.StaticRegistrationOptions.hasId(t)?t.id:VDe.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(jh.boolean(t)&&t===!0||tQ.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=jh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[VDe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return jh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&gT.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};zu.TextDocumentLanguageFeature=iQ;var oQ=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};zu.WorkspaceFeature=oQ});var KDe=P((FWt,GDe)=>{GDe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);fpt(i)?t.push.apply(t,i):t.push(i)}return t};var fpt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var ZDe=P((jWt,QDe)=>{"use strict";QDe.exports=JDe;function JDe(r,e,t){r instanceof RegExp&&(r=YDe(r,t)),e instanceof RegExp&&(e=YDe(e,t));var n=XDe(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function YDe(r,e){var t=e.match(r);return t?t[0]:null}JDe.range=XDe;function XDe(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var aPe=P((zWt,sPe)=>{var hpt=KDe(),ePe=ZDe();sPe.exports=gpt;var tPe="\0SLASH"+Math.random()+"\0",rPe="\0OPEN"+Math.random()+"\0",aQ="\0CLOSE"+Math.random()+"\0",nPe="\0COMMA"+Math.random()+"\0",iPe="\0PERIOD"+Math.random()+"\0";function sQ(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function ppt(r){return r.split("\\\\").join(tPe).split("\\{").join(rPe).split("\\}").join(aQ).split("\\,").join(nPe).split("\\.").join(iPe)}function mpt(r){return r.split(tPe).join("\\").split(rPe).join("{").split(aQ).join("}").split(nPe).join(",").split(iPe).join(".")}function oPe(r){if(!r)return[""];var e=[],t=ePe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=oPe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function gpt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),TE(ppt(r),!0).map(mpt)):[]}function vpt(r){return"{"+r+"}"}function _pt(r){return/^-?0\d/.test(r)}function ypt(r,e){return r<=e}function bpt(r,e){return r>=e}function TE(r,e){var t=[],n=ePe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,(?!,).*\}/)?(r=n.pre+"{"+n.body+aQ+n.post,TE(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=oPe(n.body),c.length===1&&(c=TE(c[0],!1).map(vpt),c.length===1)){var l=n.post.length?TE(n.post,!1):[""];return l.map(function(ae){return n.pre+c[0]+ae})}var u=n.pre,l=n.post.length?TE(n.post,!1):[""],d;if(s){var f=sQ(c[0]),_=sQ(c[1]),y=Math.max(c[0].length,c[1].length),D=c.length==3?Math.abs(sQ(c[2])):1,k=ypt,H=_<f;H&&(D*=-1,k=bpt);var M=c.some(_pt);d=[];for(var z=f;k(z,_);z+=D){var re;if(o)re=String.fromCharCode(z),re==="\\"&&(re="");else if(re=String(z),M){var ce=y-re.length;if(ce>0){var _e=new Array(ce+1).join("0");z<0?re="-"+_e+re.slice(1):re=_e+re}}d.push(re)}}else d=hpt(c,function(Te){return TE(Te,!1)});for(var G=0;G<d.length;G++)for(var $=0;$<l.length;$++){var te=u+d[G]+l[$];(!e||s||te)&&t.push(te)}return t}});var Rz=P((UWt,fPe)=>{fPe.exports=Hm;Hm.Minimatch=Fd;var hA=(()=>{try{return require("path")}catch{}})()||{sep:"/"};Hm.sep=hA.sep;var lQ=Hm.GLOBSTAR=Fd.GLOBSTAR={},wpt=aPe(),cPe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},cQ="[^/]",uQ=cQ+"*?",Spt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Cpt="(?:(?!(?:\\/|^)\\.).)*?",uPe=Tpt("().*{}+?[]^$\\!");function Tpt(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var lPe=/\/+/;Hm.filter=Dpt;function Dpt(r,e){return e=e||{},function(t,n,i){return Hm(t,r,e)}}function wC(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Hm.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return Hm;let e=Hm,t=function(i,o,s){return e(i,o,wC(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,wC(r,o))},t.Minimatch.defaults=n=>e.defaults(wC(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,wC(r,o))},t.defaults=function(i){return e.defaults(wC(r,i))},t.makeRe=function(i,o){return e.makeRe(i,wC(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,wC(r,o))},t.match=function(n,i,o){return e.match(n,i,wC(r,o))},t};Fd.defaults=function(r){return Hm.defaults(r).Minimatch};function Hm(r,e,t){return xz(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new Fd(e,t).match(r)}function Fd(r,e){if(!(this instanceof Fd))return new Fd(r,e);xz(r),e||(e={}),r=r.trim(),hA.sep!=="/"&&(r=r.split(hA.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Fd.prototype.debug=function(){};Fd.prototype.make=Ppt;function Ppt(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(lPe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}Fd.prototype.parseNegate=Ept;function Ept(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}Hm.braceExpand=function(r,e){return dPe(r,e)};Fd.prototype.braceExpand=dPe;function dPe(r,e){return e||(this instanceof Fd?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,xz(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:wpt(r)}var xpt=1024*64,xz=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>xpt)throw new TypeError("pattern is too long")};Fd.prototype.parse=Rpt;var Ez={};function Rpt(r,e){xz(r);var t=this.options;if(!t.noglobstar&&r==="**")return lQ;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function y(){if(c){switch(c){case"*":n+=uQ,i=!0;break;case"?":n+=cQ,i=!0;break;default:n+="\\"+c;break}_.debug("clearStateChar %j %j",c,n),c=!1}}for(var D=0,k=r.length,H;D<k&&(H=r.charAt(D));D++){if(this.debug("%s	%s %s %j",r,D,n,H),o&&uPe[H]){n+="\\"+H,o=!1;continue}switch(H){case"/":return!1;case"\\":y(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,D,n,H),u){this.debug("  in class"),H==="!"&&D===d+1&&(H="^"),n+=H;continue}_.debug("call clearStateChar %j",c),y(),c=H,t.noext&&y();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:D-1,reStart:n.length,open:cPe[c].open,close:cPe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}y(),i=!0;var M=s.pop();n+=M.close,M.type==="!"&&a.push(M),M.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}y(),n+="|";continue;case"[":if(y(),u){n+="\\"+H;continue}u=!0,d=D,l=n.length,n+=H;continue;case"]":if(D===d+1||!u){n+="\\"+H,o=!1;continue}if(u){var z=r.substring(d+1,D);try{RegExp("["+z+"]")}catch{var re=this.parse(z,Ez);n=n.substr(0,l)+"\\["+re[0]+"\\]",i=i||re[1],u=!1;continue}}i=!0,u=!1,n+=H;continue;default:y(),o?o=!1:uPe[H]&&!(H==="^"&&u)&&(n+="\\"),n+=H}}for(u&&(z=r.substr(d+1),re=this.parse(z,Ez),n=n.substr(0,l)+"\\["+re[0],i=i||re[1]),M=s.pop();M;M=s.pop()){var ce=n.slice(M.reStart+M.open.length);this.debug("setting tail",n,M),ce=ce.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ge,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,ce,ce,M,n);var _e=M.type==="*"?uQ:M.type==="?"?cQ:"\\"+M.type;i=!0,n=n.slice(0,M.reStart)+_e+"\\("+ce}y(),o&&(n+="\\\\");var G=!1;switch(n.charAt(0)){case".":case"[":case"(":G=!0}for(var $=a.length-1;$>-1;$--){var te=a[$],Te=n.slice(0,te.reStart),ae=n.slice(te.reStart,te.reEnd-8),ue=n.slice(te.reEnd-8,te.reEnd),Fe=n.slice(te.reEnd);ue+=Fe;var qe=Te.split("(").length-1,le=Fe;for(D=0;D<qe;D++)le=le.replace(/\)[+*?]?/,"");Fe=le;var Ce="";Fe===""&&e!==Ez&&(Ce="$");var be=Te+ae+Fe+Ce+ue;n=be}if(n!==""&&i&&(n="(?=.)"+n),G&&(n=f+n),e===Ez)return[n,i];if(!i)return kpt(r);var xe=t.nocase?"i":"";try{var Le=new RegExp("^"+n+"$",xe)}catch{return new RegExp("$.")}return Le._glob=r,Le._src=n,Le}Hm.makeRe=function(r,e){return new Fd(r,e||{}).makeRe()};Fd.prototype.makeRe=Opt;function Opt(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?uQ:e.dot?Spt:Cpt,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===lQ?t:typeof s=="string"?Apt(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Hm.match=function(r,e,t){t=t||{};let n=new Fd(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};Fd.prototype.match=Ipt;function Ipt(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;hA.sep!=="/"&&(r=r.split(hA.sep).join("/")),r=r.split(lPe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}Fd.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===lQ){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var _;if(typeof c=="string"?(n.nocase?_=u.toLowerCase()===c.toLowerCase():_=u===c,this.debug("string match",c,u,_)):(_=u.match(c),this.debug("pattern match",c,u,_)),!_)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function kpt(r){return r.replace(/\\(.)/g,"$1")}function Apt(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var yQ=P(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.DiagnosticFeature=By.DiagnosticPullMode=By.vsdiag=void 0;var Mpt=Rz(),uo=require("vscode"),Kc=Mi(),Lpt=Oc(),dQ=$o();function Oz(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var m_;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(m_=By.vsdiag||(By.vsdiag={}));var fQ;(function(r){r.onType="onType",r.onSave="onSave"})(fQ=By.DiagnosticPullMode||(By.DiagnosticPullMode={}));var Nf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(Nf||(Nf={}));var hQ=class r{constructor(){this.open=new Set,this._onOpen=new uo.EventEmitter,this._onClose=new uo.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(uo.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(uo.Uri.parse(c));this._onOpen.fire(a)}};uo.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=uo.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof uo.Uri?uo.window.activeTextEditor?.document.uri===e:uo.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof uo.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of uo.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof uo.TabInputText?a=s.uri:s instanceof uo.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},Ql;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(Ql||(Ql={}));var pQ=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===Ql.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof uo.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===Ql.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof uo.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof uo.Uri?t.toString():t.uri.toString();(e===Ql.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof uo.Uri?t.toString():t.uri.toString();return(e===Ql.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof uo.Uri?t.toString():t.uri.toString();return(e===Ql.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},mQ=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new uo.EventEmitter,this.provider=this.createProvider(),this.diagnostics=uo.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new pQ,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof uo.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof uo.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(Ql.document,e,t):this.documentStates.track(Ql.document,e);if(s===void 0){let c=new uo.CancellationTokenSource;this.openRequests.set(o,{state:Nf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:m_.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof dQ.LSPCancellationError&&Kc.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:Nf.outDated,document:e}),l===void 0&&d instanceof uo.CancellationError)l={state:Nf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(Ql.document,e);return}if(l.state===Nf.outDated)return;u!==void 0&&(u.kind===m_.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===Nf.reschedule&&this.pull(e)}else s.state===Nf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:Nf.reschedule,document:s.document})):s.state===Nf.outDated&&this.openRequests.set(o,{state:Nf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof uo.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:Nf.reschedule,document:e}):this.pull(e,()=>{this.forget(Ql.document,e)}):(i!==void 0&&(i.state===Nf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:Nf.outDated,document:e})),this.diagnostics.delete(t),this.forget(Ql.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Kc.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof dQ.LSPCancellationError)&&!Kc.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Kc.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new uo.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===m_.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Ql.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Ql.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof uo.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:m_.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Kc.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:m_.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Kc.DocumentDiagnosticReportKind.Full?{kind:m_.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:m_.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Kc.DocumentDiagnosticRequest.type,u,d,{kind:m_.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Kc.DocumentDiagnosticReportKind.Full?{kind:m_.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:m_.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,Lpt.generateUuid)(),f=this.client.onProgress(Kc.WorkspaceDiagnosticRequest.partialResult,d,async y=>{if(y==null){i(null);return}let D={items:[]};for(let k of y.items)try{D.items.push(await o(k))}catch(H){this.client.error("Converting workspace diagnostics failed.",H)}i(D)}),_={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Kc.WorkspaceDiagnosticRequest.type,_,l).then(async y=>{if(l.isCancellationRequested)return{items:[]};let D={items:[]};for(let k of y.items)D.items.push(await o(k));return f.dispose(),i(D),{items:[]}},y=>(f.dispose(),this.client.handleFailedRequest(Kc.DocumentDiagnosticRequest.type,l,y,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Nf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Nf.outDated,document:t.document});this.diagnostics.dispose()}},gQ=class{constructor(e){this.diagnosticRequestor=e,this.documents=new Kc.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof uo.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,Kc.Touch.Last),this.trigger())}remove(e){let t=e instanceof uo.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,Kc.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof uo.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,Kc.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},vQ=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=y=>{let D=n.documentSelector;if(i.match!==void 0)return i.match(D,y);for(let k of D)if(Kc.TextDocumentFilter.is(k)){if(typeof k=="string"||k.language!==void 0&&k.language!=="*"||k.scheme!==void 0&&k.scheme!=="*"&&k.scheme!==y.scheme)return!1;if(k.pattern!==void 0){let H=new Mpt.Minimatch(k.pattern,{noext:!0});if(!H.makeRe()||!H.match(y.fsPath))return!1}}return!0},c=y=>y instanceof uo.Uri?a(y):uo.languages.match(o,y)>0&&t.isVisible(y),u=y=>y instanceof uo.Uri?this.activeTextDocument?.uri.toString()===y.toString():this.activeTextDocument===y;this.diagnosticRequestor=new mQ(e,t,n),this.backgroundScheduler=new gQ(this.diagnosticRequestor);let l=y=>{!c(y)||!n.interFileDependencies||u(y)||this.backgroundScheduler.add(y)};this.activeTextDocument=uo.window.activeTextEditor?.document,uo.window.onDidChangeActiveTextEditor(y=>{let D=this.activeTextDocument;this.activeTextDocument=y?.document,D!==void 0&&l(D),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(Kc.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(y=>{let D=y.original;c(D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}));let f=new Set;for(let y of uo.workspace.textDocuments)c(y)&&(this.diagnosticRequestor.pull(y,()=>{l(y)}),f.add(y.uri.toString()));if(i.onTabs===!0)for(let y of t.getTabResources())!f.has(y.toString())&&c(y)&&this.diagnosticRequestor.pull(y,()=>{l(y)});if(t.onOpen(y=>{for(let D of y)c(D)&&!this.diagnosticRequestor.knows(Ql.document,D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}),i.onChange===!0){let y=e.getFeature(Kc.DidChangeTextDocumentNotification.method);s.push(y.onNotificationSent(async D=>{let k=D.original.document;(i.filter===void 0||!i.filter(k,fQ.onType))&&this.diagnosticRequestor.knows(Ql.document,k)&&D.original.contentChanges.length>0&&this.diagnosticRequestor.pull(k,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let y=e.getFeature(Kc.DidSaveTextDocumentNotification.method);s.push(y.onNotificationSent(D=>{let k=D.original;(i.filter===void 0||!i.filter(k,fQ.onSave))&&this.diagnosticRequestor.knows(Ql.document,k)&&this.diagnosticRequestor.pull(D.original,()=>{this.backgroundScheduler.trigger()})}))}let _=e.getFeature(Kc.DidCloseTextDocumentNotification.method);s.push(_.onNotificationSent(y=>{this.cleanUpDocument(y.original)})),t.onClose(y=>{for(let D of y)this.cleanUpDocument(D)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let y of uo.workspace.textDocuments)c(y)&&this.diagnosticRequestor.pull(y)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=uo.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Ql.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},_Q=class extends dQ.TextDocumentLanguageFeature{constructor(e){super(e,Kc.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=Oz(Oz(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,Oz(Oz(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Kc.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new hQ);let t=new vQ(this._client,this.tabs,e);return[t.disposable,t]}};By.DiagnosticFeature=_Q});var mPe=P(Mz=>{"use strict";Object.defineProperty(Mz,"__esModule",{value:!0});Mz.NotebookDocumentSyncFeature=void 0;var qf=require("vscode"),Npt=Rz(),Pw=Mi(),qpt=Oc(),hPe=Jg();function pPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var DE;(function(r){let e;(function(t){function n(f,_){return{version:f.version,uri:_.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,_,y){let D=Pw.NotebookDocument.create(y.asUri(f.uri),f.notebookType,f.version,o(_,y));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,_){return f.map(y=>a(y,_))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,_){let y=Pw.NotebookCell.create(c(f.kind),_.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(y.metadata=s(f.metadata)),f.executionSummary!==void 0&&hPe.number(f.executionSummary.executionOrder)&&hPe.boolean(f.executionSummary.success)&&(y.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),y}t.asNotebookCell=a;function c(f){switch(f){case qf.NotebookCellKind.Markup:return Pw.NotebookCellKind.Markup;case qf.NotebookCellKind.Code:return Pw.NotebookCellKind.Code}}function u(f,_){if(f.has(_))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(_)){let y=[];for(let D of _)if(D!==null&&typeof D=="object"||Array.isArray(D))y.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");y.push(D)}return y}else{let y=Object.keys(_),D=Object.create(null);for(let k of y){let H=_[k];if(H!==null&&typeof H=="object"||Array.isArray(H))D[k]=u(f,H);else{if(H instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[k]=H}}return D}}function l(f,_){let y=_.asChangeTextDocumentParams(f);return{document:y.textDocument,changes:y.contentChanges}}t.asTextContentChange=l;function d(f,_){let y=Object.create(null);if(f.metadata&&(y.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),k=f.cells;k.structure&&(D.structure={array:{start:k.structure.array.start,deleteCount:k.structure.array.deleteCount,cells:k.structure.array.cells!==void 0?k.structure.array.cells.map(H=>r.c2p.asNotebookCell(H,_)):void 0},didOpen:k.structure.didOpen!==void 0?k.structure.didOpen.map(H=>_.asOpenTextDocumentParams(H.document).textDocument):void 0,didClose:k.structure.didClose!==void 0?k.structure.didClose.map(H=>_.asCloseTextDocumentParams(H.document).textDocument):void 0}),k.data!==void 0&&(D.data=k.data.map(H=>r.c2p.asNotebookCell(H,_))),k.textContent!==void 0&&(D.textContent=k.textContent.map(H=>r.c2p.asTextContentChange(H,_))),Object.keys(D).length>0&&(y.cells=D)}return y}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(DE||(DE={}));var bQ;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let _=l-1,y=d-1;for(;_>=0&&y>=0&&t(a[_],c[y],u);)_--,y--;let D=_+1-f,k=f===y+1?void 0:c.slice(f,y+1);return k!==void 0?{start:f,deleteCount:D,cells:k}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let _=0;_<d.length;_++){let y=d[_];if(!o(a[y],c[y]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(bQ||(bQ={}));var wQ;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new Npt.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(wQ||(wQ={}));var Iz;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(Iz||(Iz={}));var kz;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(kz||(kz={}));var PE=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Iz.asDocumentSelector(t)),qf.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of qf.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);qf.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&qf.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),qf.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of qf.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return qf.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(qf.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){qf.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=DE.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Pw.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),kz.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(Pw.DidChangeNotebookDocumentNotification.type,{notebookDocument:DE.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:DE.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),kz.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Pw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(Pw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=DE.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=bQ.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(y=>[y.document.uri.toString(),y])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(y=>[y.document.uri.toString(),y]));for(let y of Array.from(d.keys()))l.has(y)&&(d.delete(y),l.delete(y));o.cells=o.cells??{};let f=[],_=[];if(l.size>0||d.size>0){for(let y of l.values())f.push(y);for(let y of d.values())_.push(y)}o.cells.structure={array:u,didOpen:f,didClose:_}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||wQ.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},Az=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Pw.NotebookDocumentSyncRegistrationType.type,qf.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof PE&&o.didOpenNotebookCellTextDocument(n,i)}),qf.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof PE&&o.didChangeNotebookCellTextDocument(i,t)}),qf.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof PE&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=pPe(pPe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Iz.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??qpt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new PE(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&qf.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of qf.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};Mz.NotebookDocumentSyncFeature=Az;Az.CellScheme="vscode-notebook-cell"});var vPe=P(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.SyncConfigurationFeature=SC.toJSONObject=SC.ConfigurationFeature=void 0;var EE=require("vscode"),pA=Mi(),Fpt=Jg(),jpt=Oc(),gPe=$o(),SQ=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(pA.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=vT(EE.workspace.getConfiguration(void 0,e).get(t));else{let o=EE.workspace.getConfiguration(t.substr(0,i),e);o&&(n=vT(o.get(t.substr(i+1))))}}else{let i=EE.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=vT(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};SC.ConfigurationFeature=SQ;function vT(r){if(r){if(Array.isArray(r))return r.map(vT);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=vT(r[t]));return e}}return r}SC.toJSONObject=vT;var CQ=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return pA.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,gPe.ensure)((0,gPe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:jpt.generateUuid(),registerOptions:{section:e}})}register(e){let t=EE.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(Fpt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(pA.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(pA.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${pA.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=EE.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=EE.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=vT(c)}}return i}};SC.SyncConfigurationFeature=CQ});var _Pe=P(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.DidSaveTextDocumentFeature=zp.WillSaveWaitUntilFeature=zp.WillSaveFeature=zp.DidChangeTextDocumentFeature=zp.DidCloseTextDocumentFeature=zp.DidOpenTextDocumentFeature=void 0;var ev=require("vscode"),dl=Mi(),Ic=$o(),zpt=uA(),xE=Oc(),TQ=class extends Ic.TextDocumentEventFeature{constructor(e,t){super(e,ev.workspace.onDidOpenTextDocument,dl.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Ic.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:xE.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return dl.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);ev.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&ev.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};zp.DidOpenTextDocumentFeature=TQ;var DQ=class extends Ic.TextDocumentEventFeature{constructor(e,t){super(e,ev.workspace.onDidCloseTextDocument,dl.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,Ic.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return dl.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:xE.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(ev.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};zp.DidCloseTextDocumentFeature=DQ;var PQ=class extends Ic.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new ev.EventEmitter}get registrationType(){return dl.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==dl.TextDocumentSyncKind.None&&this.register({id:xE.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=ev.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(ev.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===dl.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(dl.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,dl.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===dl.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(dl.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,dl.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new zpt.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${dl.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(ev.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};zp.DidChangeTextDocumentFeature=PQ;var EQ=class extends Ic.TextDocumentEventFeature{constructor(e){super(e,ev.workspace.onWillSaveTextDocument,dl.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Ic.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return dl.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:xE.generateUuid(),registerOptions:{documentSelector:t}})}};zp.WillSaveFeature=EQ;var xQ=class extends Ic.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return dl.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:xE.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=ev.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Ic.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(dl.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};zp.WillSaveWaitUntilFeature=xQ;var RQ=class extends Ic.TextDocumentEventFeature{constructor(e){super(e,ev.workspace.onDidSaveTextDocument,dl.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Ic.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return dl.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Ic.ensure)((0,Ic.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:xE.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};zp.DidSaveTextDocumentFeature=RQ});var yPe=P(Lz=>{"use strict";Object.defineProperty(Lz,"__esModule",{value:!0});Lz.CompletionItemFeature=void 0;var Upt=require("vscode"),_o=Mi(),OQ=$o(),Hpt=Oc(),Bpt=[_o.CompletionItemKind.Text,_o.CompletionItemKind.Method,_o.CompletionItemKind.Function,_o.CompletionItemKind.Constructor,_o.CompletionItemKind.Field,_o.CompletionItemKind.Variable,_o.CompletionItemKind.Class,_o.CompletionItemKind.Interface,_o.CompletionItemKind.Module,_o.CompletionItemKind.Property,_o.CompletionItemKind.Unit,_o.CompletionItemKind.Value,_o.CompletionItemKind.Enum,_o.CompletionItemKind.Keyword,_o.CompletionItemKind.Snippet,_o.CompletionItemKind.Color,_o.CompletionItemKind.File,_o.CompletionItemKind.Reference,_o.CompletionItemKind.Folder,_o.CompletionItemKind.EnumMember,_o.CompletionItemKind.Constant,_o.CompletionItemKind.Struct,_o.CompletionItemKind.Event,_o.CompletionItemKind.Operator,_o.CompletionItemKind.TypeParameter],IQ=class extends OQ.TextDocumentLanguageFeature{constructor(e){super(e,_o.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,OQ.ensure)((0,OQ.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[_o.MarkupKind.Markdown,_o.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[_o.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[_o.InsertTextMode.asIs,_o.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=_o.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:Bpt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:Hpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,_=(y,D,k,H)=>d.sendRequest(_o.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(y,D,k),H).then(M=>H.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(M,i,H),M=>d.handleFailedRequest(_o.CompletionRequest.type,H,M,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,_):_(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,_)=>u.sendRequest(_o.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),_).then(y=>_.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(y),y=>u.handleFailedRequest(_o.CompletionResolveRequest.type,_,y,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[Upt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};Lz.CompletionItemFeature=IQ});var bPe=P(Nz=>{"use strict";Object.defineProperty(Nz,"__esModule",{value:!0});Nz.HoverFeature=void 0;var Wpt=require("vscode"),mA=Mi(),kQ=$o(),$pt=Oc(),AQ=class extends kQ.TextDocumentLanguageFeature{constructor(e){super(e,mA.HoverRequest.type)}fillClientCapabilities(e){let t=(0,kQ.ensure)((0,kQ.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[mA.MarkupKind.Markdown,mA.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:$pt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(mA.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(_),_=>a.handleFailedRequest(mA.HoverRequest.type,f,_,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Wpt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Nz.HoverFeature=AQ});var wPe=P(qz=>{"use strict";Object.defineProperty(qz,"__esModule",{value:!0});qz.DefinitionFeature=void 0;var Vpt=require("vscode"),MQ=Mi(),LQ=$o(),Gpt=Oc(),NQ=class extends LQ.TextDocumentLanguageFeature{constructor(e){super(e,MQ.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,LQ.ensure)((0,LQ.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:Gpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(MQ.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(MQ.DefinitionRequest.type,f,_,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Vpt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};qz.DefinitionFeature=NQ});var CPe=P(Fz=>{"use strict";Object.defineProperty(Fz,"__esModule",{value:!0});Fz.SignatureHelpFeature=void 0;var SPe=require("vscode"),gA=Mi(),qQ=$o(),Kpt=Oc(),FQ=class extends qQ.TextDocumentLanguageFeature{constructor(e){super(e,gA.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,qQ.ensure)((0,qQ.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[gA.MarkupKind.Markdown,gA.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:Kpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,_)=>a.sendRequest(gA.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),_).then(y=>_.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(y,_),y=>a.handleFailedRequest(gA.SignatureHelpRequest.type,_,y,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return SPe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return SPe.languages.registerSignatureHelpProvider(n,t,i)}}};Fz.SignatureHelpFeature=FQ});var TPe=P(jz=>{"use strict";Object.defineProperty(jz,"__esModule",{value:!0});jz.DocumentHighlightFeature=void 0;var Ypt=require("vscode"),jQ=Mi(),zQ=$o(),Jpt=Oc(),UQ=class extends zQ.TextDocumentLanguageFeature{constructor(e){super(e,jQ.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,zQ.ensure)((0,zQ.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:Jpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(jQ.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(_,f),_=>a.handleFailedRequest(jQ.DocumentHighlightRequest.type,f,_,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Ypt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};jz.DocumentHighlightFeature=UQ});var WQ=P(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.DocumentSymbolFeature=Wy.SupportedSymbolTags=Wy.SupportedSymbolKinds=void 0;var Xpt=require("vscode"),ls=Mi(),HQ=$o(),Qpt=Oc();Wy.SupportedSymbolKinds=[ls.SymbolKind.File,ls.SymbolKind.Module,ls.SymbolKind.Namespace,ls.SymbolKind.Package,ls.SymbolKind.Class,ls.SymbolKind.Method,ls.SymbolKind.Property,ls.SymbolKind.Field,ls.SymbolKind.Constructor,ls.SymbolKind.Enum,ls.SymbolKind.Interface,ls.SymbolKind.Function,ls.SymbolKind.Variable,ls.SymbolKind.Constant,ls.SymbolKind.String,ls.SymbolKind.Number,ls.SymbolKind.Boolean,ls.SymbolKind.Array,ls.SymbolKind.Object,ls.SymbolKind.Key,ls.SymbolKind.Null,ls.SymbolKind.EnumMember,ls.SymbolKind.Struct,ls.SymbolKind.Event,ls.SymbolKind.Operator,ls.SymbolKind.TypeParameter];Wy.SupportedSymbolTags=[ls.SymbolTag.Deprecated];var BQ=class extends HQ.TextDocumentLanguageFeature{constructor(e){super(e,ls.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,HQ.ensure)((0,HQ.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Wy.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Wy.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:Qpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ls.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let _=f[0];return ls.DocumentSymbol.is(_)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(ls.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Xpt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};Wy.DocumentSymbolFeature=BQ});var PPe=P(zz=>{"use strict";Object.defineProperty(zz,"__esModule",{value:!0});zz.WorkspaceSymbolFeature=void 0;var Zpt=require("vscode"),vA=Mi(),$Q=$o(),DPe=WQ(),emt=Oc(),VQ=class extends $Q.WorkspaceFeature{constructor(e){super(e,vA.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,$Q.ensure)((0,$Q.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:DPe.SupportedSymbolKinds},t.tagSupport={valueSet:DPe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:emt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(vA.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(vA.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(vA.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(vA.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[Zpt.languages.registerWorkspaceSymbolProvider(t),t]}};zz.WorkspaceSymbolFeature=VQ});var EPe=P(Uz=>{"use strict";Object.defineProperty(Uz,"__esModule",{value:!0});Uz.ReferencesFeature=void 0;var tmt=require("vscode"),GQ=Mi(),KQ=$o(),rmt=Oc(),YQ=class extends KQ.TextDocumentLanguageFeature{constructor(e){super(e,GQ.ReferencesRequest.type)}fillClientCapabilities(e){(0,KQ.ensure)((0,KQ.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:rmt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>c.sendRequest(GQ.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,_),y).then(D=>y.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,y),D=>c.handleFailedRequest(GQ.ReferencesRequest.type,y,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return tmt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Uz.ReferencesFeature=YQ});var xPe=P(Hz=>{"use strict";Object.defineProperty(Hz,"__esModule",{value:!0});Hz.CodeActionFeature=void 0;var nmt=require("vscode"),Bm=Mi(),imt=Oc(),JQ=$o(),XQ=class extends JQ.TextDocumentLanguageFeature{constructor(e){super(e,Bm.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,JQ.ensure)((0,JQ.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Bm.CodeActionKind.Empty,Bm.CodeActionKind.QuickFix,Bm.CodeActionKind.Refactor,Bm.CodeActionKind.RefactorExtract,Bm.CodeActionKind.RefactorInline,Bm.CodeActionKind.RefactorRewrite,Bm.CodeActionKind.Source,Bm.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:imt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(_,y)};return c.sendRequest(Bm.CodeActionRequest.type,D,y).then(k=>y.isCancellationRequested||k===null||k===void 0?null:c.protocol2CodeConverter.asCodeActionResult(k,y),k=>c.handleFailedRequest(Bm.CodeActionRequest.type,y,k,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Bm.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Bm.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[nmt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};Hz.CodeActionFeature=XQ});var OPe=P(Bz=>{"use strict";Object.defineProperty(Bz,"__esModule",{value:!0});Bz.CodeLensFeature=void 0;var RPe=require("vscode"),RE=Mi(),omt=Oc(),_A=$o(),QQ=class extends _A.TextDocumentLanguageFeature{constructor(e){super(e,RE.CodeLensRequest.type)}fillClientCapabilities(e){(0,_A.ensure)((0,_A.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,_A.ensure)((0,_A.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(RE.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:omt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new RPe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(RE.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(RE.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(RE.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(RE.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[RPe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Bz.CodeLensFeature=QQ});var IPe=P(CC=>{"use strict";Object.defineProperty(CC,"__esModule",{value:!0});CC.DocumentOnTypeFormattingFeature=CC.DocumentRangeFormattingFeature=CC.DocumentFormattingFeature=void 0;var Wz=require("vscode"),Ew=Mi(),rZ=Oc(),xw=$o(),yA;(function(r){function e(t){let n=Wz.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(yA||(yA={}));var ZQ=class extends xw.TextDocumentLanguageFeature{constructor(e){super(e,Ew.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,xw.ensure)((0,xw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:rZ.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,yA.fromConfiguration(l))};return a.sendRequest(Ew.DocumentFormattingRequest.type,_,f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(y,f),y=>a.handleFailedRequest(Ew.DocumentFormattingRequest.type,f,y,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[Wz.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};CC.DocumentFormattingFeature=ZQ;var eZ=class extends xw.TextDocumentLanguageFeature{constructor(e){super(e,Ew.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,xw.ensure)((0,xw.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:rZ.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(_,yA.fromConfiguration(d))};return c.sendRequest(Ew.DocumentRangeFormattingRequest.type,D,y).then(k=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,y),k=>c.handleFailedRequest(Ew.DocumentRangeFormattingRequest.type,y,k,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[Wz.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};CC.DocumentRangeFormattingFeature=eZ;var tZ=class extends xw.TextDocumentLanguageFeature{constructor(e){super(e,Ew.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,xw.ensure)((0,xw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:rZ.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(_,y,D,k,H)=>{let M={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(_),position:l.code2ProtocolConverter.asPosition(y),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(k,yA.fromConfiguration(_))};return l.sendRequest(Ew.DocumentOnTypeFormattingRequest.type,M,H).then(z=>H.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(z,H),z=>l.handleFailedRequest(Ew.DocumentOnTypeFormattingRequest.type,H,z,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[Wz.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};CC.DocumentOnTypeFormattingFeature=tZ});var APe=P($z=>{"use strict";Object.defineProperty($z,"__esModule",{value:!0});$z.RenameFeature=void 0;var smt=require("vscode"),_T=Mi(),amt=Oc(),kPe=Jg(),nZ=$o(),iZ=class extends nZ.TextDocumentLanguageFeature{constructor(e){super(e,_T.RenameRequest.type)}fillClientCapabilities(e){let t=(0,nZ.ensure)((0,nZ.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=_T.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(kPe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:amt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,_,y)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:_};return c.sendRequest(_T.RenameRequest.type,D,y).then(k=>y.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(k,y),k=>c.handleFailedRequest(_T.RenameRequest.type,y,k,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(_T.PrepareRenameRequest.type,_,f).then(y=>f.isCancellationRequested?null:_T.Range.is(y)?a.protocol2CodeConverter.asRange(y):this.isDefaultBehavior(y)?y.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):y&&_T.Range.is(y.range)?{range:a.protocol2CodeConverter.asRange(y.range),placeholder:y.placeholder}:Promise.reject(new Error("The element can't be renamed.")),y=>{throw typeof y.message=="string"?new Error(y.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return smt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&kPe.boolean(t.defaultBehavior)}};$z.RenameFeature=iZ});var MPe=P(Vz=>{"use strict";Object.defineProperty(Vz,"__esModule",{value:!0});Vz.DocumentLinkFeature=void 0;var cmt=require("vscode"),bA=Mi(),oZ=$o(),umt=Oc(),sZ=class extends oZ.TextDocumentLanguageFeature{constructor(e){super(e,bA.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,oZ.ensure)((0,oZ.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:umt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(bA.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(bA.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(bA.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(bA.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[cmt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Vz.DocumentLinkFeature=sZ});var NPe=P(Gz=>{"use strict";Object.defineProperty(Gz,"__esModule",{value:!0});Gz.ExecuteCommandFeature=void 0;var lmt=require("vscode"),aZ=Mi(),dmt=Oc(),LPe=$o(),cZ=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return aZ.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,LPe.ensure)((0,LPe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:dmt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(aZ.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(aZ.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(lmt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Gz.ExecuteCommandFeature=cZ});var qPe=P(Yz=>{"use strict";Object.defineProperty(Yz,"__esModule",{value:!0});Yz.FileSystemWatcherFeature=void 0;var fmt=require("vscode"),yT=Mi(),Kz=$o(),uZ=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return yT.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Kz.ensure)((0,Kz.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Kz.ensure)((0,Kz.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&yT.WatchKind.Create)!==0,s=(n.kind&yT.WatchKind.Change)!==0,a=(n.kind&yT.WatchKind.Delete)!==0);let c=fmt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:yT.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:yT.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:yT.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};Yz.FileSystemWatcherFeature=uZ});var FPe=P(Jz=>{"use strict";Object.defineProperty(Jz,"__esModule",{value:!0});Jz.ColorProviderFeature=void 0;var hmt=require("vscode"),wA=Mi(),lZ=$o(),dZ=class extends lZ.TextDocumentLanguageFeature{constructor(e){super(e,wA.DocumentColorRequest.type)}fillClientCapabilities(e){(0,lZ.ensure)((0,lZ.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(wA.ColorPresentationRequest.type,_,f).then(y=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(y,f),y=>a.handleFailedRequest(wA.ColorPresentationRequest.type,f,y,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(wA.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(wA.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[hmt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Jz.ColorProviderFeature=dZ});var jPe=P(Xz=>{"use strict";Object.defineProperty(Xz,"__esModule",{value:!0});Xz.ImplementationFeature=void 0;var pmt=require("vscode"),fZ=Mi(),hZ=$o(),pZ=class extends hZ.TextDocumentLanguageFeature{constructor(e){super(e,fZ.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,hZ.ensure)((0,hZ.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(fZ.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(fZ.ImplementationRequest.type,f,_,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return pmt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Xz.ImplementationFeature=pZ});var zPe=P(Qz=>{"use strict";Object.defineProperty(Qz,"__esModule",{value:!0});Qz.TypeDefinitionFeature=void 0;var mmt=require("vscode"),mZ=Mi(),SA=$o(),gZ=class extends SA.TextDocumentLanguageFeature{constructor(e){super(e,mZ.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,SA.ensure)((0,SA.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,SA.ensure)((0,SA.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(mZ.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(_,f),_=>a.handleFailedRequest(mZ.TypeDefinitionRequest.type,f,_,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return mmt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Qz.TypeDefinitionFeature=gZ});var UPe=P(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE.WorkspaceFoldersFeature=OE.arrayDiff=void 0;var gmt=Oc(),Zz=require("vscode"),CA=Mi();function vZ(r,e){if(r!==void 0)return r[e]}function _Z(r,e){return r.filter(t=>e.indexOf(t)<0)}OE.arrayDiff=_Z;var yZ=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return CA.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=Zz.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(CA.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=Zz.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=vZ(vZ(vZ(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=gmt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=_Z(this._initialFolders,e),i=_Z(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${CA.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(CA.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=Zz.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${CA.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(Zz.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};OE.WorkspaceFoldersFeature=yZ});var HPe=P(eU=>{"use strict";Object.defineProperty(eU,"__esModule",{value:!0});eU.FoldingRangeFeature=void 0;var vmt=require("vscode"),IE=Mi(),bZ=$o(),wZ=class extends bZ.TextDocumentLanguageFeature{constructor(e){super(e,IE.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,bZ.ensure)((0,bZ.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[IE.FoldingRangeKind.Comment,IE.FoldingRangeKind.Imports,IE.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest(IE.FoldingRangeRequest.type,_,f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(y,f),y=>a.handleFailedRequest(IE.FoldingRangeRequest.type,f,y,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[vmt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};eU.FoldingRangeFeature=wZ});var BPe=P(tU=>{"use strict";Object.defineProperty(tU,"__esModule",{value:!0});tU.DeclarationFeature=void 0;var _mt=require("vscode"),SZ=Mi(),CZ=$o(),TZ=class extends CZ.TextDocumentLanguageFeature{constructor(e){super(e,SZ.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,CZ.ensure)((0,CZ.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(SZ.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(_,f),_=>a.handleFailedRequest(SZ.DeclarationRequest.type,f,_,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return _mt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};tU.DeclarationFeature=TZ});var WPe=P(rU=>{"use strict";Object.defineProperty(rU,"__esModule",{value:!0});rU.SelectionRangeFeature=void 0;var ymt=require("vscode"),DZ=Mi(),PZ=$o(),EZ=class extends PZ.TextDocumentLanguageFeature{constructor(e){super(e,DZ.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,PZ.ensure)((0,PZ.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let _={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(DZ.SelectionRangeRequest.type,_,f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(y,f),y=>a.handleFailedRequest(DZ.SelectionRangeRequest.type,f,y,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return ymt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};rU.SelectionRangeFeature=EZ});var VPe=P(nU=>{"use strict";Object.defineProperty(nU,"__esModule",{value:!0});nU.ProgressFeature=void 0;var $Pe=Mi(),bmt=eQ();function wmt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var xZ=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:$Pe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){wmt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new bmt.ProgressPart(this._client,i.token,t))};e.onRequest($Pe.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};nU.ProgressFeature=xZ});var GPe=P(iU=>{"use strict";Object.defineProperty(iU,"__esModule",{value:!0});iU.CallHierarchyFeature=void 0;var Smt=require("vscode"),bT=Mi(),RZ=$o(),OZ=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(bT.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(bT.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(bT.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(bT.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(bT.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(bT.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},IZ=class extends RZ.TextDocumentLanguageFeature{constructor(e){super(e,bT.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,RZ.ensure)((0,RZ.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new OZ(t);return[Smt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};iU.CallHierarchyFeature=IZ});var KPe=P(sU=>{"use strict";Object.defineProperty(sU,"__esModule",{value:!0});sU.SemanticTokensFeature=void 0;var oU=require("vscode"),ji=Mi(),TA=$o(),Cmt=Jg(),kZ=class extends TA.TextDocumentLanguageFeature{constructor(e){super(e,ji.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,TA.ensure)((0,TA.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ji.SemanticTokenTypes.namespace,ji.SemanticTokenTypes.type,ji.SemanticTokenTypes.class,ji.SemanticTokenTypes.enum,ji.SemanticTokenTypes.interface,ji.SemanticTokenTypes.struct,ji.SemanticTokenTypes.typeParameter,ji.SemanticTokenTypes.parameter,ji.SemanticTokenTypes.variable,ji.SemanticTokenTypes.property,ji.SemanticTokenTypes.enumMember,ji.SemanticTokenTypes.event,ji.SemanticTokenTypes.function,ji.SemanticTokenTypes.method,ji.SemanticTokenTypes.macro,ji.SemanticTokenTypes.keyword,ji.SemanticTokenTypes.modifier,ji.SemanticTokenTypes.comment,ji.SemanticTokenTypes.string,ji.SemanticTokenTypes.number,ji.SemanticTokenTypes.regexp,ji.SemanticTokenTypes.operator,ji.SemanticTokenTypes.decorator],t.tokenModifiers=[ji.SemanticTokenModifiers.declaration,ji.SemanticTokenModifiers.definition,ji.SemanticTokenModifiers.readonly,ji.SemanticTokenModifiers.static,ji.SemanticTokenModifiers.deprecated,ji.SemanticTokenModifiers.abstract,ji.SemanticTokenModifiers.async,ji.SemanticTokenModifiers.modification,ji.SemanticTokenModifiers.documentation,ji.SemanticTokenModifiers.defaultLibrary],t.formats=[ji.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,TA.ensure)((0,TA.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(ji.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=Cmt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new oU.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(_,y)=>{let D=this._client,k=D.middleware,H=(M,z)=>{let re={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(M)};return D.sendRequest(ji.SemanticTokensRequest.type,re,z).then(ce=>z.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(ce,z),ce=>D.handleFailedRequest(ji.SemanticTokensRequest.type,z,ce,null))};return k.provideDocumentSemanticTokens?k.provideDocumentSemanticTokens(_,y,H):H(_,y)},provideDocumentSemanticTokensEdits:i?(_,y,D)=>{let k=this._client,H=k.middleware,M=(z,re,ce)=>{let _e={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(z),previousResultId:re};return k.sendRequest(ji.SemanticTokensDeltaRequest.type,_e,ce).then(async G=>ce.isCancellationRequested?null:ji.SemanticTokens.is(G)?await k.protocol2CodeConverter.asSemanticTokens(G,ce):await k.protocol2CodeConverter.asSemanticTokensEdits(G,ce),G=>k.handleFailedRequest(ji.SemanticTokensDeltaRequest.type,ce,G,null))};return H.provideDocumentSemanticTokensEdits?H.provideDocumentSemanticTokensEdits(_,y,D,M):M(_,y,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(_,y,D)=>{let k=this._client,H=k.middleware,M=(z,re,ce)=>{let _e={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(z),range:k.code2ProtocolConverter.asRange(re)};return k.sendRequest(ji.SemanticTokensRangeRequest.type,_e,ce).then(G=>ce.isCancellationRequested?null:k.protocol2CodeConverter.asSemanticTokens(G,ce),G=>k.handleFailedRequest(ji.SemanticTokensRangeRequest.type,ce,G,null))};return H.provideDocumentRangeSemanticTokens?H.provideDocumentRangeSemanticTokens(_,y,D,M):M(_,y,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(oU.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(oU.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new oU.Disposable(()=>u.forEach(_=>_.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};sU.SemanticTokensFeature=kZ});var XPe=P(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.WillDeleteFilesFeature=Up.WillRenameFilesFeature=Up.WillCreateFilesFeature=Up.DidDeleteFilesFeature=Up.DidRenameFilesFeature=Up.DidCreateFilesFeature=void 0;var tv=require("vscode"),Tmt=Rz(),Rw=Mi(),Dmt=Oc();function YPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function Pmt(r,e){return r[e]}function JPe(r,e,t){r[e]=t}var DA=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=YPe(YPe(e,"workspace"),"fileOperations");JPe(t,"dynamicRegistration",!0),JPe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?Pmt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:Dmt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new Tmt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===tv.FileType.File&&u.kind===Rw.FileOperationPatternKind.file||l===tv.FileType.Directory&&u.kind===Rw.FileOperationPatternKind.folder)return!0}else if(u.kind===Rw.FileOperationPatternKind.folder&&await r.getFileType(s)===tv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await tv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},aU=class extends DA{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},cU=class extends aU{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await DA.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},AZ=class extends aU{constructor(e){super(e,tv.workspace.onDidCreateFiles,Rw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Up.DidCreateFilesFeature=AZ;var MZ=class extends cU{constructor(e){super(e,tv.workspace.onDidRenameFiles,Rw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=tv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Up.DidRenameFilesFeature=MZ;var LZ=class extends cU{constructor(e){super(e,tv.workspace.onDidDeleteFiles,Rw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=tv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Up.DidDeleteFilesFeature=LZ;var PA=class extends DA{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},NZ=class extends PA{constructor(e){super(e,tv.workspace.onWillCreateFiles,Rw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Up.WillCreateFilesFeature=NZ;var qZ=class extends PA{constructor(e){super(e,tv.workspace.onWillRenameFiles,Rw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Up.WillRenameFilesFeature=qZ;var FZ=class extends PA{constructor(e){super(e,tv.workspace.onWillDeleteFiles,Rw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Up.WillDeleteFilesFeature=FZ});var QPe=P(uU=>{"use strict";Object.defineProperty(uU,"__esModule",{value:!0});uU.LinkedEditingFeature=void 0;var Emt=require("vscode"),jZ=Mi(),zZ=$o(),UZ=class extends zZ.TextDocumentLanguageFeature{constructor(e){super(e,jZ.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,zZ.ensure)((0,zZ.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(jZ.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(_,f),_=>a.handleFailedRequest(jZ.LinkedEditingRangeRequest.type,f,_,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Emt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};uU.LinkedEditingFeature=UZ});var ZPe=P(lU=>{"use strict";Object.defineProperty(lU,"__esModule",{value:!0});lU.TypeHierarchyFeature=void 0;var xmt=require("vscode"),wT=Mi(),HZ=$o(),BZ=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(wT.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(wT.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(wT.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(wT.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(wT.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(wT.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},WZ=class extends HZ.TextDocumentLanguageFeature{constructor(e){super(e,wT.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,HZ.ensure)((0,HZ.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new BZ(t);return[xmt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};lU.TypeHierarchyFeature=WZ});var tEe=P(fU=>{"use strict";Object.defineProperty(fU,"__esModule",{value:!0});fU.InlineValueFeature=void 0;var eEe=require("vscode"),dU=Mi(),EA=$o(),$Z=class extends EA.TextDocumentLanguageFeature{constructor(e){super(e,dU.InlineValueRequest.type)}fillClientCapabilities(e){(0,EA.ensure)((0,EA.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,EA.ensure)((0,EA.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(dU.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new eEe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,_,y,D)=>{let k={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(_),context:u.code2ProtocolConverter.asInlineValueContext(y)};return u.sendRequest(dU.InlineValueRequest.type,k,D).then(H=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(H,D),H=>u.handleFailedRequest(dU.InlineValueRequest.type,D,H,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return eEe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};fU.InlineValueFeature=$Z});var nEe=P(hU=>{"use strict";Object.defineProperty(hU,"__esModule",{value:!0});hU.InlayHintsFeature=void 0;var rEe=require("vscode"),kE=Mi(),xA=$o(),VZ=class extends xA.TextDocumentLanguageFeature{constructor(e){super(e,kE.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,xA.ensure)((0,xA.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,xA.ensure)((0,xA.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(kE.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new rEe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,_)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(kE.InlayHintRequest.type,y,_);return _.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,_)}catch(D){return c.handleFailedRequest(kE.InlayHintRequest.type,_,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(kE.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let _=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:_}catch(f){return a.handleFailedRequest(kE.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return rEe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};hU.InlayHintsFeature=VZ});var JZ=P(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ProposedFeatures=Ma.BaseLanguageClient=Ma.MessageTransports=Ma.SuspendMode=Ma.State=Ma.CloseAction=Ma.ErrorAction=Ma.RevealOutputChannelOn=void 0;var xs=require("vscode"),Ar=Mi(),Rmt=qDe(),Omt=zDe(),rv=Jg(),iEe=uA(),oEe=Oc(),Imt=eQ(),g_=$o(),kmt=yQ(),sEe=mPe(),aEe=vPe(),AE=_Pe(),Amt=yPe(),Mmt=bPe(),Lmt=wPe(),Nmt=CPe(),qmt=TPe(),Fmt=WQ(),jmt=PPe(),zmt=EPe(),Umt=xPe(),Hmt=OPe(),GZ=IPe(),Bmt=APe(),Wmt=MPe(),$mt=NPe(),Vmt=qPe(),Gmt=FPe(),Kmt=jPe(),Ymt=zPe(),Jmt=UPe(),Xmt=HPe(),Qmt=BPe(),Zmt=WPe(),egt=VPe(),tgt=GPe(),rgt=KPe(),ME=XPe(),ngt=QPe(),igt=ZPe(),ogt=tEe(),sgt=nEe(),RA;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(RA=Ma.RevealOutputChannelOn||(Ma.RevealOutputChannelOn={}));var mU;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(mU=Ma.ErrorAction||(Ma.ErrorAction={}));var ST;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(ST=Ma.CloseAction||(Ma.CloseAction={}));var pU;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(pU=Ma.State||(Ma.State={}));var agt;(function(r){r.off="off",r.on="on"})(agt=Ma.SuspendMode||(Ma.SuspendMode={}));var KZ=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:mU.Continue}:{action:mU.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:ST.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:ST.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:ST.Restart})}},lo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(lo||(lo={}));var cgt;(function(r){function e(t){return t&&Ar.MessageReader.is(t.reader)&&Ar.MessageWriter.is(t.writer)}r.is=e})(cgt=Ma.MessageTransports||(Ma.MessageTransports={}));var gU=class r{constructor(e,t,n){this._traceFormat=Ar.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new iEe.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??RA.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=lo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new iEe.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Ar.Emitter,this._stateChangeEmitter=new Ar.Emitter,this._trace=Ar.Trace.Off,this._tracer={log:(o,s)=>{rv.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=Rmt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Omt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=xs.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case lo.Starting:return pU.Starting;case lo.Running:return pU.Running;default:return pU.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===lo.StartFailed||this.$state===lo.Stopping||this.$state===lo.Stopped)return Promise.reject(new Ar.ResponseError(Ar.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${rv.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===lo.StartFailed||this.$state===lo.Stopping||this.$state===lo.Stopped)return Promise.reject(new Ar.ResponseError(Ar.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${rv.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===lo.StartFailed||this.$state===lo.Stopping||this.$state===lo.Stopped)return Promise.reject(new Ar.ResponseError(Ar.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Ar.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new KZ(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Ar.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?rv.string(e.stack)?e.stack:e.message:rv.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=RA.Info&&this.showNotificationMessage(Ar.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=RA.Warn&&this.showNotificationMessage(Ar.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=RA.Error)&&this.showNotificationMessage(Ar.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Ar.MessageType.Error?xs.window.showErrorMessage:e===Ar.MessageType.Warning?xs.window.showWarningMessage:xs.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===lo.Initial||this.$state===lo.Stopping||this.$state===lo.Stopped}needsStop(){return this.$state===lo.Starting||this.$state===lo.Running}activeConnection(){return this.$state===lo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===lo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===lo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?xs.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):xs.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=lo.Starting;try{let i=await this.createConnection();i.onNotification(Ar.LogMessageNotification.type,o=>{switch(o.type){case Ar.MessageType.Error:this.error(o.message,void 0,!1);break;case Ar.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Ar.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Ar.ShowMessageNotification.type,o=>{switch(o.type){case Ar.MessageType.Error:xs.window.showErrorMessage(o.message);break;case Ar.MessageType.Warning:xs.window.showWarningMessage(o.message);break;case Ar.MessageType.Info:xs.window.showInformationMessage(o.message);break;default:xs.window.showInformationMessage(o.message)}}),i.onRequest(Ar.ShowMessageRequest.type,o=>{let s;switch(o.type){case Ar.MessageType.Error:s=xs.window.showErrorMessage;break;case Ar.MessageType.Warning:s=xs.window.showWarningMessage;break;case Ar.MessageType.Info:s=xs.window.showInformationMessage;break;default:s=xs.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Ar.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Ar.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await xs.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await xs.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=lo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:xs.env.appName,version:xs.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(xs.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:rv.func(t)?t():t,trace:Ar.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=oEe.generateUuid(),a=new Imt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Ar.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=lo.Running;let i;rv.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Ar.TextDocumentSyncKind.None?i={openClose:!1,change:Ar.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Ar.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Ar.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Ar.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Ar.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Ar.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Ar.ResponseError&&n.data&&n.data.retry?xs.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&xs.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=xs.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===lo.Stopped||this.$state===lo.Initial)return;if(this.$state===lo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==lo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=lo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Ar.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=lo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Ar.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Ar.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Ar.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new xs.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===lo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=ugt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===lo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:ST.DoNotRestart};if(this.$state!==lo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===ST.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===lo.Starting?this.$state=lo.StartFailed:this.$state=lo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===ST.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=lo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===mU.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(xs.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=xs.workspace.getConfiguration(this._id),i=Ar.Trace.Off,o=Ar.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Ar.Trace.fromString(s):(i=Ar.Trace.fromString(n.get("trace.server.verbosity","off")),o=Ar.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;rv.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Ar.DidChangeWatchedFilesNotification.type.method).registerRaw(oEe.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),g_.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Ar.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof sEe.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new aEe.ConfigurationFeature(this)),this.registerFeature(new AE.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new AE.DidChangeTextDocumentFeature(this)),this.registerFeature(new AE.WillSaveFeature(this)),this.registerFeature(new AE.WillSaveWaitUntilFeature(this)),this.registerFeature(new AE.DidSaveTextDocumentFeature(this)),this.registerFeature(new AE.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new Vmt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new Amt.CompletionItemFeature(this)),this.registerFeature(new Mmt.HoverFeature(this)),this.registerFeature(new Nmt.SignatureHelpFeature(this)),this.registerFeature(new Lmt.DefinitionFeature(this)),this.registerFeature(new zmt.ReferencesFeature(this)),this.registerFeature(new qmt.DocumentHighlightFeature(this)),this.registerFeature(new Fmt.DocumentSymbolFeature(this)),this.registerFeature(new jmt.WorkspaceSymbolFeature(this)),this.registerFeature(new Umt.CodeActionFeature(this)),this.registerFeature(new Hmt.CodeLensFeature(this)),this.registerFeature(new GZ.DocumentFormattingFeature(this)),this.registerFeature(new GZ.DocumentRangeFormattingFeature(this)),this.registerFeature(new GZ.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new Bmt.RenameFeature(this)),this.registerFeature(new Wmt.DocumentLinkFeature(this)),this.registerFeature(new $mt.ExecuteCommandFeature(this)),this.registerFeature(new aEe.SyncConfigurationFeature(this)),this.registerFeature(new Ymt.TypeDefinitionFeature(this)),this.registerFeature(new Kmt.ImplementationFeature(this)),this.registerFeature(new Gmt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new Jmt.WorkspaceFoldersFeature(this)),this.registerFeature(new Xmt.FoldingRangeFeature(this)),this.registerFeature(new Qmt.DeclarationFeature(this)),this.registerFeature(new Zmt.SelectionRangeFeature(this)),this.registerFeature(new egt.ProgressFeature(this)),this.registerFeature(new tgt.CallHierarchyFeature(this)),this.registerFeature(new rgt.SemanticTokensFeature(this)),this.registerFeature(new ngt.LinkedEditingFeature(this)),this.registerFeature(new ME.DidCreateFilesFeature(this)),this.registerFeature(new ME.DidRenameFilesFeature(this)),this.registerFeature(new ME.DidDeleteFilesFeature(this)),this.registerFeature(new ME.WillCreateFilesFeature(this)),this.registerFeature(new ME.WillRenameFilesFeature(this)),this.registerFeature(new ME.WillDeleteFilesFeature(this)),this.registerFeature(new igt.TypeHierarchyFeature(this)),this.registerFeature(new ogt.InlineValueFeature(this)),this.registerFeature(new sgt.InlayHintsFeature(this)),this.registerFeature(new kmt.DiagnosticFeature(this)),this.registerFeature(new sEe.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(cEe.createAll(this))}fillInitializeParams(e){for(let t of this._features)rv.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,g_.ensure)(e,"workspace").applyEdit=!0;let t=(0,g_.ensure)((0,g_.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Ar.ResourceOperationKind.Create,Ar.ResourceOperationKind.Rename,Ar.ResourceOperationKind.Delete],t.failureHandling=Ar.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,g_.ensure)((0,g_.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Ar.DiagnosticTag.Unnecessary,Ar.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,g_.ensure)(e,"window"),o=(0,g_.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,g_.ensure)(i,"showDocument");s.support=!0;let a=(0,g_.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)rv.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;xs.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Ar.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):rv.asPromise(xs.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Ar.ResponseError){if(n.code===Ar.ErrorCodes.PendingResponseRejected||n.code===Ar.ErrorCodes.ConnectionInactive)return i;if(n.code===Ar.LSPErrorCodes.RequestCancelled||n.code===Ar.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new g_.LSPCancellationError(n.data):new xs.CancellationError}else if(n.code===Ar.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new xs.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Ma.BaseLanguageClient=gU;gU.RequestsToCancelOnContentModified=new Set([Ar.SemanticTokensRequest.method,Ar.SemanticTokensRangeRequest.method,Ar.SemanticTokensDeltaRequest.method]);var YZ=class{error(e){(0,Ar.RAL)().console.error(e)}warn(e){(0,Ar.RAL)().console.warn(e)}info(e){(0,Ar.RAL)().console.info(e)}log(e){(0,Ar.RAL)().console.log(e)}};function ugt(r,e,t,n,i){let o=-1,s=new YZ,a=(0,Ar.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Ar.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(rv.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Ar.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Ar.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Ar.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var cEe;(function(r){function e(t){return[]}r.createAll=e})(cEe=Ma.ProposedFeatures||(Ma.ProposedFeatures={}))});var lEe=P(vU=>{"use strict";Object.defineProperty(vU,"__esModule",{value:!0});vU.terminate=void 0;var uEe=require("child_process"),lgt=require("path"),dgt=process.platform==="win32",fgt=process.platform==="darwin",hgt=process.platform==="linux";function pgt(r,e){if(dgt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),uEe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if(hgt||fgt)try{var t=(0,lgt.join)(__dirname,"terminateProcess.sh"),n=uEe.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}vU.terminate=pgt});var XZ=P((T$t,dEe)=>{"use strict";dEe.exports=Mi()});var hEe=P(Wm=>{"use strict";var mgt=Wm&&Wm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QZ=Wm&&Wm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mgt(e,r,t)};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.DiagnosticPullMode=Wm.vsdiag=void 0;QZ(Mi(),Wm);QZ($o(),Wm);var fEe=yQ();Object.defineProperty(Wm,"vsdiag",{enumerable:!0,get:function(){return fEe.vsdiag}});Object.defineProperty(Wm,"DiagnosticPullMode",{enumerable:!0,get:function(){return fEe.DiagnosticPullMode}});QZ(JZ(),Wm)});var $y=P(zh=>{"use strict";var ggt=zh&&zh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gEe=zh&&zh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ggt(e,r,t)};Object.defineProperty(zh,"__esModule",{value:!0});zh.SettingMonitor=zh.LanguageClient=zh.TransportKind=void 0;var Ow=require("child_process"),ZZ=require("fs"),eee=require("path"),DC=require("vscode"),nc=Jg(),pEe=JZ(),vgt=lEe(),kc=XZ(),_gt=yS(),ygt=dD();gEe(XZ(),zh);gEe(hEe(),zh);var mEe="^1.67.0",Yc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Yc=zh.TransportKind||(zh.TransportKind={}));var TC;(function(r){function e(t){let n=t;return n&&n.kind===Yc.socket&&nc.number(n.port)}r.isSocket=e})(TC||(TC={}));var tee;(function(r){function e(t){return nc.string(t.command)}r.is=e})(tee||(tee={}));var ree;(function(r){function e(t){return nc.string(t.module)}r.is=e})(ree||(ree={}));var nee;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(nee||(nee={}));var iee;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(iee||(iee={}));var oee=class extends pEe.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;nc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw nc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=_gt(DC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${DC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!ygt(e,mEe))throw new Error(`The language client requires VS Code version ${mEe} but received version ${DC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,vgt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(_=>f[_]=process.env[_]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(_=>f[_]=l[_]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(nc.func(a))return a().then(l=>{if(pEe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(nee.is(l))return this._isDetached=!!l.detached,{reader:new kc.StreamMessageReader(l.reader),writer:new kc.StreamMessageWriter(l.writer)};{let d;return iee.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(nc.string(f)?f:f.toString(e))),{reader:new kc.StreamMessageReader(d.stdout),writer:new kc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(ree.is(c)&&c.module){let d=c,f=d.transport||Yc.stdio;if(d.runtime){let _=[],y=d.options??Object.create(null);y.execArgv&&y.execArgv.forEach(M=>_.push(M)),_.push(d.module),d.args&&d.args.forEach(M=>_.push(M));let D=Object.create(null);D.cwd=l,D.env=t(y.env,!1);let k=this._getRuntimePath(d.runtime,l),H;if(f===Yc.ipc?(D.stdio=[null,null,null,"ipc"],_.push("--node-ipc")):f===Yc.stdio?_.push("--stdio"):f===Yc.pipe?(H=(0,kc.generateRandomPipeName)(),_.push(`--pipe=${H}`)):TC.isSocket(f)&&_.push(`--socket=${f.port}`),_.push(`--clientProcessId=${process.pid.toString()}`),f===Yc.ipc||f===Yc.stdio){let M=Ow.spawn(k,_,D);return!M||!M.pid?LE(M,`Launching server using runtime ${k} failed.`):(this._serverProcess=M,M.stderr.on("data",z=>this.outputChannel.append(nc.string(z)?z:z.toString(e))),f===Yc.ipc?(M.stdout.on("data",z=>this.outputChannel.append(nc.string(z)?z:z.toString(e))),Promise.resolve({reader:new kc.IPCMessageReader(M),writer:new kc.IPCMessageWriter(M)})):Promise.resolve({reader:new kc.StreamMessageReader(M.stdout),writer:new kc.StreamMessageWriter(M.stdin)}))}else{if(f===Yc.pipe)return(0,kc.createClientPipeTransport)(H).then(M=>{let z=Ow.spawn(k,_,D);return!z||!z.pid?LE(z,`Launching server using runtime ${k} failed.`):(this._serverProcess=z,z.stderr.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),z.stdout.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),M.onConnected().then(re=>({reader:re[0],writer:re[1]})))});if(TC.isSocket(f))return(0,kc.createClientSocketTransport)(f.port).then(M=>{let z=Ow.spawn(k,_,D);return!z||!z.pid?LE(z,`Launching server using runtime ${k} failed.`):(this._serverProcess=z,z.stderr.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),z.stdout.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),M.onConnected().then(re=>({reader:re[0],writer:re[1]})))})}}else{let _;return new Promise((y,D)=>{let k=(d.args&&d.args.slice())??[];f===Yc.ipc?k.push("--node-ipc"):f===Yc.stdio?k.push("--stdio"):f===Yc.pipe?(_=(0,kc.generateRandomPipeName)(),k.push(`--pipe=${_}`)):TC.isSocket(f)&&k.push(`--socket=${f.port}`),k.push(`--clientProcessId=${process.pid.toString()}`);let H=d.options??Object.create(null);if(H.env=t(H.env,!0),H.execArgv=H.execArgv||[],H.cwd=l,H.silent=!0,f===Yc.ipc||f===Yc.stdio){let M=Ow.fork(d.module,k||[],H);s(M),this._serverProcess=M,M.stderr.on("data",z=>this.outputChannel.append(nc.string(z)?z:z.toString(e))),f===Yc.ipc?(M.stdout.on("data",z=>this.outputChannel.append(nc.string(z)?z:z.toString(e))),y({reader:new kc.IPCMessageReader(this._serverProcess),writer:new kc.IPCMessageWriter(this._serverProcess)})):y({reader:new kc.StreamMessageReader(M.stdout),writer:new kc.StreamMessageWriter(M.stdin)})}else f===Yc.pipe?(0,kc.createClientPipeTransport)(_).then(M=>{let z=Ow.fork(d.module,k||[],H);s(z),this._serverProcess=z,z.stderr.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),z.stdout.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),M.onConnected().then(re=>{y({reader:re[0],writer:re[1]})},D)},D):TC.isSocket(f)&&(0,kc.createClientSocketTransport)(f.port).then(M=>{let z=Ow.fork(d.module,k||[],H);s(z),this._serverProcess=z,z.stderr.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),z.stdout.on("data",re=>this.outputChannel.append(nc.string(re)?re:re.toString(e))),M.onConnected().then(re=>{y({reader:re[0],writer:re[1]})},D)},D)})}}else if(tee.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],_,y=c.transport;if(y===Yc.stdio)f.push("--stdio");else if(y===Yc.pipe)_=(0,kc.generateRandomPipeName)(),f.push(`--pipe=${_}`);else if(TC.isSocket(y))f.push(`--socket=${y.port}`);else if(y===Yc.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,y===void 0||y===Yc.stdio){let k=Ow.spawn(d.command,f,D);return!k||!k.pid?LE(k,`Launching server using command ${d.command} failed.`):(k.stderr.on("data",H=>this.outputChannel.append(nc.string(H)?H:H.toString(e))),this._serverProcess=k,this._isDetached=!!D.detached,Promise.resolve({reader:new kc.StreamMessageReader(k.stdout),writer:new kc.StreamMessageWriter(k.stdin)}))}else{if(y===Yc.pipe)return(0,kc.createClientPipeTransport)(_).then(k=>{let H=Ow.spawn(d.command,f,D);return!H||!H.pid?LE(H,`Launching server using command ${d.command} failed.`):(this._serverProcess=H,this._isDetached=!!D.detached,H.stderr.on("data",M=>this.outputChannel.append(nc.string(M)?M:M.toString(e))),H.stdout.on("data",M=>this.outputChannel.append(nc.string(M)?M:M.toString(e))),k.onConnected().then(M=>({reader:M[0],writer:M[1]})))});if(TC.isSocket(y))return(0,kc.createClientSocketTransport)(y.port).then(k=>{let H=Ow.spawn(d.command,f,D);return!H||!H.pid?LE(H,`Launching server using command ${d.command} failed.`):(this._serverProcess=H,this._isDetached=!!D.detached,H.stderr.on("data",M=>this.outputChannel.append(nc.string(M)?M:M.toString(e))),H.stdout.on("data",M=>this.outputChannel.append(nc.string(M)?M:M.toString(e))),k.onConnected().then(M=>({reader:M[0],writer:M[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(eee.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=eee.join(n,e);if(ZZ.existsSync(i))return i}if(t!==void 0){let i=eee.join(t,e);if(ZZ.existsSync(i))return i}return e}_mainGetRootPath(){let e=DC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{ZZ.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};zh.LanguageClient=oee;var see=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return DC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new DC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?DC.workspace.getConfiguration(t).get(n,!1):DC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};zh.SettingMonitor=see;function LE(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var vEe=P(_U=>{"use strict";Object.defineProperty(_U,"__esModule",{value:!0});_U.ColorPresentationContext=void 0;var aee=class{constructor(e,t){this.uri=e,this.range=t}};_U.ColorPresentationContext=aee});var _Ee=P(yU=>{"use strict";Object.defineProperty(yU,"__esModule",{value:!0});yU.SerializableColorPresentation=void 0;var cee=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};yU.SerializableColorPresentation=cee});var wEe=P(NE=>{"use strict";var yEe=NE&&NE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(NE,"__esModule",{value:!0});NE.ColorPresentationHandler=void 0;var uee=require("vscode"),bgt=$y(),bEe=U1(),wgt=vEe(),Sgt=_Ee(),bU=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new bgt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>yEe(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return yEe(this,void 0,void 0,function*(){try{let n=uee.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new uee.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield uee.commands.executeCommand("vscode.executeColorPresentationProvider",o,new wgt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,bEe.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,bEe.convertTextEditToSerializable)(a);o.push(c)}let s=new Sgt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};NE.ColorPresentationHandler=bU;bU.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var PC=P(wU=>{"use strict";var SEe;Object.defineProperty(wU,"__esModule",{value:!0});wU.RazorLanguage=void 0;var Vy=class{};wU.RazorLanguage=Vy;SEe=Vy;Vy.id="aspnetcorerazor";Vy.fileExtensions=["cshtml","razor"];Vy.globbingPattern=`**/*.{${Vy.fileExtensions.join(",")}}`;Vy.documentSelector={language:SEe.id,pattern:Vy.globbingPattern}});var dee=P(qE=>{"use strict";var CEe=qE&&qE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(qE,"__esModule",{value:!0});qE.RazorCompletionItemProvider=void 0;var EC=require("vscode"),Cgt=s_(),Tgt=Um(),lee=class r extends Cgt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return CEe(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield EC.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new EC.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,_=f.inserting;if(_){let D=this.offsetColumn(c,t.line,_.start),k=this.offsetColumn(c,t.line,_.end);f.inserting=new EC.Range(D,k)}let y=f.replacing;if(y){let D=this.offsetColumn(c,t.line,y.start),k=this.offsetColumn(c,t.line,y.end);f.replacing=new EC.Range(D,k)}if(f instanceof EC.Range&&f.start&&f.end){let D=this.offsetColumn(c,t.line,f.start),k=this.offsetColumn(c,t.line,f.end);l.range=new EC.Range(D,k)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new EC.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new EC.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return CEe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,Tgt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};qE.RazorCompletionItemProvider=lee});var DEe=P(FE=>{"use strict";var SU=FE&&FE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(FE,"__esModule",{value:!0});FE.ProvisionalCompletionOrchestrator=void 0;var Iw=require("vscode"),Dgt=PC(),TEe=Yg(),Pgt=dee(),fee=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){Iw.window.activeTextEditor&&(this.currentActiveDocument=Iw.window.activeTextEditor.document);let e=Iw.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=Iw.workspace.onDidChangeTextDocument(i=>SU(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=Iw.window.onDidChangeActiveTextEditor(i=>SU(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return Iw.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return SU(this,void 0,void 0,function*(){if(t.languageKind!==TEe.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new Iw.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==TEe.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield Iw.workspace.openTextDocument(c.uri)).save();let d=new Iw.Position(s.position.line,s.position.character+1),f=yield Pgt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return SU(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==Dgt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};FE.ProvisionalCompletionOrchestrator=fee});var EEe=P(jE=>{"use strict";var Egt=jE&&jE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(jE,"__esModule",{value:!0});jE.listenToConfigurationChanges=void 0;var PEe=require("vscode");function xgt(r){return PEe.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&Rgt(r)})}jE.listenToConfigurationChanges=xgt;function Rgt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";PEe.window.showInformationMessage(e,t).then(n=>Egt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var REe=P(UE=>{"use strict";var OA=UE&&UE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(UE,"__esModule",{value:!0});UE.CSharpPreviewPanel=void 0;var zE=require("vscode"),hee=bw(),xEe=Um(),CU=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return OA(this,void 0,void 0,function*(){this.panel?this.panel.reveal(zE.ViewColumn.Two):(this.panel=zE.window.createWebviewPanel(r.viewType,"Razor C# Preview",zE.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return OA(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return OA(this,void 0,void 0,function*(){this.panel&&(e.kind===hee.RazorDocumentChangeKind.csharpChanged||e.kind===hee.RazorDocumentChangeKind.opened||e.kind===hee.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){zE.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>OA(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield zE.env.clipboard.writeText(this.csharpContent),zE.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return OA(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,xEe.getUriPath)(e.uri),n=(0,xEe.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};UE.CSharpPreviewPanel=CU;CU.viewType="razorCSharpPreview"});var DU=P(HE=>{"use strict";var Ogt=HE&&HE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HE,"__esModule",{value:!0});HE.CSharpProjectedDocumentContentProvider=void 0;var pee=bw(),OEe=Um(),TU=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return Ogt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,OEe.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===pee.RazorDocumentChangeKind.csharpChanged||e.kind===pee.RazorDocumentChangeKind.opened||e.kind===pee.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,OEe.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};HE.CSharpProjectedDocumentContentProvider=TU;TU.scheme="virtualCSharp-razor"});var AEe=P(BE=>{"use strict";var Igt=BE&&BE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(BE,"__esModule",{value:!0});BE.RazorCSharpFeature=void 0;var IA=require("vscode"),IEe=REe(),kEe=DU(),mee=class{constructor(e,t,n){this.projectionProvider=new kEe.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new IEe.CSharpPreviewPanel(e)}register(){let e=[IA.workspace.registerTextDocumentContentProvider(kEe.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),IA.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return IA.window.registerWebviewPanelSerializer&&e.push(IA.window.registerWebviewPanelSerializer(IEe.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>Igt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),IA.Disposable.from(...e)}};BE.RazorCSharpFeature=mee});var kA=P(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.getRazorDocumentUri=Uu.isRazorHtmlFile=Uu.isRazorCSharpFile=Uu.backgroundVirtualCSharpSuffix=Uu.virtualCSharpSuffix=Uu.virtualHtmlSuffix=void 0;var kgt=require("vscode"),gee=Um();Uu.virtualHtmlSuffix="__virtual.html";Uu.virtualCSharpSuffix="__virtual.cs";Uu.backgroundVirtualCSharpSuffix=`__bg${Uu.virtualCSharpSuffix}`;function Agt(r){return(0,gee.getUriPath)(r).endsWith(Uu.virtualCSharpSuffix)}Uu.isRazorCSharpFile=Agt;function Mgt(r){return(0,gee.getUriPath)(r).endsWith(Uu.virtualHtmlSuffix)}Uu.isRazorHtmlFile=Mgt;function Lgt(r){let t=(0,gee.getUriPath)(r).replace(Uu.backgroundVirtualCSharpSuffix,"");return t=t.replace(Uu.virtualCSharpSuffix,""),t=t.replace(Uu.virtualHtmlSuffix,""),kgt.Uri.file(t)}Uu.getRazorDocumentUri=Lgt});var qEe=P(WE=>{"use strict";var Ngt=WE&&WE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(WE,"__esModule",{value:!0});WE.RazorDefinitionProvider=void 0;var MEe=require("vscode"),LEe=kA(),qgt=s_(),NEe=Yg(),vee=class extends qgt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return Ngt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===NEe.LanguageKind.Razor)return;let o=yield MEe.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===NEe.LanguageKind.Html&&(0,LEe.isRazorHtmlFile)(a.uri)){let c=(0,LEe.getRazorDocumentUri)(a.uri);s.push(new MEe.Location(c,a.range))}else s.push(a);return s})}};WE.RazorDefinitionProvider=vee});var FEe=P(PU=>{"use strict";Object.defineProperty(PU,"__esModule",{value:!0});PU.razorExtensionId=void 0;PU.razorExtensionId="ms-dotnettools.csharp"});var jEe=P($E=>{"use strict";var EU=$E&&$E.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($E,"__esModule",{value:!0});$E.ReportIssueCreator=void 0;var Fgt=require("child_process"),_ee=require("os"),jgt=FEe(),yee=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return EU(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let _=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(_),i=yield this.getProjectedHtml(_)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(_){s=`A valid dotnet installation could not be found: ${_}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return EU(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return EU(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return EU(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(jgt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${_ee.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(_ee.EOL);return`
${t}${_ee.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{Fgt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};$E.ReportIssueCreator=yee});var zEe=P(xU=>{"use strict";Object.defineProperty(xU,"__esModule",{value:!0});xU.ReportIssueDataCollector=void 0;var zgt=require("os"),bee=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(zgt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};xU.ReportIssueDataCollector=bee});var UEe=P(RU=>{"use strict";Object.defineProperty(RU,"__esModule",{value:!0});RU.ReportIssueDataCollectorFactory=void 0;var wee=require("vscode"),Ugt=PC(),Hgt=zEe(),See=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new wee.EventEmitter,this.onRazorDocumentFocusedEmitter=new wee.EventEmitter}register(){return wee.window.onDidChangeActiveTextEditor(e=>{e&&Ugt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new Hgt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};RU.ReportIssueDataCollectorFactory=See});var MA=P(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0});AA.Trace=void 0;var Bgt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(Bgt=AA.Trace||(AA.Trace={}))});var HEe=P(VE=>{"use strict";var LA=VE&&VE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(VE,"__esModule",{value:!0});VE.ReportIssuePanel=void 0;var Gy=require("vscode"),OU=MA(),IU=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return LA(this,void 0,void 0,function*(){this.panel?this.panel.reveal(Gy.ViewColumn.Two):(this.panel=Gy.window.createWebviewPanel(r.viewType,"Report Razor Issue",Gy.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return LA(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){Gy.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>LA(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Gy.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield Gy.env.clipboard.writeText(this.issueContent),Gy.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),Gy.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){Gy.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),Gy.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>LA(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return LA(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===OU.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${OU.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${OU.Trace[OU.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};VE.ReportIssuePanel=IU;IU.viewType="razorReportIssue"});var WEe=P(GE=>{"use strict";var Wgt=GE&&GE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(GE,"__esModule",{value:!0});GE.ReportIssueCommand=void 0;var $gt=jEe(),Vgt=UEe(),BEe=HEe(),Cee=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new Vgt.ReportIssueDataCollectorFactory(n),this.issueCreator=new $gt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new BEe.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(BEe.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>Wgt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};GE.ReportIssueCommand=Cee});var $Ee=P(kU=>{"use strict";Object.defineProperty(kU,"__esModule",{value:!0});kU.CSharpProjectedDocument=void 0;var Ggt=Um(),Tee=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,Ggt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};kU.CSharpProjectedDocument=Tee});var VEe=P(AU=>{"use strict";Object.defineProperty(AU,"__esModule",{value:!0});AU.HtmlProjectedDocument=void 0;var Kgt=Um(),Dee=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,Kgt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};AU.HtmlProjectedDocument=Dee});var NU=P(LU=>{"use strict";Object.defineProperty(LU,"__esModule",{value:!0});LU.HtmlProjectedDocumentContentProvider=void 0;var Pee=bw(),GEe=Um(),MU=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,GEe.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===Pee.RazorDocumentChangeKind.htmlChanged||e.kind===Pee.RazorDocumentChangeKind.opened||e.kind===Pee.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,GEe.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};LU.HtmlProjectedDocumentContentProvider=MU;MU.scheme="razor-html"});var JEe=P(qU=>{"use strict";Object.defineProperty(qU,"__esModule",{value:!0});qU.createDocument=void 0;var KEe=require("vscode"),Ygt=$Ee(),Jgt=DU(),Xgt=VEe(),Qgt=NU(),YEe=kA(),Eee=Um();function Zgt(r){let e=tvt(r),t=evt(r),n=(0,Eee.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}qU.createDocument=Zgt;function evt(r){let t=`${(0,Eee.getUriPath)(r)}${YEe.virtualHtmlSuffix}`,n=KEe.Uri.file(t);return n=n.with({scheme:Qgt.HtmlProjectedDocumentContentProvider.scheme}),new Xgt.HtmlProjectedDocument(n)}function tvt(r){let t=`${(0,Eee.getUriPath)(r)}${YEe.virtualCSharpSuffix}`,n=KEe.Uri.file(t);return n=n.with({scheme:Jgt.CSharpProjectedDocumentContentProvider.scheme}),new Ygt.CSharpProjectedDocument(n)}});var XEe=P(YE=>{"use strict";var Ky=YE&&YE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(YE,"__esModule",{value:!0});YE.RazorDocumentManager=void 0;var Uh=require("vscode"),KE=PC(),xee=Um(),CT=bw(),rvt=JEe(),Ree=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new Uh.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return Ky(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return Ky(this,void 0,void 0,function*(){return!Uh.window.activeTextEditor||Uh.window.activeTextEditor.document.languageId!==KE.RazorLanguage.id?null:yield this.getDocument(Uh.window.activeTextEditor.document.uri)})}initialize(){return Ky(this,void 0,void 0,function*(){let e=yield Uh.workspace.findFiles(KE.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of Uh.workspace.textDocuments)t.languageId===KE.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=Uh.workspace.createFileSystemWatcher(KE.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>Ky(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>Ky(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=Uh.workspace.onDidOpenTextDocument(s=>{s.languageId===KE.RazorLanguage.id&&this.openDocument(s.uri)}),o=Uh.workspace.onDidCloseTextDocument(s=>{s.languageId===KE.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>Ky(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>Ky(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),Uh.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,xee.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,CT.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),Uh.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,CT.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,xee.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,rvt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,CT.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,CT.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return Ky(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Uh.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,CT.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return Ky(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Uh.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,CT.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,xee.getUriPath)(e.uri)}' changed '${CT.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return Ky(this,void 0,void 0,function*(){yield Uh.workspace.openTextDocument(e.csharpDocument.uri),yield Uh.workspace.openTextDocument(e.htmlDocument.uri)})}};YE.RazorDocumentManager=Ree});var ZEe=P(JE=>{"use strict";var nvt=JE&&JE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(JE,"__esModule",{value:!0});JE.RazorDocumentSynchronizer=void 0;var Oee=require("vscode"),ivt=DU(),ovt=NU(),FU=Um(),QEe=bw(),Iee=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=Oee.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return Oee.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return nvt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,FU.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield Oee.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,FU.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((y,D)=>{a=y,s.push(D)}),u=Function,l=new Promise((y,D)=>{u=y,s.push(D)});o.onCancellationRequested(y=>{f.cancel(`Token cancellation requested: ${y}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:y=>{for(let D of s)D(y)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},_=this.synchronizations[e];return _||(_=[],this.synchronizations[e]=_),_.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==ivt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==ovt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,FU.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===QEe.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===QEe.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,FU.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};JE.RazorDocumentSynchronizer=Iee});var exe=P(jU=>{"use strict";Object.defineProperty(jU,"__esModule",{value:!0});jU.SerializableColorInformation=void 0;var kee=class{constructor(e,t){this.range=e,this.color=t}};jU.SerializableColorInformation=kee});var nxe=P(XE=>{"use strict";var txe=XE&&XE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(XE,"__esModule",{value:!0});XE.DocumentColorHandler=void 0;var rxe=require("vscode"),svt=$y(),avt=aE(),cvt=exe(),zU=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new svt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>txe(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return txe(this,void 0,void 0,function*(){try{let n=rxe.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield rxe.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,avt.convertRangeToSerializable)(c.range),l=new cvt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};XE.DocumentColorHandler=zU;zU.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var oxe=P(QE=>{"use strict";var uvt=QE&&QE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(QE,"__esModule",{value:!0});QE.RazorDocumentHighlightProvider=void 0;var ixe=require("vscode"),lvt=s_(),dvt=Yg(),Aee=class extends lvt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return uvt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===dvt.LanguageKind.Razor)return;let o=yield ixe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new ixe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};QE.RazorDocumentHighlightProvider=Aee});var sxe=P(UU=>{"use strict";Object.defineProperty(UU,"__esModule",{value:!0});UU.reportTelemetryForDocuments=void 0;var fvt=bw();function hvt(r,e){r.onChange(t=>{switch(t.kind){case fvt.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}UU.reportTelemetryForDocuments=hvt});var axe=P(HU=>{"use strict";Object.defineProperty(HU,"__esModule",{value:!0});HU.SerializableFoldingRangeResponse=void 0;var Mee=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};HU.SerializableFoldingRangeResponse=Mee});var lxe=P(ex=>{"use strict";var cxe=ex&&ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ex,"__esModule",{value:!0});ex.FoldingRangeHandler=void 0;var ZE=require("vscode"),BU=$y(),uxe=axe(),WU=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new BU.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new uxe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>cxe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return cxe(this,void 0,void 0,function*(){try{let n=ZE.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield ZE.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield ZE.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new uxe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===ZE.FoldingRangeKind.Comment)return BU.FoldingRangeKind.Comment;if(e===ZE.FoldingRangeKind.Imports)return BU.FoldingRangeKind.Imports;if(e===ZE.FoldingRangeKind.Region)return BU.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};ex.FoldingRangeHandler=WU;WU.provideFoldingRange="razor/foldingRange"});var dxe=P($U=>{"use strict";Object.defineProperty($U,"__esModule",{value:!0});$U.SerializableFormattingResponse=void 0;var Lee=class{constructor(e){this.edits=e}};$U.SerializableFormattingResponse=Lee});var pxe=P(tx=>{"use strict";var fxe=tx&&tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tx,"__esModule",{value:!0});tx.FormattingHandler=void 0;var NA=require("vscode"),pvt=$y(),mvt=U1(),hxe=dxe(),VU=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new pvt.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new hxe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>fxe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return fxe(this,void 0,void 0,function*(){try{let n=NA.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield NA.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),_=new NA.Position(c,f),y=new NA.Range(l.range.start,_);l=new NA.TextEdit(y,l.newText)}let d=(0,mvt.convertTextEditToSerializable)(l);u.push(d)}return new hxe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};tx.FormattingHandler=VU;VU.provideFormattingEndpoint="textDocument/formatting"});var mxe=P(GU=>{"use strict";Object.defineProperty(GU,"__esModule",{value:!0});GU.RazorFormatOnTypeProvider=void 0;var Nee=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};GU.RazorFormatOnTypeProvider=Nee});var gxe=P(KU=>{"use strict";Object.defineProperty(KU,"__esModule",{value:!0});KU.RazorDocumentRangeFormattingResponse=void 0;var qee=class{constructor(e){this.edits=e}};KU.RazorDocumentRangeFormattingResponse=qee});var wxe=P(rx=>{"use strict";var vxe=rx&&rx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(rx,"__esModule",{value:!0});rx.RazorFormattingFeature=void 0;var _xe=require("vscode"),gvt=$y(),yxe=Yg(),vvt=aE(),_vt=U1(),bxe=gxe(),Fee=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new gvt.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new bxe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>vxe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return vxe(this,void 0,void 0,function*(){if(e.kind===yxe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=_xe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===yxe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield _xe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,vvt.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,_vt.convertTextEditToSerializable)(c));return new bxe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};rx.RazorFormattingFeature=Fee});var Sxe=P(nx=>{"use strict";var yvt=nx&&nx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(nx,"__esModule",{value:!0});nx.RazorHoverProvider=void 0;var qA=require("vscode"),bvt=s_(),jee=class extends bvt.RazorLanguageFeatureBase{provideHover(e,t,n){return yvt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield qA.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new qA.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new qA.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new qA.MarkdownString(d);c.push(f)}return new qA.Hover(c,a.ranges[0])})}};nx.RazorHoverProvider=jee});var Txe=P(ox=>{"use strict";var FA=ox&&ox.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ox,"__esModule",{value:!0});ox.HtmlPreviewPanel=void 0;var ix=require("vscode"),zee=bw(),Cxe=Um(),YU=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return FA(this,void 0,void 0,function*(){this.panel?this.panel.reveal(ix.ViewColumn.Two):(this.panel=ix.window.createWebviewPanel(r.viewType,"Razor HTML Preview",ix.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return FA(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return FA(this,void 0,void 0,function*(){this.panel&&(e.kind===zee.RazorDocumentChangeKind.htmlChanged||e.kind===zee.RazorDocumentChangeKind.opened||e.kind===zee.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){ix.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>FA(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield ix.env.clipboard.writeText(this.htmlContent),ix.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return FA(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,Cxe.getUriPath)(e.uri),n=(0,Cxe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};ox.HtmlPreviewPanel=YU;YU.viewType="razorHtmlPreview"});var XU=P((d3t,xxe)=>{"use strict";var Uee=Object.defineProperty,wvt=Object.getOwnPropertyDescriptor,Svt=Object.getOwnPropertyNames,Cvt=Object.prototype.hasOwnProperty,Tvt=(r,e)=>{for(var t in e)Uee(r,t,{get:e[t],enumerable:!0})},Dvt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Svt(e))!Cvt.call(r,i)&&i!==t&&Uee(r,i,{get:()=>e[i],enumerable:!(n=wvt(e,i))||n.enumerable});return r},Pvt=r=>Dvt(Uee({},"__esModule",{value:!0}),r),Pxe={};Tvt(Pxe,{config:()=>Ivt,t:()=>Exe});xxe.exports=Pvt(Pxe);var Evt=require("fs"),xvt=require("fs/promises");async function Rvt(r){if(r.protocol==="file:")return await(0,xvt.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function Ovt(r){return(0,Evt.readFileSync)(r,"utf8")}var jA;function Ivt(r){if("contents"in r){typeof r.contents=="string"?jA=JSON.parse(r.contents):jA=r.contents;return}if("fsPath"in r){let e=Ovt(r.fsPath),t=JSON.parse(e);jA=Dxe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{Rvt(e).then(i=>{try{let o=JSON.parse(i);jA=Dxe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function Exe(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return Exe(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=jA?.[t];return o?typeof o=="string"?JU(o,i):o.comment?JU(o.message,i):JU(n,i):JU(n,i)}var kvt=/{([^}]+)}/g;function JU(r,e){return Object.keys(e).length===0?r:r.replace(kvt,(t,n)=>e[n]??t)}function Dxe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var QU,Hee,Rxe,ZU,La,Pi,sx,Oxe,zA,eH,tH,TT,rH,Bee,Ixe,kxe,Axe,ax,xC,Jc,Wee,cx,Mxe,$ee,Vee,Gee,Kee,UA,Lxe,Nxe,Yee,qxe,$m,DT,Zl,Hp,nH,iH,oH,Fxe,sH,aH,ux,cH,jxe,zxe,PT,uH,lx,Uxe,dx,Hxe,fx,Bxe,lH,Wxe,$xe,Vxe,dH,fH,ET,Gxe,Kxe,Yxe,Jxe,Xxe,Qxe,Zxe,Jee,Xee,eRe,tRe,rRe,nRe,iRe,oRe,sRe,aRe,cRe,Qee,pt,uRe=Ci(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(QU||(QU={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Hee||(Hee={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(Rxe||(Rxe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(ZU||(ZU={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=ZU.MAX_VALUE),i===Number.MAX_VALUE&&(i=ZU.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.line)&&pt.uinteger(i.character)}r.is=t})(La||(La={}));(function(r){function e(n,i,o,s){if(pt.uinteger(n)&&pt.uinteger(i)&&pt.uinteger(o)&&pt.uinteger(s))return{start:La.create(n,i),end:La.create(o,s)};if(La.is(n)&&La.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&La.is(i.start)&&La.is(i.end)}r.is=t})(Pi||(Pi={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(pt.string(i.uri)||pt.undefined(i.uri))}r.is=t})(sx||(sx={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.targetRange)&&pt.string(i.targetUri)&&Pi.is(i.targetSelectionRange)&&(Pi.is(i.originSelectionRange)||pt.undefined(i.originSelectionRange))}r.is=t})(Oxe||(Oxe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.numberRange(i.red,0,1)&&pt.numberRange(i.green,0,1)&&pt.numberRange(i.blue,0,1)&&pt.numberRange(i.alpha,0,1)}r.is=t})(zA||(zA={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&zA.is(i.color)}r.is=t})(eH||(eH={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.undefined(i.textEdit)||Jc.is(i))&&(pt.undefined(i.additionalTextEdits)||pt.typedArray(i.additionalTextEdits,Jc.is))}r.is=t})(tH||(tH={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(TT||(TT={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return pt.defined(o)&&(u.startCharacter=o),pt.defined(s)&&(u.endCharacter=s),pt.defined(a)&&(u.kind=a),pt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.startLine)&&pt.uinteger(i.startLine)&&(pt.undefined(i.startCharacter)||pt.uinteger(i.startCharacter))&&(pt.undefined(i.endCharacter)||pt.uinteger(i.endCharacter))&&(pt.undefined(i.kind)||pt.string(i.kind))}r.is=t})(rH||(rH={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&sx.is(i.location)&&pt.string(i.message)}r.is=t})(Bee||(Bee={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(Ixe||(Ixe={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(kxe||(kxe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&pt.string(n.href)}r.is=e})(Axe||(Axe={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return pt.defined(o)&&(u.severity=o),pt.defined(s)&&(u.code=s),pt.defined(a)&&(u.source=a),pt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return pt.defined(o)&&Pi.is(o.range)&&pt.string(o.message)&&(pt.number(o.severity)||pt.undefined(o.severity))&&(pt.integer(o.code)||pt.string(o.code)||pt.undefined(o.code))&&(pt.undefined(o.codeDescription)||pt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(pt.string(o.source)||pt.undefined(o.source))&&(pt.undefined(o.relatedInformation)||pt.typedArray(o.relatedInformation,Bee.is))}r.is=t})(ax||(ax={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return pt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.title)&&pt.string(i.command)}r.is=t})(xC||(xC={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return pt.objectLiteral(s)&&pt.string(s.newText)&&Pi.is(s.range)}r.is=i})(Jc||(Jc={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pt.string(i.description)||i.description===void 0)}r.is=t})(Wee||(Wee={}));(function(r){function e(t){let n=t;return pt.string(n)}r.is=e})(cx||(cx={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return Jc.is(s)&&(Wee.is(s.annotationId)||cx.is(s.annotationId))}r.is=i})(Mxe||(Mxe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Yee.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})($ee||($ee={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&pt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||cx.is(i.annotationId))}r.is=t})(Vee||(Vee={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&pt.string(i.oldUri)&&pt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||cx.is(i.annotationId))}r.is=t})(Gee||(Gee={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&pt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||cx.is(i.annotationId))}r.is=t})(Kee||(Kee={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>pt.string(i.kind)?Vee.is(i)||Gee.is(i)||Kee.is(i):$ee.is(i)))}r.is=e})(UA||(UA={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)}r.is=t})(Lxe||(Lxe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.integer(i.version)}r.is=t})(Nxe||(Nxe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&(i.version===null||pt.integer(i.version))}r.is=t})(Yee||(Yee={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.string(i.languageId)&&pt.integer(i.version)&&pt.string(i.text)}r.is=t})(qxe||(qxe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})($m||($m={}));(function(r){function e(t){let n=t;return pt.objectLiteral(t)&&$m.is(n.kind)&&pt.string(n.value)}r.is=e})(DT||(DT={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(Zl||(Zl={}));(function(r){r.PlainText=1,r.Snippet=2})(Hp||(Hp={}));(function(r){r.Deprecated=1})(nH||(nH={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&pt.string(i.newText)&&Pi.is(i.insert)&&Pi.is(i.replace)}r.is=t})(iH||(iH={}));(function(r){r.asIs=1,r.adjustIndentation=2})(oH||(oH={}));(function(r){function e(t){let n=t;return n&&(pt.string(n.detail)||n.detail===void 0)&&(pt.string(n.description)||n.description===void 0)}r.is=e})(Fxe||(Fxe={}));(function(r){function e(t){return{label:t}}r.create=e})(sH||(sH={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(aH||(aH={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return pt.string(i)||pt.objectLiteral(i)&&pt.string(i.language)&&pt.string(i.value)}r.is=t})(ux||(ux={}));(function(r){function e(t){let n=t;return!!n&&pt.objectLiteral(n)&&(DT.is(n.contents)||ux.is(n.contents)||pt.typedArray(n.contents,ux.is))&&(t.range===void 0||Pi.is(t.range))}r.is=e})(cH||(cH={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(jxe||(jxe={}));(function(r){function e(t,n,...i){let o={label:t};return pt.defined(n)&&(o.documentation=n),pt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(zxe||(zxe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(PT||(PT={}));(function(r){function e(t,n){let i={range:t};return pt.number(n)&&(i.kind=n),i}r.create=e})(uH||(uH={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(lx||(lx={}));(function(r){r.Deprecated=1})(Uxe||(Uxe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(dx||(dx={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(Hxe||(Hxe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&pt.string(i.name)&&pt.number(i.kind)&&Pi.is(i.range)&&Pi.is(i.selectionRange)&&(i.detail===void 0||pt.string(i.detail))&&(i.deprecated===void 0||pt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(fx||(fx={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(Bxe||(Bxe={}));(function(r){r.Invoked=1,r.Automatic=2})(lH||(lH={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.typedArray(i.diagnostics,ax.is)&&(i.only===void 0||pt.typedArray(i.only,pt.string))&&(i.triggerKind===void 0||i.triggerKind===lH.Invoked||i.triggerKind===lH.Automatic)}r.is=t})(Wxe||(Wxe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):xC.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&pt.string(i.title)&&(i.diagnostics===void 0||pt.typedArray(i.diagnostics,ax.is))&&(i.kind===void 0||pt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||xC.is(i.command))&&(i.isPreferred===void 0||pt.boolean(i.isPreferred))&&(i.edit===void 0||UA.is(i.edit))}r.is=t})($xe||($xe={}));(function(r){function e(n,i){let o={range:n};return pt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.command)||xC.is(i.command))}r.is=t})(Vxe||(Vxe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.uinteger(i.tabSize)&&pt.boolean(i.insertSpaces)}r.is=t})(dH||(dH={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.target)||pt.string(i.target))}r.is=t})(fH||(fH={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(ET||(ET={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(Gxe||(Gxe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(Kxe||(Kxe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(Yxe||(Yxe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.string(i.text)}r.is=t})(Jxe||(Jxe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.boolean(i.caseSensitiveLookup)&&(pt.string(i.variableName)||i.variableName===void 0)}r.is=t})(Xxe||(Xxe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&(pt.string(i.expression)||i.expression===void 0)}r.is=t})(Qxe||(Qxe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(n.stoppedLocation)}r.is=t})(Zxe||(Zxe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Jee||(Jee={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&(i.tooltip===void 0||pt.string(i.tooltip)||DT.is(i.tooltip))&&(i.location===void 0||sx.is(i.location))&&(i.command===void 0||xC.is(i.command))}r.is=t})(Xee||(Xee={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&La.is(i.position)&&(pt.string(i.label)||pt.typedArray(i.label,Xee.is))&&(i.kind===void 0||Jee.is(i.kind))&&i.textEdits===void 0||pt.typedArray(i.textEdits,Jc.is)&&(i.tooltip===void 0||pt.string(i.tooltip)||DT.is(i.tooltip))&&(i.paddingLeft===void 0||pt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pt.boolean(i.paddingRight))}r.is=t})(eRe||(eRe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(tRe||(tRe={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(rRe||(rRe={}));(function(r){function e(t){return{items:t}}r.create=e})(nRe||(nRe={}));(function(r){r.Invoked=0,r.Automatic=1})(iRe||(iRe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(oRe||(oRe={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(sRe||(sRe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&Hee.is(n.uri)&&pt.string(n.name)}r.is=e})(aRe||(aRe={}));(function(r){function e(o,s,a,c){return new Qee(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(pt.defined(s)&&pt.string(s.uri)&&(pt.undefined(s.languageId)||pt.string(s.languageId))&&pt.uinteger(s.lineCount)&&pt.func(s.getText)&&pt.func(s.positionAt)&&pt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),_=o.offsetAt(d.range.end);if(_<=u)a=a.substring(0,f)+d.newText+a.substring(_,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(cRe||(cRe={}));Qee=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return La.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return La.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(_){return typeof _<"u"}r.defined=t;function n(_){return typeof _>"u"}r.undefined=n;function i(_){return _===!0||_===!1}r.boolean=i;function o(_){return e.call(_)==="[object String]"}r.string=o;function s(_){return e.call(_)==="[object Number]"}r.number=s;function a(_,y,D){return e.call(_)==="[object Number]"&&y<=_&&_<=D}r.numberRange=a;function c(_){return e.call(_)==="[object Number]"&&-2147483648<=_&&_<=2147483647}r.integer=c;function u(_){return e.call(_)==="[object Number]"&&0<=_&&_<=2147483647}r.uinteger=u;function l(_){return e.call(_)==="[object Function]"}r.func=l;function d(_){return _!==null&&typeof _=="object"}r.objectLiteral=d;function f(_,y){return Array.isArray(_)&&_.every(y)}r.typedArray=f})(pt||(pt={}))});var hRe={};BR(hRe,{TextDocument:()=>HA});function Zee(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);Zee(n,e),Zee(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function lRe(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);dRe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function dRe(r){return r===13||r===10}function fRe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function Avt(r){let e=fRe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var hH,HA,ete=Ci(()=>{"use strict";hH=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=fRe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=lRe(n.text,!1,o);if(c-a===l.length)for(let f=0,_=l.length;f<_;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,_=u.length;f<_;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=lRe(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&dRe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new hH(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof hH)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=Zee(o.map(Avt),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(HA||(HA={}))});var Qt,Kn,tte,BA,Bp=Ci(()=>{uRe();ete();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Qt||(Qt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Kn||(Kn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[$m.Markdown,$m.PlainText]}},hover:{contentFormat:[$m.Markdown,$m.PlainText]}}}})(tte||(tte={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(BA||(BA={}))});function _u(r,e=0,t=Kn.WithinContent,n=!1){let i=new nte(r,e),o=t,s=0,a=Qt.Unknown,c,u,l,d,f;function _(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function y(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function D(M,z,re){return a=z,s=M,c=re,z}function k(){let M=i.pos(),z=o,re=H();return re!==Qt.EOS&&M===i.pos()&&!(n&&(re===Qt.StartTagClose||re===Qt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+M+", state before: "+z+" after: "+o),i.advance(1),D(M,Qt.Unknown)):re}function H(){let M=i.pos();if(i.eos())return D(M,Qt.EOS);let z;switch(o){case Kn.WithinComment:return i.advanceIfChars([hx,hx,Yy])?(o=Kn.WithinContent,D(M,Qt.EndCommentTag)):(i.advanceUntilChars([hx,hx,Yy]),D(M,Qt.Comment));case Kn.WithinDoctype:return i.advanceIfChar(Yy)?(o=Kn.WithinContent,D(M,Qt.EndDoctypeTag)):(i.advanceUntilChar(Yy),D(M,Qt.Doctype));case Kn.WithinContent:if(i.advanceIfChar(pH)){if(!i.eos()&&i.peekChar()===pRe){if(i.advanceIfChars([pRe,hx,hx]))return o=Kn.WithinComment,D(M,Qt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Kn.WithinDoctype,D(M,Qt.StartDoctypeTag)}return i.advanceIfChar(rte)?(o=Kn.AfterOpeningEndTag,D(M,Qt.EndTagOpen)):(o=Kn.AfterOpeningStartTag,D(M,Qt.StartTagOpen))}return i.advanceUntilChar(pH),D(M,Qt.Content);case Kn.AfterOpeningEndTag:return _().length>0?(o=Kn.WithinEndTag,D(M,Qt.EndTag)):i.skipWhitespace()?D(M,Qt.Whitespace,kw.t("Tag name must directly follow the open bracket.")):(o=Kn.WithinEndTag,i.advanceUntilChar(Yy),M<i.pos()?D(M,Qt.Unknown,kw.t("End tag name expected.")):H());case Kn.WithinEndTag:if(i.skipWhitespace())return D(M,Qt.Whitespace);if(i.advanceIfChar(Yy))return o=Kn.WithinContent,D(M,Qt.EndTagClose);if(n&&i.peekChar()===pH)return o=Kn.WithinContent,D(M,Qt.EndTagClose,kw.t("Closing bracket missing."));z=kw.t("Closing bracket expected.");break;case Kn.AfterOpeningStartTag:return l=_(),f=void 0,d=void 0,l.length>0?(u=!1,o=Kn.WithinTag,D(M,Qt.StartTag)):i.skipWhitespace()?D(M,Qt.Whitespace,kw.t("Tag name must directly follow the open bracket.")):(o=Kn.WithinTag,i.advanceUntilChar(Yy),M<i.pos()?D(M,Qt.Unknown,kw.t("Start tag name expected.")):H());case Kn.WithinTag:return i.skipWhitespace()?(u=!0,D(M,Qt.Whitespace)):u&&(d=y(),d.length>0)?(o=Kn.AfterAttributeName,u=!1,D(M,Qt.AttributeName)):i.advanceIfChars([rte,Yy])?(o=Kn.WithinContent,D(M,Qt.StartTagSelfClose)):i.advanceIfChar(Yy)?(l==="script"?f&&Hvt[f]?o=Kn.WithinContent:o=Kn.WithinScriptContent:l==="style"?o=Kn.WithinStyleContent:o=Kn.WithinContent,D(M,Qt.StartTagClose)):n&&i.peekChar()===pH?(o=Kn.WithinContent,D(M,Qt.StartTagClose,kw.t("Closing bracket missing."))):(i.advance(1),D(M,Qt.Unknown,kw.t("Unexpected character in tag.")));case Kn.AfterAttributeName:return i.skipWhitespace()?(u=!0,D(M,Qt.Whitespace)):i.advanceIfChar(Mvt)?(o=Kn.BeforeAttributeValue,D(M,Qt.DelimiterAssign)):(o=Kn.WithinTag,H());case Kn.BeforeAttributeValue:if(i.skipWhitespace())return D(M,Qt.Whitespace);let ce=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(ce.length>0&&(i.peekChar()===Yy&&i.peekChar(-1)===rte&&(i.goBack(1),ce=ce.substring(0,ce.length-1)),d==="type"&&(f=ce),ce.length>0))return o=Kn.WithinTag,u=!1,D(M,Qt.AttributeValue);let _e=i.peekChar();return _e===Nvt||_e===Lvt?(i.advance(1),i.advanceUntilChar(_e)&&i.advance(1),d==="type"&&(f=i.getSource().substring(M+1,i.pos()-1)),o=Kn.WithinTag,u=!1,D(M,Qt.AttributeValue)):(o=Kn.WithinTag,u=!1,H());case Kn.WithinScriptContent:let G=1;for(;!i.eos();){let $=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if($.length===0)return i.goToEnd(),D(M,Qt.Script);if($==="<!--")G===1&&(G=2);else if($==="-->")G=1;else if($[1]!=="/")G===2&&(G=3);else if(G===3)G=2;else{i.goBack($.length);break}}return o=Kn.WithinContent,M<i.pos()?D(M,Qt.Script):H();case Kn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Kn.WithinContent,M<i.pos()?D(M,Qt.Styles):H()}return i.advance(1),o=Kn.WithinContent,D(M,Qt.Unknown,z)}return{scan:k,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var kw,nte,pRe,hx,pH,Yy,rte,Mvt,Lvt,Nvt,qvt,Fvt,jvt,zvt,Uvt,Hvt,Aw=Ci(()=>{kw=Me(XU());Bp();nte=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===zvt||t===Uvt||t===qvt||t===jvt||t===Fvt)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},pRe=33,hx=45,pH=60,Yy=62,rte=47,Mvt=61,Lvt=34,Nvt=39,qvt=10,Fvt=13,jvt=12,zvt=32,Uvt=9,Hvt={"text/x-handlebars-template":!0,"text/html":!0}});function ite(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function mRe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var ote=Ci(()=>{});var mH,gH,gRe=Ci(()=>{Aw();ote();Bp();mH=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=ite(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=ite(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},gH=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=_u(e,void 0,void 0,!0),i=new mH(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Qt.EOS;){switch(u){case Qt.StartTagOpen:let l=new mH(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Qt.StartTag:o.tag=n.getTokenText();break;case Qt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Qt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Qt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Qt.EndTag:a=n.getTokenText().toLowerCase();break;case Qt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Qt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Qt.AttributeValue:{let f=n.getTokenText(),_=o.attributes;_&&c&&(_[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var xT,ste=Ci(()=>{xT={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function v_(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function vRe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function ate(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function RT(r,e){let t=r.charCodeAt(e);return Wvt<=t&&t<=$vt||Vvt<=t&&t<=Gvt||Kvt<=t&&t<=Yvt}var Wvt,$vt,Vvt,Gvt,Kvt,Yvt,px=Ci(()=>{Wvt=97,$vt=122,Vvt=65,Gvt=90,Kvt=48,Yvt=57});function mx(r){return typeof r<"u"}var cte=Ci(()=>{});function _Re(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var yRe=Ci(()=>{});function Mw(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=_Re(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var gx,WA=Ci(()=>{yRe();gx=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function Qvt(r){return v_(r,"'")||v_(r,'"')?r.slice(1,-1):r}function Zvt(r){return!(v_(r,"http")||v_(r,"https")||v_(r,"//"))}function e_t(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=r_t(t,1,-1);else{let o=e.slice(i+1),s=$A(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=$A(s,a):c=$A(t.end,-1),n=Pi.create(s,c)}return n}function t_t(r,e,t){return e?(r=r+"/",{label:r,kind:Zl.Folder,textEdit:Jc.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:Zl.File,textEdit:Jc.replace(t,r)}}function $A(r,e){return La.create(r.line,r.character+e)}function r_t(r,e,t){let n=$A(r.start,e),i=$A(r.end,t);return Pi.create(n,i)}var vH,Xvt,bRe=Ci(()=>{Bp();px();vH=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=Qvt(e.getText(i.range));if(Zvt(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=e_t(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==Xvt&&a.push(t_t(u,l===BA.Directory,t));return a}catch{}return[]}},Xvt=46});function n_t(r){return/^["']*$/.test(r)}function yH(r){return/^\s*$/.test(r)}function wRe(r,e,t,n){let i=_u(r,e,t),o=i.scan();for(;o===Qt.Whitespace;)o=i.scan();return o===n}function i_t(r,e,t){for(;e>t&&!yH(r[e-1]);)e--;return e}function o_t(r,e,t){for(;e<t&&!yH(r[e]);)e++;return e}var SRe,_H,CRe=Ci(()=>{Aw();Bp();ste();SRe=Me(XU());px();cte();WA();bRe();_H=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new vH(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(le=>le.isApplicable(e.languageId)&&(!i||i[le.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=_u(u,d.start),_="",y,D;function k(le,Ce=l){return le>l&&(le=l),{start:e.positionAt(le),end:e.positionAt(Ce)}}function H(le,Ce){let be=k(le,Ce);return a.forEach(xe=>{xe.provideTags().forEach(Le=>{o.items.push({label:Le.name,kind:Zl.Property,documentation:Mw(Le,void 0,c),textEdit:Jc.replace(be,Le.name),insertTextFormat:Hp.PlainText})})}),o}function M(le){let Ce=le;for(;Ce>0;){let be=u.charAt(Ce-1);if(`
\r`.indexOf(be)>=0)return u.substring(Ce,le);if(!yH(be))return null;Ce--}return u.substring(0,le)}function z(le,Ce,be=l){let xe=k(le,be),Le=wRe(u,be,Kn.WithinEndTag,Qt.EndTagClose)?"":">",Ge=d;for(Ce&&(Ge=Ge.parent);Ge;){let Ct=Ge.tag;if(Ct&&(!Ge.closed||Ge.endTagStart&&Ge.endTagStart>l)){let ze={label:"/"+Ct,kind:Zl.Property,filterText:"/"+Ct,textEdit:Jc.replace(xe,"/"+Ct+Le),insertTextFormat:Hp.PlainText},at=M(Ge.start),ct=M(le-1);if(at!==null&&ct!==null&&at!==ct){let tt=at+"</"+Ct+Le;ze.textEdit=Jc.replace(k(le-1-ct.length),tt),ze.filterText=ct+"</"+Ct}return o.items.push(ze),o}Ge=Ge.parent}return Ce||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:Zl.Property,documentation:Mw(ze,void 0,c),filterText:"/"+ze.name+Le,textEdit:Jc.replace(xe,"/"+ze.name+Le),insertTextFormat:Hp.PlainText})})}),o}let re=(le,Ce)=>{if(i&&i.hideAutoCompleteProposals)return o;if(D??(D=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(Ce,D)){let be=e.positionAt(le);o.items.push({label:"</"+Ce+">",kind:Zl.Property,filterText:"</"+Ce+">",textEdit:Jc.insert(be,"$0</"+Ce+">"),insertTextFormat:Hp.Snippet})}return o};function ce(le,Ce){return H(le,Ce),z(le,!0,Ce),o}function _e(){let le=Object.create(null);return d.attributeNames.forEach(Ce=>{le[Ce]=!0}),le}function G(le,Ce=l){let be=l;for(;be<Ce&&u[be]!=="<";)be++;let xe=u.substring(le,Ce),Le=k(le,be),Ge="";if(!wRe(u,Ce,Kn.AfterAttributeName,Qt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?Ge="=$1":ze==="singlequotes"?Ge="='$1'":Ge='="$1"'}let Ct=_e();return Ct[xe]=!1,a.forEach(ze=>{ze.provideAttributes(_).forEach(at=>{if(Ct[at.name])return;Ct[at.name]=!0;let ct=at.name,tt;at.valueSet!=="v"&&Ge.length&&(ct=ct+Ge,(at.valueSet||at.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:at.name,kind:at.valueSet==="handler"?Zl.Function:Zl.Value,documentation:Mw(at,void 0,c),textEdit:Jc.replace(Le,ct),insertTextFormat:Hp.Snippet,command:tt})})}),$(Le,Ct),o}function $(le,Ce){let be="data-",xe={};xe[be]=`${be}$1="$2"`;function Le(Ge){Ge.attributeNames.forEach(Ct=>{v_(Ct,be)&&!xe[Ct]&&!Ce[Ct]&&(xe[Ct]=Ct+'="$1"')}),Ge.children.forEach(Ct=>Le(Ct))}n&&n.roots.forEach(Ge=>Le(Ge)),Object.keys(xe).forEach(Ge=>o.items.push({label:Ge,kind:Zl.Value,textEdit:Jc.replace(le,xe[Ge]),insertTextFormat:Hp.Snippet}))}function te(le,Ce=l){let be,xe,Le;if(l>le&&l<=Ce&&n_t(u[le])){let Ge=le+1,Ct=Ce;Ce>le&&u[Ce-1]===u[le]&&Ct--;let ze=i_t(u,l,Ge),at=o_t(u,l,Ct);be=k(ze,at),Le=l>=Ge&&l<=Ct?u.substring(Ge,l):"",xe=!1}else be=k(le,Ce),Le=u.substring(le,l),xe=!0;if(s.length>0){let Ge=_.toLowerCase(),Ct=y.toLowerCase(),ze=k(le,Ce);for(let at of s)at.onHtmlAttributeValue&&at.onHtmlAttributeValue({document:e,position:t,tag:Ge,attribute:Ct,value:Le,range:ze})}return a.forEach(Ge=>{Ge.provideValues(_,y).forEach(Ct=>{let ze=xe?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:Zl.Unit,documentation:Mw(Ct,void 0,c),textEdit:Jc.replace(be,ze),insertTextFormat:Hp.PlainText})})}),ue(),o}function Te(le){return l===f.getTokenEnd()&&(qe=f.scan(),qe===le&&f.getTokenOffset()===l)?f.getTokenEnd():l}function ae(){for(let le of s)le.onHtmlContent&&le.onHtmlContent({document:e,position:t});return ue()}function ue(){let le=l-1,Ce=t.character;for(;le>=0&&RT(u,le);)le--,Ce--;if(le>=0&&u[le]==="&"){let be=Pi.create(La.create(t.line,Ce-1),t);for(let xe in xT)if(vRe(xe,";")){let Le="&"+xe;o.items.push({label:Le,kind:Zl.Keyword,documentation:SRe.t("Character entity representing '{0}'",xT[xe]),textEdit:Jc.replace(be,Le),insertTextFormat:Hp.PlainText})}}return o}function Fe(le,Ce){let be=k(le,Ce);o.items.push({label:"!DOCTYPE",kind:Zl.Property,documentation:"A preamble for an HTML document.",textEdit:Jc.replace(be,"!DOCTYPE html>"),insertTextFormat:Hp.PlainText})}let qe=f.scan();for(;qe!==Qt.EOS&&f.getTokenOffset()<=l;){switch(qe){case Qt.StartTagOpen:if(f.getTokenEnd()===l){let le=Te(Qt.StartTag);return t.line===0&&Fe(l,le),ce(l,le)}break;case Qt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return H(f.getTokenOffset(),f.getTokenEnd());_=f.getTokenText();break;case Qt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return G(f.getTokenOffset(),f.getTokenEnd());y=f.getTokenText();break;case Qt.DelimiterAssign:if(f.getTokenEnd()===l){let le=Te(Qt.AttributeValue);return te(l,le)}break;case Qt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return te(f.getTokenOffset(),f.getTokenEnd());break;case Qt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Kn.AfterOpeningStartTag:let le=f.getTokenOffset(),Ce=Te(Qt.StartTag);return ce(le,Ce);case Kn.WithinTag:case Kn.AfterAttributeName:return G(f.getTokenEnd());case Kn.BeforeAttributeValue:return te(f.getTokenEnd());case Kn.AfterOpeningEndTag:return z(f.getTokenOffset()-1,!1);case Kn.WithinContent:return ae()}break;case Qt.EndTagOpen:if(l<=f.getTokenEnd()){let le=f.getTokenOffset()+1,Ce=Te(Qt.EndTag);return z(le,!1,Ce)}break;case Qt.EndTag:if(l<=f.getTokenEnd()){let le=f.getTokenOffset()-1;for(;le>=0;){let Ce=u.charAt(le);if(Ce==="/")return z(le,!1,f.getTokenEnd());if(!yH(Ce))break;le--}}break;case Qt.StartTagClose:if(l<=f.getTokenEnd()&&_)return re(f.getTokenEnd(),_);break;case Qt.Content:if(l<=f.getTokenEnd())return ae();break;default:if(l<=f.getTokenEnd())return o;break}qe=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=_u(e.getText(),u.start),d=l.scan();for(;d!==Qt.EOS&&l.getTokenEnd()<=o;){if(d===Qt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Qt.DelimiterAssign||(d=l.scan(),d===Qt.Unknown||d===Qt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=_u(e.getText(),s.start),u=c.scan();for(;u!==Qt.EOS&&c.getTokenEnd()<=i;){if(u===Qt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=_u(e.getText(),s.start),c=a.scan();for(;c!==Qt.EOS&&a.getTokenEnd()<=i;){if(c===Qt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!mx(this.supportsMarkdown)){if(!mx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf($m.Markdown)!==-1}return this.supportsMarkdown}}});function s_t(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var TRe,bH,DRe=Ci(()=>{Aw();Bp();cte();WA();ste();px();TRe=Me(XU()),bH=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter(G=>G.isApplicable(e.languageId));function d(G,$,te){for(let Te of l){let ae=null;if(Te.provideTags().forEach(ue=>{if(ue.name.toLowerCase()===G.toLowerCase()){let Fe=Mw(ue,i,s);Fe||(Fe={kind:s?"markdown":"plaintext",value:""}),ae={contents:Fe,range:$}}}),ae)return ae.contents=o(ae.contents),ae}return null}function f(G,$,te){for(let Te of l){let ae=null;if(Te.provideAttributes(G).forEach(ue=>{if($===ue.name&&ue.description){let Fe=Mw(ue,i,s);Fe?ae={contents:Fe,range:te}:ae=null}}),ae)return ae.contents=o(ae.contents),ae}return null}function _(G,$,te,Te){for(let ae of l){let ue=null;if(ae.provideValues(G,$).forEach(Fe=>{if(te===Fe.name&&Fe.description){let qe=Mw(Fe,i,s);qe?ue={contents:qe,range:Te}:ue=null}}),ue)return ue.contents=o(ue.contents),ue}return null}function y(G,$){let te=H(G);for(let Te in xT){let ae=null,ue="&"+Te;if(te===ue){let Fe=xT[Te].charCodeAt(0).toString(16).toUpperCase(),qe="U+";if(Fe.length<4){let Ce=4-Fe.length,be=0;for(;be<Ce;)qe+="0",be+=1}qe+=Fe;let le=TRe.t("Character entity representing '{0}', unicode equivalent '{1}'",xT[Te],qe);le?ae={contents:le,range:$}:ae=null}if(ae)return ae.contents=o(ae.contents),ae}return null}function D(G,$){let te=_u(e.getText(),$),Te=te.scan();for(;Te!==Qt.EOS&&(te.getTokenEnd()<a||te.getTokenEnd()===a&&Te!==G);)Te=te.scan();return Te===G&&a<=te.getTokenEnd()?{start:e.positionAt(te.getTokenOffset()),end:e.positionAt(te.getTokenEnd())}:null}function k(){let G=a-1,$=t.character;for(;G>=0&&RT(u,G);)G--,$--;let te=G+1,Te=$;for(;RT(u,te);)te++,Te++;if(G>=0&&u[G]==="&"){let ae=null;return u[te]===";"?ae=Pi.create(La.create(t.line,$),La.create(t.line,Te+1)):ae=Pi.create(La.create(t.line,$),La.create(t.line,Te)),ae}return null}function H(G){let $=a-1,te="&";for(;$>=0&&RT(G,$);)$--;for($=$+1;RT(G,$);)te+=G[$],$+=1;return te+=";",te}if(c.endTagStart&&a>=c.endTagStart){let G=D(Qt.EndTag,c.endTagStart);return G?d(c.tag,G,!1):null}let M=D(Qt.StartTag,c.start);if(M)return d(c.tag,M,!0);let z=D(Qt.AttributeName,c.start);if(z){let G=c.tag,$=e.getText(z);return f(G,$,z)}let re=k();if(re)return y(u,re);function ce(G,$){let te=_u(e.getText(),G),Te=te.scan(),ae;for(;Te!==Qt.EOS&&te.getTokenEnd()<=$;)Te=te.scan(),Te===Qt.AttributeName&&(ae=te.getTokenText());return ae}let _e=D(Qt.AttributeValue,c.start);if(_e){let G=c.tag,$=s_t(e.getText(_e)),te=ce(c.start,e.offsetAt(_e.start));if(te)return _(G,te,$,_e)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!mx(this.supportsMarkdown)){if(!mx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf($m.Markdown)!==-1}return this.supportsMarkdown}}});function PRe(r,e){return r}var ERe=Ci(()=>{});var xRe,RRe,ORe=Ci(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,_=/\r\n|[\r\n]/g,y=/\s/,D=/(?:\s|\n)+/g,k=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,H=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function M(z,re){this._source_text=z||"",this._options=new a(re),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}M.prototype.eatString=function(z){var re="";for(this._ch=this._input.next();this._ch;){if(re+=this._ch,this._ch==="\\")re+=this._input.next();else if(z.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return re},M.prototype.eatWhitespace=function(z){for(var re=y.test(this._input.peek()),ce=0;y.test(this._input.peek());)this._ch=this._input.next(),z&&this._ch===`
`&&(ce===0||ce<this._options.max_preserve_newlines)&&(ce++,this._output.add_new_line(!0));return re},M.prototype.foundNestedPseudoClass=function(){for(var z=0,re=1,ce=this._input.peek(re);ce;){if(ce==="{")return!0;if(ce==="(")z+=1;else if(ce===")"){if(z===0)return!1;z-=1}else if(ce===";"||ce==="}")return!1;re++,ce=this._input.peek(re)}return!1},M.prototype.print_string=function(z){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(z)},M.prototype.preserveSingleSpace=function(z){z&&(this._output.space_before_token=!0)},M.prototype.indent=function(){this._indentLevel++},M.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},M.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var z=this._source_text,re=this._options.eol;re==="auto"&&(re=`
`,z&&f.test(z||"")&&(re=z.match(f)[0])),z=z.replace(_,`
`);var ce=z.match(/^[\t ]*/)[0];this._output=new c(this._options,ce),this._input=new u(z),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var _e=0,G=!1,$=!1,te=!1,Te=!1,ae=!1,ue=this._ch,Fe=!1,qe,le,Ce;qe=this._input.read(D),le=qe!=="",Ce=ue,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ue=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var be=this._input.read(k),xe=d.get_directives(be);xe&&xe.ignore==="start"&&(be+=d.readIgnored(this._input)),this.print_string(be),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(H)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(le),this.print_string(this._ch);var Le=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Le.match(/[ :]$/)&&(Le=this.eatString(": ").replace(/\s+$/,""),this.print_string(Le),this._output.space_before_token=!0),_e===0&&Le.indexOf(":")!==-1&&($=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(le),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var Ge=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Ge.match(/[ :]$/)&&(Ge=this.eatString(": ").replace(/\s+$/,""),this.print_string(Ge),this._output.space_before_token=!0),_e===0&&Ge.indexOf(":")!==-1?($=!0,this.indent()):Ge in this.NESTED_AT_RULE?(this._nestedLevel+=1,Ge in this.CONDITIONAL_GROUP_RULE&&(te=!0)):_e===0&&!$&&(Te=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(le),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")$&&($=!1,this.outdent()),Te=!1,te?(te=!1,G=this._indentLevel>=this._nestedLevel):G=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&G&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ce==="("?this._output.space_before_token=!1:Ce!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ce==="{"&&this._output.trim(!0),$&&(this.outdent(),$=!1),this.print_string(this._ch),G=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){Fe=!0;break}(G||te)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!Te&&_e===0?(this.print_string(":"),$||($=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=Ce==='"'||Ce==="'";this.preserveSingleSpace(ze||le),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")Fe=!1,_e===0?($&&(this.outdent(),$=!1),Te=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),_e++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),_e&&(_e--,this.outdent()));else{var at=!1;this._input.lookBack("with")&&(at=!0),this.preserveSingleSpace(le||at),this.print_string(this._ch),$&&Ce==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),ae=!0):(this.eatWhitespace(),_e++,this.indent())}else if(this._ch===")")_e&&(_e--,this.outdent()),ae&&this._input.peek()===";"&&this._options.selector_separator_newline&&(ae=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!$||ae)&&_e===0&&!Te?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!$&&_e===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&y.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(le),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),y.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var ct=Ce==='"'||Ce==="'";this.preserveSingleSpace(ct||le),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&Fe&&this._output.add_new_line()}var tt=this._output.get_code(re);return tt},i.exports.Beautifier=M},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);xRe=n})();RRe=xRe});function kRe(r,e){return IRe(r,e,PRe,RRe)}var IRe,ARe=Ci(()=>{ERe();ORe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(_,y){this._input=new a(_),this._options=y||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var _,y=new c(d.START,""),D=null,k=[],H=new u;y.type!==d.EOF;){for(_=this._get_next_token(y,D);this._is_comment(_);)H.add(_),_=this._get_next_token(y,D);H.isEmpty()||(_.comments_before=H,H=new u),_.parent=D,this._is_opening(_)?(k.push(D),D=_):D&&this._is_closing(_,D)&&(_.opened=D,D.closed=_,D=k.pop(),_.parent=D),_.previous=y,y.next=_,this.__tokens.add(_),y=_}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(_,y){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},f.prototype._is_comment=function(_){return!1},f.prototype._is_opening=function(_){return!1},f.prototype._is_closing=function(_,y){return!1},f.prototype._create_token=function(_,y){var D=new c(_,y,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return D},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],_=u.exec(l);_;)f.push(l.substring(d,_.index)),d=_.index+_[0].length,_=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,_){var y=new a(l,d,f,_);return y.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,_=function(G,$){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=G.max_preserve_newlines,this.preserve_newlines=G.preserve_newlines,this._output=new c(G,$)};_.prototype.current_line_has_match=function(G){return this._output.current_line.has_match(G)},_.prototype.set_space_before_token=function(G,$){this._output.space_before_token=G,this._output.non_breaking_space=$},_.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},_.prototype.add_raw_token=function(G){this._output.add_raw_token(G)},_.prototype.print_preserved_newlines=function(G){var $=0;G.type!==l.TEXT&&G.previous.type!==l.TEXT&&($=G.newlines?1:0),this.preserve_newlines&&($=G.newlines<this.max_preserve_newlines+1?G.newlines:this.max_preserve_newlines+1);for(var te=0;te<$;te++)this.print_newline(te>0);return $!==0},_.prototype.traverse_whitespace=function(G){return G.whitespace_before||G.newlines?(this.print_preserved_newlines(G)||(this._output.space_before_token=!0),!0):!1},_.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},_.prototype.print_newline=function(G){this._output.add_new_line(G)},_.prototype.print_token=function(G){G.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(G.text))},_.prototype.indent=function(){this.indent_level++},_.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},_.prototype.get_full_indent=function(G){return G=this.indent_level+(G||0),G<1?"":this._output.get_indent_string(G)};var y=function(G){for(var $=null,te=G.next;te.type!==l.EOF&&G.closed!==te;){if(te.type===l.ATTRIBUTE&&te.text==="type"){te.next&&te.next.type===l.EQUALS&&te.next.next&&te.next.next.type===l.VALUE&&($=te.next.next.text);break}te=te.next}return $},D=function(G,$){var te=null,Te=null;return $.closed?(G==="script"?te="text/javascript":G==="style"&&(te="text/css"),te=y($)||te,te.search("text/css")>-1?Te="css":te.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?Te="javascript":te.search(/(text|application|dojo)\/(x-)?(html)/)>-1?Te="html":te.search(/test\/null/)>-1&&(Te="null"),Te):null};function k(G,$){return $.indexOf(G)!==-1}function H(G,$,te){this.parent=G||null,this.tag=$?$.tag_name:"",this.indent_level=te||0,this.parser_token=$||null}function M(G){this._printer=G,this._current_frame=null}M.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},M.prototype.record_tag=function(G){var $=new H(this._current_frame,G,this._printer.indent_level);this._current_frame=$},M.prototype._try_pop_frame=function(G){var $=null;return G&&($=G.parser_token,this._printer.indent_level=G.indent_level,this._current_frame=G.parent),$},M.prototype._get_frame=function(G,$){for(var te=this._current_frame;te&&G.indexOf(te.tag)===-1;){if($&&$.indexOf(te.tag)!==-1){te=null;break}te=te.parent}return te},M.prototype.try_pop=function(G,$){var te=this._get_frame([G],$);return this._try_pop_frame(te)},M.prototype.indent_to_tag=function(G){var $=this._get_frame(G);$&&(this._printer.indent_level=$.indent_level)};function z(G,$,te,Te){this._source_text=G||"",$=$||{},this._js_beautify=te,this._css_beautify=Te,this._tag_stack=null;var ae=new a($,"html");this._options=ae,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}z.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var G=this._source_text,$=this._options.eol;this._options.eol==="auto"&&($=`
`,G&&d.test(G)&&($=G.match(d)[0])),G=G.replace(f,`
`);var te=G.match(/^[\t ]*/)[0],Te={text:"",type:""},ae=new re,ue=new _(this._options,te),Fe=new u(G,this._options).tokenize();this._tag_stack=new M(ue);for(var qe=null,le=Fe.next();le.type!==l.EOF;)le.type===l.TAG_OPEN||le.type===l.COMMENT?(qe=this._handle_tag_open(ue,le,ae,Te,Fe),ae=qe):le.type===l.ATTRIBUTE||le.type===l.EQUALS||le.type===l.VALUE||le.type===l.TEXT&&!ae.tag_complete?qe=this._handle_inside_tag(ue,le,ae,Te):le.type===l.TAG_CLOSE?qe=this._handle_tag_close(ue,le,ae):le.type===l.TEXT?qe=this._handle_text(ue,le,ae):le.type===l.CONTROL_FLOW_OPEN?qe=this._handle_control_flow_open(ue,le):le.type===l.CONTROL_FLOW_CLOSE?qe=this._handle_control_flow_close(ue,le):ue.add_raw_token(le),Te=qe,le=Fe.next();var Ce=ue._output.get_code($);return Ce},z.prototype._handle_control_flow_open=function(G,$){var te={text:$.text,type:$.type};return G.set_space_before_token($.newlines||$.whitespace_before!=="",!0),$.newlines?G.print_preserved_newlines($):G.set_space_before_token($.newlines||$.whitespace_before!=="",!0),G.print_token($),G.indent(),te},z.prototype._handle_control_flow_close=function(G,$){var te={text:$.text,type:$.type};return G.deindent(),$.newlines?G.print_preserved_newlines($):G.set_space_before_token($.newlines||$.whitespace_before!=="",!0),G.print_token($),te},z.prototype._handle_tag_close=function(G,$,te){var Te={text:$.text,type:$.type};return G.alignment_size=0,te.tag_complete=!0,G.set_space_before_token($.newlines||$.whitespace_before!=="",!0),te.is_unformatted?G.add_raw_token($):(te.tag_start_char==="<"&&(G.set_space_before_token($.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&te.has_wrapped_attrs&&G.print_newline(!1)),G.print_token($)),te.indent_content&&!(te.is_unformatted||te.is_content_unformatted)&&(G.indent(),te.indent_content=!1),!te.is_inline_element&&!(te.is_unformatted||te.is_content_unformatted)&&G.set_wrap_point(),Te},z.prototype._handle_inside_tag=function(G,$,te,Te){var ae=te.has_wrapped_attrs,ue={text:$.text,type:$.type};return G.set_space_before_token($.newlines||$.whitespace_before!=="",!0),te.is_unformatted?G.add_raw_token($):te.tag_start_char==="{"&&$.type===l.TEXT?G.print_preserved_newlines($)?($.newlines=0,G.add_raw_token($)):G.print_token($):($.type===l.ATTRIBUTE?G.set_space_before_token(!0):($.type===l.EQUALS||$.type===l.VALUE&&$.previous.type===l.EQUALS)&&G.set_space_before_token(!1),$.type===l.ATTRIBUTE&&te.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(G.traverse_whitespace($),ae=ae||$.newlines!==0),this._is_wrap_attributes_force&&te.attr_count>=this._options.wrap_attributes_min_attrs&&(Te.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(G.print_newline(!1),ae=!0)),G.print_token($),ae=ae||G.previous_token_wrapped(),te.has_wrapped_attrs=ae),ue},z.prototype._handle_text=function(G,$,te){var Te={text:$.text,type:"TK_CONTENT"};return te.custom_beautifier_name?this._print_custom_beatifier_text(G,$,te):te.is_unformatted||te.is_content_unformatted?G.add_raw_token($):(G.traverse_whitespace($),G.print_token($)),Te},z.prototype._print_custom_beatifier_text=function(G,$,te){var Te=this;if($.text!==""){var ae=$.text,ue,Fe=1,qe="",le="";te.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ue=this._js_beautify:te.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ue=this._css_beautify:te.custom_beautifier_name==="html"&&(ue=function(Ct,ze){var at=new z(Ct,ze,Te._js_beautify,Te._css_beautify);return at.beautify()}),this._options.indent_scripts==="keep"?Fe=0:this._options.indent_scripts==="separate"&&(Fe=-G.indent_level);var Ce=G.get_full_indent(Fe);if(ae=ae.replace(/\n[ \t]*$/,""),te.custom_beautifier_name!=="html"&&ae[0]==="<"&&ae.match(/^(<!--|<!\[CDATA\[)/)){var be=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(ae);if(!be){G.add_raw_token($);return}qe=Ce+be[1]+`
`,ae=be[4],be[5]&&(le=Ce+be[5]),ae=ae.replace(/\n[ \t]*$/,""),(be[2]||be[3].indexOf(`
`)!==-1)&&(be=be[3].match(/[ \t]+$/),be&&($.whitespace_before=be[0]))}if(ae)if(ue){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Le=new xe;ae=ue(Ce+ae,Le)}else{var Ge=$.whitespace_before;Ge&&(ae=ae.replace(new RegExp(`
(`+Ge+")?","g"),`
`)),ae=Ce+ae.replace(/\n/g,`
`+Ce)}qe&&(ae?ae=qe+ae+`
`+le:ae=qe+le),G.print_newline(!1),ae&&($.text=ae,$.whitespace_before="",$.newlines=0,G.add_raw_token($),G.print_newline(!0))}},z.prototype._handle_tag_open=function(G,$,te,Te,ae){var ue=this._get_tag_open_token($);if((te.is_unformatted||te.is_content_unformatted)&&!te.is_empty_element&&$.type===l.TAG_OPEN&&!ue.is_start_tag?(G.add_raw_token($),ue.start_tag_token=this._tag_stack.try_pop(ue.tag_name)):(G.traverse_whitespace($),this._set_tag_position(G,$,ue,te,Te),ue.is_inline_element||G.set_wrap_point(),G.print_token($)),ue.is_start_tag&&this._is_wrap_attributes_force){var Fe=0,qe;do qe=ae.peek(Fe),qe.type===l.ATTRIBUTE&&(ue.attr_count+=1),Fe+=1;while(qe.type!==l.EOF&&qe.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ue.alignment_size=$.text.length+1),!ue.tag_complete&&!ue.is_unformatted&&(G.alignment_size=ue.alignment_size),ue};var re=function(G,$){if(this.parent=G||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!$)this.tag_complete=!0;else{var te;this.tag_start_char=$.text[0],this.text=$.text,this.tag_start_char==="<"?(te=$.text.match(/^<([^\s>]*)/),this.tag_check=te?te[1]:""):(te=$.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=te?te[1]:"",($.text.startsWith("{{#>")||$.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&$.next!==null?this.tag_check=$.next.text.split(" ")[0]:this.tag_check=$.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),$.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||$.closed&&$.closed.text==="/>";var Te=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(Te=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(Te)))}};z.prototype._get_tag_open_token=function(G){var $=new re(this._tag_stack.get_parser_token(),G);return $.alignment_size=this._options.wrap_attributes_indent_size,$.is_end_tag=$.is_end_tag||k($.tag_check,this._options.void_elements),$.is_empty_element=$.tag_complete||$.is_start_tag&&$.is_end_tag,$.is_unformatted=!$.tag_complete&&k($.tag_check,this._options.unformatted),$.is_content_unformatted=!$.is_empty_element&&k($.tag_check,this._options.content_unformatted),$.is_inline_element=k($.tag_name,this._options.inline)||this._options.inline_custom_elements&&$.tag_name.includes("-")||$.tag_start_char==="{",$},z.prototype._set_tag_position=function(G,$,te,Te,ae){if(te.is_empty_element||(te.is_end_tag?te.start_tag_token=this._tag_stack.try_pop(te.tag_name):(this._do_optional_end_element(te)&&(te.is_inline_element||G.print_newline(!1)),this._tag_stack.record_tag(te),(te.tag_name==="script"||te.tag_name==="style")&&!(te.is_unformatted||te.is_content_unformatted)&&(te.custom_beautifier_name=D(te.tag_check,$)))),k(te.tag_check,this._options.extra_liners)&&(G.print_newline(!1),G._output.just_added_blankline()||G.print_newline(!0)),te.is_empty_element){if(te.tag_start_char==="{"&&te.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),te.indent_content=!0;var ue=G.current_line_has_match(/{{#if/);ue||G.print_newline(!1)}te.tag_name==="!--"&&ae.type===l.TAG_CLOSE&&Te.is_end_tag&&te.text.indexOf(`
`)===-1||(te.is_inline_element||te.is_unformatted||G.print_newline(!1),this._calcluate_parent_multiline(G,te))}else if(te.is_end_tag){var Fe=!1;Fe=te.start_tag_token&&te.start_tag_token.multiline_content,Fe=Fe||!te.is_inline_element&&!(Te.is_inline_element||Te.is_unformatted)&&!(ae.type===l.TAG_CLOSE&&te.start_tag_token===Te)&&ae.type!=="TK_CONTENT",(te.is_content_unformatted||te.is_unformatted)&&(Fe=!1),Fe&&G.print_newline(!1)}else te.indent_content=!te.custom_beautifier_name,te.tag_start_char==="<"&&(te.tag_name==="html"?te.indent_content=this._options.indent_inner_html:te.tag_name==="head"?te.indent_content=this._options.indent_head_inner_html:te.tag_name==="body"&&(te.indent_content=this._options.indent_body_inner_html)),!(te.is_inline_element||te.is_unformatted)&&(ae.type!=="TK_CONTENT"||te.is_content_unformatted)&&G.print_newline(!1),this._calcluate_parent_multiline(G,te)},z.prototype._calcluate_parent_multiline=function(G,$){$.parent&&G._output.just_added_newline()&&!(($.is_inline_element||$.is_unformatted)&&$.parent.is_inline_element)&&($.parent.multiline_content=!0)};var ce=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],_e=["a","audio","del","ins","map","noscript","video"];z.prototype._do_optional_end_element=function(G){var $=null;if(!(G.is_empty_element||!G.is_start_tag||!G.parent)){if(G.tag_name==="body")$=$||this._tag_stack.try_pop("head");else if(G.tag_name==="li")$=$||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(G.tag_name==="dd"||G.tag_name==="dt")$=$||this._tag_stack.try_pop("dt",["dl"]),$=$||this._tag_stack.try_pop("dd",["dl"]);else if(G.parent.tag_name==="p"&&ce.indexOf(G.tag_name)!==-1){var te=G.parent.parent;(!te||_e.indexOf(te.tag_name)===-1)&&($=$||this._tag_stack.try_pop("p"))}else G.tag_name==="rp"||G.tag_name==="rt"?($=$||this._tag_stack.try_pop("rt",["ruby","rtc"]),$=$||this._tag_stack.try_pop("rp",["ruby","rtc"])):G.tag_name==="optgroup"?$=$||this._tag_stack.try_pop("optgroup",["select"]):G.tag_name==="option"?$=$||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):G.tag_name==="colgroup"?$=$||this._tag_stack.try_pop("caption",["table"]):G.tag_name==="thead"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"])):G.tag_name==="tbody"||G.tag_name==="tfoot"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"]),$=$||this._tag_stack.try_pop("thead",["table"]),$=$||this._tag_stack.try_pop("tbody",["table"])):G.tag_name==="tr"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"]),$=$||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(G.tag_name==="th"||G.tag_name==="td")&&($=$||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),$=$||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return G.parent=this._tag_stack.get_parser_token(),$}},i.exports.Beautifier=z},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},_=new u(/<\!--/,/-->/),y=function(D,k){a.call(this,D,k),this._current_tag_name="";var H=new l(this._input).read_options(this._options),M=new d(this._input);if(this.__patterns={word:H.until(/[\n\r\t <]/),word_control_flow_close_excluded:H.until(/[\n\r\t <}]/),single_quote:H.until_after(/'/),double_quote:H.until_after(/"/),attribute:H.until(/[\n\r\t =>]|\/>/),element_name:H.until(/[\n\r\t >\/]/),angular_control_flow_start:M.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:M.starting_with(/{{!--/).until_after(/--}}/),handlebars:M.starting_with(/{{/).until_after(/}}/),handlebars_open:M.until(/[\n\r\t }]/),handlebars_raw_close:M.until(/}}/),comment:M.starting_with(/<!--/).until_after(/-->/),cdata:M.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:M.starting_with(/<!\[/).until_after(/]>/),processing:M.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var z=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=M.matching(z).until_after(z)}};y.prototype=new a,y.prototype._is_comment=function(D){return!1},y.prototype._is_opening=function(D){return D.type===f.TAG_OPEN||D.type===f.CONTROL_FLOW_OPEN},y.prototype._is_closing=function(D,k){return D.type===f.TAG_CLOSE&&k&&((D.text===">"||D.text==="/>")&&k.text[0]==="<"||D.text==="}}"&&k.text[0]==="{"&&k.text[1]==="{")||D.type===f.CONTROL_FLOW_CLOSE&&D.text==="}"&&k.text.endsWith("{")},y.prototype._reset=function(){this._current_tag_name=""},y.prototype._get_next_token=function(D,k){var H=null;this._readWhitespace();var M=this._input.peek();return M===null?this._create_token(f.EOF,""):(H=H||this._read_open_handlebars(M,k),H=H||this._read_attribute(M,D,k),H=H||this._read_close(M,k),H=H||this._read_control_flows(M,k),H=H||this._read_raw_content(M,D,k),H=H||this._read_content_word(M,k),H=H||this._read_comment_or_cdata(M),H=H||this._read_processing(M),H=H||this._read_open(M,k),H=H||this._create_token(f.UNKNOWN,this._input.next()),H)},y.prototype._read_comment_or_cdata=function(D){var k=null,H=null,M=null;if(D==="<"){var z=this._input.peek(1);z==="!"&&(H=this.__patterns.comment.read(),H?(M=_.get_directives(H),M&&M.ignore==="start"&&(H+=_.readIgnored(this._input))):H=this.__patterns.cdata.read()),H&&(k=this._create_token(f.COMMENT,H),k.directives=M)}return k},y.prototype._read_processing=function(D){var k=null,H=null,M=null;if(D==="<"){var z=this._input.peek(1);(z==="!"||z==="?")&&(H=this.__patterns.conditional_comment.read(),H=H||this.__patterns.processing.read()),H&&(k=this._create_token(f.COMMENT,H),k.directives=M)}return k},y.prototype._read_open=function(D,k){var H=null,M=null;return(!k||k.type===f.CONTROL_FLOW_OPEN)&&D==="<"&&(H=this._input.next(),this._input.peek()==="/"&&(H+=this._input.next()),H+=this.__patterns.element_name.read(),M=this._create_token(f.TAG_OPEN,H)),M},y.prototype._read_open_handlebars=function(D,k){var H=null,M=null;return(!k||k.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(H=this.__patterns.handlebars_comment.read(),H=H||this.__patterns.handlebars.read(),M=this._create_token(f.COMMENT,H)):(H=this.__patterns.handlebars_open.read(),M=this._create_token(f.TAG_OPEN,H))),M},y.prototype._read_control_flows=function(D,k){var H="",M=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return M;if(D==="@"){if(H=this.__patterns.angular_control_flow_start.read(),H==="")return M;for(var z=H.endsWith("(")?1:0,re=0;!(H.endsWith("{")&&z===re);){var ce=this._input.next();if(ce===null)break;ce==="("?z++:ce===")"&&re++,H+=ce}M=this._create_token(f.CONTROL_FLOW_OPEN,H)}else D==="}"&&k&&k.type===f.CONTROL_FLOW_OPEN&&(H=this._input.next(),M=this._create_token(f.CONTROL_FLOW_CLOSE,H));return M},y.prototype._read_close=function(D,k){var H=null,M=null;return k&&k.type===f.TAG_OPEN&&(k.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(H=this._input.next(),D==="/"&&(H+=this._input.next()),M=this._create_token(f.TAG_CLOSE,H)):k.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),M=this._create_token(f.TAG_CLOSE,"}}"))),M},y.prototype._read_attribute=function(D,k,H){var M=null,z="";if(H&&H.text[0]==="<")if(D==="=")M=this._create_token(f.EQUALS,this._input.next());else if(D==='"'||D==="'"){var re=this._input.next();D==='"'?re+=this.__patterns.double_quote.read():re+=this.__patterns.single_quote.read(),M=this._create_token(f.VALUE,re)}else z=this.__patterns.attribute.read(),z&&(k.type===f.EQUALS?M=this._create_token(f.VALUE,z):M=this._create_token(f.ATTRIBUTE,z));return M},y.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},y.prototype._read_raw_content=function(D,k,H){var M="";if(H&&H.text[0]==="{")M=this.__patterns.handlebars_raw_close.read();else if(k.type===f.TAG_CLOSE&&k.opened.text[0]==="<"&&k.text[0]!=="/"){var z=k.opened.text.substr(1).toLowerCase();if(z==="script"||z==="style"){var re=this._read_comment_or_cdata(D);if(re)return re.type=f.TEXT,re;M=this._input.readUntil(new RegExp("</"+z+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(z)&&(M=this._input.readUntil(new RegExp("</"+z+"[\\n\\r\\t ]*?>","ig")))}return M?this._create_token(f.TEXT,M):null},y.prototype._read_content_word=function(D,k){var H="";if(this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]&&(H=this.__patterns.unformatted_content_delimiter.read()),H||(H=k&&k.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),H)return this._create_token(f.TEXT,H)},i.exports.Tokenizer=y,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);IRe=n})()});function NRe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&LRe(n,l-1);)l--;l===0||MRe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&LRe(n,f);)f++;(f===n.length||MRe(n,f))&&(d=f),e=Pi.create(r.positionAt(u),r.positionAt(d));let _=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(_))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let y=r.offsetAt(La.create(e.start.line,0));o=u_t(r.getText(),y,t)}}else e=Pi.create(La.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:Vm(t,"indentEmptyLines",!1),wrap_line_length:Vm(t,"wrapLineLength",120),unformatted:ute(t,"unformatted",void 0),content_unformatted:ute(t,"contentUnformatted",void 0),indent_inner_html:Vm(t,"indentInnerHtml",!1),preserve_newlines:Vm(t,"preserveNewLines",!0),max_preserve_newlines:Vm(t,"maxPreserveNewLines",32786),indent_handlebars:Vm(t,"indentHandlebars",!1),end_with_newline:i&&Vm(t,"endWithNewline",!1),extra_liners:ute(t,"extraLiners",void 0),wrap_attributes:Vm(t,"wrapAttributes","auto"),wrap_attributes_indent_size:Vm(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Vm(t,"indentScripts","normal"),templating:c_t(t,"all"),unformatted_content_delimiter:Vm(t,"unformattedContentDelimiter","")},c=kRe(a_t(n),a);if(o>0){let u=t.insertSpaces?ate(" ",s*o):ate("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function a_t(r){return r.replace(/^\s+/,"")}function Vm(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function ute(r,e,t){let n=Vm(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function c_t(r,e){let t=Vm(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function u_t(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function MRe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function LRe(r,e){return" 	".indexOf(r.charAt(e))!==-1}var qRe=Ci(()=>{Bp();ARe();px()});var FRe,jRe,eVt,zRe=Ci(()=>{(()=>{"use strict";var r={975:ae=>{function ue(le){if(typeof le!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(le))}function Fe(le,Ce){for(var be,xe="",Le=0,Ge=-1,Ct=0,ze=0;ze<=le.length;++ze){if(ze<le.length)be=le.charCodeAt(ze);else{if(be===47)break;be=47}if(be===47){if(!(Ge===ze-1||Ct===1))if(Ge!==ze-1&&Ct===2){if(xe.length<2||Le!==2||xe.charCodeAt(xe.length-1)!==46||xe.charCodeAt(xe.length-2)!==46){if(xe.length>2){var at=xe.lastIndexOf("/");if(at!==xe.length-1){at===-1?(xe="",Le=0):Le=(xe=xe.slice(0,at)).length-1-xe.lastIndexOf("/"),Ge=ze,Ct=0;continue}}else if(xe.length===2||xe.length===1){xe="",Le=0,Ge=ze,Ct=0;continue}}Ce&&(xe.length>0?xe+="/..":xe="..",Le=2)}else xe.length>0?xe+="/"+le.slice(Ge+1,ze):xe=le.slice(Ge+1,ze),Le=ze-Ge-1;Ge=ze,Ct=0}else be===46&&Ct!==-1?++Ct:Ct=-1}return xe}var qe={resolve:function(){for(var le,Ce="",be=!1,xe=arguments.length-1;xe>=-1&&!be;xe--){var Le;xe>=0?Le=arguments[xe]:(le===void 0&&(le=process.cwd()),Le=le),ue(Le),Le.length!==0&&(Ce=Le+"/"+Ce,be=Le.charCodeAt(0)===47)}return Ce=Fe(Ce,!be),be?Ce.length>0?"/"+Ce:"/":Ce.length>0?Ce:"."},normalize:function(le){if(ue(le),le.length===0)return".";var Ce=le.charCodeAt(0)===47,be=le.charCodeAt(le.length-1)===47;return(le=Fe(le,!Ce)).length!==0||Ce||(le="."),le.length>0&&be&&(le+="/"),Ce?"/"+le:le},isAbsolute:function(le){return ue(le),le.length>0&&le.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var le,Ce=0;Ce<arguments.length;++Ce){var be=arguments[Ce];ue(be),be.length>0&&(le===void 0?le=be:le+="/"+be)}return le===void 0?".":qe.normalize(le)},relative:function(le,Ce){if(ue(le),ue(Ce),le===Ce||(le=qe.resolve(le))===(Ce=qe.resolve(Ce)))return"";for(var be=1;be<le.length&&le.charCodeAt(be)===47;++be);for(var xe=le.length,Le=xe-be,Ge=1;Ge<Ce.length&&Ce.charCodeAt(Ge)===47;++Ge);for(var Ct=Ce.length-Ge,ze=Le<Ct?Le:Ct,at=-1,ct=0;ct<=ze;++ct){if(ct===ze){if(Ct>ze){if(Ce.charCodeAt(Ge+ct)===47)return Ce.slice(Ge+ct+1);if(ct===0)return Ce.slice(Ge+ct)}else Le>ze&&(le.charCodeAt(be+ct)===47?at=ct:ct===0&&(at=0));break}var tt=le.charCodeAt(be+ct);if(tt!==Ce.charCodeAt(Ge+ct))break;tt===47&&(at=ct)}var pr="";for(ct=be+at+1;ct<=xe;++ct)ct!==xe&&le.charCodeAt(ct)!==47||(pr.length===0?pr+="..":pr+="/..");return pr.length>0?pr+Ce.slice(Ge+at):(Ge+=at,Ce.charCodeAt(Ge)===47&&++Ge,Ce.slice(Ge))},_makeLong:function(le){return le},dirname:function(le){if(ue(le),le.length===0)return".";for(var Ce=le.charCodeAt(0),be=Ce===47,xe=-1,Le=!0,Ge=le.length-1;Ge>=1;--Ge)if((Ce=le.charCodeAt(Ge))===47){if(!Le){xe=Ge;break}}else Le=!1;return xe===-1?be?"/":".":be&&xe===1?"//":le.slice(0,xe)},basename:function(le,Ce){if(Ce!==void 0&&typeof Ce!="string")throw new TypeError('"ext" argument must be a string');ue(le);var be,xe=0,Le=-1,Ge=!0;if(Ce!==void 0&&Ce.length>0&&Ce.length<=le.length){if(Ce.length===le.length&&Ce===le)return"";var Ct=Ce.length-1,ze=-1;for(be=le.length-1;be>=0;--be){var at=le.charCodeAt(be);if(at===47){if(!Ge){xe=be+1;break}}else ze===-1&&(Ge=!1,ze=be+1),Ct>=0&&(at===Ce.charCodeAt(Ct)?--Ct==-1&&(Le=be):(Ct=-1,Le=ze))}return xe===Le?Le=ze:Le===-1&&(Le=le.length),le.slice(xe,Le)}for(be=le.length-1;be>=0;--be)if(le.charCodeAt(be)===47){if(!Ge){xe=be+1;break}}else Le===-1&&(Ge=!1,Le=be+1);return Le===-1?"":le.slice(xe,Le)},extname:function(le){ue(le);for(var Ce=-1,be=0,xe=-1,Le=!0,Ge=0,Ct=le.length-1;Ct>=0;--Ct){var ze=le.charCodeAt(Ct);if(ze!==47)xe===-1&&(Le=!1,xe=Ct+1),ze===46?Ce===-1?Ce=Ct:Ge!==1&&(Ge=1):Ce!==-1&&(Ge=-1);else if(!Le){be=Ct+1;break}}return Ce===-1||xe===-1||Ge===0||Ge===1&&Ce===xe-1&&Ce===be+1?"":le.slice(Ce,xe)},format:function(le){if(le===null||typeof le!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof le);return function(Ce,be){var xe=be.dir||be.root,Le=be.base||(be.name||"")+(be.ext||"");return xe?xe===be.root?xe+Le:xe+"/"+Le:Le}(0,le)},parse:function(le){ue(le);var Ce={root:"",dir:"",base:"",ext:"",name:""};if(le.length===0)return Ce;var be,xe=le.charCodeAt(0),Le=xe===47;Le?(Ce.root="/",be=1):be=0;for(var Ge=-1,Ct=0,ze=-1,at=!0,ct=le.length-1,tt=0;ct>=be;--ct)if((xe=le.charCodeAt(ct))!==47)ze===-1&&(at=!1,ze=ct+1),xe===46?Ge===-1?Ge=ct:tt!==1&&(tt=1):Ge!==-1&&(tt=-1);else if(!at){Ct=ct+1;break}return Ge===-1||ze===-1||tt===0||tt===1&&Ge===ze-1&&Ge===Ct+1?ze!==-1&&(Ce.base=Ce.name=Ct===0&&Le?le.slice(1,ze):le.slice(Ct,ze)):(Ct===0&&Le?(Ce.name=le.slice(1,Ge),Ce.base=le.slice(1,ze)):(Ce.name=le.slice(Ct,Ge),Ce.base=le.slice(Ct,ze)),Ce.ext=le.slice(Ge,ze)),Ct>0?Ce.dir=le.slice(0,Ct-1):Le&&(Ce.dir="/"),Ce},sep:"/",delimiter:":",win32:null,posix:null};qe.posix=qe,ae.exports=qe}},e={};function t(ae){var ue=e[ae];if(ue!==void 0)return ue.exports;var Fe=e[ae]={exports:{}};return r[ae](Fe,Fe.exports,t),Fe.exports}t.d=(ae,ue)=>{for(var Fe in ue)t.o(ue,Fe)&&!t.o(ae,Fe)&&Object.defineProperty(ae,Fe,{enumerable:!0,get:ue[Fe]})},t.o=(ae,ue)=>Object.prototype.hasOwnProperty.call(ae,ue),t.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>Te}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(ae,ue){if(!ae.scheme&&ue)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ae.authority}", path: "${ae.path}", query: "${ae.query}", fragment: "${ae.fragment}"}`);if(ae.scheme&&!o.test(ae.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ae.path){if(ae.authority){if(!s.test(ae.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(ae.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ue){return ue instanceof f||!!ue&&typeof ue.authority=="string"&&typeof ue.fragment=="string"&&typeof ue.path=="string"&&typeof ue.query=="string"&&typeof ue.scheme=="string"&&typeof ue.fsPath=="string"&&typeof ue.with=="function"&&typeof ue.toString=="function"}scheme;authority;path;query;fragment;constructor(ue,Fe,qe,le,Ce,be=!1){typeof ue=="object"?(this.scheme=ue.scheme||u,this.authority=ue.authority||u,this.path=ue.path||u,this.query=ue.query||u,this.fragment=ue.fragment||u):(this.scheme=function(xe,Le){return xe||Le?xe:"file"}(ue,be),this.authority=Fe||u,this.path=function(xe,Le){switch(xe){case"https":case"http":case"file":Le?Le[0]!==l&&(Le=l+Le):Le=l}return Le}(this.scheme,qe||u),this.query=le||u,this.fragment=Ce||u,c(this,be))}get fsPath(){return M(this,!1)}with(ue){if(!ue)return this;let{scheme:Fe,authority:qe,path:le,query:Ce,fragment:be}=ue;return Fe===void 0?Fe=this.scheme:Fe===null&&(Fe=u),qe===void 0?qe=this.authority:qe===null&&(qe=u),le===void 0?le=this.path:le===null&&(le=u),Ce===void 0?Ce=this.query:Ce===null&&(Ce=u),be===void 0?be=this.fragment:be===null&&(be=u),Fe===this.scheme&&qe===this.authority&&le===this.path&&Ce===this.query&&be===this.fragment?this:new y(Fe,qe,le,Ce,be)}static parse(ue,Fe=!1){let qe=d.exec(ue);return qe?new y(qe[2]||u,_e(qe[4]||u),_e(qe[5]||u),_e(qe[7]||u),_e(qe[9]||u),Fe):new y(u,u,u,u,u)}static file(ue){let Fe=u;if(i&&(ue=ue.replace(/\\/g,l)),ue[0]===l&&ue[1]===l){let qe=ue.indexOf(l,2);qe===-1?(Fe=ue.substring(2),ue=l):(Fe=ue.substring(2,qe),ue=ue.substring(qe)||l)}return new y("file",Fe,ue,u,u)}static from(ue){let Fe=new y(ue.scheme,ue.authority,ue.path,ue.query,ue.fragment);return c(Fe,!0),Fe}toString(ue=!1){return z(this,ue)}toJSON(){return this}static revive(ue){if(ue){if(ue instanceof f)return ue;{let Fe=new y(ue);return Fe._formatted=ue.external,Fe._fsPath=ue._sep===_?ue.fsPath:null,Fe}}return ue}}let _=i?1:void 0;class y extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=M(this,!1)),this._fsPath}toString(ue=!1){return ue?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}toJSON(){let ue={$mid:1};return this._fsPath&&(ue.fsPath=this._fsPath,ue._sep=_),this._formatted&&(ue.external=this._formatted),this.path&&(ue.path=this.path),this.scheme&&(ue.scheme=this.scheme),this.authority&&(ue.authority=this.authority),this.query&&(ue.query=this.query),this.fragment&&(ue.fragment=this.fragment),ue}}let D={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function k(ae,ue,Fe){let qe,le=-1;for(let Ce=0;Ce<ae.length;Ce++){let be=ae.charCodeAt(Ce);if(be>=97&&be<=122||be>=65&&be<=90||be>=48&&be<=57||be===45||be===46||be===95||be===126||ue&&be===47||Fe&&be===91||Fe&&be===93||Fe&&be===58)le!==-1&&(qe+=encodeURIComponent(ae.substring(le,Ce)),le=-1),qe!==void 0&&(qe+=ae.charAt(Ce));else{qe===void 0&&(qe=ae.substr(0,Ce));let xe=D[be];xe!==void 0?(le!==-1&&(qe+=encodeURIComponent(ae.substring(le,Ce)),le=-1),qe+=xe):le===-1&&(le=Ce)}}return le!==-1&&(qe+=encodeURIComponent(ae.substring(le))),qe!==void 0?qe:ae}function H(ae){let ue;for(let Fe=0;Fe<ae.length;Fe++){let qe=ae.charCodeAt(Fe);qe===35||qe===63?(ue===void 0&&(ue=ae.substr(0,Fe)),ue+=D[qe]):ue!==void 0&&(ue+=ae[Fe])}return ue!==void 0?ue:ae}function M(ae,ue){let Fe;return Fe=ae.authority&&ae.path.length>1&&ae.scheme==="file"?`//${ae.authority}${ae.path}`:ae.path.charCodeAt(0)===47&&(ae.path.charCodeAt(1)>=65&&ae.path.charCodeAt(1)<=90||ae.path.charCodeAt(1)>=97&&ae.path.charCodeAt(1)<=122)&&ae.path.charCodeAt(2)===58?ue?ae.path.substr(1):ae.path[1].toLowerCase()+ae.path.substr(2):ae.path,i&&(Fe=Fe.replace(/\//g,"\\")),Fe}function z(ae,ue){let Fe=ue?H:k,qe="",{scheme:le,authority:Ce,path:be,query:xe,fragment:Le}=ae;if(le&&(qe+=le,qe+=":"),(Ce||le==="file")&&(qe+=l,qe+=l),Ce){let Ge=Ce.indexOf("@");if(Ge!==-1){let Ct=Ce.substr(0,Ge);Ce=Ce.substr(Ge+1),Ge=Ct.lastIndexOf(":"),Ge===-1?qe+=Fe(Ct,!1,!1):(qe+=Fe(Ct.substr(0,Ge),!1,!1),qe+=":",qe+=Fe(Ct.substr(Ge+1),!1,!0)),qe+="@"}Ce=Ce.toLowerCase(),Ge=Ce.lastIndexOf(":"),Ge===-1?qe+=Fe(Ce,!1,!0):(qe+=Fe(Ce.substr(0,Ge),!1,!0),qe+=Ce.substr(Ge))}if(be){if(be.length>=3&&be.charCodeAt(0)===47&&be.charCodeAt(2)===58){let Ge=be.charCodeAt(1);Ge>=65&&Ge<=90&&(be=`/${String.fromCharCode(Ge+32)}:${be.substr(3)}`)}else if(be.length>=2&&be.charCodeAt(1)===58){let Ge=be.charCodeAt(0);Ge>=65&&Ge<=90&&(be=`${String.fromCharCode(Ge+32)}:${be.substr(2)}`)}qe+=Fe(be,!0,!1)}return xe&&(qe+="?",qe+=Fe(xe,!1,!1)),Le&&(qe+="#",qe+=ue?Le:k(Le,!1,!1)),qe}function re(ae){try{return decodeURIComponent(ae)}catch{return ae.length>3?ae.substr(0,3)+re(ae.substr(3)):ae}}let ce=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _e(ae){return ae.match(ce)?ae.replace(ce,ue=>re(ue)):ae}var G=t(975);let $=G.posix||G,te="/";var Te;(function(ae){ae.joinPath=function(ue,...Fe){return ue.with({path:$.join(ue.path,...Fe)})},ae.resolvePath=function(ue,...Fe){let qe=ue.path,le=!1;qe[0]!==te&&(qe=te+qe,le=!0);let Ce=$.resolve(qe,...Fe);return le&&Ce[0]===te&&!ue.authority&&(Ce=Ce.substring(1)),ue.with({path:Ce})},ae.dirname=function(ue){if(ue.path.length===0||ue.path===te)return ue;let Fe=$.dirname(ue.path);return Fe.length===1&&Fe.charCodeAt(0)===46&&(Fe=""),ue.with({path:Fe})},ae.basename=function(ue){return $.basename(ue.path)},ae.extname=function(ue){return $.extname(ue.path)}})(Te||(Te={})),FRe=n})();({URI:jRe,Utils:eVt}=FRe)});function lte(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function l_t(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function d_t(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(v_(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function f_t(r,e,t,n,i,o){let s=lte(t);if(!l_t(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=d_t(r.uri,s,e,o);if(!a)return;let c=p_t(a,r);return{range:Pi.create(r.positionAt(n),r.positionAt(i)),target:c}}function p_t(r,e){try{let t=jRe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===h_t)?t.with({fragment:null}).toString(!0):r}catch{return}}var h_t,wH,URe=Ci(()=>{Aw();px();zRe();Bp();h_t=35;wH=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=_u(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Qt.EOS;){switch(o){case Qt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Qt.AttributeName:s=i.getTokenText().toLowerCase();break;case Qt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=f_t(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=lte(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=lte(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&v_(d.target,f)){let _=d.target.substring(f.length),y=l[_];if(y!==void 0){let D=e.positionAt(y);d.target=`${f}${D.line+1},${D.character+1}`}else d.target=e.uri}}return n}}});function $Re(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=WRe(Qt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&WRe(Qt.EndTag,r,i.endTagStart);return(s&&BRe(s,e)||a&&BRe(a,e))&&(s&&o.push({kind:PT.Read,range:s}),a&&o.push({kind:PT.Read,range:a})),o}function HRe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function BRe(r,e){return HRe(r.start,e)&&HRe(e,r.end)}function WRe(r,e,t){let n=_u(e.getText(),t),i=n.scan();for(;i!==Qt.EOS&&i!==r;)i=n.scan();return i!==Qt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var VRe=Ci(()=>{Aw();Bp()});function GRe(r,e){let t=[],n=dte(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=dx.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function dte(r,e){let t=[];return e.roots.forEach(n=>{KRe(r,n,t)}),t}function KRe(r,e,t){let n=m_t(e),i=Pi.create(r.positionAt(e.start),r.positionAt(e.end)),o=fx.create(n,void 0,lx.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),KRe(r,s,o.children)})}function m_t(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var YRe=Ci(()=>{Bp()});function JRe(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!g_t(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function g_t(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var XRe=Ci(()=>{});function QRe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var ZRe=Ci(()=>{});function fte(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[Pi.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),Pi.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var eOe=Ci(()=>{Bp()});var SH,tOe=Ci(()=>{Bp();Aw();SH=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let _=d.startLine-f.startLine;return _===0&&(_=d.endLine-f.endLine),_});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=_u(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Qt.EOS;){switch(i){case Qt.StartTag:{let f=n.getTokenText(),_=e.positionAt(n.getTokenOffset()).line;s.push({startLine:_,tagName:f}),a=f;break}case Qt.EndTag:{a=n.getTokenText();break}case Qt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Qt.EndTagClose:case Qt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let _=s[f];s.length=f;let y=e.positionAt(n.getTokenOffset()).line,D=_.startLine,k=y-1;k>D&&c!==D&&l({startLine:D,endLine:k})}break}case Qt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,y=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(y)if(y[1])s.push({startLine:f,tagName:""});else{let D=s.length-1;for(;D>=0&&s[D].tagName.length;)D--;if(D>=0){let k=s[D];s.length=D;let H=f;f=k.startLine,H>f&&c!==f&&l({startLine:f,endLine:H,kind:TT.Region})}}else{let D=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<D&&l({startLine:f,endLine:D,kind:TT.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var CH,rOe=Ci(()=>{Aw();Bp();CH=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=ET.create(Pi.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=ET.create(Pi.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=Pi.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=Pi.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=_u(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Qt.EOS;){switch(c){case Qt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Qt.AttributeValue:{if(!d)break;let _=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(_[0]==='"'&&_[_.length-1]==='"'||_[0]==="'"&&_[_.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(_=>[_[0]+u,_[1]+u])}}});var TH,hte=Ci(()=>{TH={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var DH,v_t,nOe=Ci(()=>{WA();hte();ote();DH=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new gx("html5",TH)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&mRe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=v_t[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},v_t={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var oOe={};BR(oOe,{ClientCapabilities:()=>tte,Color:()=>zA,ColorInformation:()=>eH,ColorPresentation:()=>tH,Command:()=>xC,CompletionItem:()=>sH,CompletionItemKind:()=>Zl,CompletionItemTag:()=>nH,CompletionList:()=>aH,Diagnostic:()=>ax,DocumentHighlight:()=>uH,DocumentHighlightKind:()=>PT,DocumentLink:()=>fH,DocumentSymbol:()=>fx,DocumentUri:()=>QU,FileType:()=>BA,FoldingRange:()=>rH,FoldingRangeKind:()=>TT,FormattingOptions:()=>dH,Hover:()=>cH,InsertReplaceEdit:()=>iH,InsertTextFormat:()=>Hp,InsertTextMode:()=>oH,Location:()=>sx,MarkedString:()=>ux,MarkupContent:()=>DT,MarkupKind:()=>$m,Position:()=>La,Range:()=>Pi,ScannerState:()=>Kn,SelectionRange:()=>ET,SymbolInformation:()=>dx,SymbolKind:()=>lx,TextDocument:()=>HA,TextEdit:()=>Jc,TokenType:()=>Qt,WorkspaceEdit:()=>UA,getDefaultHTMLDataProvider:()=>b_t,getLanguageService:()=>y_t,newHTMLDataProvider:()=>iOe});function y_t(r=__t){let e=new DH(r),t=new bH(r,e),n=new _H(r,e),i=new gH(e),o=new CH(i),s=new SH(e),a=new wH(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:_u,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:NRe,findDocumentHighlights:$Re,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:GRe,findDocumentSymbols2:dte,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:JRe,findMatchingTagPosition:QRe,findOnTypeRenameRanges:fte,findLinkedEditingRanges:fte}}function iOe(r,e){return new gx(r,e)}function b_t(){return iOe("default",TH)}var __t,sOe=Ci(()=>{Aw();gRe();CRe();DRe();qRe();URe();VRe();YRe();XRe();ZRe();eOe();tOe();rOe();WA();nOe();hte();Bp();__t={}});var cOe=P(vx=>{"use strict";var aOe=vx&&vx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(vx,"__esModule",{value:!0});vx.HtmlTagCompletionProvider=void 0;var __=require("vscode"),w_t=(sOe(),vS(oOe)),S_t=(ete(),vS(hRe)),C_t=PC(),T_t=Yg(),pte=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,w_t.getLanguageService)();let e=__.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=__.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),__.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=__.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===C_t.RazorLanguage.id&&__.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return aOe(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!__.window.activeTextEditor||__.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==T_t.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>aOe(this,void 0,void 0,function*(){if(!this.enabled)return;let l=__.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new __.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let _=yield this.documentManager.getActiveDocument();_&&(a=_.htmlDocument.getContent());let y=S_t.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(y),k=this.htmlLanguageService.doTagComplete(y,f,D);if(!k)return;let H=l.selections;H.length&&H.some(M=>M.active.isEqual(f))?l.insertSnippet(new __.SnippetString(k),H.map(M=>M.active)):l.insertSnippet(new __.SnippetString(k),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};vx.HtmlTagCompletionProvider=pte});var dOe=P(_x=>{"use strict";var D_t=_x&&_x.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(_x,"__esModule",{value:!0});_x.RazorHtmlFeature=void 0;var VA=require("vscode"),uOe=Txe(),lOe=NU(),P_t=cOe(),mte=class{constructor(e,t,n,i){this.projectionProvider=new lOe.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new P_t.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new uOe.HtmlPreviewPanel(e)}register(){let e=[VA.workspace.registerTextDocumentContentProvider(lOe.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),VA.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return VA.window.registerWebviewPanelSerializer&&e.push(VA.window.registerWebviewPanelSerializer(uOe.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>D_t(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),VA.Disposable.from(...e)}};_x.RazorHtmlFeature=mte});var hOe=P(yx=>{"use strict";var E_t=yx&&yx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(yx,"__esModule",{value:!0});yx.RazorImplementationProvider=void 0;var x_t=require("vscode"),R_t=s_(),fOe=Yg(),gte=class extends R_t.RazorLanguageFeatureBase{provideImplementation(e,t,n){return E_t(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===fOe.LanguageKind.Html||i.languageKind===fOe.LanguageKind.Razor?void 0:yield x_t.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};yx.RazorImplementationProvider=gte});var pOe=P(bx=>{"use strict";var O_t=bx&&bx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(bx,"__esModule",{value:!0});bx.ProposedApisFeature=void 0;var vte=class{register(e,t){return O_t(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};bx.ProposedApisFeature=vte});var vOe=P(wx=>{"use strict";var mOe=wx&&wx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.RazorCSharpLanguageMiddleware=void 0;var _te=require("vscode"),PH=kA(),gOe=Yg(),yte=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return mOe(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,PH.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,PH.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(gOe.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new _te.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return mOe(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,PH.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,PH.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(gOe.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new _te.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new _te.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};wx.RazorCSharpLanguageMiddleware=yte});var yOe=P(EH=>{"use strict";Object.defineProperty(EH,"__esModule",{value:!0});EH.RazorLanguageConfiguration=void 0;var bte=require("vscode"),I_t=PC(),_Oe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],wte=class{register(){return bte.languages.setLanguageConfiguration(I_t.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${_Oe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:bte.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${_Oe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:bte.IndentAction.Indent}}]})}};EH.RazorLanguageConfiguration=wte});var wOe=P((KVt,bOe)=>{"use strict";bOe.exports=$y()});var TOe=P(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.resolveRazorLanguageServerOptions=void 0;var SOe=require("fs"),k_t=require("os"),COe=require("path");function A_t(r,e,t,n){let i=M_t(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}xH.resolveRazorLanguageServerOptions=A_t;function M_t(r){let e=L_t()?".exe":"",t=COe.join(r,`rzls${e}`),n="";if(SOe.existsSync(t))n=t;else{let i=COe.join(r,"rzls.dll");if(!SOe.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function L_t(){return!!k_t.platform().match(/^win/)}});var Ste=P(OH=>{"use strict";Object.defineProperty(OH,"__esModule",{value:!0});OH.resolveRazorLanguageServerTrace=void 0;var RH=MA();function N_t(r){let t=r.workspace.getConfiguration("razor").get("trace");return q_t(t)}OH.resolveRazorLanguageServerTrace=N_t;function q_t(r){switch(r){case"Off":return RH.Trace.Off;case"Messages":return RH.Trace.Messages;case"Verbose":return RH.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),RH.Trace.Off}}});var EOe=P(Sx=>{"use strict";var IH=Sx&&Sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.RazorLanguageServerClient=void 0;var F_t=require("events"),Cte=require("vscode"),Tte=$y(),j_t=wOe(),DOe=PC(),z_t=TOe(),POe=Ste(),Dte={ServerStop:"ServerStop"},Pte=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new F_t.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,POe.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Dte.ServerStop,e),new Cte.Disposable(()=>this.eventBus.removeListener(Dte.ServerStop,e))}start(){return IH(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===Tte.State.Starting&&o.newState===Tte.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===Tte.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){Cte.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return IH(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return IH(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Dte.ServerStop)}stop(){return IH(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){Cte.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,POe.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,z_t.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:DOe.RazorLanguage.id,pattern:DOe.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new j_t.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};Sx.RazorLanguageServerClient=Pte});var xOe=P(kH=>{"use strict";Object.defineProperty(kH,"__esModule",{value:!0});kH.LanguageQueryRequest=void 0;var Ete=class{constructor(e,t){this.position=e,this.uri=t.toString()}};kH.LanguageQueryRequest=Ete});var ROe=P(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.RazorMapToDocumentRangesRequest=void 0;var xte=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};AH.RazorMapToDocumentRangesRequest=xte});var OOe=P(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.SemanticTokensRangeRequest=void 0;var U_t=$y(),H_t=aE(),Rte=class{constructor(e,t){this.textDocument=U_t.TextDocumentIdentifier.create(e.toString()),this.range=(0,H_t.convertRangeToSerializable)(t)}};MH.SemanticTokensRangeRequest=Rte});var kOe=P(Cx=>{"use strict";var LH=Cx&&Cx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.RazorLanguageServiceClient=void 0;var B_t=require("vscode"),W_t=xOe(),$_t=ROe(),IOe=aE(),V_t=OOe(),Ote=class{constructor(e){this.serverClient=e}languageQuery(e,t){return LH(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new W_t.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new B_t.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return LH(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,IOe.convertRangeToSerializable)(c);i.push(u)}let o=new $_t.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,IOe.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return LH(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new V_t.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return LH(this,void 0,void 0,function*(){yield this.serverClient.start()})}};Cx.RazorLanguageServiceClient=Ote});var LOe=P(FH=>{"use strict";Object.defineProperty(FH,"__esModule",{value:!0});FH.RazorLogger=void 0;var MOe=require("fs"),AOe=require("path"),NH=MA(),qH=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${NH.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=G_t();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${NH.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=NH.Trace.Verbose,this.messageEnabled=this.trace>=NH.Trace.Messages}};FH.RazorLogger=qH;qH.logName="Razor Log";function G_t(){let r=K_t(__dirname,"package.json");return JSON.parse(MOe.readFileSync(r).toString())}function K_t(r,e){for(;;){let t=AOe.join(r,e);if(MOe.existsSync(t))return t;let n=AOe.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var jOe=P(Tx=>{"use strict";var Y_t=Tx&&Tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.RazorReferenceProvider=void 0;var NOe=require("vscode"),qOe=kA(),J_t=s_(),FOe=Yg(),Ite=class extends J_t.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return Y_t(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===FOe.LanguageKind.Razor)return;let s=yield NOe.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===FOe.LanguageKind.Html&&(0,qOe.isRazorHtmlFile)(c.uri)){let u=(0,qOe.getRazorDocumentUri)(c.uri);a.push(new NOe.Location(u,c.range))}else a.push(c);return a})}};Tx.RazorReferenceProvider=Ite});var HOe=P(Dx=>{"use strict";var zOe=Dx&&Dx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.RazorRenameProvider=void 0;var X_t=require("vscode"),Q_t=s_(),UOe=Yg(),kte=class extends Q_t.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return zOe(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==UOe.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return zOe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==UOe.LanguageKind.CSharp?void 0:yield X_t.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};Dx.RazorRenameProvider=kte});var BOe=P(Px=>{"use strict";var Z_t=Px&&Px.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.RazorDocumentSemanticTokensProvider=void 0;var eyt=require("vscode"),tyt=s_(),Ate=class extends tyt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return Z_t(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new eyt.SemanticTokens(o,i.resultId)}return i})}};Px.RazorDocumentSemanticTokensProvider=Ate});var WOe=P(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});jH.ProvideSemanticTokensResponse=void 0;var Mte=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};jH.ProvideSemanticTokensResponse=Mte});var $Oe=P(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});zH.SemanticTokensResponse=void 0;var Lte=class{constructor(e,t){this.data=e,this.resultId=t}};zH.SemanticTokensResponse=Lte});var GOe=P(Ex=>{"use strict";var VOe=Ex&&Ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.SemanticTokensRangeHandler=void 0;var ryt=$y(),nyt=WOe(),iyt=$Oe(),UH=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new ryt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new nyt.ProvideSemanticTokensResponse(new iyt.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>VOe(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return VOe(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};Ex.SemanticTokensRangeHandler=UH;UH.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var KOe=P(xx=>{"use strict";var oyt=xx&&xx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(xx,"__esModule",{value:!0});xx.RazorSignatureHelpProvider=void 0;var syt=require("vscode"),ayt=s_(),Nte=class extends ayt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return oyt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield syt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};xx.RazorSignatureHelpProvider=Nte});var YOe=P(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});Rx.createTelemetryErrorEvent=Rx.createTelemetryEvent=void 0;function cyt(r,e,t){return{type:HH.TelemetryEvent,eventName:r,properties:e,measures:t}}Rx.createTelemetryEvent=cyt;function uyt(r,e,t,n){return{type:HH.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}Rx.createTelemetryErrorEvent=uyt;var HH;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})(HH||(HH={}))});var JOe=P(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.TelemetryReporter=void 0;var GA=YOe(),lyt=MA(),qte=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,GA.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,GA.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,GA.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,GA.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:lyt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,GA.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};BH.TelemetryReporter=qte});var XOe=P(Ix=>{"use strict";var Ox=Ix&&Ix.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.activate=void 0;var dyt=require("vscode"),fyt=eTe(),hyt=sTe(),pyt=lTe(),myt=wEe(),gyt=DEe(),vyt=dee(),_yt=EEe(),yyt=AEe(),byt=qEe(),wyt=WEe(),Syt=XEe(),Cyt=ZEe(),Tyt=nxe(),Dyt=oxe(),Pyt=sxe(),Eyt=lxe(),xyt=pxe(),Ryt=mxe(),Oyt=wxe(),Iyt=Sxe(),kyt=dOe(),Ayt=hOe(),Myt=pOe(),Lyt=vOe(),Wp=PC(),Nyt=yOe(),qyt=EOe(),Fyt=Ste(),jyt=kOe(),zyt=LOe(),Uyt=jOe(),Hyt=HOe(),Byt=BOe(),Wyt=GOe(),$yt=KOe(),Vyt=JOe();function Gyt(r,e,t,n,i=!1){return Ox(this,void 0,void 0,function*(){let o=new Vyt.TelemetryReporter(n),s={create:()=>new dyt.EventEmitter},a=(0,Fyt.resolveRazorLanguageServerTrace)(r),c=new zyt.RazorLogger(r,s,a);try{let u=new qyt.RazorLanguageServerClient(r,t,o,c),l=new jyt.RazorLanguageServiceClient(u),d=new Lyt.RazorCSharpLanguageMiddleware(l,c),f=new Syt.RazorDocumentManager(u,c);(0,Pyt.reportTelemetryForDocuments)(f,o);let _=new Nyt.RazorLanguageConfiguration,y=new yyt.RazorCSharpFeature(f,s,c),D=new kyt.RazorHtmlFeature(f,l,s,c),k=[],H=new wyt.ReportIssueCommand(r,f,c),M=new Oyt.RazorFormattingFeature(u,f,c),z=new hyt.RazorCodeActionRunner(u,c),re;u.onStart(()=>Ox(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),re=new Cyt.RazorDocumentSynchronizer(f,c);let G=new gyt.ProvisionalCompletionOrchestrator(f,y.projectionProvider,l,c),$=new Wyt.SemanticTokensRangeHandler(u),te=new myt.ColorPresentationHandler(f,u,c),Te=new Tyt.DocumentColorHandler(f,u,c),ae=new Eyt.FoldingRangeHandler(u,f,c),ue=new xyt.FormattingHandler(f,u,c),Fe=new vyt.RazorCompletionItemProvider(re,f,l,G,c),qe=new $yt.RazorSignatureHelpProvider(re,f,l,c),le=new byt.RazorDefinitionProvider(re,f,l,c),Ce=new Ayt.RazorImplementationProvider(re,f,l,c),be=new Iyt.RazorHoverProvider(re,f,l,c),xe=new pyt.RazorCodeLensProvider(re,f,l,c),Le=new Hyt.RazorRenameProvider(re,f,l,c),Ge=new Uyt.RazorReferenceProvider(re,f,l,c),Ct=new Dyt.RazorDocumentHighlightProvider(re,f,l,c),ze=new Ryt.RazorFormatOnTypeProvider;k.push(_.register(),G.register(),r.languages.registerCompletionItemProvider(Wp.RazorLanguage.id,Fe,".","<","@"),r.languages.registerSignatureHelpProvider(Wp.RazorLanguage.id,qe,"(",","),r.languages.registerDefinitionProvider(Wp.RazorLanguage.id,le),r.languages.registerImplementationProvider(Wp.RazorLanguage.id,Ce),r.languages.registerHoverProvider(Wp.RazorLanguage.documentSelector,be),r.languages.registerReferenceProvider(Wp.RazorLanguage.id,Ge),r.languages.registerCodeLensProvider(Wp.RazorLanguage.id,xe),r.languages.registerRenameProvider(Wp.RazorLanguage.id,Le),r.languages.registerDocumentHighlightProvider(Wp.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(Wp.RazorLanguage.documentSelector,ze,""),f.register(),y.register(),D.register(),re.register(),H.register(),(0,_yt.listenToConfigurationChanges)(u)),i&&(yield new Myt.ProposedApisFeature().register(r,k)),z.register(),yield M.register(),yield te.register(),yield Te.register(),yield ae.register(),yield ue.register(),yield $.register()}));let ce=u.onStop(()=>{k.forEach(G=>G.dispose()),k.length=0}),_e=new fyt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",_e)),u.onStarted(()=>Ox(this,void 0,void 0,function*(){var G,$;let te=($=(G=u.initializeResult)===null||G===void 0?void 0:G.capabilities.semanticTokensProvider)===null||$===void 0?void 0:$.legend,Te=new Byt.RazorDocumentSemanticTokensProvider(re,f,l,c);te&&k.push(r.languages.registerDocumentRangeSemanticTokensProvider(Wp.RazorLanguage.id,Te,te)),yield f.initialize()})),yield Kyt(r,u,c,e),e.subscriptions.push(u,ce,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}Ix.activate=Gyt;function Kyt(r,e,t,n){return Ox(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(Wp.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(Wp.RazorLanguage.globbingPattern),s=()=>Ox(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>Ox(this,void 0,void 0,function*(){u.languageId===Wp.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});var RC=P(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.PIPE_NAME_PREFIX=jd.availabilityChangedEvent=jd.RemoteServiceConnections=jd.MessageDelimiters=jd.Formatters=void 0;var ebt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(ebt=jd.Formatters||(jd.Formatters={}));var tbt;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})(tbt=jd.MessageDelimiters||(jd.MessageDelimiters={}));var uIe;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(uIe=jd.RemoteServiceConnections||(jd.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(uIe=jd.RemoteServiceConnections||(jd.RemoteServiceConnections={}));jd.availabilityChangedEvent="availabilityChanged";jd.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var Mx=P(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.stringArray=Ff.array=Ff.func=Ff.error=Ff.number=Ff.string=Ff.boolean=void 0;function rbt(r){return r===!0||r===!1}Ff.boolean=rbt;function lIe(r){return typeof r=="string"||r instanceof String}Ff.string=lIe;function nbt(r){return typeof r=="number"||r instanceof Number}Ff.number=nbt;function ibt(r){return r instanceof Error}Ff.error=ibt;function obt(r){return typeof r=="function"}Ff.func=obt;function dIe(r){return Array.isArray(r)}Ff.array=dIe;function sbt(r){return dIe(r)&&r.every(e=>lIe(e))}Ff.stringArray=sbt});var Dre=P(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Message=En.NotificationType9=En.NotificationType8=En.NotificationType7=En.NotificationType6=En.NotificationType5=En.NotificationType4=En.NotificationType3=En.NotificationType2=En.NotificationType1=En.NotificationType0=En.NotificationType=En.RequestType9=En.RequestType8=En.RequestType7=En.RequestType6=En.RequestType5=En.RequestType4=En.RequestType3=En.RequestType2=En.RequestType1=En.RequestType=En.RequestType0=En.AbstractMessageSignature=En.ParameterStructures=En.ResponseError=En.ErrorCodes=void 0;var OT=Mx(),fIe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(fIe=En.ErrorCodes||(En.ErrorCodes={}));var rre=class r extends Error{constructor(e,t,n){super(t),this.code=OT.number(e)?e:fIe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};En.ResponseError=rre;var $p=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};En.ParameterStructures=$p;$p.auto=new $p("auto");$p.byPosition=new $p("byPosition");$p.byName=new $p("byName");var Na=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return $p.auto}};En.AbstractMessageSignature=Na;var nre=class extends Na{constructor(e){super(e,0)}};En.RequestType0=nre;var ire=class extends Na{constructor(e,t=$p.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};En.RequestType=ire;var ore=class extends Na{constructor(e,t=$p.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};En.RequestType1=ore;var sre=class extends Na{constructor(e){super(e,2)}};En.RequestType2=sre;var are=class extends Na{constructor(e){super(e,3)}};En.RequestType3=are;var cre=class extends Na{constructor(e){super(e,4)}};En.RequestType4=cre;var ure=class extends Na{constructor(e){super(e,5)}};En.RequestType5=ure;var lre=class extends Na{constructor(e){super(e,6)}};En.RequestType6=lre;var dre=class extends Na{constructor(e){super(e,7)}};En.RequestType7=dre;var fre=class extends Na{constructor(e){super(e,8)}};En.RequestType8=fre;var hre=class extends Na{constructor(e){super(e,9)}};En.RequestType9=hre;var pre=class extends Na{constructor(e,t=$p.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};En.NotificationType=pre;var mre=class extends Na{constructor(e){super(e,0)}};En.NotificationType0=mre;var gre=class extends Na{constructor(e,t=$p.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};En.NotificationType1=gre;var vre=class extends Na{constructor(e){super(e,2)}};En.NotificationType2=vre;var _re=class extends Na{constructor(e){super(e,3)}};En.NotificationType3=_re;var yre=class extends Na{constructor(e){super(e,4)}};En.NotificationType4=yre;var bre=class extends Na{constructor(e){super(e,5)}};En.NotificationType5=bre;var wre=class extends Na{constructor(e){super(e,6)}};En.NotificationType6=wre;var Sre=class extends Na{constructor(e){super(e,7)}};En.NotificationType7=Sre;var Cre=class extends Na{constructor(e){super(e,8)}};En.NotificationType8=Cre;var Tre=class extends Na{constructor(e){super(e,9)}};En.NotificationType9=Tre;var abt;(function(r){function e(i){let o=i;return o&&OT.string(o.method)&&(OT.string(o.id)||OT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&OT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(OT.string(o.id)||OT.number(o.id)||o.id===null)}r.isResponse=n})(abt=En.Message||(En.Message={}))});var Ere=P(Nw=>{"use strict";var hIe;Object.defineProperty(Nw,"__esModule",{value:!0});Nw.LRUCache=Nw.LinkedMap=Nw.Touch=void 0;var Hh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Hh=Nw.Touch||(Nw.Touch={}));var VH=class{constructor(){this[hIe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Hh.None){let n=this._map.get(e);if(n)return t!==Hh.None&&this.touch(n,t),n.value}set(e,t,n=Hh.None){let i=this._map.get(e);if(i)i.value=t,n!==Hh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Hh.None:this.addItemLast(i);break;case Hh.First:this.addItemFirst(i);break;case Hh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(hIe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Hh.First&&t!==Hh.Last)){if(t===Hh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Hh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};Nw.LinkedMap=VH;var Pre=class extends VH{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Hh.AsNew){return super.get(e,t)}peek(e){return super.get(e,Hh.None)}set(e,t){return super.set(e,t,Hh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Nw.LRUCache=Pre});var pIe=P(JA=>{"use strict";Object.defineProperty(JA,"__esModule",{value:!0});JA.Disposable=void 0;var cbt;(function(r){function e(t){return{dispose:t}}r.create=e})(cbt=JA.Disposable||(JA.Disposable={}))});var OC=P(Ore=>{"use strict";Object.defineProperty(Ore,"__esModule",{value:!0});var xre;function Rre(){if(xre===void 0)throw new Error("No runtime abstraction layer installed");return xre}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");xre=t}r.install=e})(Rre||(Rre={}));Ore.default=Rre});var Lx=P(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0});IT.Emitter=IT.Event=void 0;var ubt=OC(),lbt;(function(r){let e={dispose(){}};r.None=function(){return e}})(lbt=IT.Event||(IT.Event={}));var Ire=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,ubt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},GH=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Ire),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};IT.Emitter=GH;GH._noop=function(){}});var YH=P(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0});kT.CancellationTokenSource=kT.CancellationToken=void 0;var dbt=OC(),fbt=Mx(),kre=Lx(),Are;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:kre.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:kre.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||fbt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Are=kT.CancellationToken||(kT.CancellationToken={}));var hbt=Object.freeze(function(r,e){let t=(0,dbt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),KH=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?hbt:(this._emitter||(this._emitter=new kre.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Mre=class{get token(){return this._token||(this._token=new KH),this._token}cancel(){this._token?this._token.cancel():this._token=Are.Cancelled}dispose(){this._token?this._token instanceof KH&&this._token.dispose():this._token=Are.None}};kT.CancellationTokenSource=Mre});var mIe=P(Nx=>{"use strict";Object.defineProperty(Nx,"__esModule",{value:!0});Nx.SharedArrayReceiverStrategy=Nx.SharedArraySenderStrategy=void 0;var pbt=YH(),XA;(function(r){r.Continue=0,r.Cancelled=1})(XA||(XA={}));var Lre=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=XA.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,XA.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Nx.SharedArraySenderStrategy=Lre;var Nre=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===XA.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},qre=class{constructor(e){this.token=new Nre(e)}cancel(){}dispose(){}},Fre=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new pbt.CancellationTokenSource:new qre(t)}};Nx.SharedArrayReceiverStrategy=Fre});var zre=P(JH=>{"use strict";Object.defineProperty(JH,"__esModule",{value:!0});JH.Semaphore=void 0;var mbt=OC(),jre=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,mbt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};JH.Semaphore=jre});var gIe=P(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.ReadableStreamMessageReader=qw.AbstractMessageReader=qw.MessageReader=void 0;var Hre=OC(),qx=Mx(),Ure=Lx(),gbt=zre(),vbt;(function(r){function e(t){let n=t;return n&&qx.func(n.listen)&&qx.func(n.dispose)&&qx.func(n.onError)&&qx.func(n.onClose)&&qx.func(n.onPartialMessage)}r.is=e})(vbt=qw.MessageReader||(qw.MessageReader={}));var XH=class{constructor(){this.errorEmitter=new Ure.Emitter,this.closeEmitter=new Ure.Emitter,this.partialMessageEmitter=new Ure.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${qx.string(e.message)?e.message:"unknown"}`)}};qw.AbstractMessageReader=XH;var Bre;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Hre.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(Bre||(Bre={}));var Wre=class extends XH{constructor(e,t){super(),this.readable=e,this.options=Bre.fromOptions(t),this.buffer=(0,Hre.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new gbt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Hre.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};qw.ReadableStreamMessageReader=Wre});var bIe=P(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.WriteableStreamMessageWriter=Fw.AbstractMessageWriter=Fw.MessageWriter=void 0;var vIe=OC(),QA=Mx(),_bt=zre(),_Ie=Lx(),ybt="Content-Length: ",yIe=`\r
`,bbt;(function(r){function e(t){let n=t;return n&&QA.func(n.dispose)&&QA.func(n.onClose)&&QA.func(n.onError)&&QA.func(n.write)}r.is=e})(bbt=Fw.MessageWriter||(Fw.MessageWriter={}));var QH=class{constructor(){this.errorEmitter=new _Ie.Emitter,this.closeEmitter=new _Ie.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${QA.string(e.message)?e.message:"unknown"}`)}};Fw.AbstractMessageWriter=QH;var $re;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,vIe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,vIe.default)().applicationJson.encoder}}r.fromOptions=e})($re||($re={}));var Vre=class extends QH{constructor(e,t){super(),this.writable=e,this.options=$re.fromOptions(t),this.errorCount=0,this.writeSemaphore=new _bt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(ybt,n.byteLength.toString(),yIe),i.push(yIe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Fw.WriteableStreamMessageWriter=Vre});var wIe=P(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.AbstractMessageBuffer=void 0;var wbt=13,Sbt=10,Cbt=`\r
`,Gre=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case wbt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Sbt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Cbt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),_=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,_)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};ZH.AbstractMessageBuffer=Gre});var xIe=P(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.createMessageConnection=yn.ConnectionOptions=yn.MessageStrategy=yn.CancellationStrategy=yn.CancellationSenderStrategy=yn.CancellationReceiverStrategy=yn.RequestCancellationReceiverStrategy=yn.IdCancellationReceiverStrategy=yn.ConnectionStrategy=yn.ConnectionError=yn.ConnectionErrors=yn.LogTraceNotification=yn.SetTraceNotification=yn.TraceFormat=yn.TraceValues=yn.Trace=yn.NullLogger=yn.ProgressType=yn.ProgressToken=void 0;var SIe=OC(),Ac=Mx(),_i=Dre(),CIe=Ere(),ZA=Lx(),Kre=YH(),tM;(function(r){r.type=new _i.NotificationType("$/cancelRequest")})(tM||(tM={}));var TIe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(TIe=yn.ProgressToken||(yn.ProgressToken={}));var eM;(function(r){r.type=new _i.NotificationType("$/progress")})(eM||(eM={}));var Yre=class{constructor(){}};yn.ProgressType=Yre;var Jre;(function(r){function e(t){return Ac.func(t)}r.is=e})(Jre||(Jre={}));yn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Rs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Rs=yn.Trace||(yn.Trace={}));var Tbt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(Tbt=yn.TraceValues||(yn.TraceValues={}));(function(r){function e(n){if(!Ac.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Rs=yn.Trace||(yn.Trace={}));var y_;(function(r){r.Text="text",r.JSON="json"})(y_=yn.TraceFormat||(yn.TraceFormat={}));(function(r){function e(t){return Ac.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(y_=yn.TraceFormat||(yn.TraceFormat={}));var DIe;(function(r){r.type=new _i.NotificationType("$/setTrace")})(DIe=yn.SetTraceNotification||(yn.SetTraceNotification={}));var Xre;(function(r){r.type=new _i.NotificationType("$/logTrace")})(Xre=yn.LogTraceNotification||(yn.LogTraceNotification={}));var eB;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(eB=yn.ConnectionErrors||(yn.ConnectionErrors={}));var Fx=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};yn.ConnectionError=Fx;var PIe;(function(r){function e(t){let n=t;return n&&Ac.func(n.cancelUndispatched)}r.is=e})(PIe=yn.ConnectionStrategy||(yn.ConnectionStrategy={}));var ene;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&Ac.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ac.func(n.dispose))}r.is=e})(ene=yn.IdCancellationReceiverStrategy||(yn.IdCancellationReceiverStrategy={}));var EIe;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&Ac.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ac.func(n.dispose))}r.is=e})(EIe=yn.RequestCancellationReceiverStrategy||(yn.RequestCancellationReceiverStrategy={}));var Qre;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Kre.CancellationTokenSource}});function e(t){return ene.is(t)||EIe.is(t)}r.is=e})(Qre=yn.CancellationReceiverStrategy||(yn.CancellationReceiverStrategy={}));var Zre;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(tM.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Ac.func(n.sendCancellation)&&Ac.func(n.cleanup)}r.is=e})(Zre=yn.CancellationSenderStrategy||(yn.CancellationSenderStrategy={}));var tne;(function(r){r.Message=Object.freeze({receiver:Qre.Message,sender:Zre.Message});function e(t){let n=t;return n&&Qre.is(n.receiver)&&Zre.is(n.sender)}r.is=e})(tne=yn.CancellationStrategy||(yn.CancellationStrategy={}));var rne;(function(r){function e(t){let n=t;return n&&Ac.func(n.handleMessage)}r.is=e})(rne=yn.MessageStrategy||(yn.MessageStrategy={}));var Dbt;(function(r){function e(t){let n=t;return n&&(tne.is(n.cancellationStrategy)||PIe.is(n.connectionStrategy)||rne.is(n.messageStrategy))}r.is=e})(Dbt=yn.ConnectionOptions||(yn.ConnectionOptions={}));var b_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(b_||(b_={}));function Pbt(r,e,t,n){let i=t!==void 0?t:yn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,_=new Map,y,D=new CIe.LinkedMap,k=new Map,H=new Set,M=new Map,z=Rs.Off,re=y_.Text,ce,_e=b_.New,G=new ZA.Emitter,$=new ZA.Emitter,te=new ZA.Emitter,Te=new ZA.Emitter,ae=new ZA.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:tne.Message;function Fe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function qe(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function le(){return"not-"+(++s).toString()}function Ce(oe,Q){_i.Message.isRequest(Q)?oe.set(Fe(Q.id),Q):_i.Message.isResponse(Q)?oe.set(qe(Q.id),Q):oe.set(le(),Q)}function be(oe){}function xe(){return _e===b_.Listening}function Le(){return _e===b_.Closed}function Ge(){return _e===b_.Disposed}function Ct(){(_e===b_.New||_e===b_.Listening)&&(_e=b_.Closed,$.fire(void 0))}function ze(oe){G.fire([oe,void 0,void 0])}function at(oe){G.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(at);function ct(){y||D.size===0||(y=(0,SIe.default)().timer.setImmediate(()=>{y=void 0,pr()}))}function tt(oe){_i.Message.isRequest(oe)?Hr(oe):_i.Message.isNotification(oe)?It(oe):_i.Message.isResponse(oe)?fr(oe):mr(oe)}function pr(){if(D.size===0)return;let oe=D.shift();try{let Q=n?.messageStrategy;rne.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{ct()}}let Nr=oe=>{try{if(_i.Message.isNotification(oe)&&oe.method===tM.type.method){let Q=oe.params.id,ye=Fe(Q),Ke=D.get(ye);if(_i.Message.isRequest(Ke)){let Jt=n?.connectionStrategy,nr=Jt&&Jt.cancelUndispatched?Jt.cancelUndispatched(Ke,be):void 0;if(nr&&(nr.error!==void 0||nr.result!==void 0)){D.delete(ye),M.delete(Q),nr.id=Ke.id,xn(nr,oe.method,Date.now()),e.write(nr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=M.get(Q);if(ft!==void 0){ft.cancel(),Un(oe);return}else H.add(Q)}Ce(D,oe)}finally{ct()}};function Hr(oe){if(Ge())return;function Q(Vt,kt,K){let Ne={jsonrpc:c,id:oe.id};Vt instanceof _i.ResponseError?Ne.error=Vt.toJson():Ne.result=Vt===void 0?null:Vt,xn(Ne,kt,K),e.write(Ne).catch(()=>i.error("Sending response failed."))}function ye(Vt,kt,K){let Ne={jsonrpc:c,id:oe.id,error:Vt.toJson()};xn(Ne,kt,K),e.write(Ne).catch(()=>i.error("Sending response failed."))}function Ke(Vt,kt,K){Vt===void 0&&(Vt=null);let Ne={jsonrpc:c,id:oe.id,result:Vt};xn(Ne,kt,K),e.write(Ne).catch(()=>i.error("Sending response failed."))}Rr(oe);let ft=l.get(oe.method),Jt,nr;ft&&(Jt=ft.type,nr=ft.handler);let Xt=Date.now();if(nr||u){let Vt=oe.id??String(Date.now()),kt=ene.is(ue.receiver)?ue.receiver.createCancellationTokenSource(Vt):ue.receiver.createCancellationTokenSource(oe);oe.id!==null&&H.has(oe.id)&&kt.cancel(),oe.id!==null&&M.set(Vt,kt);try{let K;if(nr)if(oe.params===void 0){if(Jt!==void 0&&Jt.numberOfParams!==0){ye(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Jt.numberOfParams} params but received none.`),oe.method,Xt);return}K=nr(kt.token)}else if(Array.isArray(oe.params)){if(Jt!==void 0&&Jt.parameterStructures===_i.ParameterStructures.byName){ye(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Xt);return}K=nr(...oe.params,kt.token)}else{if(Jt!==void 0&&Jt.parameterStructures===_i.ParameterStructures.byPosition){ye(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Xt);return}K=nr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let Ne=K;K?Ne.then?Ne.then(Bt=>{M.delete(Vt),Q(Bt,oe.method,Xt)},Bt=>{M.delete(Vt),Bt instanceof _i.ResponseError?ye(Bt,oe.method,Xt):Bt&&Ac.string(Bt.message)?ye(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Bt.message}`),oe.method,Xt):ye(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Xt)}):(M.delete(Vt),Q(K,oe.method,Xt)):(M.delete(Vt),Ke(K,oe.method,Xt))}catch(K){M.delete(Vt),K instanceof _i.ResponseError?Q(K,oe.method,Xt):K&&Ac.string(K.message)?ye(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Xt):ye(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Xt)}}else ye(new _i.ResponseError(_i.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Xt)}function fr(oe){if(!Ge())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,ye=k.get(Q);if(Wr(oe,ye),ye!==void 0){k.delete(Q);try{if(oe.error){let Ke=oe.error;ye.reject(new _i.ResponseError(Ke.code,Ke.message,Ke.data))}else if(oe.result!==void 0)ye.resolve(oe.result);else throw new Error("Should never happen.")}catch(Ke){Ke.message?i.error(`Response handler '${ye.method}' failed with message: ${Ke.message}`):i.error(`Response handler '${ye.method}' failed unexpectedly.`)}}}}function It(oe){if(Ge())return;let Q,ye;if(oe.method===tM.type.method){let Ke=oe.params.id;H.delete(Ke),Un(oe);return}else{let Ke=f.get(oe.method);Ke&&(ye=Ke.handler,Q=Ke.type)}if(ye||d)try{if(Un(oe),ye)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),ye();else if(Array.isArray(oe.params)){let Ke=oe.params;oe.method===eM.type.method&&Ke.length===2&&TIe.is(Ke[0])?ye({token:Ke[0],value:Ke[1]}):(Q!==void 0&&(Q.parameterStructures===_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Ke.length} arguments`)),ye(...Ke))}else Q!==void 0&&Q.parameterStructures===_i.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),ye(oe.params);else d&&d(oe.method,oe.params)}catch(Ke){Ke.message?i.error(`Notification handler '${oe.method}' failed with message: ${Ke.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else te.fire(oe)}function mr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(Ac.string(Q.id)||Ac.number(Q.id)){let ye=Q.id,Ke=k.get(ye);Ke&&Ke.reject(new Error("The received response has neither a result nor an error property."))}}function Lt(oe){if(oe!=null)switch(z){case Rs.Verbose:return JSON.stringify(oe,null,4);case Rs.Compact:return JSON.stringify(oe);default:return}}function nn(oe){if(!(z===Rs.Off||!ce))if(re===y_.Text){let Q;(z===Rs.Verbose||z===Rs.Compact)&&oe.params&&(Q=`Params: ${Lt(oe.params)}

`),ce.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else un("send-request",oe)}function cn(oe){if(!(z===Rs.Off||!ce))if(re===y_.Text){let Q;(z===Rs.Verbose||z===Rs.Compact)&&(oe.params?Q=`Params: ${Lt(oe.params)}

`:Q=`No parameters provided.

`),ce.log(`Sending notification '${oe.method}'.`,Q)}else un("send-notification",oe)}function xn(oe,Q,ye){if(!(z===Rs.Off||!ce))if(re===y_.Text){let Ke;(z===Rs.Verbose||z===Rs.Compact)&&(oe.error&&oe.error.data?Ke=`Error data: ${Lt(oe.error.data)}

`:oe.result?Ke=`Result: ${Lt(oe.result)}

`:oe.error===void 0&&(Ke=`No result returned.

`)),ce.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-ye}ms`,Ke)}else un("send-response",oe)}function Rr(oe){if(!(z===Rs.Off||!ce))if(re===y_.Text){let Q;(z===Rs.Verbose||z===Rs.Compact)&&oe.params&&(Q=`Params: ${Lt(oe.params)}

`),ce.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else un("receive-request",oe)}function Un(oe){if(!(z===Rs.Off||!ce||oe.method===Xre.type.method))if(re===y_.Text){let Q;(z===Rs.Verbose||z===Rs.Compact)&&(oe.params?Q=`Params: ${Lt(oe.params)}

`:Q=`No parameters provided.

`),ce.log(`Received notification '${oe.method}'.`,Q)}else un("receive-notification",oe)}function Wr(oe,Q){if(!(z===Rs.Off||!ce))if(re===y_.Text){let ye;if((z===Rs.Verbose||z===Rs.Compact)&&(oe.error&&oe.error.data?ye=`Error data: ${Lt(oe.error.data)}

`:oe.result?ye=`Result: ${Lt(oe.result)}

`:oe.error===void 0&&(ye=`No result returned.

`)),Q){let Ke=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";ce.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Ke}`,ye)}else ce.log(`Received response ${oe.id} without active response promise.`,ye)}else un("receive-response",oe)}function un(oe,Q){if(!ce||z===Rs.Off)return;let ye={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};ce.log(ye)}function ni(){if(Le())throw new Fx(eB.Closed,"Connection is closed.");if(Ge())throw new Fx(eB.Disposed,"Connection is disposed.")}function $r(){if(xe())throw new Fx(eB.AlreadyListening,"Connection is already listening")}function In(){if(!xe())throw new Error("Call listen() first.")}function Ei(oe){return oe===void 0?null:oe}function Vr(oe){if(oe!==null)return oe}function Vi(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function ii(oe,Q){switch(oe){case _i.ParameterStructures.auto:return Vi(Q)?Vr(Q):[Ei(Q)];case _i.ParameterStructures.byName:if(!Vi(Q))throw new Error("Received parameters by name but param is not an object literal.");return Vr(Q);case _i.ParameterStructures.byPosition:return[Ei(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function ln(oe,Q){let ye,Ke=oe.numberOfParams;switch(Ke){case 0:ye=void 0;break;case 1:ye=ii(oe.parameterStructures,Q[0]);break;default:ye=[];for(let ft=0;ft<Q.length&&ft<Ke;ft++)ye.push(Ei(Q[ft]));if(Q.length<Ke)for(let ft=Q.length;ft<Ke;ft++)ye.push(null);break}return ye}let Re={sendNotification:(oe,...Q)=>{ni();let ye,Ke;if(Ac.string(oe)){ye=oe;let Jt=Q[0],nr=0,Xt=_i.ParameterStructures.auto;_i.ParameterStructures.is(Jt)&&(nr=1,Xt=Jt);let Vt=Q.length,kt=Vt-nr;switch(kt){case 0:Ke=void 0;break;case 1:Ke=ii(Xt,Q[nr]);break;default:if(Xt===_i.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Ke=Q.slice(nr,Vt).map(K=>Ei(K));break}}else{let Jt=Q;ye=oe.method,Ke=ln(oe,Jt)}let ft={jsonrpc:c,method:ye,params:Ke};return cn(ft),e.write(ft).catch(Jt=>{throw i.error("Sending notification failed."),Jt})},onNotification:(oe,Q)=>{ni();let ye;return Ac.func(oe)?d=oe:Q&&(Ac.string(oe)?(ye=oe,f.set(oe,{type:void 0,handler:Q})):(ye=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{ye!==void 0?f.delete(ye):d=void 0}}},onProgress:(oe,Q,ye)=>{if(_.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return _.set(Q,ye),{dispose:()=>{_.delete(Q)}}},sendProgress:(oe,Q,ye)=>Re.sendNotification(eM.type,{token:Q,value:ye}),onUnhandledProgress:Te.event,sendRequest:(oe,...Q)=>{ni(),In();let ye,Ke,ft;if(Ac.string(oe)){ye=oe;let Vt=Q[0],kt=Q[Q.length-1],K=0,Ne=_i.ParameterStructures.auto;_i.ParameterStructures.is(Vt)&&(K=1,Ne=Vt);let Bt=Q.length;Kre.CancellationToken.is(kt)&&(Bt=Bt-1,ft=kt);let Tr=Bt-K;switch(Tr){case 0:Ke=void 0;break;case 1:Ke=ii(Ne,Q[K]);break;default:if(Ne===_i.ParameterStructures.byName)throw new Error(`Received ${Tr} parameters for 'by Name' request parameter structure.`);Ke=Q.slice(K,Bt).map(He=>Ei(He));break}}else{let Vt=Q;ye=oe.method,Ke=ln(oe,Vt);let kt=oe.numberOfParams;ft=Kre.CancellationToken.is(Vt[kt])?Vt[kt]:void 0}let Jt=o++,nr;ft&&(nr=ft.onCancellationRequested(()=>{let Vt=ue.sender.sendCancellation(Re,Jt);return Vt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Jt}`),Promise.resolve()):Vt.catch(()=>{i.log(`Sending cancellation messages for id ${Jt} failed`)})}));let Xt={jsonrpc:c,id:Jt,method:ye,params:Ke};return nn(Xt),typeof ue.sender.enableCancellation=="function"&&ue.sender.enableCancellation(Xt),new Promise(async(Vt,kt)=>{let K=Tr=>{Vt(Tr),ue.sender.cleanup(Jt),nr?.dispose()},Ne=Tr=>{kt(Tr),ue.sender.cleanup(Jt),nr?.dispose()},Bt={method:ye,timerStart:Date.now(),resolve:K,reject:Ne};try{await e.write(Xt),k.set(Jt,Bt)}catch(Tr){throw i.error("Sending request failed."),Bt.reject(new _i.ResponseError(_i.ErrorCodes.MessageWriteError,Tr.message?Tr.message:"Unknown reason")),Tr}})},onRequest:(oe,Q)=>{ni();let ye=null;return Jre.is(oe)?(ye=void 0,u=oe):Ac.string(oe)?(ye=null,Q!==void 0&&(ye=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(ye=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{ye!==null&&(ye!==void 0?l.delete(ye):u=void 0)}}},hasPendingResponse:()=>k.size>0,trace:async(oe,Q,ye)=>{let Ke=!1,ft=y_.Text;ye!==void 0&&(Ac.boolean(ye)?Ke=ye:(Ke=ye.sendNotification||!1,ft=ye.traceFormat||y_.Text)),z=oe,re=ft,z===Rs.Off?ce=void 0:ce=Q,Ke&&!Le()&&!Ge()&&await Re.sendNotification(DIe.type,{value:Rs.toString(oe)})},onError:G.event,onClose:$.event,onUnhandledNotification:te.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if(Ge())return;_e=b_.Disposed,ae.fire(void 0);let oe=new _i.ResponseError(_i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of k.values())Q.reject(oe);k=new Map,M=new Map,H=new Set,D=new CIe.LinkedMap,Ac.func(e.dispose)&&e.dispose(),Ac.func(r.dispose)&&r.dispose()},listen:()=>{ni(),$r(),_e=b_.Listening,r.listen(Nr)},inspect:()=>{(0,SIe.default)().console.log("inspect")}};return Re.onNotification(Xre.type,oe=>{if(z===Rs.Off||!ce)return;let Q=z===Rs.Verbose||z===Rs.Compact;ce.log(oe.message,Q?oe.verbose:void 0)}),Re.onNotification(eM.type,oe=>{let Q=_.get(oe.token);Q?Q(oe.value):Te.fire(oe)}),Re}yn.createMessageConnection=Pbt});var tB=P(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProgressType=Ft.ProgressToken=Ft.createMessageConnection=Ft.NullLogger=Ft.ConnectionOptions=Ft.ConnectionStrategy=Ft.AbstractMessageBuffer=Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=Ft.ReadableStreamMessageReader=Ft.AbstractMessageReader=Ft.MessageReader=Ft.SharedArrayReceiverStrategy=Ft.SharedArraySenderStrategy=Ft.CancellationToken=Ft.CancellationTokenSource=Ft.Emitter=Ft.Event=Ft.Disposable=Ft.LRUCache=Ft.Touch=Ft.LinkedMap=Ft.ParameterStructures=Ft.NotificationType9=Ft.NotificationType8=Ft.NotificationType7=Ft.NotificationType6=Ft.NotificationType5=Ft.NotificationType4=Ft.NotificationType3=Ft.NotificationType2=Ft.NotificationType1=Ft.NotificationType0=Ft.NotificationType=Ft.ErrorCodes=Ft.ResponseError=Ft.RequestType9=Ft.RequestType8=Ft.RequestType7=Ft.RequestType6=Ft.RequestType5=Ft.RequestType4=Ft.RequestType3=Ft.RequestType2=Ft.RequestType1=Ft.RequestType0=Ft.RequestType=Ft.Message=Ft.RAL=void 0;Ft.MessageStrategy=Ft.CancellationStrategy=Ft.CancellationSenderStrategy=Ft.CancellationReceiverStrategy=Ft.ConnectionError=Ft.ConnectionErrors=Ft.LogTraceNotification=Ft.SetTraceNotification=Ft.TraceFormat=Ft.TraceValues=Ft.Trace=void 0;var fa=Dre();Object.defineProperty(Ft,"Message",{enumerable:!0,get:function(){return fa.Message}});Object.defineProperty(Ft,"RequestType",{enumerable:!0,get:function(){return fa.RequestType}});Object.defineProperty(Ft,"RequestType0",{enumerable:!0,get:function(){return fa.RequestType0}});Object.defineProperty(Ft,"RequestType1",{enumerable:!0,get:function(){return fa.RequestType1}});Object.defineProperty(Ft,"RequestType2",{enumerable:!0,get:function(){return fa.RequestType2}});Object.defineProperty(Ft,"RequestType3",{enumerable:!0,get:function(){return fa.RequestType3}});Object.defineProperty(Ft,"RequestType4",{enumerable:!0,get:function(){return fa.RequestType4}});Object.defineProperty(Ft,"RequestType5",{enumerable:!0,get:function(){return fa.RequestType5}});Object.defineProperty(Ft,"RequestType6",{enumerable:!0,get:function(){return fa.RequestType6}});Object.defineProperty(Ft,"RequestType7",{enumerable:!0,get:function(){return fa.RequestType7}});Object.defineProperty(Ft,"RequestType8",{enumerable:!0,get:function(){return fa.RequestType8}});Object.defineProperty(Ft,"RequestType9",{enumerable:!0,get:function(){return fa.RequestType9}});Object.defineProperty(Ft,"ResponseError",{enumerable:!0,get:function(){return fa.ResponseError}});Object.defineProperty(Ft,"ErrorCodes",{enumerable:!0,get:function(){return fa.ErrorCodes}});Object.defineProperty(Ft,"NotificationType",{enumerable:!0,get:function(){return fa.NotificationType}});Object.defineProperty(Ft,"NotificationType0",{enumerable:!0,get:function(){return fa.NotificationType0}});Object.defineProperty(Ft,"NotificationType1",{enumerable:!0,get:function(){return fa.NotificationType1}});Object.defineProperty(Ft,"NotificationType2",{enumerable:!0,get:function(){return fa.NotificationType2}});Object.defineProperty(Ft,"NotificationType3",{enumerable:!0,get:function(){return fa.NotificationType3}});Object.defineProperty(Ft,"NotificationType4",{enumerable:!0,get:function(){return fa.NotificationType4}});Object.defineProperty(Ft,"NotificationType5",{enumerable:!0,get:function(){return fa.NotificationType5}});Object.defineProperty(Ft,"NotificationType6",{enumerable:!0,get:function(){return fa.NotificationType6}});Object.defineProperty(Ft,"NotificationType7",{enumerable:!0,get:function(){return fa.NotificationType7}});Object.defineProperty(Ft,"NotificationType8",{enumerable:!0,get:function(){return fa.NotificationType8}});Object.defineProperty(Ft,"NotificationType9",{enumerable:!0,get:function(){return fa.NotificationType9}});Object.defineProperty(Ft,"ParameterStructures",{enumerable:!0,get:function(){return fa.ParameterStructures}});var nne=Ere();Object.defineProperty(Ft,"LinkedMap",{enumerable:!0,get:function(){return nne.LinkedMap}});Object.defineProperty(Ft,"LRUCache",{enumerable:!0,get:function(){return nne.LRUCache}});Object.defineProperty(Ft,"Touch",{enumerable:!0,get:function(){return nne.Touch}});var Ebt=pIe();Object.defineProperty(Ft,"Disposable",{enumerable:!0,get:function(){return Ebt.Disposable}});var RIe=Lx();Object.defineProperty(Ft,"Event",{enumerable:!0,get:function(){return RIe.Event}});Object.defineProperty(Ft,"Emitter",{enumerable:!0,get:function(){return RIe.Emitter}});var OIe=YH();Object.defineProperty(Ft,"CancellationTokenSource",{enumerable:!0,get:function(){return OIe.CancellationTokenSource}});Object.defineProperty(Ft,"CancellationToken",{enumerable:!0,get:function(){return OIe.CancellationToken}});var IIe=mIe();Object.defineProperty(Ft,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return IIe.SharedArraySenderStrategy}});Object.defineProperty(Ft,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return IIe.SharedArrayReceiverStrategy}});var ine=gIe();Object.defineProperty(Ft,"MessageReader",{enumerable:!0,get:function(){return ine.MessageReader}});Object.defineProperty(Ft,"AbstractMessageReader",{enumerable:!0,get:function(){return ine.AbstractMessageReader}});Object.defineProperty(Ft,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return ine.ReadableStreamMessageReader}});var one=bIe();Object.defineProperty(Ft,"MessageWriter",{enumerable:!0,get:function(){return one.MessageWriter}});Object.defineProperty(Ft,"AbstractMessageWriter",{enumerable:!0,get:function(){return one.AbstractMessageWriter}});Object.defineProperty(Ft,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return one.WriteableStreamMessageWriter}});var xbt=wIe();Object.defineProperty(Ft,"AbstractMessageBuffer",{enumerable:!0,get:function(){return xbt.AbstractMessageBuffer}});var zd=xIe();Object.defineProperty(Ft,"ConnectionStrategy",{enumerable:!0,get:function(){return zd.ConnectionStrategy}});Object.defineProperty(Ft,"ConnectionOptions",{enumerable:!0,get:function(){return zd.ConnectionOptions}});Object.defineProperty(Ft,"NullLogger",{enumerable:!0,get:function(){return zd.NullLogger}});Object.defineProperty(Ft,"createMessageConnection",{enumerable:!0,get:function(){return zd.createMessageConnection}});Object.defineProperty(Ft,"ProgressToken",{enumerable:!0,get:function(){return zd.ProgressToken}});Object.defineProperty(Ft,"ProgressType",{enumerable:!0,get:function(){return zd.ProgressType}});Object.defineProperty(Ft,"Trace",{enumerable:!0,get:function(){return zd.Trace}});Object.defineProperty(Ft,"TraceValues",{enumerable:!0,get:function(){return zd.TraceValues}});Object.defineProperty(Ft,"TraceFormat",{enumerable:!0,get:function(){return zd.TraceFormat}});Object.defineProperty(Ft,"SetTraceNotification",{enumerable:!0,get:function(){return zd.SetTraceNotification}});Object.defineProperty(Ft,"LogTraceNotification",{enumerable:!0,get:function(){return zd.LogTraceNotification}});Object.defineProperty(Ft,"ConnectionErrors",{enumerable:!0,get:function(){return zd.ConnectionErrors}});Object.defineProperty(Ft,"ConnectionError",{enumerable:!0,get:function(){return zd.ConnectionError}});Object.defineProperty(Ft,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return zd.CancellationReceiverStrategy}});Object.defineProperty(Ft,"CancellationSenderStrategy",{enumerable:!0,get:function(){return zd.CancellationSenderStrategy}});Object.defineProperty(Ft,"CancellationStrategy",{enumerable:!0,get:function(){return zd.CancellationStrategy}});Object.defineProperty(Ft,"MessageStrategy",{enumerable:!0,get:function(){return zd.MessageStrategy}});var Rbt=OC();Ft.RAL=Rbt.default});var MIe=P(une=>{"use strict";Object.defineProperty(une,"__esModule",{value:!0});var kIe=require("util"),jw=tB(),rB=class r extends jw.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new kIe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};rB.emptyBuffer=Buffer.allocUnsafe(0);var sne=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),jw.Disposable.create(()=>this.stream.off("data",e))}},ane=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},AIe=Object.freeze({messageBuffer:Object.freeze({create:r=>new rB(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new kIe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new sne(r),asWritableStream:r=>new ane(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function cne(){return AIe}(function(r){function e(){jw.RAL.install(AIe)}r.install=e})(cne||(cne={}));une.default=cne});var LT=P(Ro=>{"use strict";var Obt=Ro&&Ro.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ibt=Ro&&Ro.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Obt(e,r,t)};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.createMessageConnection=Ro.createServerSocketTransport=Ro.createClientSocketTransport=Ro.createServerPipeTransport=Ro.createClientPipeTransport=Ro.generateRandomPipeName=Ro.StreamMessageWriter=Ro.StreamMessageReader=Ro.SocketMessageWriter=Ro.SocketMessageReader=Ro.PortMessageWriter=Ro.PortMessageReader=Ro.IPCMessageWriter=Ro.IPCMessageReader=void 0;var jx=MIe();jx.default.install();var LIe=require("path"),kbt=require("os"),Abt=require("crypto"),oB=require("net"),Gm=tB();Ibt(tB(),Ro);var lne=class extends Gm.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Gm.Disposable.create(()=>this.process.off("message",e))}};Ro.IPCMessageReader=lne;var dne=class extends Gm.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Ro.IPCMessageWriter=dne;var fne=class extends Gm.AbstractMessageReader{constructor(e){super(),this.onData=new Gm.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Ro.PortMessageReader=fne;var hne=class extends Gm.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Ro.PortMessageWriter=hne;var AT=class extends Gm.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,jx.default)().stream.asReadableStream(e),t)}};Ro.SocketMessageReader=AT;var MT=class extends Gm.WriteableStreamMessageWriter{constructor(e,t){super((0,jx.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ro.SocketMessageWriter=MT;var nB=class extends Gm.ReadableStreamMessageReader{constructor(e,t){super((0,jx.default)().stream.asReadableStream(e),t)}};Ro.StreamMessageReader=nB;var iB=class extends Gm.WriteableStreamMessageWriter{constructor(e,t){super((0,jx.default)().stream.asWritableStream(e),t)}};Ro.StreamMessageWriter=iB;var NIe=process.env.XDG_RUNTIME_DIR,Mbt=new Map([["linux",107],["darwin",103]]);function Lbt(){let r=(0,Abt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;NIe?e=LIe.join(NIe,`vscode-ipc-${r}.sock`):e=LIe.join(kbt.tmpdir(),`vscode-${r}.sock`);let t=Mbt.get(process.platform);return t!==void 0&&e.length>t&&(0,jx.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}Ro.generateRandomPipeName=Lbt;function Nbt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,oB.createServer)(a=>{s.close(),t([new AT(a,e),new MT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Ro.createClientPipeTransport=Nbt;function qbt(r,e="utf-8"){let t=(0,oB.createConnection)(r);return[new AT(t,e),new MT(t,e)]}Ro.createServerPipeTransport=qbt;function Fbt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,oB.createServer)(a=>{s.close(),t([new AT(a,e),new MT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Ro.createClientSocketTransport=Fbt;function jbt(r,e="utf-8"){let t=(0,oB.createConnection)(r,"127.0.0.1");return[new AT(t,e),new MT(t,e)]}Ro.createServerSocketTransport=jbt;function zbt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function Ubt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function Hbt(r,e,t,n){t||(t=Gm.NullLogger);let i=zbt(r)?new nB(r):r,o=Ubt(e)?new iB(e):e;return Gm.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Gm.createMessageConnection)(i,o,t,n)}Ro.createMessageConnection=Hbt});var FIe=P((m6t,qIe)=>{"use strict";qIe.exports=LT()});var nM=P(rM=>{"use strict";Object.defineProperty(rM,"__esModule",{value:!0});rM.ServiceMoniker=void 0;var Bbt;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})(Bbt=rM.ServiceMoniker||(rM.ServiceMoniker={}))});var gne=P(IC=>{"use strict";var Wbt=IC&&IC.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(IC,"__esModule",{value:!0});IC.RpcConnection=IC.ServiceRpcDescriptor=void 0;var $bt=Wbt(require("assert")),pne=class{moniker;constructor(e){this.moniker=e,(0,$bt.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};IC.ServiceRpcDescriptor=pne;var mne=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};IC.RpcConnection=mne});var zIe=P(iM=>{"use strict";var Vbt=iM&&iM.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iM,"__esModule",{value:!0});var jIe=function(){},vne=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),jIe):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):jIe},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){Vbt(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(vne||(vne={}));iM.default=vne});var kC=P(_ne=>{"use strict";Object.defineProperty(_ne,"__esModule",{value:!0});var Gbt=zIe();_ne.default=Gbt.default});var UIe=P(zx=>{"use strict";var Kbt=zx&&zx.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zx,"__esModule",{value:!0});zx.CancellationTokenAdapters=void 0;var yne=Kbt(kC()),oM=LT();function Ybt(r){return r&&r.ImAProxy!==void 0}var bne=class{static isVSCode(e){return oM.CancellationToken.is(e)}static isCancellationToken(e){return e&&!Ybt(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return yne.default.CANCELLED;if(e===oM.CancellationToken.None)return yne.default.CONTINUE;{let t=yne.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return oM.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new oM.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return oM.CancellationToken.None}};zx.CancellationTokenAdapters=bne});var wne=P(Hx=>{"use strict";Object.defineProperty(Hx,"__esModule",{value:!0});Hx.registerInstanceMethodsAsRpcTargets=Hx.invokeRpc=void 0;var Ux=LT(),aB=UIe(),NT=cB();async function Jbt(r,e,t){if(e.length>0){if(Ux.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=sB(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ux.ParameterStructures.byPosition,...o,i)}else if(aB.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=aB.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=sB(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ux.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=sB(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ux.ParameterStructures.byPosition,...i)}}let n=sB(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,Ux.ParameterStructures.byPosition,...n);return nwt(t,i)}catch(i){for(let o of n)NT.IJsonRpcMarshaledObject.is(o)&&NT.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}Hx.invokeRpc=Jbt;function sB(r,e){return Qbt(e).map(t=>BIe(r,t))}async function Xbt(r,e){let t=await e;return BIe(r,t)}function BIe(r,e){return NT.RpcMarshalable.is(e)||NT.MarshaledObjectProxy.is(e)?NT.IJsonRpcMarshaledObject.wrap(e,r):e}function Qbt(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function Zbt(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function ewt(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&Zbt(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function twt(r){if(r.length>0&&aB.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=aB.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function rwt(r,e){return NT.IJsonRpcMarshaledObject.is(e)?NT.IJsonRpcMarshaledObject.unwrap(e,r):e}function WIe(r,e){return rwt(r,e)}function HIe(r,e){return twt(e).map(t=>WIe(r,t))}function nwt(r,e){return WIe(r,e)}function iwt(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>Xbt(e,s.apply(r,HIe(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,HIe(e,c))))}return ewt(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),Ux.Disposable.create(()=>n.forEach(o=>o.dispose()))}Hx.registerInstanceMethodsAsRpcTargets=iwt});var cB=P(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.IJsonRpcMarshaledObject=Km.MarshaledObjectProxy=Km.RpcMarshalable=Km.registerReleaseMarshaledObjectCallback=void 0;var owt=LT(),$Ie=wne(),VIe="$/releaseMarshaledObject";function swt(r){r.onNotification(VIe,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}Km.registerReleaseMarshaledObjectCallback=swt;function GIe(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var awt;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(awt=Km.RpcMarshalable||(Km.RpcMarshalable={}));var KIe;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(KIe=Km.MarshaledObjectProxy||(Km.MarshaledObjectProxy={}));var cwt={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=GIe(r._jsonrpcMarshaledHandle,e.toString());return(0,$Ie.invokeRpc)(t,arguments,r.messageConnection)}}}};function Sne(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var uwt;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=Sne(s);if(KIe.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,$Ie.registerInstanceMethodsAsRpcTargets)(o,s,d=>GIe(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){Sne(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=Sne(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(VIe,owt.ParameterStructures.byName,d)}}};c=new Proxy(l,cwt),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(uwt=Km.IJsonRpcMarshaledObject||(Km.IJsonRpcMarshaledObject={}))});var Cne=P(nv=>{"use strict";var lwt=nv&&nv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nv,"__esModule",{value:!0});nv.isChannel=nv.clone=nv.isReadWriteStream=nv.constructMessageConnection=void 0;var dwt=lwt(require("assert")),fwt=cB();function hwt(r,e){(0,dwt.default)(r);let t;return YIe(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,fwt.registerReleaseMarshaledObjectCallback)(t),t}nv.constructMessageConnection=hwt;function YIe(r){return r&&"unshift"in r}nv.isReadWriteStream=YIe;function pwt(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}nv.clone=pwt;function mwt(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}nv.isChannel=mwt});var Pne=P(Dne=>{"use strict";var uB=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};Dne.Semaphore=uB;var Tne=class extends uB{constructor(){super(1)}};Dne.Mutex=Tne});var sM=P(lB=>{"use strict";Object.defineProperty(lB,"__esModule",{value:!0});lB.Deferred=void 0;var Ene=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};lB.Deferred=Ene});var Bx=P(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.removeFromQueue=jf.requireInteger=jf.throwIfDisposed=jf.getBufferFrom=jf.readSubstream=jf.writeSubstream=jf.writeAsync=void 0;var XIe=require("stream"),JIe=sM();async function xne(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}jf.writeAsync=xne;function gwt(r){return new XIe.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await xne(r,Buffer.from(i.buffer)),await xne(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}jf.writeSubstream=gwt;function vwt(r){return new XIe.Readable({async read(e){let t=await Rne(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await Rne(r,i);this.push(o)}})}jf.readSubstream=vwt;async function Rne(r,e,t=!1,n){let i=new JIe.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new JIe.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}jf.getBufferFrom=Rne;function _wt(r){if(r.isDisposed)throw new Error("disposed")}jf.throwIfDisposed=_wt;function ywt(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}jf.requireInteger=ywt;function bwt(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}jf.removeFromQueue=bwt});var ZIe=P(AC=>{"use strict";var wwt=AC&&AC.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AC,"__esModule",{value:!0});AC.BE32MessageWriter=AC.BE32MessageReader=void 0;var One=LT(),Swt=wwt(kC()),QIe=require("stream"),Cwt=Pne(),dB=Bx(),Ine=class extends One.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=Swt.default.create();return(async()=>{try{for(;;){let n=await(0,dB.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,dB.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),One.Disposable.create(()=>t.cancel())}};AC.BE32MessageReader=Ine;var kne=class extends One.AbstractMessageWriter{writable;encoder;semaphore=new Cwt.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof QIe.Writable&&this.writable.cork();let n=Promise.all([(0,dB.writeAsync)(this.writable,this.headerBuffer),(0,dB.writeAsync)(this.writable,t)]);this.writable instanceof QIe.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([Twt(t),void 0,this.errorCount])}})}end(){this.writable.end()}};AC.BE32MessageWriter=kne;function Twt(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var tke=P((Mne,eke)=>{eke.exports=Ane(typeof Buffer<"u"&&Buffer)||Ane(Mne.Buffer)||Ane(typeof window<"u"&&window.Buffer)||Mne.Buffer;function Ane(r){return r&&r.isBuffer&&r}});var fB=P((x6t,rke)=>{var Dwt={}.toString;rke.exports=Array.isArray||function(r){return Dwt.call(r)=="[object Array]"}});var oke=P(($x,ike)=>{var Wx=Ym(),$x=ike.exports=nke(0);$x.alloc=nke;$x.concat=Wx.concat;$x.from=Pwt;function nke(r){return new Array(r)}function Pwt(r){if(!Wx.isBuffer(r)&&Wx.isView(r))r=Wx.Uint8Array.from(r);else if(Wx.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return Wx.from.call($x,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var cke=P((Gx,ake)=>{var zw=Ym(),Vx=zw.global,Gx=ake.exports=zw.hasBuffer?ske(0):[];Gx.alloc=zw.hasBuffer&&Vx.alloc||ske;Gx.concat=zw.concat;Gx.from=Ewt;function ske(r){return new Vx(r)}function Ewt(r){if(!zw.isBuffer(r)&&zw.isView(r))r=zw.Uint8Array.from(r);else if(zw.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return zw.from.call(Gx,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Vx.from&&Vx.from.length!==1?Vx.from(r):new Vx(r)}});var dke=P((Kx,lke)=>{var hB=Ym(),Kx=lke.exports=hB.hasArrayBuffer?uke(0):[];Kx.alloc=uke;Kx.concat=hB.concat;Kx.from=xwt;function uke(r){return new Uint8Array(r)}function xwt(r){if(hB.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return hB.from.call(Kx,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var fke=P(pB=>{pB.copy=Iwt;pB.toString=Owt;pB.write=Rwt;function Rwt(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function Owt(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function Iwt(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var mB=P(aM=>{var Lne=fke();aM.copy=gke;aM.slice=vke;aM.toString=kwt;aM.write=Awt("write");var MC=Ym(),hke=MC.global,pke=MC.hasBuffer&&"TYPED_ARRAY_SUPPORT"in hke,mke=pke&&!hke.TYPED_ARRAY_SUPPORT;function gke(r,e,t,n){var i=MC.isBuffer(this),o=MC.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!mke&&!i&&!o&&MC.isView(this)&&MC.isView(r)){var s=t||n!=null?vke.call(this,t,n):this;return r.set(s,e),s.length}else return Lne.copy.call(this,r,e,t,n)}function vke(r,e){var t=this.slice||!mke&&this.subarray;if(t)return t.call(this,r,e);var n=MC.alloc.call(this,e-r);return gke.call(this,n,0,r,e),n}function kwt(r,e,t){var n=!pke&&MC.isBuffer(this)?this.toString:Lne.toString;return n.apply(this,arguments)}function Awt(r){return e;function e(){var t=this[r]||Lne[r];return t.apply(this,arguments)}}});var Ym=P(zf=>{var Nne=zf.global=tke(),wke=zf.hasBuffer=Nne&&!!Nne.isBuffer,Fne=zf.hasArrayBuffer=typeof ArrayBuffer<"u",Mwt=zf.isArray=fB();zf.isArrayBuffer=Fne?zwt:zne;var Lwt=zf.isBuffer=wke?Nne.isBuffer:zne,Nwt=zf.isView=Fne?ArrayBuffer.isView||Cke("ArrayBuffer","buffer"):zne;zf.alloc=jne;zf.concat=Fwt;zf.from=qwt;var _ke=zf.Array=oke(),yke=zf.Buffer=cke(),bke=zf.Uint8Array=dke(),qne=zf.prototype=mB();function qwt(r){return typeof r=="string"?Uwt.call(this,r):Ske(this).from(r)}function jne(r){return Ske(this).alloc(r)}function Fwt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==zf&&this||r[0],n=jne.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=qne.copy.call(a,n,i)}}var jwt=Cke("ArrayBuffer");function zwt(r){return r instanceof ArrayBuffer||jwt(r)}function Uwt(r){var e=r.length*3,t=jne.call(this,e),n=qne.write.call(t,r);return e!==n&&(t=qne.slice.call(t,0,n)),t}function Ske(r){return Lwt(r)?yke:Nwt(r)?bke:Mwt(r)?_ke:wke?yke:Fne?bke:_ke}function zne(){return!1}function Cke(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var gB=P(Tke=>{Tke.ExtBuffer=Une;var Hwt=Ym();function Une(r,e){if(!(this instanceof Une))return new Une(r,e);this.buffer=Hwt.from(r),this.type=e}});var Pke=P(Dke=>{Dke.setExtPackers=$wt;var vB=Ym(),Bwt=vB.global,w_=vB.Uint8Array.from,Hne,Wwt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function $wt(r){r.addExtPacker(14,Error,[qT,iv]),r.addExtPacker(1,EvalError,[qT,iv]),r.addExtPacker(2,RangeError,[qT,iv]),r.addExtPacker(3,ReferenceError,[qT,iv]),r.addExtPacker(4,SyntaxError,[qT,iv]),r.addExtPacker(5,TypeError,[qT,iv]),r.addExtPacker(6,URIError,[qT,iv]),r.addExtPacker(10,RegExp,[Vwt,iv]),r.addExtPacker(11,Boolean,[Bne,iv]),r.addExtPacker(12,String,[Bne,iv]),r.addExtPacker(13,Date,[Number,iv]),r.addExtPacker(15,Number,[Bne,iv]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,w_),r.addExtPacker(18,Uint8Array,w_),r.addExtPacker(19,Int16Array,w_),r.addExtPacker(20,Uint16Array,w_),r.addExtPacker(21,Int32Array,w_),r.addExtPacker(22,Uint32Array,w_),r.addExtPacker(23,Float32Array,w_),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,w_),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,w_),r.addExtPacker(26,ArrayBuffer,w_),r.addExtPacker(29,DataView,w_)),vB.hasBuffer&&r.addExtPacker(27,Bwt,vB.from)}function iv(r){return Hne||(Hne=Wne().encode),Hne(r)}function Bne(r){return r.valueOf()}function Vwt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function qT(r){var e={};for(var t in Wwt)e[t]=r[t];return e}});var _B=P(cM=>{var Gwt,Kwt,Ywt,Jwt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||ce,a=4294967296,c=16777216,u;Gwt=l("Uint64BE",!0,!0),Kwt=l("Int64BE",!0,!1),Ywt=l("Uint64LE",!1,!0),Jwt=l("Int64LE",!1,!1);function l(_e,G,$){var te=G?0:4,Te=G?4:0,ae=G?0:3,ue=G?1:2,Fe=G?2:1,qe=G?3:0,le=G?H:z,Ce=G?M:re,be=Ge.prototype,xe="is"+_e,Le="_"+xe;return be.buffer=void 0,be.offset=0,be[Le]=!0,be.toNumber=ct,be.toString=tt,be.toJSON=ct,be.toArray=d,t&&(be.toBuffer=f),n&&(be.toArrayBuffer=_),Ge[xe]=Ct,r[_e]=Ge,Ge;function Ge(Hr,fr,It,mr){return this instanceof Ge?ze(this,Hr,fr,It,mr):new Ge(Hr,fr,It,mr)}function Ct(Hr){return!!(Hr&&Hr[Le])}function ze(Hr,fr,It,mr,Lt){if(n&&i&&(fr instanceof i&&(fr=new n(fr)),mr instanceof i&&(mr=new n(mr))),!fr&&!It&&!mr&&!u){Hr.buffer=k(o,0);return}if(!y(fr,It)){var nn=u||Array;Lt=It,mr=fr,It=0,fr=new nn(8)}Hr.buffer=fr,Hr.offset=It|=0,e!==typeof mr&&(typeof mr=="string"?at(fr,It,mr,Lt||10):y(mr,Lt)?D(fr,It,mr,Lt):typeof Lt=="number"?(pr(fr,It+te,mr),pr(fr,It+Te,Lt)):mr>0?le(fr,It,mr):mr<0?Ce(fr,It,mr):D(fr,It,o,0))}function at(Hr,fr,It,mr){var Lt=0,nn=It.length,cn=0,xn=0;It[0]==="-"&&Lt++;for(var Rr=Lt;Lt<nn;){var Un=parseInt(It[Lt++],mr);if(!(Un>=0))break;xn=xn*mr+Un,cn=cn*mr+Math.floor(xn/a),xn%=a}Rr&&(cn=~cn,xn?xn=a-xn:cn++),pr(Hr,fr+te,cn),pr(Hr,fr+Te,xn)}function ct(){var Hr=this.buffer,fr=this.offset,It=Nr(Hr,fr+te),mr=Nr(Hr,fr+Te);return $||(It|=0),It?It*a+mr:mr}function tt(Hr){var fr=this.buffer,It=this.offset,mr=Nr(fr,It+te),Lt=Nr(fr,It+Te),nn="",cn=!$&&mr&2147483648;for(cn&&(mr=~mr,Lt=a-Lt),Hr=Hr||10;;){var xn=mr%Hr*a+Lt;if(mr=Math.floor(mr/Hr),Lt=Math.floor(xn/Hr),nn=(xn%Hr).toString(Hr)+nn,!mr&&!Lt)break}return cn&&(nn="-"+nn),nn}function pr(Hr,fr,It){Hr[fr+qe]=It&255,It=It>>8,Hr[fr+Fe]=It&255,It=It>>8,Hr[fr+ue]=It&255,It=It>>8,Hr[fr+ae]=It&255}function Nr(Hr,fr){return Hr[fr+ae]*c+(Hr[fr+ue]<<16)+(Hr[fr+Fe]<<8)+Hr[fr+qe]}}function d(_e){var G=this.buffer,$=this.offset;return u=null,_e!==!1&&$===0&&G.length===8&&s(G)?G:k(G,$)}function f(_e){var G=this.buffer,$=this.offset;if(u=t,_e!==!1&&$===0&&G.length===8&&Buffer.isBuffer(G))return G;var te=new t(8);return D(te,0,G,$),te}function _(_e){var G=this.buffer,$=this.offset,te=G.buffer;if(u=n,_e!==!1&&$===0&&te instanceof i&&te.byteLength===8)return te;var Te=new n(8);return D(Te,0,G,$),Te.buffer}function y(_e,G){var $=_e&&_e.length;return G|=0,$&&G+8<=$&&typeof _e[G]!="string"}function D(_e,G,$,te){G|=0,te|=0;for(var Te=0;Te<8;Te++)_e[G++]=$[te++]&255}function k(_e,G){return Array.prototype.slice.call(_e,G,G+8)}function H(_e,G,$){for(var te=G+8;te>G;)_e[--te]=$&255,$/=256}function M(_e,G,$){var te=G+8;for($++;te>G;)_e[--te]=-$&255^255,$/=256}function z(_e,G,$){for(var te=G+8;G<te;)_e[G++]=$&255,$/=256}function re(_e,G,$){var te=G+8;for($++;G<te;)_e[G++]=-$&255^255,$/=256}function ce(_e){return!!_e&&Object.prototype.toString.call(_e)=="[object Array]"}})(typeof cM=="object"&&typeof cM.nodeName!="string"?cM:cM||{})});var Vne=P($ne=>{$ne.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,_=r[e+d];for(d+=f,o=_&(1<<-l)-1,_>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(_?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(_?-1:1)*s*Math.pow(2,o-n)};$ne.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:o-1,y=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+_]=a&255,_+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+_]=s&255,_+=y,s/=256,u-=8);r[t+_-y]|=D*128}});var Gne=P(Eke=>{var Xwt=Eke.uint8=new Array(256);for(uM=0;uM<=255;uM++)Xwt[uM]=Qwt(uM);var uM;function Qwt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var Fke=P(qke=>{var Rke=Vne(),Oke=_B(),Zwt=Oke.Uint64BE,eSt=Oke.Int64BE,Ike=Gne().uint8,yB=Ym(),oc=yB.global,tSt=yB.hasBuffer&&"TYPED_ARRAY_SUPPORT"in oc,rSt=tSt&&!oc.TYPED_ARRAY_SUPPORT,xke=yB.hasBuffer&&oc.prototype||{};qke.getWriteToken=nSt;function nSt(r){return r&&r.uint8array?iSt():rSt||yB.hasBuffer&&r&&r.safe?oSt():kke()}function iSt(){var r=kke();return r[202]=Os(202,4,Lke),r[203]=Os(203,8,Nke),r}function kke(){var r=Ike.slice();return r[196]=lM(196),r[197]=FT(197),r[198]=jT(198),r[199]=lM(199),r[200]=FT(200),r[201]=jT(201),r[202]=Os(202,4,xke.writeFloatBE||Lke,!0),r[203]=Os(203,8,xke.writeDoubleBE||Nke,!0),r[204]=lM(204),r[205]=FT(205),r[206]=jT(206),r[207]=Os(207,8,Ake),r[208]=lM(208),r[209]=FT(209),r[210]=jT(210),r[211]=Os(211,8,Mke),r[217]=lM(217),r[218]=FT(218),r[219]=jT(219),r[220]=FT(220),r[221]=jT(221),r[222]=FT(222),r[223]=jT(223),r}function oSt(){var r=Ike.slice();return r[196]=Os(196,1,oc.prototype.writeUInt8),r[197]=Os(197,2,oc.prototype.writeUInt16BE),r[198]=Os(198,4,oc.prototype.writeUInt32BE),r[199]=Os(199,1,oc.prototype.writeUInt8),r[200]=Os(200,2,oc.prototype.writeUInt16BE),r[201]=Os(201,4,oc.prototype.writeUInt32BE),r[202]=Os(202,4,oc.prototype.writeFloatBE),r[203]=Os(203,8,oc.prototype.writeDoubleBE),r[204]=Os(204,1,oc.prototype.writeUInt8),r[205]=Os(205,2,oc.prototype.writeUInt16BE),r[206]=Os(206,4,oc.prototype.writeUInt32BE),r[207]=Os(207,8,Ake),r[208]=Os(208,1,oc.prototype.writeInt8),r[209]=Os(209,2,oc.prototype.writeInt16BE),r[210]=Os(210,4,oc.prototype.writeInt32BE),r[211]=Os(211,8,Mke),r[217]=Os(217,1,oc.prototype.writeUInt8),r[218]=Os(218,2,oc.prototype.writeUInt16BE),r[219]=Os(219,4,oc.prototype.writeUInt32BE),r[220]=Os(220,2,oc.prototype.writeUInt16BE),r[221]=Os(221,4,oc.prototype.writeUInt32BE),r[222]=Os(222,2,oc.prototype.writeUInt16BE),r[223]=Os(223,4,oc.prototype.writeUInt32BE),r}function lM(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function FT(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function jT(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function Os(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function Ake(r,e){new Zwt(this,e,r)}function Mke(r,e){new eSt(this,e,r)}function Lke(r,e){Rke.write(this,r,e,!1,23,4)}function Nke(r,e){Rke.write(this,r,e,!1,52,8)}});var Bke=P(Hke=>{var sSt=fB(),Uke=_B(),aSt=Uke.Uint64BE,cSt=Uke.Int64BE,jke=Ym(),zke=mB(),uSt=Fke(),lSt=Gne().uint8,dSt=gB().ExtBuffer,fSt=typeof Uint8Array<"u",hSt=typeof Map<"u",Yx=[];Yx[1]=212;Yx[2]=213;Yx[4]=214;Yx[8]=215;Yx[16]=216;Hke.getWriteType=pSt;function pSt(r){var e=uSt.getWriteToken(r),t=r&&r.useraw,n=fSt&&r&&r.binarraybuffer,i=n?jke.isArrayBuffer:jke.isBuffer,o=n?ce:re,s=hSt&&r&&r.usemap,a=s?$:G,c={boolean:u,function:M,number:l,object:t?H:k,string:D(t?y:_),symbol:M,undefined:M};return c;function u(Te,ae){var ue=ae?195:194;e[ue](Te,ae)}function l(Te,ae){var ue=ae|0,Fe;if(ae!==ue){Fe=203,e[Fe](Te,ae);return}else-32<=ue&&ue<=127?Fe=ue&255:0<=ue?Fe=ue<=255?204:ue<=65535?205:206:Fe=-128<=ue?208:-32768<=ue?209:210;e[Fe](Te,ue)}function d(Te,ae){var ue=207;e[ue](Te,ae.toArray())}function f(Te,ae){var ue=211;e[ue](Te,ae.toArray())}function _(Te){return Te<32?1:Te<=255?2:Te<=65535?3:5}function y(Te){return Te<32?1:Te<=65535?3:5}function D(Te){return ae;function ae(ue,Fe){var qe=Fe.length,le=5+qe*3;ue.offset=ue.reserve(le);var Ce=ue.buffer,be=Te(qe),xe=ue.offset+be;qe=zke.write.call(Ce,Fe,xe);var Le=Te(qe);if(be!==Le){var Ge=xe+Le-be,Ct=xe+qe;zke.copy.call(Ce,Ce,Ge,xe,Ct)}var ze=Le===1?160+qe:Le<=3?215+Le:219;e[ze](ue,qe),ue.offset+=qe}}function k(Te,ae){if(ae===null)return M(Te,ae);if(i(ae))return o(Te,ae);if(sSt(ae))return z(Te,ae);if(aSt.isUint64BE(ae))return d(Te,ae);if(cSt.isInt64BE(ae))return f(Te,ae);var ue=Te.codec.getExtPacker(ae);if(ue&&(ae=ue(ae)),ae instanceof dSt)return _e(Te,ae);a(Te,ae)}function H(Te,ae){if(i(ae))return te(Te,ae);k(Te,ae)}function M(Te,ae){var ue=192;e[ue](Te,ae)}function z(Te,ae){var ue=ae.length,Fe=ue<16?144+ue:ue<=65535?220:221;e[Fe](Te,ue);for(var qe=Te.codec.encode,le=0;le<ue;le++)qe(Te,ae[le])}function re(Te,ae){var ue=ae.length,Fe=ue<255?196:ue<=65535?197:198;e[Fe](Te,ue),Te.send(ae)}function ce(Te,ae){re(Te,new Uint8Array(ae))}function _e(Te,ae){var ue=ae.buffer,Fe=ue.length,qe=Yx[Fe]||(Fe<255?199:Fe<=65535?200:201);e[qe](Te,Fe),lSt[ae.type](Te),Te.send(ue)}function G(Te,ae){var ue=Object.keys(ae),Fe=ue.length,qe=Fe<16?128+Fe:Fe<=65535?222:223;e[qe](Te,Fe);var le=Te.codec.encode;ue.forEach(function(Ce){le(Te,Ce),le(Te,ae[Ce])})}function $(Te,ae){if(!(ae instanceof Map))return G(Te,ae);var ue=ae.size,Fe=ue<16?128+ue:ue<=65535?222:223;e[Fe](Te,ue);var qe=Te.codec.encode;ae.forEach(function(le,Ce,be){qe(Te,Ce),qe(Te,le)})}function te(Te,ae){var ue=ae.length,Fe=ue<32?160+ue:ue<=65535?218:219;e[Fe](Te,ue),Te.send(ae)}}});var fM=P(dM=>{var mSt=fB();dM.createCodec=Wke;dM.install=vSt;dM.filter=bSt;var gSt=Ym();function Jx(r){if(!(this instanceof Jx))return new Jx(r);this.options=r,this.init()}Jx.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=gSt.Uint8Array),this};function vSt(r){for(var e in r)Jx.prototype[e]=_St(Jx.prototype[e],r[e])}function _St(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function ySt(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function bSt(r){return mSt(r)?ySt(r):r}function Wke(r){return new Jx(r)}dM.preset=Wke({preset:!0})});var bB=P(Vke=>{var wSt=gB().ExtBuffer,SSt=Pke(),CSt=Bke(),Kne=fM();Kne.install({addExtPacker:DSt,getExtPacker:PSt,init:$ke});Vke.preset=$ke.call(Kne.preset);function TSt(r){var e=CSt.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function $ke(){var r=this.options;return this.encode=TSt(r),r&&r.preset&&SSt.setExtPackers(this),this}function DSt(r,e,t){t=Kne.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new wSt(a,r)}}function PSt(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var Jne=P(Yne=>{Yne.FlexDecoder=Xx;Yne.FlexEncoder=Qx;var hM=Ym(),ESt=2048,xSt=65536,Gke="BUFFER_SHORTAGE";function Xx(){if(!(this instanceof Xx))return new Xx}function Qx(){if(!(this instanceof Qx))return new Qx}Xx.mixin=Jke(RSt());Xx.mixin(Xx.prototype);Qx.mixin=Jke(OSt());Qx.mixin(Qx.prototype);function RSt(){return{bufferish:hM,write:r,fetch:kSt,flush:e,push:Yke,pull:ASt,read:Kke,reserve:t,offset:0};function r(n){var i=this.offset?hM.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=Gke)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(Gke);return this.offset=o,i}}function OSt(){return{bufferish:hM,write:ISt,fetch:r,flush:e,push:Yke,pull:t,read:Kke,reserve:n,send:i,maxBufferSize:xSt,minBufferSize:ESt,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return hM.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);hM.prototype.copy.call(o,this.buffer,a)}}}function ISt(){throw new Error("method not implemented: write()")}function kSt(){throw new Error("method not implemented: fetch()")}function Kke(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function Yke(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function ASt(){var r=this.buffers||(this.buffers=[]);return r.shift()}function Jke(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var wB=P(Xke=>{Xke.EncodeBuffer=Zx;var MSt=bB().preset,LSt=Jne().FlexEncoder;LSt.mixin(Zx.prototype);function Zx(r){if(!(this instanceof Zx))return new Zx(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}Zx.prototype.codec=MSt;Zx.prototype.write=function(r){this.codec.encode(this,r)}});var Wne=P(Qke=>{Qke.encode=qSt;var NSt=wB().EncodeBuffer;function qSt(r,e){var t=new NSt(e);return t.write(r),t.read()}});var t1e=P(e1e=>{e1e.setExtUnpackers=zSt;var Zke=Ym(),FSt=Zke.global,Xne,jSt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function zSt(r){r.addExtUnpacker(14,[ov,zT(Error)]),r.addExtUnpacker(1,[ov,zT(EvalError)]),r.addExtUnpacker(2,[ov,zT(RangeError)]),r.addExtUnpacker(3,[ov,zT(ReferenceError)]),r.addExtUnpacker(4,[ov,zT(SyntaxError)]),r.addExtUnpacker(5,[ov,zT(TypeError)]),r.addExtUnpacker(6,[ov,zT(URIError)]),r.addExtUnpacker(10,[ov,USt]),r.addExtUnpacker(11,[ov,Bh(Boolean)]),r.addExtUnpacker(12,[ov,Bh(String)]),r.addExtUnpacker(13,[ov,Bh(Date)]),r.addExtUnpacker(15,[ov,Bh(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,Bh(Int8Array)),r.addExtUnpacker(18,Bh(Uint8Array)),r.addExtUnpacker(19,[LC,Bh(Int16Array)]),r.addExtUnpacker(20,[LC,Bh(Uint16Array)]),r.addExtUnpacker(21,[LC,Bh(Int32Array)]),r.addExtUnpacker(22,[LC,Bh(Uint32Array)]),r.addExtUnpacker(23,[LC,Bh(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[LC,Bh(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,Bh(Uint8ClampedArray)),r.addExtUnpacker(26,LC),r.addExtUnpacker(29,[LC,Bh(DataView)])),Zke.hasBuffer&&r.addExtUnpacker(27,Bh(FSt))}function ov(r){return Xne||(Xne=Qne().decode),Xne(r)}function USt(r){return RegExp.apply(null,r)}function zT(r){return function(e){var t=new r;for(var n in jSt)t[n]=e[n];return t}}function Bh(r){return function(e){return new r(e)}}function LC(r){return new Uint8Array(r).buffer}});var tie=P(eie=>{var r1e=Vne(),n1e=_B(),i1e=n1e.Uint64BE,o1e=n1e.Int64BE;eie.getReadFormat=WSt;eie.readUint8=s1e;var Zne=Ym(),CB=mB(),HSt=typeof Map<"u",BSt=!0;function WSt(r){var e=Zne.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=HSt&&r&&r.usemap,i={map:n?VSt:$St,array:GSt,str:KSt,bin:e?JSt:YSt,ext:XSt,uint8:s1e,uint16:ZSt,uint32:tCt,uint64:SB(8,t?oCt:nCt),int8:QSt,int16:eCt,int32:rCt,int64:SB(8,t?sCt:iCt),float32:SB(4,aCt),float64:SB(8,cCt)};return i}function $St(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function VSt(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function GSt(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function KSt(r,e){var t=r.reserve(e),n=t+e;return CB.toString.call(r.buffer,"utf-8",t,n)}function YSt(r,e){var t=r.reserve(e),n=t+e,i=CB.slice.call(r.buffer,t,n);return Zne.from(i)}function JSt(r,e){var t=r.reserve(e),n=t+e,i=CB.slice.call(r.buffer,t,n);return Zne.Uint8Array.from(i).buffer}function XSt(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=CB.slice.call(r.buffer,t,i);return o(s)}function s1e(r){var e=r.reserve(1);return r.buffer[e]}function QSt(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function ZSt(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function eCt(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function tCt(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function rCt(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function SB(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,BSt)}}function nCt(r){return new i1e(this,r).toNumber()}function iCt(r){return new o1e(this,r).toNumber()}function oCt(r){return new i1e(this,r)}function sCt(r){return new o1e(this,r)}function aCt(r){return r1e.read(this,r,!1,23,4)}function cCt(r){return r1e.read(this,r,!1,52,8)}});var u1e=P(c1e=>{var uCt=tie();c1e.getReadToken=lCt;function lCt(r){var e=uCt.getReadFormat(r);return r&&r.useraw?dCt(e):a1e(e)}function a1e(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=pM(e);for(e=128;e<=143;e++)t[e]=Uw(e-128,r.map);for(e=144;e<=159;e++)t[e]=Uw(e-144,r.array);for(e=160;e<=191;e++)t[e]=Uw(e-160,r.str);for(t[192]=pM(null),t[193]=null,t[194]=pM(!1),t[195]=pM(!0),t[196]=Jm(r.uint8,r.bin),t[197]=Jm(r.uint16,r.bin),t[198]=Jm(r.uint32,r.bin),t[199]=Jm(r.uint8,r.ext),t[200]=Jm(r.uint16,r.ext),t[201]=Jm(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=Uw(1,r.ext),t[213]=Uw(2,r.ext),t[214]=Uw(4,r.ext),t[215]=Uw(8,r.ext),t[216]=Uw(16,r.ext),t[217]=Jm(r.uint8,r.str),t[218]=Jm(r.uint16,r.str),t[219]=Jm(r.uint32,r.str),t[220]=Jm(r.uint16,r.array),t[221]=Jm(r.uint32,r.array),t[222]=Jm(r.uint16,r.map),t[223]=Jm(r.uint32,r.map),e=224;e<=255;e++)t[e]=pM(e-256);return t}function dCt(r){var e,t=a1e(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=Uw(e-160,r.bin);return t}function pM(r){return function(){return r}}function Jm(r,e){return function(t){var n=r(t);return e(t,n)}}function Uw(r,e){return function(t){return e(t,r)}}});var TB=P(d1e=>{var fCt=gB().ExtBuffer,hCt=t1e(),pCt=tie().readUint8,mCt=u1e(),rie=fM();rie.install({addExtUnpacker:vCt,getExtUnpacker:_Ct,init:l1e});d1e.preset=l1e.call(rie.preset);function gCt(r){var e=mCt.getReadToken(r);return t;function t(n){var i=pCt(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function l1e(){var r=this.options;return this.decode=gCt(r),r&&r.preset&&hCt.setExtUnpackers(this),this}function vCt(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=rie.filter(e)}function _Ct(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new fCt(n,r)}}});var DB=P(f1e=>{f1e.DecodeBuffer=eR;var yCt=TB().preset,bCt=Jne().FlexDecoder;bCt.mixin(eR.prototype);function eR(r){if(!(this instanceof eR))return new eR(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}eR.prototype.codec=yCt;eR.prototype.fetch=function(){return this.codec.decode(this)}});var Qne=P(h1e=>{h1e.decode=SCt;var wCt=DB().DecodeBuffer;function SCt(r,e){var t=new wCt(e);return t.write(r),t.read()}});var oie=P((J6t,iie)=>{function nie(){if(!(this instanceof nie))return new nie}(function(r){typeof iie<"u"&&(iie.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(_),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function _(y){return y!==l&&y.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var _=arguments.length;if(_===1)f.forEach(D);else if(_===2)f.forEach(k);else{var y=Array.prototype.slice.call(arguments,1);f.forEach(H)}return!!f.length;function D(M){M.call(d)}function k(M){M.call(d,l)}function H(M){M.apply(d,y)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(nie)});var g1e=P(m1e=>{m1e.Encoder=UT;var CCt=oie(),p1e=wB().EncodeBuffer;function UT(r){if(!(this instanceof UT))return new UT(r);p1e.call(this,r)}UT.prototype=new p1e;CCt.mixin(UT.prototype);UT.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};UT.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var y1e=P(_1e=>{_1e.Decoder=NC;var TCt=oie(),v1e=DB().DecodeBuffer;function NC(r){if(!(this instanceof NC))return new NC(r);v1e.call(this,r)}NC.prototype=new v1e;TCt.mixin(NC.prototype);NC.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};NC.prototype.push=function(r){this.emit("data",r)};NC.prototype.end=function(r){this.decode(r),this.emit("end")}});var S1e=P(w1e=>{w1e.createEncodeStream=tR;var DCt=require("util"),b1e=require("stream").Transform,PCt=wB().EncodeBuffer;DCt.inherits(tR,b1e);var ECt={objectMode:!0};function tR(r){if(!(this instanceof tR))return new tR(r);r?r.objectMode=!0:r=ECt,b1e.call(this,r);var e=this,t=this.encoder=new PCt(r);t.push=function(n){e.push(n)}}tR.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};tR.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var D1e=P(T1e=>{T1e.createDecodeStream=mM;var xCt=require("util"),C1e=require("stream").Transform,RCt=DB().DecodeBuffer;xCt.inherits(mM,C1e);var OCt={objectMode:!0};function mM(r){if(!(this instanceof mM))return new mM(r);r?r.objectMode=!0:r=OCt,C1e.call(this,r);var e=this,t=this.decoder=new RCt(r);t.push=function(n){e.push(n)}}mM.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var E1e=P(P1e=>{TB();bB();P1e.createCodec=fM().createCodec});var R1e=P(x1e=>{TB();bB();x1e.codec={preset:fM().preset}});var sie=P(Hw=>{Hw.encode=Wne().encode;Hw.decode=Qne().decode;Hw.Encoder=g1e().Encoder;Hw.Decoder=y1e().Decoder;Hw.createEncodeStream=S1e().createEncodeStream;Hw.createDecodeStream=D1e().createDecodeStream;Hw.createCodec=E1e().createCodec;Hw.codec=R1e().codec});var aie=P(gM=>{"use strict";Object.defineProperty(gM,"__esModule",{value:!0});gM.ControlCode=void 0;var ICt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(ICt=gM.ControlCode||(gM.ControlCode={}))});var EB=P(PB=>{"use strict";Object.defineProperty(PB,"__esModule",{value:!0});PB.FrameHeader=void 0;var kCt=Bx(),cie=class{constructor(e,t){this.code=e,t&&(0,kCt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};PB.FrameHeader=cie});var vM=P(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.QualifiedChannelId=qC.ChannelSource=void 0;var xB;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(xB=qC.ChannelSource||(qC.ChannelSource={}));var ACt;(function(r){function e(t){let n=t.source===xB.Local?"local":t.source===xB.Remote?"remote":t.source===xB.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(ACt=qC.QualifiedChannelId||(qC.QualifiedChannelId={}))});var k1e=P(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.MultiplexingStreamV3Formatter=Jy.MultiplexingStreamV2Formatter=Jy.MultiplexingStreamV1Formatter=Jy.MultiplexingStreamFormatter=void 0;var uie=IB(),MCt=require("crypto"),Bw=Bx(),Xm=sie(),O1e=sM(),lie=EB(),I1e=vM(),Ww=class{static getIsOddRandomData(){return(0,MCt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new lie.FrameHeader(e);let i=t%2===1===this.isOdd?I1e.ChannelSource.Remote:I1e.ChannelSource.Local;return new lie.FrameHeader(e,{id:t,source:i})}};Jy.MultiplexingStreamFormatter=Ww;var RB=class r extends Ww{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=Ww.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,Bw.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,Bw.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:Ww.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,Bw.writeAsync)(this.stream,i),t&&t.length>0&&await(0,Bw.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,Bw.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,Bw.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,uie.MultiplexingStream.ControlFrameEncoding);if(t.length>uie.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(uie.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};Jy.MultiplexingStreamV1Formatter=RB;RB.protocolMagicNumber=Buffer.from([47,223,29,80]);var _M=class r extends Ww{constructor(e){super(),this.reader=Xm.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=Ww.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,Bw.writeAsync)(this.writer,Xm.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:Ww.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,Bw.writeAsync)(this.writer,Xm.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Xm.encode(t)}deserializeOfferParameters(e){let t=Xm.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Xm.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:Xm.decode(e)[0]}}serializeContentProcessed(e){return Xm.encode([e])}deserializeContentProcessed(e){return Xm.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return Xm.encode(n)}deserializeException(e){if(e.length===0)return null;let t=Xm.decode(e);if(!t||t.length===0)return null;let n=Xm.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new O1e.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new O1e.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};Jy.MultiplexingStreamV2Formatter=_M;_M.protocolVersion={major:2,minor:0};var OB=class r extends _M{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,Bw.writeAsync)(this.writer,Xm.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new lie.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};Jy.MultiplexingStreamV3Formatter=OB;OB.protocolV3Version={major:2,minor:0}});var M1e=P(A1e=>{"use strict";Object.defineProperty(A1e,"__esModule",{value:!0})});var kB=P((u5t,L1e)=>{"use strict";L1e.exports=(r=>e=>(e.catch(r),e))(()=>{})});var IB=P(oR=>{"use strict";Object.defineProperty(oR,"__esModule",{value:!0});oR.MultiplexingStreamClass=oR.MultiplexingStream=void 0;var LCt=Pne(),rR=kC(),NCt=require("events"),LB=die(),sv=aie(),N1e=sM(),iR=EB(),AB=k1e();M1e();var $w=vM(),nR=Bx(),MB=kB(),Vw=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new N1e.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new NCt.EventEmitter,this.disposalTokenSource=rR.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:$w.ChannelSource.Seeded};this.setOpenChannel(new LB.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=rR.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new AB.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new AB.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new AB.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new yM(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new AB.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new yM(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new LB.ChannelClass(this,{id:this.getUnusedChannelId(),source:$w.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new iR.FrameHeader(sv.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,nR.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");MB(t.acceptance),MB(t.completion),t.dispose()}async offerChannelAsync(e,t,n=rR.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,nR.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new LB.ChannelClass(this,{id:this.getUnusedChannelId(),source:$w.ChannelSource.Local},o);this.setOpenChannel(a);let c=new iR.FrameHeader(sv.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return MB(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=rR.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,nR.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new N1e.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];MB(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==$w.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new iR.FrameHeader(sv.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,nR.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case $w.ChannelSource.Local:return this.locallyOfferedOpenChannels;case $w.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case $w.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new rR.default.CancellationError(n))&&(0,nR.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};oR.MultiplexingStream=Vw;Vw.framePayloadMaxLength=20*1024;Vw.recommendedDefaultChannelReceivingWindowSize=5*Vw.framePayloadMaxLength;Vw.defaultChannelOptions={};Vw.ControlFrameEncoding="utf-8";var yM=class extends Vw{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new LCt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=rR.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,nR.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new iR.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(sv.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new iR.FrameHeader(sv.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new iR.FrameHeader(sv.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case sv.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case sv.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case sv.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case sv.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case sv.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case sv.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new LB.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==$w.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${$w.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};oR.MultiplexingStreamClass=yM});var die=P(sR=>{"use strict";Object.defineProperty(sR,"__esModule",{value:!0});sR.ChannelClass=sR.Channel=void 0;var q1e=kC(),qCt=require("stream"),FCt=aie(),NB=sM(),jCt=EB(),zCt=IB(),fie=vM(),hie=kB(),qB=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};sR.Channel=qB;var pie=class extends qB{constructor(e,t,n){super(t),this._acceptance=new NB.Deferred,this._completion=new NB.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case fie.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case fie.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case fie.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new NB.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new qCt.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,zCt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new jCt.FrameHeader(FCt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new q1e.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),hie(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new q1e.default.CancellationError("disposed"))&&hie(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),hie(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new NB.Deferred)}}};sR.ChannelClass=pie});var F1e=P(FB=>{"use strict";Object.defineProperty(FB,"__esModule",{value:!0});FB.FullDuplexStream=void 0;var mie=require("stream"),gie=class r{static CreatePair(){let e=new mie.PassThrough,t=new mie.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new mie.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};FB.FullDuplexStream=gie});var bM=P(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.ChannelSource=Uf.QualifiedChannelId=Uf.readSubstream=Uf.writeSubstream=Uf.MultiplexingStream=Uf.FullDuplexStream=Uf.Channel=void 0;var UCt=die();Object.defineProperty(Uf,"Channel",{enumerable:!0,get:function(){return UCt.Channel}});var HCt=F1e();Object.defineProperty(Uf,"FullDuplexStream",{enumerable:!0,get:function(){return HCt.FullDuplexStream}});var BCt=IB();Object.defineProperty(Uf,"MultiplexingStream",{enumerable:!0,get:function(){return BCt.MultiplexingStream}});var j1e=Bx();Object.defineProperty(Uf,"writeSubstream",{enumerable:!0,get:function(){return j1e.writeSubstream}});Object.defineProperty(Uf,"readSubstream",{enumerable:!0,get:function(){return j1e.readSubstream}});var z1e=vM();Object.defineProperty(Uf,"QualifiedChannelId",{enumerable:!0,get:function(){return z1e.QualifiedChannelId}});Object.defineProperty(Uf,"ChannelSource",{enumerable:!0,get:function(){return z1e.ChannelSource}})});var U1e=P(aR=>{"use strict";Object.defineProperty(aR,"__esModule",{value:!0});aR.NodeStreamMessageWriter=aR.NodeStreamMessageReader=void 0;var Gw=LT(),vie=class extends Gw.ReadableStreamMessageReader{constructor(e,t){super(new yie(e),t)}};aR.NodeStreamMessageReader=vie;var _ie=class extends Gw.WriteableStreamMessageWriter{constructor(e,t){super(new bie(e),t)}};aR.NodeStreamMessageWriter=_ie;var yie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Gw.Disposable.create(()=>this.stream.off("data",e))}},bie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var Tie=P(av=>{"use strict";var WCt=av&&av.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$Ct=av&&av.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VCt=av&&av.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WCt(e,r,t);return $Ct(e,r),e};Object.defineProperty(av,"__esModule",{value:!0});av.JsonRpcConnection=av.ServiceJsonRpcDescriptor=void 0;var wie=FIe(),wM=RC(),GCt=nM(),Sie=gne(),jB=Cne(),H1e=ZIe(),B1e=VCt(sie()),KCt=bM(),YCt=require("stream"),W1e=U1e(),$1e=wne(),Cie=class r extends Sie.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case wM.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case wM.Formatters.MessagePack:o=a=>Promise.resolve(B1e.encode(a)),s=a=>B1e.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===wM.MessageDelimiters.HttpLikeHeaders){if(t!==wM.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,wie.createMessageConnection)(new W1e.NodeStreamMessageReader(a),new W1e.NodeStreamMessageWriter(a))}else if(n===wM.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,wie.createMessageConnection)(new H1e.BE32MessageReader(a,s),new H1e.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,jB.isChannel)(e)?e.stream:e,i=KCt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new SM((0,jB.constructMessageConnection)(o,this.connectionFactory))}return new SM((0,jB.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!GCt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,jB.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};av.ServiceJsonRpcDescriptor=Cie;var JCt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,$1e.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},SM=class extends Sie.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,$1e.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),Sie.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,wie.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new YCt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,JCt)}startListening(){this.messageConnection?.listen()}dispose(){}};av.JsonRpcConnection=SM});var HB=P(UB=>{"use strict";Object.defineProperty(UB,"__esModule",{value:!0});UB.FrameworkServices=void 0;var zB=RC(),V1e=Tie(),G1e=nM(),Die=class{static remoteServiceBroker=Object.freeze(new V1e.ServiceJsonRpcDescriptor(G1e.ServiceMoniker.create("RemoteServiceBroker"),zB.Formatters.Utf8,zB.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new V1e.ServiceJsonRpcDescriptor(G1e.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),zB.Formatters.Utf8,zB.MessageDelimiters.HttpLikeHeaders))};UB.FrameworkServices=Die});var Eie=P(cR=>{"use strict";var J1e=cR&&cR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cR,"__esModule",{value:!0});cR.AuthorizationServiceClient=void 0;var K1e=J1e(require("assert")),Y1e=J1e(kC()),Pie=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,K1e.default)(e),this.authService=e}async getCredentials(e=Y1e.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=Y1e.default.CONTINUE){if((0,K1e.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};cR.AuthorizationServiceClient=Pie});var X1e=P(CM=>{"use strict";Object.defineProperty(CM,"__esModule",{value:!0});CM.IDisposable=void 0;var XCt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(XCt=CM.IDisposable||(CM.IDisposable={}))});function TM(){return BB>WB.length-16&&(Q1e.default.randomFillSync(WB),BB=0),WB.slice(BB,BB+=16)}var Q1e,WB,BB,xie=Ci(()=>{Q1e=Me(require("crypto")),WB=new Uint8Array(256),BB=WB.length});var Z1e,eAe=Ci(()=>{Z1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function QCt(r){return typeof r=="string"&&Z1e.test(r)}var FC,DM=Ci(()=>{eAe();FC=QCt});function HT(r,e=0){return(Ud[r[e+0]]+Ud[r[e+1]]+Ud[r[e+2]]+Ud[r[e+3]]+"-"+Ud[r[e+4]]+Ud[r[e+5]]+"-"+Ud[r[e+6]]+Ud[r[e+7]]+"-"+Ud[r[e+8]]+Ud[r[e+9]]+"-"+Ud[r[e+10]]+Ud[r[e+11]]+Ud[r[e+12]]+Ud[r[e+13]]+Ud[r[e+14]]+Ud[r[e+15]]).toLowerCase()}function ZCt(r,e=0){let t=HT(r,e);if(!FC(t))throw TypeError("Stringified UUID is invalid");return t}var Ud,tAe,PM=Ci(()=>{DM();Ud=[];for(let r=0;r<256;++r)Ud.push((r+256).toString(16).slice(1));tAe=ZCt});function e0t(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||rAe,s=r.clockseq!==void 0?r.clockseq:Rie;if(o==null||s==null){let f=r.random||(r.rng||TM)();o==null&&(o=rAe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Rie=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:Iie+1,u=a-Oie+(c-Iie)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>Oie)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Oie=a,Iie=c,Rie=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||HT(i)}var rAe,Rie,Oie,Iie,nAe,iAe=Ci(()=>{xie();PM();Oie=0,Iie=0;nAe=e0t});function t0t(r){if(!FC(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var $B,kie=Ci(()=>{DM();$B=t0t});function r0t(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function EM(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=r0t(i)),typeof o=="string"&&(o=$B(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return HT(u)}try{n.name=r}catch{}return n.DNS=n0t,n.URL=i0t,n}var n0t,i0t,Aie=Ci(()=>{PM();kie();n0t="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i0t="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function o0t(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),oAe.default.createHash("md5").update(r).digest()}var oAe,sAe,aAe=Ci(()=>{oAe=Me(require("crypto"));sAe=o0t});var s0t,cAe,uAe=Ci(()=>{Aie();aAe();s0t=EM("v3",48,sAe),cAe=s0t});var lAe,Mie,dAe=Ci(()=>{lAe=Me(require("crypto")),Mie={randomUUID:lAe.default.randomUUID}});function a0t(r,e,t){if(Mie.randomUUID&&!e&&!r)return Mie.randomUUID();r=r||{};let n=r.random||(r.rng||TM)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return HT(n)}var fAe,hAe=Ci(()=>{dAe();xie();PM();fAe=a0t});function c0t(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),pAe.default.createHash("sha1").update(r).digest()}var pAe,mAe,gAe=Ci(()=>{pAe=Me(require("crypto"));mAe=c0t});var u0t,vAe,_Ae=Ci(()=>{Aie();gAe();u0t=EM("v5",80,mAe),vAe=u0t});var yAe,bAe=Ci(()=>{yAe="00000000-0000-0000-0000-000000000000"});function l0t(r){if(!FC(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var wAe,SAe=Ci(()=>{DM();wAe=l0t});var Lie={};BR(Lie,{NIL:()=>yAe,parse:()=>$B,stringify:()=>tAe,v1:()=>nAe,v3:()=>cAe,v4:()=>fAe,v5:()=>vAe,validate:()=>FC,version:()=>wAe});var Nie=Ci(()=>{iAe();uAe();hAe();_Ae();bAe();SAe();DM();PM();kie()});var jie=P(VB=>{"use strict";Object.defineProperty(VB,"__esModule",{value:!0});VB.IpcRelayServiceBroker=void 0;var qie=RC(),d0t=require("events"),CAe=(Nie(),vS(Lie)),f0t=require("net"),h0t=require("path"),Fie=class r extends d0t{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!qie.RemoteServiceConnections.contains(e.supportedConnections,qie.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,CAe.v4)(),s=h0t.join(qie.PIPE_NAME_PREFIX,(0,CAe.v4)()),a=(0,f0t.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};VB.IpcRelayServiceBroker=Fie});var DAe=P(uR=>{"use strict";var p0t=uR&&uR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uR,"__esModule",{value:!0});uR.MultiplexingRelayServiceBroker=void 0;var TAe=RC(),m0t=require("events"),g0t=bM(),v0t=HB(),_0t=p0t(kB()),y0t=(Nie(),vS(Lie)),zie=class r extends m0t{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await g0t.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return v0t.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!TAe.RemoteServiceConnections.contains(e.supportedConnections,TAe.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,y0t.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,_0t.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};uR.MultiplexingRelayServiceBroker=zie});var EAe=P(BT=>{"use strict";var b0t=BT&&BT.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(BT,"__esModule",{value:!0});BT.ProtectedOperation=void 0;var PAe=b0t(require("assert")),w0t;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,PAe.default)(i),(0,PAe.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(w0t=BT.ProtectedOperation||(BT.ProtectedOperation={}))});var Uie=P(xM=>{"use strict";Object.defineProperty(xM,"__esModule",{value:!0});xM.RemoteServiceConnectionInfo=void 0;var S0t;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(S0t=xM.RemoteServiceConnectionInfo||(xM.RemoteServiceConnectionInfo={}))});var Bie=P(lR=>{"use strict";var IAe=lR&&lR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lR,"__esModule",{value:!0});lR.RemoteServiceBroker=void 0;var S_=IAe(require("assert")),WT=IAe(kC()),C0t=require("events"),T0t=bM(),D0t=Eie(),jC=RC(),xAe=Uie(),RAe=Cne(),P0t=require("net"),OAe=HB(),Hie=class r extends C0t.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=jC.RemoteServiceConnections.Multiplexing|jC.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=WT.default.CONTINUE){(0,S_.default)(e);let n=OAe.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=WT.default.CONTINUE){return(0,S_.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=WT.default.CONTINUE){(0,S_.default)(e);let i=await T0t.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=OAe.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=WT.default.CONTINUE){(0,S_.default)(e),(0,S_.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=WT.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~jC.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,S_.default)(e),(0,S_.default)(t),jC.RemoteServiceConnections.contains(t.supportedConnections,jC.RemoteServiceConnections.Multiplexing)&&(0,S_.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,S_.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new D0t.AuthorizationServiceClient(e)}async getProxy(e,t,n=WT.default.CONTINUE){(0,S_.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||xAe.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(jC.PIPE_NAME_PREFIX)?jC.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,P0t.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,RAe.isReadWriteStream)(i)?i.end():(0,RAe.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=WT.default.CONTINUE){if((0,S_.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||xAe.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(jC.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};lR.RemoteServiceBroker=Hie});var kAe=P(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});GB.Observer=void 0;var Wie=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};GB.Observer=Wie});var MAe=P((KB,AAe)=>{(function(r,e){typeof KB=="object"&&typeof AAe<"u"?e(KB):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(KB,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(m){m&&(m.value=!0)}function c(){}function u(m){return m.size===void 0&&(m.size=m.__iterate(d)),m.size}function l(m,g){if(typeof g!="number"){var E=g>>>0;if(""+E!==g||E===4294967295)return NaN;g=E}return g<0?u(m)+g:g}function d(){return!0}function f(m,g,E){return(m===0&&!k(m)||E!==void 0&&m<=-E)&&(g===void 0||E!==void 0&&g>=E)}function _(m,g){return D(m,g,0)}function y(m,g){return D(m,g,g)}function D(m,g,E){return m===void 0?E:k(m)?g===1/0?g:Math.max(0,g+m)|0:g===void 0||g===m?m:Math.min(g,m)|0}function k(m){return m<0||m===0&&1/m===-1/0}var H="@@__IMMUTABLE_ITERABLE__@@";function M(m){return!!(m&&m[H])}var z="@@__IMMUTABLE_KEYED__@@";function re(m){return!!(m&&m[z])}var ce="@@__IMMUTABLE_INDEXED__@@";function _e(m){return!!(m&&m[ce])}function G(m){return re(m)||_e(m)}var $=function(g){return M(g)?g:Rr(g)},te=function(m){function g(E){return re(E)?E:Un(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}($),Te=function(m){function g(E){return _e(E)?E:Wr(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}($),ae=function(m){function g(E){return M(E)&&!G(E)?E:un(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}($);$.Keyed=te,$.Indexed=Te,$.Set=ae;var ue="@@__IMMUTABLE_SEQ__@@";function Fe(m){return!!(m&&m[ue])}var qe="@@__IMMUTABLE_RECORD__@@";function le(m){return!!(m&&m[qe])}function Ce(m){return M(m)||le(m)}var be="@@__IMMUTABLE_ORDERED__@@";function xe(m){return!!(m&&m[be])}var Le=0,Ge=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,at="@@iterator",ct=ze||at,tt=function(g){this.next=g};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Le,tt.VALUES=Ge,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[ct]=function(){return this};function pr(m,g,E,R){var N=m===0?g:m===1?E:[g,E];return R?R.value=N:R={value:N,done:!1},R}function Nr(){return{value:void 0,done:!0}}function Hr(m){return Array.isArray(m)?!0:!!mr(m)}function fr(m){return m&&typeof m.next=="function"}function It(m){var g=mr(m);return g&&g.call(m)}function mr(m){var g=m&&(ze&&m[ze]||m[at]);if(typeof g=="function")return g}function Lt(m){var g=mr(m);return g&&g===m.entries}function nn(m){var g=mr(m);return g&&g===m.keys}var cn=Object.prototype.hasOwnProperty;function xn(m){return Array.isArray(m)||typeof m=="string"?!0:m&&typeof m=="object"&&Number.isInteger(m.length)&&m.length>=0&&(m.length===0?Object.keys(m).length===1:m.hasOwnProperty(m.length-1))}var Rr=function(m){function g(E){return E==null?Vr():Ce(E)?E.toSeq():ln(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toSeq=function(){return this},g.prototype.toString=function(){return this.__toString("Seq {","}")},g.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},g.prototype.__iterate=function(R,N){var J=this._cache;if(J){for(var Z=J.length,pe=0;pe!==Z;){var Ie=J[N?Z-++pe:pe++];if(R(Ie[1],Ie[0],this)===!1)break}return pe}return this.__iterateUncached(R,N)},g.prototype.__iterator=function(R,N){var J=this._cache;if(J){var Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Nr();var Ie=J[N?Z-++pe:pe++];return pr(R,Ie[0],Ie[1])})}return this.__iteratorUncached(R,N)},g}($),Un=function(m){function g(E){return E==null?Vr().toKeyedSeq():M(E)?re(E)?E.toSeq():E.fromEntrySeq():le(E)?E.toSeq():Vi(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toKeyedSeq=function(){return this},g}(Rr),Wr=function(m){function g(E){return E==null?Vr():M(E)?re(E)?E.entrySeq():E.toIndexedSeq():le(E)?E.toSeq().entrySeq():ii(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return g(arguments)},g.prototype.toIndexedSeq=function(){return this},g.prototype.toString=function(){return this.__toString("Seq [","]")},g}(Rr),un=function(m){function g(E){return(M(E)&&!G(E)?E:Wr(E)).toSetSeq()}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return g(arguments)},g.prototype.toSetSeq=function(){return this},g}(Rr);Rr.isSeq=Fe,Rr.Keyed=Un,Rr.Set=un,Rr.Indexed=Wr,Rr.prototype[ue]=!0;var ni=function(m){function g(E){this._array=E,this.size=E.length}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(R,N){return this.has(R)?this._array[l(this,R)]:N},g.prototype.__iterate=function(R,N){for(var J=this._array,Z=J.length,pe=0;pe!==Z;){var Ie=N?Z-++pe:pe++;if(R(J[Ie],Ie,this)===!1)break}return pe},g.prototype.__iterator=function(R,N){var J=this._array,Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Nr();var Ie=N?Z-++pe:pe++;return pr(R,Ie,J[Ie])})},g}(Wr),$r=function(m){function g(E){var R=Object.keys(E).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E):[]);this._object=E,this._keys=R,this.size=R.length}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(R,N){return N!==void 0&&!this.has(R)?N:this._object[R]},g.prototype.has=function(R){return cn.call(this._object,R)},g.prototype.__iterate=function(R,N){for(var J=this._object,Z=this._keys,pe=Z.length,Ie=0;Ie!==pe;){var Qe=Z[N?pe-++Ie:Ie++];if(R(J[Qe],Qe,this)===!1)break}return Ie},g.prototype.__iterator=function(R,N){var J=this._object,Z=this._keys,pe=Z.length,Ie=0;return new tt(function(){if(Ie===pe)return Nr();var Qe=Z[N?pe-++Ie:Ie++];return pr(R,Qe,J[Qe])})},g}(Un);$r.prototype[be]=!0;var In=function(m){function g(E){this._collection=E,this.size=E.length||E.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.__iterateUncached=function(R,N){if(N)return this.cacheResult().__iterate(R,N);var J=this._collection,Z=It(J),pe=0;if(fr(Z))for(var Ie;!(Ie=Z.next()).done&&R(Ie.value,pe++,this)!==!1;);return pe},g.prototype.__iteratorUncached=function(R,N){if(N)return this.cacheResult().__iterator(R,N);var J=this._collection,Z=It(J);if(!fr(Z))return new tt(Nr);var pe=0;return new tt(function(){var Ie=Z.next();return Ie.done?Ie:pr(R,pe++,Ie.value)})},g}(Wr),Ei;function Vr(){return Ei||(Ei=new ni([]))}function Vi(m){var g=Re(m);if(g)return g.fromEntrySeq();if(typeof m=="object")return new $r(m);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+m)}function ii(m){var g=Re(m);if(g)return g;throw new TypeError("Expected Array or collection object of values: "+m)}function ln(m){var g=Re(m);if(g)return Lt(m)?g.fromEntrySeq():nn(m)?g.toSetSeq():g;if(typeof m=="object")return new $r(m);throw new TypeError("Expected Array or collection object of values, or keyed object: "+m)}function Re(m){return xn(m)?new ni(m):Hr(m)?new In(m):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(m){return!!(m&&m[oe])}function ye(m){return Q(m)&&xe(m)}function Ke(m){return!!(m&&typeof m.equals=="function"&&typeof m.hashCode=="function")}function ft(m,g){if(m===g||m!==m&&g!==g)return!0;if(!m||!g)return!1;if(typeof m.valueOf=="function"&&typeof g.valueOf=="function"){if(m=m.valueOf(),g=g.valueOf(),m===g||m!==m&&g!==g)return!0;if(!m||!g)return!1}return!!(Ke(m)&&Ke(g)&&m.equals(g))}var Jt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(g,E){g|=0,E|=0;var R=g&65535,N=E&65535;return R*N+((g>>>16)*N+R*(E>>>16)<<16>>>0)|0};function nr(m){return m>>>1&1073741824|m&3221225471}var Xt=Object.prototype.valueOf;function Vt(m){if(m==null)return kt(m);if(typeof m.hashCode=="function")return nr(m.hashCode(m));var g=he(m);if(g==null)return kt(g);switch(typeof g){case"boolean":return g?1108378657:1108378656;case"number":return K(g);case"string":return g.length>qn?Ne(g):Bt(g);case"object":case"function":return He(g);case"symbol":return Tr(g);default:if(typeof g.toString=="function")return Bt(g.toString());throw new Error("Value type "+typeof g+" cannot be hashed.")}}function kt(m){return m===null?1108378658:1108378659}function K(m){if(m!==m||m===1/0)return 0;var g=m|0;for(g!==m&&(g^=m*4294967295);m>4294967295;)m/=4294967295,g^=m;return nr(g)}function Ne(m){var g=bn[m];return g===void 0&&(g=Bt(m),ws===xi&&(ws=0,bn={}),ws++,bn[m]=g),g}function Bt(m){for(var g=0,E=0;E<m.length;E++)g=31*g+m.charCodeAt(E)|0;return nr(g)}function Tr(m){var g=Cr[m];return g!==void 0||(g=S(),Cr[m]=g),g}function He(m){var g;if(fe&&(g=Je.get(m),g!==void 0)||(g=m[Jr],g!==void 0)||!Ee&&(g=m.propertyIsEnumerable&&m.propertyIsEnumerable[Jr],g!==void 0||(g=je(m),g!==void 0)))return g;if(g=S(),fe)Je.set(m,g);else{if(ne!==void 0&&ne(m)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ee)Object.defineProperty(m,Jr,{enumerable:!1,configurable:!1,writable:!1,value:g});else if(m.propertyIsEnumerable!==void 0&&m.propertyIsEnumerable===m.constructor.prototype.propertyIsEnumerable)m.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},m.propertyIsEnumerable[Jr]=g;else if(m.nodeType!==void 0)m[Jr]=g;else throw new Error("Unable to set a non-enumerable property on object.")}return g}var ne=Object.isExtensible,Ee=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(m){if(m&&m.nodeType>0)switch(m.nodeType){case 1:return m.uniqueID;case 9:return m.documentElement&&m.documentElement.uniqueID}}function he(m){return m.valueOf!==Xt&&typeof m.valueOf=="function"?m.valueOf(m):m}function S(){var m=++Br;return Br&1073741824&&(Br=0),m}var fe=typeof WeakMap=="function",Je;fe&&(Je=new WeakMap);var Cr=Object.create(null),Br=0,Jr="__immutablehash__";typeof Symbol=="function"&&(Jr=Symbol(Jr));var qn=16,xi=255,ws=0,bn={},Go=function(m){function g(E,R){this._iter=E,this._useKeys=R,this.size=E.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(R,N){return this._iter.get(R,N)},g.prototype.has=function(R){return this._iter.has(R)},g.prototype.valueSeq=function(){return this._iter.valueSeq()},g.prototype.reverse=function(){var R=this,N=Ue(this,!0);return this._useKeys||(N.valueSeq=function(){return R._iter.toSeq().reverse()}),N},g.prototype.map=function(R,N){var J=this,Z=U(this,R,N);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(R,N)}),Z},g.prototype.__iterate=function(R,N){var J=this;return this._iter.__iterate(function(Z,pe){return R(Z,pe,J)},N)},g.prototype.__iterator=function(R,N){return this._iter.__iterator(R,N)},g}(Un);Go.prototype[be]=!0;var Is=function(m){function g(E){this._iter=E,this.size=E.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.includes=function(R){return this._iter.includes(R)},g.prototype.__iterate=function(R,N){var J=this,Z=0;return N&&u(this),this._iter.__iterate(function(pe){return R(pe,N?J.size-++Z:Z++,J)},N)},g.prototype.__iterator=function(R,N){var J=this,Z=this._iter.__iterator(Ge,N),pe=0;return N&&u(this),new tt(function(){var Ie=Z.next();return Ie.done?Ie:pr(R,N?J.size-++pe:pe++,Ie.value,Ie)})},g}(Wr),Ws=function(m){function g(E){this._iter=E,this.size=E.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.has=function(R){return this._iter.includes(R)},g.prototype.__iterate=function(R,N){var J=this;return this._iter.__iterate(function(Z){return R(Z,Z,J)},N)},g.prototype.__iterator=function(R,N){var J=this._iter.__iterator(Ge,N);return new tt(function(){var Z=J.next();return Z.done?Z:pr(R,Z.value,Z.value,Z)})},g}(un),Oo=function(m){function g(E){this._iter=E,this.size=E.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.entrySeq=function(){return this._iter.toSeq()},g.prototype.__iterate=function(R,N){var J=this;return this._iter.__iterate(function(Z){if(Z){Qc(Z);var pe=M(Z);return R(pe?Z.get(1):Z[1],pe?Z.get(0):Z[0],J)}},N)},g.prototype.__iterator=function(R,N){var J=this._iter.__iterator(Ge,N);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var pe=Z.value;if(pe){Qc(pe);var Ie=M(pe);return pr(R,Ie?pe.get(0):pe[0],Ie?pe.get(1):pe[1],Z)}}})},g}(Un);Is.prototype.cacheResult=Go.prototype.cacheResult=Ws.prototype.cacheResult=Oo.prototype.cacheResult=Wu;function bo(m){var g=fo(m);return g._iter=m,g.size=m.size,g.flip=function(){return m},g.reverse=function(){var E=m.reverse.apply(this);return E.flip=function(){return m.reverse()},E},g.has=function(E){return m.includes(E)},g.includes=function(E){return m.has(E)},g.cacheResult=Wu,g.__iterateUncached=function(E,R){var N=this;return m.__iterate(function(J,Z){return E(Z,J,N)!==!1},R)},g.__iteratorUncached=function(E,R){if(E===Ct){var N=m.__iterator(E,R);return new tt(function(){var J=N.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return m.__iterator(E===Ge?Le:Ge,R)},g}function U(m,g,E){var R=fo(m);return R.size=m.size,R.has=function(N){return m.has(N)},R.get=function(N,J){var Z=m.get(N,o);return Z===o?J:g.call(E,Z,N,m)},R.__iterateUncached=function(N,J){var Z=this;return m.__iterate(function(pe,Ie,Qe){return N(g.call(E,pe,Ie,Qe),Ie,Z)!==!1},J)},R.__iteratorUncached=function(N,J){var Z=m.__iterator(Ct,J);return new tt(function(){var pe=Z.next();if(pe.done)return pe;var Ie=pe.value,Qe=Ie[0];return pr(N,Qe,g.call(E,Ie[1],Qe,m),pe)})},R}function Ue(m,g){var E=this,R=fo(m);return R._iter=m,R.size=m.size,R.reverse=function(){return m},m.flip&&(R.flip=function(){var N=bo(m);return N.reverse=function(){return m.flip()},N}),R.get=function(N,J){return m.get(g?N:-1-N,J)},R.has=function(N){return m.has(g?N:-1-N)},R.includes=function(N){return m.includes(N)},R.cacheResult=Wu,R.__iterate=function(N,J){var Z=this,pe=0;return J&&u(m),m.__iterate(function(Ie,Qe){return N(Ie,g?Qe:J?Z.size-++pe:pe++,Z)},!J)},R.__iterator=function(N,J){var Z=0;J&&u(m);var pe=m.__iterator(Ct,!J);return new tt(function(){var Ie=pe.next();if(Ie.done)return Ie;var Qe=Ie.value;return pr(N,g?Qe[0]:J?E.size-++Z:Z++,Qe[1],Ie)})},R}function vt(m,g,E,R){var N=fo(m);return R&&(N.has=function(J){var Z=m.get(J,o);return Z!==o&&!!g.call(E,Z,J,m)},N.get=function(J,Z){var pe=m.get(J,o);return pe!==o&&g.call(E,pe,J,m)?pe:Z}),N.__iterateUncached=function(J,Z){var pe=this,Ie=0;return m.__iterate(function(Qe,ht,Ht){if(g.call(E,Qe,ht,Ht))return Ie++,J(Qe,R?ht:Ie-1,pe)},Z),Ie},N.__iteratorUncached=function(J,Z){var pe=m.__iterator(Ct,Z),Ie=0;return new tt(function(){for(;;){var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ht=ht[0],Sr=ht[1];if(g.call(E,Sr,Ht,m))return pr(J,R?Ht:Ie++,Sr,Qe)}})},N}function qr(m,g,E){var R=cc().asMutable();return m.__iterate(function(N,J){R.update(g.call(E,N,J,m),0,function(Z){return Z+1})}),R.asImmutable()}function to(m,g,E){var R=re(m),N=(xe(m)?fs():cc()).asMutable();m.__iterate(function(Z,pe){N.update(g.call(E,Z,pe,m),function(Ie){return Ie=Ie||[],Ie.push(R?[pe,Z]:Z),Ie})});var J=Ko(m);return N.map(function(Z){return Yn(m,J(Z))}).asImmutable()}function zi(m,g,E){var R=re(m),N=[[],[]];m.__iterate(function(Z,pe){N[g.call(E,Z,pe,m)?1:0].push(R?[pe,Z]:Z)});var J=Ko(m);return N.map(function(Z){return Yn(m,J(Z))})}function L(m,g,E,R){var N=m.size;if(f(g,E,N))return m;var J=_(g,N),Z=y(E,N);if(J!==J||Z!==Z)return L(m.toSeq().cacheResult(),g,E,R);var pe=Z-J,Ie;pe===pe&&(Ie=pe<0?0:pe);var Qe=fo(m);return Qe.size=Ie===0?Ie:m.size&&Ie||void 0,!R&&Fe(m)&&Ie>=0&&(Qe.get=function(ht,Ht){return ht=l(this,ht),ht>=0&&ht<Ie?m.get(ht+J,Ht):Ht}),Qe.__iterateUncached=function(ht,Ht){var Sr=this;if(Ie===0)return 0;if(Ht)return this.cacheResult().__iterate(ht,Ht);var on=0,Fr=!0,Bn=0;return m.__iterate(function(Fs,Wa){if(!(Fr&&(Fr=on++<J)))return Bn++,ht(Fs,R?Wa:Bn-1,Sr)!==!1&&Bn!==Ie}),Bn},Qe.__iteratorUncached=function(ht,Ht){if(Ie!==0&&Ht)return this.cacheResult().__iterator(ht,Ht);if(Ie===0)return new tt(Nr);var Sr=m.__iterator(ht,Ht),on=0,Fr=0;return new tt(function(){for(;on++<J;)Sr.next();if(++Fr>Ie)return Nr();var Bn=Sr.next();return R||ht===Ge||Bn.done?Bn:ht===Le?pr(ht,Fr-1,void 0,Bn):pr(ht,Fr-1,Bn.value[1],Bn)})},Qe}function Ae(m,g,E){var R=fo(m);return R.__iterateUncached=function(N,J){var Z=this;if(J)return this.cacheResult().__iterate(N,J);var pe=0;return m.__iterate(function(Ie,Qe,ht){return g.call(E,Ie,Qe,ht)&&++pe&&N(Ie,Qe,Z)}),pe},R.__iteratorUncached=function(N,J){var Z=this;if(J)return this.cacheResult().__iterator(N,J);var pe=m.__iterator(Ct,J),Ie=!0;return new tt(function(){if(!Ie)return Nr();var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ht=ht[0],Sr=ht[1];return g.call(E,Sr,Ht,Z)?N===Ct?Qe:pr(N,Ht,Sr,Qe):(Ie=!1,Nr())})},R}function rt(m,g,E,R){var N=fo(m);return N.__iterateUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterate(J,Z);var Ie=!0,Qe=0;return m.__iterate(function(ht,Ht,Sr){if(!(Ie&&(Ie=g.call(E,ht,Ht,Sr))))return Qe++,J(ht,R?Ht:Qe-1,pe)}),Qe},N.__iteratorUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterator(J,Z);var Ie=m.__iterator(Ct,Z),Qe=!0,ht=0;return new tt(function(){var Ht,Sr,on;do{if(Ht=Ie.next(),Ht.done)return R||J===Ge?Ht:J===Le?pr(J,ht++,void 0,Ht):pr(J,ht++,Ht.value[1],Ht);var Fr=Ht.value;Sr=Fr[0],on=Fr[1],Qe&&(Qe=g.call(E,on,Sr,pe))}while(Qe);return J===Ct?Ht:pr(J,Sr,on,Ht)})},N}function Ut(m,g){var E=re(m),R=[m].concat(g).map(function(Z){return M(Z)?E&&(Z=te(Z)):Z=E?Vi(Z):ii(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(R.length===0)return m;if(R.length===1){var N=R[0];if(N===m||E&&re(N)||_e(m)&&_e(N))return N}var J=new ni(R);return E?J=J.toKeyedSeq():_e(m)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=R.reduce(function(Z,pe){if(Z!==void 0){var Ie=pe.size;if(Ie!==void 0)return Z+Ie}},0),J}function kn(m,g,E){var R=fo(m);return R.__iterateUncached=function(N,J){if(J)return this.cacheResult().__iterate(N,J);var Z=0,pe=!1;function Ie(Qe,ht){Qe.__iterate(function(Ht,Sr){return(!g||ht<g)&&M(Ht)?Ie(Ht,ht+1):(Z++,N(Ht,E?Sr:Z-1,R)===!1&&(pe=!0)),!pe},J)}return Ie(m,0),Z},R.__iteratorUncached=function(N,J){if(J)return this.cacheResult().__iterator(N,J);var Z=m.__iterator(N,J),pe=[],Ie=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=pe.pop();continue}var ht=Qe.value;if(N===Ct&&(ht=ht[1]),(!g||pe.length<g)&&M(ht))pe.push(Z),Z=ht.__iterator(N,J);else return E?Qe:pr(N,Ie++,ht,Qe)}return Nr()})},R}function wn(m,g,E){var R=Ko(m);return m.toSeq().map(function(N,J){return R(g.call(E,N,J,m))}).flatten(!0)}function Mn(m,g){var E=fo(m);return E.size=m.size&&m.size*2-1,E.__iterateUncached=function(R,N){var J=this,Z=0;return m.__iterate(function(pe){return(!Z||R(g,Z++,J)!==!1)&&R(pe,Z++,J)!==!1},N),Z},E.__iteratorUncached=function(R,N){var J=m.__iterator(Ge,N),Z=0,pe;return new tt(function(){return(!pe||Z%2)&&(pe=J.next(),pe.done)?pe:Z%2?pr(R,Z++,g):pr(R,Z++,pe.value,pe)})},E}function ro(m,g,E){g||(g=ki);var R=re(m),N=0,J=m.toSeq().map(function(Z,pe){return[pe,Z,N++,E?E(Z,pe,m):Z]}).valueSeq().toArray();return J.sort(function(Z,pe){return g(Z[3],pe[3])||Z[2]-pe[2]}).forEach(R?function(Z,pe){J[pe].length=2}:function(Z,pe){J[pe]=Z[1]}),R?Un(J):_e(m)?Wr(J):un(J)}function Li(m,g,E){if(g||(g=ki),E){var R=m.toSeq().map(function(N,J){return[N,E(N,J,m)]}).reduce(function(N,J){return wo(g,N[1],J[1])?J:N});return R&&R[0]}return m.reduce(function(N,J){return wo(g,N,J)?J:N})}function wo(m,g,E){var R=m(E,g);return R===0&&E!==g&&(E==null||E!==E)||R>0}function Hi(m,g,E,R){var N=fo(m),J=new ni(E).map(function(Z){return Z.size});return N.size=R?J.max():J.min(),N.__iterate=function(Z,pe){for(var Ie=this.__iterator(Ge,pe),Qe,ht=0;!(Qe=Ie.next()).done&&Z(Qe.value,ht++,this)!==!1;);return ht},N.__iteratorUncached=function(Z,pe){var Ie=E.map(function(Ht){return Ht=$(Ht),It(pe?Ht.reverse():Ht)}),Qe=0,ht=!1;return new tt(function(){var Ht;return ht||(Ht=Ie.map(function(Sr){return Sr.next()}),ht=R?Ht.every(function(Sr){return Sr.done}):Ht.some(function(Sr){return Sr.done})),ht?Nr():pr(Z,Qe++,g.apply(null,Ht.map(function(Sr){return Sr.value})))})},N}function Yn(m,g){return m===g?m:Fe(m)?g:m.constructor(g)}function Qc(m){if(m!==Object(m))throw new TypeError("Expected [K, V] tuple: "+m)}function Ko(m){return re(m)?te:_e(m)?Te:ae}function fo(m){return Object.create((re(m)?Un:_e(m)?Wr:un).prototype)}function Wu(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Rr.prototype.cacheResult.call(this)}function ki(m,g){return m===void 0&&g===void 0?0:m===void 0?1:g===void 0?-1:m>g?1:m<g?-1:0}function qa(m,g){g=g||0;for(var E=Math.max(0,m.length-g),R=new Array(E),N=0;N<E;N++)R[N]=m[N+g];return R}function Fa(m,g){if(!m)throw new Error(g)}function na(m){Fa(m!==1/0,"Cannot perform this action with an infinite size.")}function $u(m){if(xn(m)&&typeof m!="string")return m;if(xe(m))return m.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+m)}var Gf=Object.prototype.toString;function ac(m){if(!m||typeof m!="object"||Gf.call(m)!=="[object Object]")return!1;var g=Object.getPrototypeOf(m);if(g===null)return!0;for(var E=g,R=Object.getPrototypeOf(g);R!==null;)E=R,R=Object.getPrototypeOf(E);return E===g}function $s(m){return typeof m=="object"&&(Ce(m)||Array.isArray(m)||ac(m))}function Zc(m){try{return typeof m=="string"?JSON.stringify(m):String(m)}catch{return JSON.stringify(m)}}function Kf(m,g){return Ce(m)?m.has(g):$s(m)&&cn.call(m,g)}function Mo(m,g,E){return Ce(m)?m.get(g,E):Kf(m,g)?typeof m.get=="function"?m.get(g):m[g]:E}function ks(m){if(Array.isArray(m))return qa(m);var g={};for(var E in m)cn.call(m,E)&&(g[E]=m[E]);return g}function Cn(m,g){if(!$s(m))throw new TypeError("Cannot update non-data-structure value: "+m);if(Ce(m)){if(!m.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+m);return m.remove(g)}if(!cn.call(m,g))return m;var E=ks(m);return Array.isArray(E)?E.splice(g,1):delete E[g],E}function As(m,g,E){if(!$s(m))throw new TypeError("Cannot update non-data-structure value: "+m);if(Ce(m)){if(!m.set)throw new TypeError("Cannot update immutable value without .set() method: "+m);return m.set(g,E)}if(cn.call(m,g)&&E===m[g])return m;var R=ks(m);return R[g]=E,R}function eu(m,g,E,R){R||(R=E,E=void 0);var N=oi(Ce(m),m,$u(g),0,E,R);return N===o?E:N}function oi(m,g,E,R,N,J){var Z=g===o;if(R===E.length){var pe=Z?N:g,Ie=J(pe);return Ie===pe?g:Ie}if(!Z&&!$s(g))throw new TypeError("Cannot update within non-data-structure value in path ["+E.slice(0,R).map(Zc)+"]: "+g);var Qe=E[R],ht=Z?o:Mo(g,Qe,o),Ht=oi(ht===o?m:Ce(ht),ht,E,R+1,N,J);return Ht===ht?g:Ht===o?Cn(g,Qe):As(Z?m?Lo():{}:g,Qe,Ht)}function ha(m,g,E){return eu(m,g,o,function(){return E})}function Mc(m,g){return ha(this,m,g)}function Yf(m,g){return eu(m,g,function(){return o})}function Hd(m){return Yf(this,m)}function Wh(m,g,E,R){return eu(m,[g],E,R)}function Bd(m,g,E){return arguments.length===1?m(this):Wh(this,m,g,E)}function $h(m,g,E){return eu(this,m,g,E)}function Wd(){for(var m=[],g=arguments.length;g--;)m[g]=arguments[g];return Jn(this,m)}function pl(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];if(typeof m!="function")throw new TypeError("Invalid merger function: "+m);return Jn(this,g,m)}function Jn(m,g,E){for(var R=[],N=0;N<g.length;N++){var J=te(g[N]);J.size!==0&&R.push(J)}return R.length===0?m:m.toSeq().size===0&&!m.__ownerID&&R.length===1?m.constructor(R[0]):m.withMutations(function(Z){for(var pe=E?function(Qe,ht){Wh(Z,ht,o,function(Ht){return Ht===o?Qe:E(Ht,Qe,ht)})}:function(Qe,ht){Z.set(ht,Qe)},Ie=0;Ie<R.length;Ie++)R[Ie].forEach(pe)})}function Ms(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];return Ls(m,g)}function ml(m,g){for(var E=[],R=arguments.length-2;R-- >0;)E[R]=arguments[R+2];return Ls(g,E,m)}function no(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];return Xf(m,g)}function Jf(m,g){for(var E=[],R=arguments.length-2;R-- >0;)E[R]=arguments[R+2];return Xf(g,E,m)}function Xf(m,g,E){return Ls(m,g,tu(E))}function Ls(m,g,E){if(!$s(m))throw new TypeError("Cannot merge into non-data-structure value: "+m);if(Ce(m))return typeof E=="function"&&m.mergeWith?m.mergeWith.apply(m,[E].concat(g)):m.merge?m.merge.apply(m,g):m.concat.apply(m,g);for(var R=Array.isArray(m),N=m,J=R?Te:te,Z=R?function(Ie){N===m&&(N=ks(N)),N.push(Ie)}:function(Ie,Qe){var ht=cn.call(N,Qe),Ht=ht&&E?E(N[Qe],Ie,Qe):Ie;(!ht||Ht!==N[Qe])&&(N===m&&(N=ks(N)),N[Qe]=Ht)},pe=0;pe<g.length;pe++)J(g[pe]).forEach(Z);return N}function tu(m){function g(E,R,N){return $s(E)&&$s(R)&&Qf(E,R)?Ls(E,[R],g):m?m(E,R,N):R}return g}function Qf(m,g){var E=Rr(m),R=Rr(g);return _e(E)===_e(R)&&re(E)===re(R)}function rd(){for(var m=[],g=arguments.length;g--;)m[g]=arguments[g];return Xf(this,m)}function ds(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];return Xf(this,g,m)}function gl(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];return eu(this,m,Lo(),function(R){return Ls(R,g)})}function Lc(m){for(var g=[],E=arguments.length-1;E-- >0;)g[E]=arguments[E+1];return eu(this,m,Lo(),function(R){return Xf(R,g)})}function Gp(m){var g=this.asMutable();return m(g),g.wasAltered()?g.__ensureOwner(this.__ownerID):this}function nd(){return this.__ownerID?this:this.__ensureOwner(new c)}function $d(){return this.__ensureOwner()}function Vd(){return this.__altered}var cc=function(m){function g(E){return E==null?Lo():Q(E)&&!xe(E)?E:Lo().withMutations(function(R){var N=m(E);na(N.size),N.forEach(function(J,Z){return R.set(Z,J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return Lo().withMutations(function(J){for(var Z=0;Z<R.length;Z+=2){if(Z+1>=R.length)throw new Error("Missing value for key: "+R[Z]);J.set(R[Z],R[Z+1])}})},g.prototype.toString=function(){return this.__toString("Map {","}")},g.prototype.get=function(R,N){return this._root?this._root.get(0,void 0,R,N):N},g.prototype.set=function(R,N){return vl(this,R,N)},g.prototype.remove=function(R){return vl(this,R,o)},g.prototype.deleteAll=function(R){var N=$(R);return N.size===0?this:this.withMutations(function(J){N.forEach(function(Z){return J.remove(Z)})})},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Lo()},g.prototype.sort=function(R){return fs(ro(this,R))},g.prototype.sortBy=function(R,N){return fs(ro(this,N,R))},g.prototype.map=function(R,N){var J=this;return this.withMutations(function(Z){Z.forEach(function(pe,Ie){Z.set(Ie,R.call(N,pe,Ie,J))})})},g.prototype.__iterator=function(R,N){return new pv(this,R,N)},g.prototype.__iterate=function(R,N){var J=this,Z=0;return this._root&&this._root.iterate(function(pe){return Z++,R(pe[1],pe[0],J)},N),Z},g.prototype.__ensureOwner=function(R){return R===this.__ownerID?this:R?yu(this.size,this._root,R,this.__hash):this.size===0?Lo():(this.__ownerID=R,this.__altered=!1,this)},g}(te);cc.isMap=Q;var ho=cc.prototype;ho[oe]=!0,ho[e]=ho.remove,ho.removeAll=ho.deleteAll,ho.setIn=Mc,ho.removeIn=ho.deleteIn=Hd,ho.update=Bd,ho.updateIn=$h,ho.merge=ho.concat=Wd,ho.mergeWith=pl,ho.mergeDeep=rd,ho.mergeDeepWith=ds,ho.mergeIn=gl,ho.mergeDeepIn=Lc,ho.withMutations=Gp,ho.wasAltered=Vd,ho.asImmutable=$d,ho["@@transducer/init"]=ho.asMutable=nd,ho["@@transducer/step"]=function(m,g){return m.set(g[0],g[1])},ho["@@transducer/result"]=function(m){return m.asImmutable()};var Vh=function(g,E){this.ownerID=g,this.entries=E};Vh.prototype.get=function(g,E,R,N){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(R,J[Z][0]))return J[Z][1];return N},Vh.prototype.update=function(g,E,R,N,J,Z,pe){for(var Ie=J===o,Qe=this.entries,ht=0,Ht=Qe.length;ht<Ht&&!ft(N,Qe[ht][0]);ht++);var Sr=ht<Ht;if(Sr?Qe[ht][1]===J:Ie)return this;if(a(pe),(Ie||!Sr)&&a(Z),!(Ie&&Qe.length===1)){if(!Sr&&!Ie&&Qe.length>=Kd)return eh(g,Qe,N,J);var on=g&&g===this.ownerID,Fr=on?Qe:qa(Qe);return Sr?Ie?ht===Ht-1?Fr.pop():Fr[ht]=Fr.pop():Fr[ht]=[N,J]:Fr.push([N,J]),on?(this.entries=Fr,this):new Vh(g,Fr)}};var Gd=function(g,E,R){this.ownerID=g,this.bitmap=E,this.nodes=R};Gd.prototype.get=function(g,E,R,N){E===void 0&&(E=Vt(R));var J=1<<((g===0?E:E>>>g)&i),Z=this.bitmap;return(Z&J)===0?N:this.nodes[Kh(Z&J-1)].get(g+t,E,R,N)},Gd.prototype.update=function(g,E,R,N,J,Z,pe){R===void 0&&(R=Vt(N));var Ie=(E===0?R:R>>>E)&i,Qe=1<<Ie,ht=this.bitmap,Ht=(ht&Qe)!==0;if(!Ht&&J===o)return this;var Sr=Kh(ht&Qe-1),on=this.nodes,Fr=Ht?on[Sr]:void 0,Bn=Zf(Fr,g,E+t,R,N,J,Z,pe);if(Bn===Fr)return this;if(!Ht&&Bn&&on.length>=sd)return _l(g,on,ht,Ie,Bn);if(Ht&&!Bn&&on.length===2&&tg(on[Sr^1]))return on[Sr^1];if(Ht&&Bn&&on.length===1&&tg(Bn))return Bn;var Fs=g&&g===this.ownerID,Wa=Ht?Bn?ht:ht^Qe:ht|Qe,au=Ht?Bn?bu(on,Sr,Bn,Fs):nu(on,Sr,Fs):th(on,Sr,Bn,Fs);return Fs?(this.bitmap=Wa,this.nodes=au,this):new Gd(g,Wa,au)};var Vs=function(g,E,R){this.ownerID=g,this.count=E,this.nodes=R};Vs.prototype.get=function(g,E,R,N){E===void 0&&(E=Vt(R));var J=(g===0?E:E>>>g)&i,Z=this.nodes[J];return Z?Z.get(g+t,E,R,N):N},Vs.prototype.update=function(g,E,R,N,J,Z,pe){R===void 0&&(R=Vt(N));var Ie=(E===0?R:R>>>E)&i,Qe=J===o,ht=this.nodes,Ht=ht[Ie];if(Qe&&!Ht)return this;var Sr=Zf(Ht,g,E+t,R,N,J,Z,pe);if(Sr===Ht)return this;var on=this.count;if(!Ht)on++;else if(!Sr&&(on--,on<Yd))return Gh(g,ht,on,Ie);var Fr=g&&g===this.ownerID,Bn=bu(ht,Ie,Sr,Fr);return Fr?(this.count=on,this.nodes=Bn,this):new Vs(g,on,Bn)};var Vu=function(g,E,R){this.ownerID=g,this.keyHash=E,this.entries=R};Vu.prototype.get=function(g,E,R,N){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(R,J[Z][0]))return J[Z][1];return N},Vu.prototype.update=function(g,E,R,N,J,Z,pe){R===void 0&&(R=Vt(N));var Ie=J===o;if(R!==this.keyHash)return Ie?this:(a(pe),a(Z),od(this,g,E,R,[N,J]));for(var Qe=this.entries,ht=0,Ht=Qe.length;ht<Ht&&!ft(N,Qe[ht][0]);ht++);var Sr=ht<Ht;if(Sr?Qe[ht][1]===J:Ie)return this;if(a(pe),(Ie||!Sr)&&a(Z),Ie&&Ht===2)return new ru(g,this.keyHash,Qe[ht^1]);var on=g&&g===this.ownerID,Fr=on?Qe:qa(Qe);return Sr?Ie?ht===Ht-1?Fr.pop():Fr[ht]=Fr.pop():Fr[ht]=[N,J]:Fr.push([N,J]),on?(this.entries=Fr,this):new Vu(g,this.keyHash,Fr)};var ru=function(g,E,R){this.ownerID=g,this.keyHash=E,this.entry=R};ru.prototype.get=function(g,E,R,N){return ft(R,this.entry[0])?this.entry[1]:N},ru.prototype.update=function(g,E,R,N,J,Z,pe){var Ie=J===o,Qe=ft(N,this.entry[0]);if(Qe?J===this.entry[1]:Ie)return this;if(a(pe),Ie){a(Z);return}return Qe?g&&g===this.ownerID?(this.entry[1]=J,this):new ru(g,this.keyHash,[N,J]):(a(Z),od(this,g,E,Vt(N),[N,J]))},Vh.prototype.iterate=Vu.prototype.iterate=function(m,g){for(var E=this.entries,R=0,N=E.length-1;R<=N;R++)if(m(E[g?N-R:R])===!1)return!1},Gd.prototype.iterate=Vs.prototype.iterate=function(m,g){for(var E=this.nodes,R=0,N=E.length-1;R<=N;R++){var J=E[g?N-R:R];if(J&&J.iterate(m,g)===!1)return!1}},ru.prototype.iterate=function(m,g){return m(this.entry)};var pv=function(m){function g(E,R,N){this._type=R,this._reverse=N,this._stack=E._root&&P_(E._root)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.next=function(){for(var R=this._type,N=this._stack;N;){var J=N.node,Z=N.index++,pe=void 0;if(J.entry){if(Z===0)return Gs(R,J.entry)}else if(J.entries){if(pe=J.entries.length-1,Z<=pe)return Gs(R,J.entries[this._reverse?pe-Z:Z])}else if(pe=J.nodes.length-1,Z<=pe){var Ie=J.nodes[this._reverse?pe-Z:Z];if(Ie){if(Ie.entry)return Gs(R,Ie.entry);N=this._stack=P_(Ie,N)}continue}N=this._stack=this._stack.__prev}return Nr()},g}(tt);function Gs(m,g){return pr(m,g[0],g[1])}function P_(m,g){return{node:m,index:0,__prev:g}}function yu(m,g,E,R){var N=Object.create(ho);return N.size=m,N._root=g,N.__ownerID=E,N.__hash=R,N.__altered=!1,N}var id;function Lo(){return id||(id=yu(0))}function vl(m,g,E){var R,N;if(m._root){var J=s(),Z=s();if(R=Zf(m._root,m.__ownerID,0,void 0,g,E,J,Z),!Z.value)return m;N=m.size+(J.value?E===o?-1:1:0)}else{if(E===o)return m;N=1,R=new Vh(m.__ownerID,[[g,E]])}return m.__ownerID?(m.size=N,m._root=R,m.__hash=void 0,m.__altered=!0,m):R?yu(N,R):Lo()}function Zf(m,g,E,R,N,J,Z,pe){return m?m.update(g,E,R,N,J,Z,pe):J===o?m:(a(pe),a(Z),new ru(g,R,[N,J]))}function tg(m){return m.constructor===ru||m.constructor===Vu}function od(m,g,E,R,N){if(m.keyHash===R)return new Vu(g,R,[m.entry,N]);var J=(E===0?m.keyHash:m.keyHash>>>E)&i,Z=(E===0?R:R>>>E)&i,pe,Ie=J===Z?[od(m,g,E+t,R,N)]:(pe=new ru(g,R,N),J<Z?[m,pe]:[pe,m]);return new Gd(g,1<<J|1<<Z,Ie)}function eh(m,g,E,R){m||(m=new c);for(var N=new ru(m,Vt(E),[E,R]),J=0;J<g.length;J++){var Z=g[J];N=N.update(m,0,void 0,Z[0],Z[1])}return N}function Gh(m,g,E,R){for(var N=0,J=0,Z=new Array(E),pe=0,Ie=1,Qe=g.length;pe<Qe;pe++,Ie<<=1){var ht=g[pe];ht!==void 0&&pe!==R&&(N|=Ie,Z[J++]=ht)}return new Gd(m,N,Z)}function _l(m,g,E,R,N){for(var J=0,Z=new Array(n),pe=0;E!==0;pe++,E>>>=1)Z[pe]=E&1?g[J++]:void 0;return Z[R]=N,new Vs(m,J+1,Z)}function Kh(m){return m-=m>>1&1431655765,m=(m&858993459)+(m>>2&858993459),m=m+(m>>4)&252645135,m+=m>>8,m+=m>>16,m&127}function bu(m,g,E,R){var N=R?m:qa(m);return N[g]=E,N}function th(m,g,E,R){var N=m.length+1;if(R&&g+1===N)return m[g]=E,m;for(var J=new Array(N),Z=0,pe=0;pe<N;pe++)pe===g?(J[pe]=E,Z=-1):J[pe]=m[pe+Z];return J}function nu(m,g,E){var R=m.length-1;if(E&&g===R)return m.pop(),m;for(var N=new Array(R),J=0,Z=0;Z<R;Z++)Z===g&&(J=1),N[Z]=m[Z+J];return N}var Kd=n/4,sd=n/2,Yd=n/4,ad="@@__IMMUTABLE_LIST__@@";function Ns(m){return!!(m&&m[ad])}var pa=function(m){function g(E){var R=yl();if(E==null)return R;if(Ns(E))return E;var N=m(E),J=N.size;return J===0?R:(na(J),J>0&&J<n?wu(0,J,t,null,new Nc(N.toArray())):R.withMutations(function(Z){Z.setSize(J),N.forEach(function(pe,Ie){return Z.set(Ie,pe)})}))}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("List [","]")},g.prototype.get=function(R,N){if(R=l(this,R),R>=0&&R<this.size){R+=this._origin;var J=rh(this,R);return J&&J.array[R&i]}return N},g.prototype.set=function(R,N){return Yh(this,R,N)},g.prototype.remove=function(R){return this.has(R)?R===0?this.shift():R===this.size-1?this.pop():this.splice(R,1):this},g.prototype.insert=function(R,N){return this.splice(R,0,N)},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):yl()},g.prototype.push=function(){var R=arguments,N=this.size;return this.withMutations(function(J){uc(J,0,N+R.length);for(var Z=0;Z<R.length;Z++)J.set(N+Z,R[Z])})},g.prototype.pop=function(){return uc(this,0,-1)},g.prototype.unshift=function(){var R=arguments;return this.withMutations(function(N){uc(N,-R.length);for(var J=0;J<R.length;J++)N.set(J,R[J])})},g.prototype.shift=function(){return uc(this,1)},g.prototype.concat=function(){for(var R=arguments,N=[],J=0;J<arguments.length;J++){var Z=R[J],pe=m(typeof Z!="string"&&Hr(Z)?Z:[Z]);pe.size!==0&&N.push(pe)}return N.length===0?this:this.size===0&&!this.__ownerID&&N.length===1?this.constructor(N[0]):this.withMutations(function(Ie){N.forEach(function(Qe){return Qe.forEach(function(ht){return Ie.push(ht)})})})},g.prototype.setSize=function(R){return uc(this,0,R)},g.prototype.map=function(R,N){var J=this;return this.withMutations(function(Z){for(var pe=0;pe<J.size;pe++)Z.set(pe,R.call(N,Z.get(pe),pe,J))})},g.prototype.slice=function(R,N){var J=this.size;return f(R,N,J)?this:uc(this,_(R,J),y(N,J))},g.prototype.__iterator=function(R,N){var J=N?this.size:0,Z=rg(this,N);return new tt(function(){var pe=Z();return pe===ja?Nr():pr(R,N?--J:J++,pe)})},g.prototype.__iterate=function(R,N){for(var J=N?this.size:0,Z=rg(this,N),pe;(pe=Z())!==ja&&R(pe,N?--J:J++,this)!==!1;);return J},g.prototype.__ensureOwner=function(R){return R===this.__ownerID?this:R?wu(this._origin,this._capacity,this._level,this._root,this._tail,R,this.__hash):this.size===0?yl():(this.__ownerID=R,this.__altered=!1,this)},g}(Te);pa.isList=Ns;var So=pa.prototype;So[ad]=!0,So[e]=So.remove,So.merge=So.concat,So.setIn=Mc,So.deleteIn=So.removeIn=Hd,So.update=Bd,So.updateIn=$h,So.mergeIn=gl,So.mergeDeepIn=Lc,So.withMutations=Gp,So.wasAltered=Vd,So.asImmutable=$d,So["@@transducer/init"]=So.asMutable=nd,So["@@transducer/step"]=function(m,g){return m.push(g)},So["@@transducer/result"]=function(m){return m.asImmutable()};var Nc=function(g,E){this.array=g,this.ownerID=E};Nc.prototype.removeBefore=function(g,E,R){if(R===E?1<<E:this.array.length===0)return this;var N=R>>>E&i;if(N>=this.array.length)return new Nc([],g);var J=N===0,Z;if(E>0){var pe=this.array[N];if(Z=pe&&pe.removeBefore(g,E-t,R),Z===pe&&J)return this}if(J&&!Z)return this;var Ie=Gu(this,g);if(!J)for(var Qe=0;Qe<N;Qe++)Ie.array[Qe]=void 0;return Z&&(Ie.array[N]=Z),Ie},Nc.prototype.removeAfter=function(g,E,R){if(R===(E?1<<E:0)||this.array.length===0)return this;var N=R-1>>>E&i;if(N>=this.array.length)return this;var J;if(E>0){var Z=this.array[N];if(J=Z&&Z.removeAfter(g,E-t,R),J===Z&&N===this.array.length-1)return this}var pe=Gu(this,g);return pe.array.splice(N+1),J&&(pe.array[N]=J),pe};var ja={};function rg(m,g){var E=m._origin,R=m._capacity,N=Su(R),J=m._tail;return Z(m._root,m._level,0);function Z(Qe,ht,Ht){return ht===0?pe(Qe,Ht):Ie(Qe,ht,Ht)}function pe(Qe,ht){var Ht=ht===N?J&&J.array:Qe&&Qe.array,Sr=ht>E?0:E-ht,on=R-ht;return on>n&&(on=n),function(){if(Sr===on)return ja;var Fr=g?--on:Sr++;return Ht&&Ht[Fr]}}function Ie(Qe,ht,Ht){var Sr,on=Qe&&Qe.array,Fr=Ht>E?0:E-Ht>>ht,Bn=(R-Ht>>ht)+1;return Bn>n&&(Bn=n),function(){for(;;){if(Sr){var Fs=Sr();if(Fs!==ja)return Fs;Sr=null}if(Fr===Bn)return ja;var Wa=g?--Bn:Fr++;Sr=Z(on&&on[Wa],ht-t,Ht+(Wa<<ht))}}}}function wu(m,g,E,R,N,J,Z){var pe=Object.create(So);return pe.size=g-m,pe._origin=m,pe._capacity=g,pe._level=E,pe._root=R,pe._tail=N,pe.__ownerID=J,pe.__hash=Z,pe.__altered=!1,pe}var qs;function yl(){return qs||(qs=wu(0,0,t))}function Yh(m,g,E){if(g=l(m,g),g!==g)return m;if(g>=m.size||g<0)return m.withMutations(function(Z){g<0?uc(Z,g).set(0,E):uc(Z,0,g+1).set(g,E)});g+=m._origin;var R=m._tail,N=m._root,J=s();return g>=Su(m._capacity)?R=iu(R,m.__ownerID,0,g,E,J):N=iu(N,m.__ownerID,m._level,g,E,J),J.value?m.__ownerID?(m._root=N,m._tail=R,m.__hash=void 0,m.__altered=!0,m):wu(m._origin,m._capacity,m._level,N,R):m}function iu(m,g,E,R,N,J){var Z=R>>>E&i,pe=m&&Z<m.array.length;if(!pe&&N===void 0)return m;var Ie;if(E>0){var Qe=m&&m.array[Z],ht=iu(Qe,g,E-t,R,N,J);return ht===Qe?m:(Ie=Gu(m,g),Ie.array[Z]=ht,Ie)}return pe&&m.array[Z]===N?m:(J&&a(J),Ie=Gu(m,g),N===void 0&&Z===Ie.array.length-1?Ie.array.pop():Ie.array[Z]=N,Ie)}function Gu(m,g){return g&&m&&g===m.ownerID?m:new Nc(m?m.array.slice():[],g)}function rh(m,g){if(g>=Su(m._capacity))return m._tail;if(g<1<<m._level+t){for(var E=m._root,R=m._level;E&&R>0;)E=E.array[g>>>R&i],R-=t;return E}}function uc(m,g,E){g!==void 0&&(g|=0),E!==void 0&&(E|=0);var R=m.__ownerID||new c,N=m._origin,J=m._capacity,Z=N+g,pe=E===void 0?J:E<0?J+E:N+E;if(Z===N&&pe===J)return m;if(Z>=pe)return m.clear();for(var Ie=m._level,Qe=m._root,ht=0;Z+ht<0;)Qe=new Nc(Qe&&Qe.array.length?[void 0,Qe]:[],R),Ie+=t,ht+=1<<Ie;ht&&(Z+=ht,N+=ht,pe+=ht,J+=ht);for(var Ht=Su(J),Sr=Su(pe);Sr>=1<<Ie+t;)Qe=new Nc(Qe&&Qe.array.length?[Qe]:[],R),Ie+=t;var on=m._tail,Fr=Sr<Ht?rh(m,pe-1):Sr>Ht?new Nc([],R):on;if(on&&Sr>Ht&&Z<J&&on.array.length){Qe=Gu(Qe,R);for(var Bn=Qe,Fs=Ie;Fs>t;Fs-=t){var Wa=Ht>>>Fs&i;Bn=Bn.array[Wa]=Gu(Bn.array[Wa],R)}Bn.array[Ht>>>t&i]=on}if(pe<J&&(Fr=Fr&&Fr.removeAfter(R,0,pe)),Z>=Sr)Z-=Sr,pe-=Sr,Ie=t,Qe=null,Fr=Fr&&Fr.removeBefore(R,0,Z);else if(Z>N||Sr<Ht){for(ht=0;Qe;){var au=Z>>>Ie&i;if(au!==Sr>>>Ie&i)break;au&&(ht+=(1<<Ie)*au),Ie-=t,Qe=Qe.array[au]}Qe&&Z>N&&(Qe=Qe.removeBefore(R,Ie,Z-ht)),Qe&&Sr<Ht&&(Qe=Qe.removeAfter(R,Ie,Sr-ht)),ht&&(Z-=ht,pe-=ht)}return m.__ownerID?(m.size=pe-Z,m._origin=Z,m._capacity=pe,m._level=Ie,m._root=Qe,m._tail=Fr,m.__hash=void 0,m.__altered=!0,m):wu(Z,pe,Ie,Qe,Fr)}function Su(m){return m<n?0:m-1>>>t<<t}var fs=function(m){function g(E){return E==null?Tu():ye(E)?E:Tu().withMutations(function(R){var N=te(E);na(N.size),N.forEach(function(J,Z){return R.set(Z,J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("OrderedMap {","}")},g.prototype.get=function(R,N){var J=this._map.get(R);return J!==void 0?this._list.get(J)[1]:N},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Tu()},g.prototype.set=function(R,N){return Ks(this,R,N)},g.prototype.remove=function(R){return Ks(this,R,o)},g.prototype.__iterate=function(R,N){var J=this;return this._list.__iterate(function(Z){return Z&&R(Z[1],Z[0],J)},N)},g.prototype.__iterator=function(R,N){return this._list.fromEntrySeq().__iterator(R,N)},g.prototype.__ensureOwner=function(R){if(R===this.__ownerID)return this;var N=this._map.__ensureOwner(R),J=this._list.__ensureOwner(R);return R?qc(N,J,R,this.__hash):this.size===0?Tu():(this.__ownerID=R,this.__altered=!1,this._map=N,this._list=J,this)},g}(cc);fs.isOrderedMap=ye,fs.prototype[be]=!0,fs.prototype[e]=fs.prototype.remove;function qc(m,g,E,R){var N=Object.create(fs.prototype);return N.size=m?m.size:0,N._map=m,N._list=g,N.__ownerID=E,N.__hash=R,N.__altered=!1,N}var Cu;function Tu(){return Cu||(Cu=qc(Lo(),yl()))}function Ks(m,g,E){var R=m._map,N=m._list,J=R.get(g),Z=J!==void 0,pe,Ie;if(E===o){if(!Z)return m;N.size>=n&&N.size>=R.size*2?(Ie=N.filter(function(Qe,ht){return Qe!==void 0&&J!==ht}),pe=Ie.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),m.__ownerID&&(pe.__ownerID=Ie.__ownerID=m.__ownerID)):(pe=R.remove(g),Ie=J===N.size-1?N.pop():N.set(J,void 0))}else if(Z){if(E===N.get(J)[1])return m;pe=R,Ie=N.set(J,[g,E])}else pe=R.set(g,N.size),Ie=N.set(N.size,[g,E]);return m.__ownerID?(m.size=pe.size,m._map=pe,m._list=Ie,m.__hash=void 0,m.__altered=!0,m):qc(pe,Ie)}var ng="@@__IMMUTABLE_STACK__@@";function za(m){return!!(m&&m[ng])}var Ku=function(m){function g(E){return E==null?Du():za(E)?E:Du().pushAll(E)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("Stack [","]")},g.prototype.get=function(R,N){var J=this._head;for(R=l(this,R);J&&R--;)J=J.next;return J?J.value:N},g.prototype.peek=function(){return this._head&&this._head.value},g.prototype.push=function(){var R=arguments;if(arguments.length===0)return this;for(var N=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:R[Z],next:J};return this.__ownerID?(this.size=N,this._head=J,this.__hash=void 0,this.__altered=!0,this):qo(N,J)},g.prototype.pushAll=function(R){if(R=m(R),R.size===0)return this;if(this.size===0&&za(R))return R;na(R.size);var N=this.size,J=this._head;return R.__iterate(function(Z){N++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=N,this._head=J,this.__hash=void 0,this.__altered=!0,this):qo(N,J)},g.prototype.pop=function(){return this.slice(1)},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Du()},g.prototype.slice=function(R,N){if(f(R,N,this.size))return this;var J=_(R,this.size),Z=y(N,this.size);if(Z!==this.size)return m.prototype.slice.call(this,R,N);for(var pe=this.size-J,Ie=this._head;J--;)Ie=Ie.next;return this.__ownerID?(this.size=pe,this._head=Ie,this.__hash=void 0,this.__altered=!0,this):qo(pe,Ie)},g.prototype.__ensureOwner=function(R){return R===this.__ownerID?this:R?qo(this.size,this._head,R,this.__hash):this.size===0?Du():(this.__ownerID=R,this.__altered=!1,this)},g.prototype.__iterate=function(R,N){var J=this;if(N)return new ni(this.toArray()).__iterate(function(Ie,Qe){return R(Ie,Qe,J)},N);for(var Z=0,pe=this._head;pe&&R(pe.value,Z++,this)!==!1;)pe=pe.next;return Z},g.prototype.__iterator=function(R,N){if(N)return new ni(this.toArray()).__iterator(R,N);var J=0,Z=this._head;return new tt(function(){if(Z){var pe=Z.value;return Z=Z.next,pr(R,J++,pe)}return Nr()})},g}(Te);Ku.isStack=za;var No=Ku.prototype;No[ng]=!0,No.shift=No.pop,No.unshift=No.push,No.unshiftAll=No.pushAll,No.withMutations=Gp,No.wasAltered=Vd,No.asImmutable=$d,No["@@transducer/init"]=No.asMutable=nd,No["@@transducer/step"]=function(m,g){return m.unshift(g)},No["@@transducer/result"]=function(m){return m.asImmutable()};function qo(m,g,E,R){var N=Object.create(No);return N.size=m,N._head=g,N.__ownerID=E,N.__hash=R,N.__altered=!1,N}var Jd;function Du(){return Jd||(Jd=qo(0))}var Xd="@@__IMMUTABLE_SET__@@";function Io(m){return!!(m&&m[Xd])}function bl(m){return Io(m)&&xe(m)}function Qd(m,g){if(m===g)return!0;if(!M(g)||m.size!==void 0&&g.size!==void 0&&m.size!==g.size||m.__hash!==void 0&&g.__hash!==void 0&&m.__hash!==g.__hash||re(m)!==re(g)||_e(m)!==_e(g)||xe(m)!==xe(g))return!1;if(m.size===0&&g.size===0)return!0;var E=!G(m);if(xe(m)){var R=m.entries();return g.every(function(Ie,Qe){var ht=R.next().value;return ht&&ft(ht[1],Ie)&&(E||ft(ht[0],Qe))})&&R.next().done}var N=!1;if(m.size===void 0)if(g.size===void 0)typeof m.cacheResult=="function"&&m.cacheResult();else{N=!0;var J=m;m=g,g=J}var Z=!0,pe=g.__iterate(function(Ie,Qe){if(E?!m.has(Ie):N?!ft(Ie,m.get(Qe,o)):!ft(m.get(Qe,o),Ie))return Z=!1,!1});return Z&&m.size===pe}function ia(m,g){var E=function(R){m.prototype[R]=g[R]};return Object.keys(g).forEach(E),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(g).forEach(E),m}function ou(m){if(!m||typeof m!="object")return m;if(!M(m)){if(!$s(m))return m;m=Rr(m)}if(re(m)){var g={};return m.__iterate(function(R,N){g[N]=ou(R)}),g}var E=[];return m.__iterate(function(R){E.push(ou(R))}),E}var Ys=function(m){function g(E){return E==null?Fc():Io(E)&&!xe(E)?E:Fc().withMutations(function(R){var N=m(E);na(N.size),N.forEach(function(J){return R.add(J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.fromKeys=function(R){return this(te(R).keySeq())},g.intersect=function(R){return R=$(R).toArray(),R.length?Ss.intersect.apply(g(R.pop()),R):Fc()},g.union=function(R){return R=$(R).toArray(),R.length?Ss.union.apply(g(R.pop()),R):Fc()},g.prototype.toString=function(){return this.__toString("Set {","}")},g.prototype.has=function(R){return this._map.has(R)},g.prototype.add=function(R){return wl(this,this._map.set(R,R))},g.prototype.remove=function(R){return wl(this,this._map.remove(R))},g.prototype.clear=function(){return wl(this,this._map.clear())},g.prototype.map=function(R,N){var J=this,Z=!1,pe=wl(this,this._map.mapEntries(function(Ie){var Qe=Ie[1],ht=R.call(N,Qe,Qe,J);return ht!==Qe&&(Z=!0),[ht,ht]},N));return Z?pe:this},g.prototype.union=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return R=R.filter(function(J){return J.size!==0}),R.length===0?this:this.size===0&&!this.__ownerID&&R.length===1?this.constructor(R[0]):this.withMutations(function(J){for(var Z=0;Z<R.length;Z++)typeof R[Z]=="string"?J.add(R[Z]):m(R[Z]).forEach(function(pe){return J.add(pe)})})},g.prototype.intersect=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R.length===0)return this;R=R.map(function(Z){return m(Z)});var J=[];return this.forEach(function(Z){R.every(function(pe){return pe.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},g.prototype.subtract=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R.length===0)return this;R=R.map(function(Z){return m(Z)});var J=[];return this.forEach(function(Z){R.some(function(pe){return pe.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},g.prototype.sort=function(R){return Fo(ro(this,R))},g.prototype.sortBy=function(R,N){return Fo(ro(this,N,R))},g.prototype.wasAltered=function(){return this._map.wasAltered()},g.prototype.__iterate=function(R,N){var J=this;return this._map.__iterate(function(Z){return R(Z,Z,J)},N)},g.prototype.__iterator=function(R,N){return this._map.__iterator(R,N)},g.prototype.__ensureOwner=function(R){if(R===this.__ownerID)return this;var N=this._map.__ensureOwner(R);return R?this.__make(N,R):this.size===0?this.__empty():(this.__ownerID=R,this._map=N,this)},g}(ae);Ys.isSet=Io;var Ss=Ys.prototype;Ss[Xd]=!0,Ss[e]=Ss.remove,Ss.merge=Ss.concat=Ss.union,Ss.withMutations=Gp,Ss.asImmutable=$d,Ss["@@transducer/init"]=Ss.asMutable=nd,Ss["@@transducer/step"]=function(m,g){return m.add(g)},Ss["@@transducer/result"]=function(m){return m.asImmutable()},Ss.__empty=Fc,Ss.__make=mv;function wl(m,g){return m.__ownerID?(m.size=g.size,m._map=g,m):g===m._map?m:g.size===0?m.__empty():m.__make(g)}function mv(m,g){var E=Object.create(Ss);return E.size=m?m.size:0,E._map=m,E.__ownerID=g,E}var is;function Fc(){return is||(is=mv(Lo()))}var Yu=function(m){function g(E,R,N){if(!(this instanceof g))return new g(E,R,N);if(Fa(N!==0,"Cannot step a Range by 0"),E=E||0,R===void 0&&(R=1/0),N=N===void 0?1:Math.abs(N),R<E&&(N=-N),this._start=E,this._end=R,this._step=N,this.size=Math.max(0,Math.ceil((R-E)/N-1)+1),this.size===0){if(nh)return nh;nh=this}}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},g.prototype.get=function(R,N){return this.has(R)?this._start+l(this,R)*this._step:N},g.prototype.includes=function(R){var N=(R-this._start)/this._step;return N>=0&&N<this.size&&N===Math.floor(N)},g.prototype.slice=function(R,N){return f(R,N,this.size)?this:(R=_(R,this.size),N=y(N,this.size),N<=R?new g(0,0):new g(this.get(R,this._end),this.get(N,this._end),this._step))},g.prototype.indexOf=function(R){var N=R-this._start;if(N%this._step===0){var J=N/this._step;if(J>=0&&J<this.size)return J}return-1},g.prototype.lastIndexOf=function(R){return this.indexOf(R)},g.prototype.__iterate=function(R,N){for(var J=this.size,Z=this._step,pe=N?this._start+(J-1)*Z:this._start,Ie=0;Ie!==J&&R(pe,N?J-++Ie:Ie++,this)!==!1;)pe+=N?-Z:Z;return Ie},g.prototype.__iterator=function(R,N){var J=this.size,Z=this._step,pe=N?this._start+(J-1)*Z:this._start,Ie=0;return new tt(function(){if(Ie===J)return Nr();var Qe=pe;return pe+=N?-Z:Z,pr(R,N?J-++Ie:Ie++,Qe)})},g.prototype.equals=function(R){return R instanceof g?this._start===R._start&&this._end===R._end&&this._step===R._step:Qd(this,R)},g}(Wr),nh;function cd(m,g,E){for(var R=$u(g),N=0;N!==R.length;)if(m=Mo(m,R[N++],o),m===o)return E;return m}function Jh(m,g){return cd(this,m,g)}function Ua(m,g){return cd(m,g,o)!==o}function Kp(m){return Ua(this,m)}function Ni(){na(this.size);var m={};return this.__iterate(function(g,E){m[E]=g}),m}$.isIterable=M,$.isKeyed=re,$.isIndexed=_e,$.isAssociative=G,$.isOrdered=xe,$.Iterator=tt,ia($,{toArray:function(){na(this.size);var g=new Array(this.size||0),E=re(this),R=0;return this.__iterate(function(N,J){g[R++]=E?[J,N]:N}),g},toIndexedSeq:function(){return new Is(this)},toJS:function(){return ou(this)},toKeyedSeq:function(){return new Go(this,!0)},toMap:function(){return cc(this.toKeyedSeq())},toObject:Ni,toOrderedMap:function(){return fs(this.toKeyedSeq())},toOrderedSet:function(){return Fo(re(this)?this.valueSeq():this)},toSet:function(){return Ys(re(this)?this.valueSeq():this)},toSetSeq:function(){return new Ws(this)},toSeq:function(){return _e(this)?this.toIndexedSeq():re(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ku(re(this)?this.valueSeq():this)},toList:function(){return pa(re(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(g,E){return this.size===0?g+E:g+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+E},concat:function(){for(var g=[],E=arguments.length;E--;)g[E]=arguments[E];return Yn(this,Ut(this,g))},includes:function(g){return this.some(function(E){return ft(E,g)})},entries:function(){return this.__iterator(Ct)},every:function(g,E){na(this.size);var R=!0;return this.__iterate(function(N,J,Z){if(!g.call(E,N,J,Z))return R=!1,!1}),R},filter:function(g,E){return Yn(this,vt(this,g,E,!0))},partition:function(g,E){return zi(this,g,E)},find:function(g,E,R){var N=this.findEntry(g,E);return N?N[1]:R},forEach:function(g,E){return na(this.size),this.__iterate(E?g.bind(E):g)},join:function(g){na(this.size),g=g!==void 0?""+g:",";var E="",R=!0;return this.__iterate(function(N){R?R=!1:E+=g,E+=N!=null?N.toString():""}),E},keys:function(){return this.__iterator(Le)},map:function(g,E){return Yn(this,U(this,g,E))},reduce:function(g,E,R){return Js(this,g,E,R,arguments.length<2,!1)},reduceRight:function(g,E,R){return Js(this,g,E,R,arguments.length<2,!0)},reverse:function(){return Yn(this,Ue(this,!0))},slice:function(g,E){return Yn(this,L(this,g,E,!0))},some:function(g,E){return!this.every(Zd(g),E)},sort:function(g){return Yn(this,ro(this,g))},values:function(){return this.__iterator(Ge)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(g,E){return u(g?this.toSeq().filter(g,E):this)},countBy:function(g,E){return qr(this,g,E)},equals:function(g){return Qd(this,g)},entrySeq:function(){var g=this;if(g._cache)return new ni(g._cache);var E=g.toSeq().map(Bi).toIndexedSeq();return E.fromEntrySeq=function(){return g.toSeq()},E},filterNot:function(g,E){return this.filter(Zd(g),E)},findEntry:function(g,E,R){var N=R;return this.__iterate(function(J,Z,pe){if(g.call(E,J,Z,pe))return N=[Z,J],!1}),N},findKey:function(g,E){var R=this.findEntry(g,E);return R&&R[0]},findLast:function(g,E,R){return this.toKeyedSeq().reverse().find(g,E,R)},findLastEntry:function(g,E,R){return this.toKeyedSeq().reverse().findEntry(g,E,R)},findLastKey:function(g,E){return this.toKeyedSeq().reverse().findKey(g,E)},first:function(g){return this.find(d,null,g)},flatMap:function(g,E){return Yn(this,wn(this,g,E))},flatten:function(g){return Yn(this,kn(this,g,!0))},fromEntrySeq:function(){return new Oo(this)},get:function(g,E){return this.find(function(R,N){return ft(N,g)},void 0,E)},getIn:Jh,groupBy:function(g,E){return to(this,g,E)},has:function(g){return this.get(g,o)!==o},hasIn:Kp,isSubset:function(g){return g=typeof g.includes=="function"?g:$(g),this.every(function(E){return g.includes(E)})},isSuperset:function(g){return g=typeof g.isSubset=="function"?g:$(g),g.isSubset(this)},keyOf:function(g){return this.findKey(function(E){return ft(E,g)})},keySeq:function(){return this.toSeq().map(Ju).toIndexedSeq()},last:function(g){return this.toSeq().reverse().first(g)},lastKeyOf:function(g){return this.toKeyedSeq().reverse().keyOf(g)},max:function(g){return Li(this,g)},maxBy:function(g,E){return Li(this,E,g)},min:function(g){return Li(this,g?bi(g):Hn)},minBy:function(g,E){return Li(this,E?bi(E):Hn,g)},rest:function(){return this.slice(1)},skip:function(g){return g===0?this:this.slice(Math.max(0,g))},skipLast:function(g){return g===0?this:this.slice(0,-Math.max(0,g))},skipWhile:function(g,E){return Yn(this,rt(this,g,E,!0))},skipUntil:function(g,E){return this.skipWhile(Zd(g),E)},sortBy:function(g,E){return Yn(this,ro(this,E,g))},take:function(g){return this.slice(0,Math.max(0,g))},takeLast:function(g){return this.slice(-Math.max(0,g))},takeWhile:function(g,E){return Yn(this,Ae(this,g,E))},takeUntil:function(g,E){return this.takeWhile(Zd(g),E)},update:function(g){return g(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ud(this))}});var Yo=$.prototype;Yo[H]=!0,Yo[ct]=Yo.values,Yo.toJSON=Yo.toArray,Yo.__toStringMapper=Zc,Yo.inspect=Yo.toSource=function(){return this.toString()},Yo.chain=Yo.flatMap,Yo.contains=Yo.includes,ia(te,{flip:function(){return Yn(this,bo(this))},mapEntries:function(g,E){var R=this,N=0;return Yn(this,this.toSeq().map(function(J,Z){return g.call(E,[Z,J],N++,R)}).fromEntrySeq())},mapKeys:function(g,E){var R=this;return Yn(this,this.toSeq().flip().map(function(N,J){return g.call(E,N,J,R)}).flip())}});var Pu=te.prototype;Pu[z]=!0,Pu[ct]=Yo.entries,Pu.toJSON=Ni,Pu.__toStringMapper=function(m,g){return Zc(g)+": "+Zc(m)},ia(Te,{toKeyedSeq:function(){return new Go(this,!1)},filter:function(g,E){return Yn(this,vt(this,g,E,!1))},findIndex:function(g,E){var R=this.findEntry(g,E);return R?R[0]:-1},indexOf:function(g){var E=this.keyOf(g);return E===void 0?-1:E},lastIndexOf:function(g){var E=this.lastKeyOf(g);return E===void 0?-1:E},reverse:function(){return Yn(this,Ue(this,!1))},slice:function(g,E){return Yn(this,L(this,g,E,!1))},splice:function(g,E){var R=arguments.length;if(E=Math.max(E||0,0),R===0||R===2&&!E)return this;g=_(g,g<0?this.count():this.size);var N=this.slice(0,g);return Yn(this,R===1?N:N.concat(qa(arguments,2),this.slice(g+E)))},findLastIndex:function(g,E){var R=this.findLastEntry(g,E);return R?R[0]:-1},first:function(g){return this.get(0,g)},flatten:function(g){return Yn(this,kn(this,g,!1))},get:function(g,E){return g=l(this,g),g<0||this.size===1/0||this.size!==void 0&&g>this.size?E:this.find(function(R,N){return N===g},void 0,E)},has:function(g){return g=l(this,g),g>=0&&(this.size!==void 0?this.size===1/0||g<this.size:this.indexOf(g)!==-1)},interpose:function(g){return Yn(this,Mn(this,g))},interleave:function(){var g=[this].concat(qa(arguments)),E=Hi(this.toSeq(),Wr.of,g),R=E.flatten(!0);return E.size&&(R.size=E.size*g.length),Yn(this,R)},keySeq:function(){return Yu(0,this.size)},last:function(g){return this.get(-1,g)},skipWhile:function(g,E){return Yn(this,rt(this,g,E,!1))},zip:function(){var g=[this].concat(qa(arguments));return Yn(this,Hi(this,ma,g))},zipAll:function(){var g=[this].concat(qa(arguments));return Yn(this,Hi(this,ma,g,!0))},zipWith:function(g){var E=qa(arguments);return E[0]=this,Yn(this,Hi(this,g,E))}});var lc=Te.prototype;lc[ce]=!0,lc[be]=!0,ia(ae,{get:function(g,E){return this.has(g)?g:E},includes:function(g){return this.has(g)},keySeq:function(){return this.valueSeq()}});var dc=ae.prototype;dc.has=Yo.includes,dc.contains=dc.includes,dc.keys=dc.values,ia(Un,Pu),ia(Wr,lc),ia(un,dc);function Js(m,g,E,R,N,J){return na(m.size),m.__iterate(function(Z,pe,Ie){N?(N=!1,E=Z):E=g.call(R,E,Z,pe,Ie)},J),E}function Ju(m,g){return g}function Bi(m,g){return[g,m]}function Zd(m){return function(){return!m.apply(this,arguments)}}function bi(m){return function(){return-m.apply(this,arguments)}}function ma(){return qa(arguments)}function Hn(m,g){return m<g?1:m>g?-1:0}function ud(m){if(m.size===1/0)return 0;var g=xe(m),E=re(m),R=g?1:0,N=m.__iterate(E?g?function(J,Z){R=31*R+fc(Vt(J),Vt(Z))|0}:function(J,Z){R=R+fc(Vt(J),Vt(Z))|0}:g?function(J){R=31*R+Vt(J)|0}:function(J){R=R+Vt(J)|0});return Sl(N,R)}function Sl(m,g){return g=Jt(g,3432918353),g=Jt(g<<15|g>>>-15,461845907),g=Jt(g<<13|g>>>-13,5),g=(g+3864292196|0)^m,g=Jt(g^g>>>16,2246822507),g=Jt(g^g>>>13,3266489909),g=nr(g^g>>>16),g}function fc(m,g){return m^g+2654435769+(m<<6)+(m>>2)|0}var Fo=function(m){function g(E){return E==null?su():bl(E)?E:su().withMutations(function(R){var N=ae(E);na(N.size),N.forEach(function(J){return R.add(J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.fromKeys=function(R){return this(te(R).keySeq())},g.prototype.toString=function(){return this.__toString("OrderedSet {","}")},g}(Ys);Fo.isOrderedSet=bl;var Ha=Fo.prototype;Ha[be]=!0,Ha.zip=lc.zip,Ha.zipWith=lc.zipWith,Ha.zipAll=lc.zipAll,Ha.__empty=su,Ha.__make=Xs;function Xs(m,g){var E=Object.create(Ha);return E.size=m?m.size:0,E._map=m,E.__ownerID=g,E}var io;function su(){return io||(io=Xs(Tu()))}var Ln={LeftThenRight:-1,RightThenLeft:1};function jc(m){if(le(m))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ce(m))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(m===null||typeof m!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Co=function(g,E){var R;jc(g);var N=function(pe){var Ie=this;if(pe instanceof N)return pe;if(!(this instanceof N))return new N(pe);if(!R){R=!0;var Qe=Object.keys(g),ht=J._indices={};J._name=E,J._keys=Qe,J._defaultValues=g;for(var Ht=0;Ht<Qe.length;Ht++){var Sr=Qe[Ht];ht[Sr]=Ht,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ga(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):Qs(J,Sr)}}return this.__ownerID=void 0,this._values=pa().withMutations(function(on){on.setSize(Ie._keys.length),te(pe).forEach(function(Fr,Bn){on.set(Ie._indices[Bn],Fr===Ie._defaultValues[Bn]?void 0:Fr)})}),this},J=N.prototype=Object.create(si);return J.constructor=N,E&&(N.displayName=E),N};Co.prototype.toString=function(){for(var g=ga(this)+" { ",E=this._keys,R,N=0,J=E.length;N!==J;N++)R=E[N],g+=(N?", ":"")+R+": "+Zc(this.get(R));return g+" }"},Co.prototype.equals=function(g){return this===g||le(g)&&oa(this).equals(oa(g))},Co.prototype.hashCode=function(){return oa(this).hashCode()},Co.prototype.has=function(g){return this._indices.hasOwnProperty(g)},Co.prototype.get=function(g,E){if(!this.has(g))return E;var R=this._indices[g],N=this._values.get(R);return N===void 0?this._defaultValues[g]:N},Co.prototype.set=function(g,E){if(this.has(g)){var R=this._values.set(this._indices[g],E===this._defaultValues[g]?void 0:E);if(R!==this._values&&!this.__ownerID)return Cl(this,R)}return this},Co.prototype.remove=function(g){return this.set(g)},Co.prototype.clear=function(){var g=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Cl(this,g)},Co.prototype.wasAltered=function(){return this._values.wasAltered()},Co.prototype.toSeq=function(){return oa(this)},Co.prototype.toJS=function(){return ou(this)},Co.prototype.entries=function(){return this.__iterator(Ct)},Co.prototype.__iterator=function(g,E){return oa(this).__iterator(g,E)},Co.prototype.__iterate=function(g,E){return oa(this).__iterate(g,E)},Co.prototype.__ensureOwner=function(g){if(g===this.__ownerID)return this;var E=this._values.__ensureOwner(g);return g?Cl(this,E,g):(this.__ownerID=g,this._values=E,this)},Co.isRecord=le,Co.getDescriptiveName=ga;var si=Co.prototype;si[qe]=!0,si[e]=si.remove,si.deleteIn=si.removeIn=Hd,si.getIn=Jh,si.hasIn=Yo.hasIn,si.merge=Wd,si.mergeWith=pl,si.mergeIn=gl,si.mergeDeep=rd,si.mergeDeepWith=ds,si.mergeDeepIn=Lc,si.setIn=Mc,si.update=Bd,si.updateIn=$h,si.withMutations=Gp,si.asMutable=nd,si.asImmutable=$d,si[ct]=si.entries,si.toJSON=si.toObject=Yo.toObject,si.inspect=si.toSource=function(){return this.toString()};function Cl(m,g,E){var R=Object.create(Object.getPrototypeOf(m));return R._values=g,R.__ownerID=E,R}function ga(m){return m.constructor.displayName||m.constructor.name||"Record"}function oa(m){return Vi(m._keys.map(function(g){return[g,m.get(g)]}))}function Qs(m,g){try{Object.defineProperty(m,g,{get:function(){return this.get(g)},set:function(E){Fa(this.__ownerID,"Cannot set on an immutable record."),this.set(g,E)}})}catch{}}var Tl=function(m){function g(E,R){if(!(this instanceof g))return new g(E,R);if(this._value=E,this.size=R===void 0?1/0:Math.max(0,R),this.size===0){if(Ba)return Ba;Ba=this}}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},g.prototype.get=function(R,N){return this.has(R)?this._value:N},g.prototype.includes=function(R){return ft(this._value,R)},g.prototype.slice=function(R,N){var J=this.size;return f(R,N,J)?this:new g(this._value,y(N,J)-_(R,J))},g.prototype.reverse=function(){return this},g.prototype.indexOf=function(R){return ft(this._value,R)?0:-1},g.prototype.lastIndexOf=function(R){return ft(this._value,R)?this.size:-1},g.prototype.__iterate=function(R,N){for(var J=this.size,Z=0;Z!==J&&R(this._value,N?J-++Z:Z++,this)!==!1;);return Z},g.prototype.__iterator=function(R,N){var J=this,Z=this.size,pe=0;return new tt(function(){return pe===Z?Nr():pr(R,N?Z-++pe:pe++,J._value)})},g.prototype.equals=function(R){return R instanceof g?ft(this._value,R._value):Qd(R)},g}(Wr),Ba;function ld(m,g){return hs([],g||zc,m,"",g&&g.length>2?[]:void 0,{"":m})}function hs(m,g,E,R,N,J){if(typeof E!="string"&&!Ce(E)&&(xn(E)||Hr(E)||ac(E))){if(~m.indexOf(E))throw new TypeError("Cannot convert circular structure to Immutable");m.push(E),N&&R!==""&&N.push(R);var Z=g.call(J,R,Rr(E).map(function(pe,Ie){return hs(m,g,pe,Ie,N,E)}),N&&N.slice());return m.pop(),N&&N.pop(),Z}return E}function zc(m,g){return _e(g)?g.toList():re(g)?g.toMap():g.toSet()}var Xu="4.3.0",Dl={version:Xu,Collection:$,Iterable:$,Seq:Rr,Map:cc,OrderedMap:fs,List:pa,Stack:Ku,Set:Ys,OrderedSet:Fo,PairSorting:Ln,Record:Co,Range:Yu,Repeat:Tl,is:ft,fromJS:ld,hash:Vt,isImmutable:Ce,isCollection:M,isKeyed:re,isIndexed:_e,isAssociative:G,isOrdered:xe,isValueObject:Ke,isPlainObject:ac,isSeq:Fe,isList:Ns,isMap:Q,isOrderedMap:ye,isStack:za,isSet:Io,isOrderedSet:bl,isRecord:le,get:Mo,getIn:cd,has:Kf,hasIn:Ua,merge:Ms,mergeDeep:no,mergeWith:ml,mergeDeepWith:Jf,remove:Cn,removeIn:Yf,set:As,setIn:ha,update:Wh,updateIn:eu},dd=$;r.Collection=$,r.Iterable=dd,r.List=pa,r.Map=cc,r.OrderedMap=fs,r.OrderedSet=Fo,r.PairSorting=Ln,r.Range=Yu,r.Record=Co,r.Repeat=Tl,r.Seq=Rr,r.Set=Ys,r.Stack=Ku,r.default=Dl,r.fromJS=ld,r.get=Mo,r.getIn=cd,r.has=Kf,r.hasIn=Ua,r.hash=Vt,r.is=ft,r.isAssociative=G,r.isCollection=M,r.isImmutable=Ce,r.isIndexed=_e,r.isKeyed=re,r.isList=Ns,r.isMap=Q,r.isOrdered=xe,r.isOrderedMap=ye,r.isOrderedSet=bl,r.isPlainObject=ac,r.isRecord=le,r.isSeq=Fe,r.isSet=Io,r.isStack=za,r.isValueObject=Ke,r.merge=Ms,r.mergeDeep=no,r.mergeDeepWith=Jf,r.mergeWith=ml,r.remove=Cn,r.removeIn=Yf,r.set=As,r.setIn=ha,r.update=Wh,r.updateIn=eu,r.version=Xu,Object.defineProperty(r,"__esModule",{value:!0})})});var YB=P(RM=>{"use strict";Object.defineProperty(RM,"__esModule",{value:!0});RM.ServiceSource=void 0;var E0t;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(E0t=RM.ServiceSource||(RM.ServiceSource={}))});var JB=P(OM=>{"use strict";Object.defineProperty(OM,"__esModule",{value:!0});OM.ClientCredentialsPolicy=void 0;var x0t;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})(x0t=OM.ClientCredentialsPolicy||(OM.ClientCredentialsPolicy={}))});var NAe=P(XB=>{"use strict";Object.defineProperty(XB,"__esModule",{value:!0});XB.View=void 0;var R0t=require("events"),LAe=RC(),O0t=JB(),$ie=class extends R0t.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!LAe.RemoteServiceConnections.contains(e.supportedConnections,LAe.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===O0t.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};XB.View=$ie});var Gie=P(QB=>{"use strict";Object.defineProperty(QB,"__esModule",{value:!0});QB.RemoteServiceBrokerWrapper=void 0;var I0t=jie(),Vie=class extends I0t.IpcRelayServiceBroker{};QB.RemoteServiceBrokerWrapper=Vie});var FAe=P((p8t,qAe)=>{"use strict";function k0t(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}qAe.exports=k0t});var IM=P(dR=>{"use strict";var A0t=dR&&dR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dR,"__esModule",{value:!0});dR.ServiceMonikerValue=void 0;var jAe=A0t(FAe()),Kie=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,jAe.default)(this.name)+(0,jAe.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};dR.ServiceMonikerValue=Kie});var HAe=P(fR=>{"use strict";var M0t=fR&&fR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fR,"__esModule",{value:!0});fR.ProfferedServiceFactory=void 0;var zAe=M0t(kC()),L0t=require("events"),N0t=bM(),q0t=Gie(),UAe=IM(),F0t=YB(),Yie=class extends L0t.EventEmitter{container;descriptor;factory;source=F0t.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new UAe.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new q0t.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??zAe.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=N0t.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??zAe.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(UAe.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};fR.ProfferedServiceFactory=Yie});var ZB=P(kM=>{"use strict";Object.defineProperty(kM,"__esModule",{value:!0});kM.ServiceAudience=void 0;var j0t;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(j0t=kM.ServiceAudience||(kM.ServiceAudience={}))});var BAe=P(AM=>{"use strict";Object.defineProperty(AM,"__esModule",{value:!0});AM.MissingBrokeredServiceErrorCode=void 0;var z0t;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(z0t=AM.MissingBrokeredServiceErrorCode||(AM.MissingBrokeredServiceErrorCode={}))});var $Ae=P(eW=>{"use strict";Object.defineProperty(eW,"__esModule",{value:!0});eW.ProfferedRemoteServiceBroker=void 0;var U0t=require("events"),WAe=Bie(),H0t=IM(),Jie=class extends U0t.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(H0t.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await WAe.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await WAe.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};eW.ProfferedRemoteServiceBroker=Jie});var VAe=P(tW=>{"use strict";Object.defineProperty(tW,"__esModule",{value:!0});tW.ProfferedServiceBroker=void 0;var B0t=require("events"),W0t=Gie(),$0t=IM(),Xie=class extends B0t.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map($0t.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new W0t.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};tW.ProfferedServiceBroker=Xie});var KAe=P(Xy=>{"use strict";var V0t=Xy&&Xy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),G0t=Xy&&Xy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),K0t=Xy&&Xy.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&V0t(e,r,t);return G0t(e,r),e};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.GlobalBrokeredServiceContainer=void 0;var $T=K0t(MAe()),Vp=YB(),Qie=NAe(),Y0t=HAe(),VT=ZB(),rW=BAe(),GAe=JB(),J0t=$Ae(),X0t=VAe(),nW=IM(),Zie=nM(),eoe=class r{static preferredSourceOrderForRemoteServices=[Vp.ServiceSource.trustedServer,Vp.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[Vp.ServiceSource.sameProcess,Vp.ServiceSource.otherProcessOnSameMachine];remoteSources=$T.Map();profferedServiceIndex=$T.Map();registeredServices=$T.Map();localUserCredentials=$T.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:nW.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${Zie.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new Y0t.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new X0t.ProfferedServiceBroker(this,e,Vp.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===Vp.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new J0t.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(nW.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new Qie.View(this,VT.ServiceAudience.process,this.localUserCredentials,GAe.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new Qie.View(this,e,t,n)}static isLocalConsumer(e){return(e&~VT.ServiceAudience.local)===VT.ServiceAudience.none}getSecureServiceBroker(e){return new Qie.View(this,VT.ServiceAudience.process,e?.clientCredentials?$T.Map(e.clientCredentials):$T.Map(),GAe.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new nW.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=nW.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:rW.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:rW.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:rW.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:rW.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case Vp.ServiceSource.sameProcess:case Vp.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===Vp.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===Vp.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case Vp.ServiceSource.otherProcessOnSameMachine:return VT.ServiceAudience.local;case Vp.ServiceSource.trustedServer:return VT.ServiceAudience.liveShareGuest;case Vp.ServiceSource.untrustedServer:return VT.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>Vp.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??$T.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${Zie.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>Zie.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};Xy.GlobalBrokeredServiceContainer=eoe});var YAe=P(oW=>{"use strict";Object.defineProperty(oW,"__esModule",{value:!0});oW.ServiceRegistration=void 0;var iW=ZB(),toe=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&iW.ServiceAudience.local)!==iW.ServiceAudience.none}get isExposedRemotely(){return(this.audience&iW.ServiceAudience.liveShareGuest)!==iW.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};oW.ServiceRegistration=toe});var JAe=P(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.ClientCredentialsPolicy=cv.ServiceSource=cv.ServiceRegistration=cv.ServiceAudience=cv.GlobalBrokeredServiceContainer=void 0;var Q0t=KAe();Object.defineProperty(cv,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return Q0t.GlobalBrokeredServiceContainer}});var Z0t=ZB();Object.defineProperty(cv,"ServiceAudience",{enumerable:!0,get:function(){return Z0t.ServiceAudience}});var eTt=YAe();Object.defineProperty(cv,"ServiceRegistration",{enumerable:!0,get:function(){return eTt.ServiceRegistration}});var tTt=YB();Object.defineProperty(cv,"ServiceSource",{enumerable:!0,get:function(){return tTt.ServiceSource}});var rTt=JB();Object.defineProperty(cv,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return rTt.ClientCredentialsPolicy}})});var noe=P(Ji=>{"use strict";var nTt=Ji&&Ji.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XAe=Ji&&Ji.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nTt(e,r,t)};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Observer=Ji.ServiceRpcDescriptor=Ji.ServiceMoniker=Ji.JsonRpcConnection=Ji.ServiceJsonRpcDescriptor=Ji.RemoteServiceConnectionInfo=Ji.RemoteServiceBroker=Ji.ProtectedOperation=Ji.MultiplexingRelayServiceBroker=Ji.RpcMarshalable=Ji.IpcRelayServiceBroker=Ji.IDisposable=Ji.AuthorizationServiceClient=Ji.RemoteServiceConnections=Ji.MessageDelimiters=Ji.Formatters=void 0;var roe=RC();Object.defineProperty(Ji,"Formatters",{enumerable:!0,get:function(){return roe.Formatters}});Object.defineProperty(Ji,"MessageDelimiters",{enumerable:!0,get:function(){return roe.MessageDelimiters}});Object.defineProperty(Ji,"RemoteServiceConnections",{enumerable:!0,get:function(){return roe.RemoteServiceConnections}});XAe(HB(),Ji);var iTt=Eie();Object.defineProperty(Ji,"AuthorizationServiceClient",{enumerable:!0,get:function(){return iTt.AuthorizationServiceClient}});var oTt=X1e();Object.defineProperty(Ji,"IDisposable",{enumerable:!0,get:function(){return oTt.IDisposable}});var sTt=jie();Object.defineProperty(Ji,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return sTt.IpcRelayServiceBroker}});var aTt=cB();Object.defineProperty(Ji,"RpcMarshalable",{enumerable:!0,get:function(){return aTt.RpcMarshalable}});var cTt=DAe();Object.defineProperty(Ji,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return cTt.MultiplexingRelayServiceBroker}});var uTt=EAe();Object.defineProperty(Ji,"ProtectedOperation",{enumerable:!0,get:function(){return uTt.ProtectedOperation}});var lTt=Bie();Object.defineProperty(Ji,"RemoteServiceBroker",{enumerable:!0,get:function(){return lTt.RemoteServiceBroker}});var dTt=Uie();Object.defineProperty(Ji,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return dTt.RemoteServiceConnectionInfo}});var QAe=Tie();Object.defineProperty(Ji,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return QAe.ServiceJsonRpcDescriptor}});Object.defineProperty(Ji,"JsonRpcConnection",{enumerable:!0,get:function(){return QAe.JsonRpcConnection}});var fTt=nM();Object.defineProperty(Ji,"ServiceMoniker",{enumerable:!0,get:function(){return fTt.ServiceMoniker}});var hTt=gne();Object.defineProperty(Ji,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return hTt.ServiceRpcDescriptor}});var pTt=kAe();Object.defineProperty(Ji,"Observer",{enumerable:!0,get:function(){return pTt.Observer}});XAe(JAe(),Ji)});var vLe=P((L7t,gLe)=>{gLe.exports=mLe;mLe.sync=JTt;var hLe=require("fs");function YTt(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function pLe(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:YTt(e,t)}function mLe(r,e,t){hLe.stat(r,function(n,i){t(n,n?!1:pLe(i,r,e))})}function JTt(r,e){return pLe(hLe.statSync(r),r,e)}});var SLe=P((N7t,wLe)=>{wLe.exports=yLe;yLe.sync=XTt;var _Le=require("fs");function yLe(r,e,t){_Le.stat(r,function(n,i){t(n,n?!1:bLe(i,e))})}function XTt(r,e){return bLe(_Le.statSync(r),e)}function bLe(r,e){return r.isFile()&&QTt(r,e)}function QTt(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var TLe=P((F7t,CLe)=>{var q7t=require("fs"),GW;process.platform==="win32"||global.TESTING_WINDOWS?GW=vLe():GW=SLe();CLe.exports=voe;voe.sync=ZTt;function voe(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){voe(r,e||{},function(o,s){o?i(o):n(s)})})}GW(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function ZTt(r,e){try{return GW.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var ILe=P((j7t,OLe)=>{var TR=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",DLe=require("path"),eDt=TR?";":":",PLe=TLe(),ELe=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),xLe=(r,e)=>{let t=e.colon||eDt,n=r.match(/\//)||TR&&r.match(/\\/)?[""]:[...TR?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=TR?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=TR?i.split(t):[""];return TR&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},RLe=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=xLe(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(ELe(r));let f=n[u],_=/^".*"$/.test(f)?f.slice(1,-1):f,y=DLe.join(_,r),D=!_&&/^\.[\\\/]/.test(r)?r.slice(0,2)+y:y;l(c(D,u,0))}),c=(u,l,d)=>new Promise((f,_)=>{if(d===i.length)return f(a(l+1));let y=i[d];PLe(u+y,{pathExt:o},(D,k)=>{if(!D&&k)if(e.all)s.push(u+y);else return f(u+y);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},tDt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=xLe(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=DLe.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(PLe.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw ELe(r)};OLe.exports=RLe;RLe.sync=tDt});var ALe=P((z7t,_oe)=>{"use strict";var kLe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};_oe.exports=kLe;_oe.exports.default=kLe});var qLe=P((U7t,NLe)=>{"use strict";var MLe=require("path"),rDt=ILe(),nDt=ALe();function LLe(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=rDt.sync(r.command,{path:t[nDt({env:t})],pathExt:e?MLe.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=MLe.resolve(i?r.options.cwd:"",s)),s}function iDt(r){return LLe(r)||LLe(r,!0)}NLe.exports=iDt});var FLe=P((H7t,boe)=>{"use strict";var yoe=/([()\][%!^"`<>&|;, *?])/g;function oDt(r){return r=r.replace(yoe,"^$1"),r}function sDt(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(yoe,"^$1"),e&&(r=r.replace(yoe,"^$1")),r}boe.exports.command=oDt;boe.exports.argument=sDt});var zLe=P((B7t,jLe)=>{"use strict";jLe.exports=/^#!(.*)/});var HLe=P((W7t,ULe)=>{"use strict";var aDt=zLe();ULe.exports=(r="")=>{let e=r.match(aDt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var WLe=P(($7t,BLe)=>{"use strict";var woe=require("fs"),cDt=HLe();function uDt(r){let t=Buffer.alloc(150),n;try{n=woe.openSync(r,"r"),woe.readSync(n,t,0,150,0),woe.closeSync(n)}catch{}return cDt(t.toString())}BLe.exports=uDt});var KLe=P((V7t,GLe)=>{"use strict";var lDt=require("path"),$Le=qLe(),VLe=FLe(),dDt=WLe(),fDt=process.platform==="win32",hDt=/\.(?:com|exe)$/i,pDt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function mDt(r){r.file=$Le(r);let e=r.file&&dDt(r.file);return e?(r.args.unshift(r.file),r.command=e,$Le(r)):r.file}function gDt(r){if(!fDt)return r;let e=mDt(r),t=!hDt.test(e);if(r.options.forceShell||t){let n=pDt.test(e);r.command=lDt.normalize(r.command),r.command=VLe.command(r.command),r.args=r.args.map(o=>VLe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function vDt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:gDt(n)}GLe.exports=vDt});var XLe=P((G7t,JLe)=>{"use strict";var Soe=process.platform==="win32";function Coe(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function _Dt(r,e){if(!Soe)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=YLe(i,e);if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function YLe(r,e){return Soe&&r===1&&!e.file?Coe(e.original,"spawn"):null}function yDt(r,e){return Soe&&r===1&&!e.file?Coe(e.original,"spawnSync"):null}JLe.exports={hookChildProcess:_Dt,verifyENOENT:YLe,verifyENOENTSync:yDt,notFoundError:Coe}});var eNe=P((K7t,DR)=>{"use strict";var QLe=require("child_process"),Toe=KLe(),Doe=XLe();function ZLe(r,e,t){let n=Toe(r,e,t),i=QLe.spawn(n.command,n.args,n.options);return Doe.hookChildProcess(i,n),i}function bDt(r,e,t){let n=Toe(r,e,t),i=QLe.spawnSync(n.command,n.args,n.options);return i.error=i.error||Doe.verifyENOENTSync(i.status,n),i}DR.exports=ZLe;DR.exports.spawn=ZLe;DR.exports.sync=bDt;DR.exports._parse=Toe;DR.exports._enoent=Doe});var rNe=P((Y7t,tNe)=>{"use strict";tNe.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var iNe=P((J7t,Poe)=>{"use strict";var nNe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Poe.exports=nNe;Poe.exports.default=nNe});var aNe=P((X7t,GM)=>{"use strict";var VM=require("path"),oNe=iNe(),sNe=r=>{r={cwd:process.cwd(),path:process.env[oNe()],execPath:process.execPath,...r};let e,t=VM.resolve(r.cwd),n=[];for(;e!==t;)n.push(VM.join(t,"node_modules/.bin")),e=t,t=VM.resolve(t,"..");let i=VM.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(VM.delimiter)};GM.exports=sNe;GM.exports.default=sNe;GM.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=oNe({env:e});return r.path=e[t],e[t]=GM.exports(r),e}});var uNe=P((Q7t,Eoe)=>{"use strict";var cNe=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};Eoe.exports=cNe;Eoe.exports.default=cNe});var dNe=P((Z7t,YW)=>{"use strict";var wDt=uNe(),KW=new WeakMap,lNe=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(KW.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return wDt(o,r),KW.set(o,n),o};YW.exports=lNe;YW.exports.default=lNe;YW.exports.callCount=r=>{if(!KW.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return KW.get(r)}});var fNe=P(JW=>{"use strict";Object.defineProperty(JW,"__esModule",{value:!0});JW.SIGNALS=void 0;var SDt=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];JW.SIGNALS=SDt});var xoe=P(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});PR.SIGRTMAX=PR.getRealtimeSignals=void 0;var CDt=function(){let r=pNe-hNe+1;return Array.from({length:r},TDt)};PR.getRealtimeSignals=CDt;var TDt=function(r,e){return{name:`SIGRT${e+1}`,number:hNe+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},hNe=34,pNe=64;PR.SIGRTMAX=pNe});var mNe=P(XW=>{"use strict";Object.defineProperty(XW,"__esModule",{value:!0});XW.getSignals=void 0;var DDt=require("os"),PDt=fNe(),EDt=xoe(),xDt=function(){let r=(0,EDt.getRealtimeSignals)();return[...PDt.SIGNALS,...r].map(RDt)};XW.getSignals=xDt;var RDt=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=DDt.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var vNe=P(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0});ER.signalsByNumber=ER.signalsByName=void 0;var ODt=require("os"),gNe=mNe(),IDt=xoe(),kDt=function(){return(0,gNe.getSignals)().reduce(ADt,{})},ADt=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},MDt=kDt();ER.signalsByName=MDt;var LDt=function(){let r=(0,gNe.getSignals)(),e=IDt.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>NDt(i,r));return Object.assign({},...t)},NDt=function(r,e){let t=qDt(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},qDt=function(r,e){let t=e.find(({name:n})=>ODt.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},FDt=LDt();ER.signalsByNumber=FDt});var yNe=P((iYt,_Ne)=>{"use strict";var{signalsByName:jDt}=vNe(),zDt=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",UDt=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:jDt[i].description,f=n&&n.code,y=`Command ${zDt({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,D=n instanceof Error?`${y}
${n.message}`:y,k=[D,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=k):n=new Error(k),n.shortMessage=D,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};_Ne.exports=UDt});var wNe=P((oYt,Roe)=>{"use strict";var QW=["stdin","stdout","stderr"],HDt=r=>QW.some(e=>r[e]!==void 0),bNe=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return QW.map(n=>r[n]);if(HDt(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${QW.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,QW.length);return Array.from({length:t},(n,i)=>e[i])};Roe.exports=bNe;Roe.exports.node=r=>{let e=bNe(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var SNe=P((sYt,ZW)=>{ZW.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&ZW.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ZW.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var ENe=P((aYt,OR)=>{var sc=global.process,GT=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};GT(sc)?(CNe=require("assert"),xR=SNe(),TNe=/^win/i.test(sc.platform),KM=require("events"),typeof KM!="function"&&(KM=KM.EventEmitter),sc.__signal_exit_emitter__?td=sc.__signal_exit_emitter__:(td=sc.__signal_exit_emitter__=new KM,td.count=0,td.emitted={}),td.infinite||(td.setMaxListeners(1/0),td.infinite=!0),OR.exports=function(r,e){if(!GT(global.process))return function(){};CNe.equal(typeof r,"function","a callback must be provided for exit handler"),RR===!1&&Ooe();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){td.removeListener(t,r),td.listeners("exit").length===0&&td.listeners("afterexit").length===0&&e$()};return td.on(t,r),n},e$=function(){!RR||!GT(global.process)||(RR=!1,xR.forEach(function(e){try{sc.removeListener(e,t$[e])}catch{}}),sc.emit=r$,sc.reallyExit=Ioe,td.count-=1)},OR.exports.unload=e$,KT=function(e,t,n){td.emitted[e]||(td.emitted[e]=!0,td.emit(e,t,n))},t$={},xR.forEach(function(r){t$[r]=function(){if(GT(global.process)){var t=sc.listeners(r);t.length===td.count&&(e$(),KT("exit",null,r),KT("afterexit",null,r),TNe&&r==="SIGHUP"&&(r="SIGINT"),sc.kill(sc.pid,r))}}}),OR.exports.signals=function(){return xR},RR=!1,Ooe=function(){RR||!GT(global.process)||(RR=!0,td.count+=1,xR=xR.filter(function(e){try{return sc.on(e,t$[e]),!0}catch{return!1}}),sc.emit=PNe,sc.reallyExit=DNe)},OR.exports.load=Ooe,Ioe=sc.reallyExit,DNe=function(e){GT(global.process)&&(sc.exitCode=e||0,KT("exit",sc.exitCode,null),KT("afterexit",sc.exitCode,null),Ioe.call(sc,sc.exitCode))},r$=sc.emit,PNe=function(e,t){if(e==="exit"&&GT(global.process)){t!==void 0&&(sc.exitCode=t);var n=r$.apply(this,arguments);return KT("exit",sc.exitCode,null),KT("afterexit",sc.exitCode,null),n}else return r$.apply(this,arguments)}):OR.exports=function(){return function(){}};var CNe,xR,TNe,KM,td,e$,KT,t$,RR,Ooe,Ioe,DNe,r$,PNe});var RNe=P((cYt,xNe)=>{"use strict";var BDt=require("os"),WDt=ENe(),$Dt=1e3*5,VDt=(r,e="SIGTERM",t={})=>{let n=r(e);return GDt(r,e,t,n),n},GDt=(r,e,t,n)=>{if(!KDt(e,t,n))return;let i=JDt(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},KDt=(r,{forceKillAfterTimeout:e},t)=>YDt(r)&&e!==!1&&t,YDt=r=>r===BDt.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",JDt=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return $Dt;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},XDt=(r,e)=>{r.kill()&&(e.isCanceled=!0)},QDt=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},ZDt=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{QDt(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},ePt=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=WDt(()=>{r.kill()});return n.finally(()=>{i()})};xNe.exports={spawnedKill:VDt,spawnedCancel:XDt,setupTimeout:ZDt,setExitHandler:ePt}});var INe=P((uYt,ONe)=>{"use strict";var nb=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";nb.writable=r=>nb(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";nb.readable=r=>nb(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";nb.duplex=r=>nb.writable(r)&&nb.readable(r);nb.transform=r=>nb.duplex(r)&&typeof r._transform=="function";ONe.exports=nb});var MNe=P((lYt,ANe)=>{ANe.exports=kNe;function kNe(r,e){if(r&&e)return kNe(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Aoe=P((dYt,koe)=>{var LNe=MNe();koe.exports=LNe(n$);koe.exports.strict=LNe(NNe);n$.proto=n$(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n$(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return NNe(this)},configurable:!0})});function n$(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function NNe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var jNe=P((fYt,FNe)=>{var tPt=Aoe(),rPt=function(){},nPt=function(r){return r.setHeader&&typeof r.abort=="function"},iPt=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},qNe=function(r,e,t){if(typeof e=="function")return qNe(r,null,e);e||(e={}),t=tPt(t||rPt);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(k){t.call(r,k?new Error("exited with error code: "+k):null)},f=function(k){t.call(r,k)},_=function(){process.nextTick(y)},y=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},D=function(){r.req.on("finish",u)};return nPt(r)?(r.on("complete",u),r.on("abort",_),r.req?D():r.on("request",D)):s&&!n&&(r.on("end",c),r.on("close",c)),iPt(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",_),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",_),r.removeListener("request",D),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",_)}};FNe.exports=qNe});var HNe=P((hYt,UNe)=>{var oPt=Aoe(),sPt=jNe(),Moe=require("fs"),YM=function(){},aPt=/^v?\.0/.test(process.version),i$=function(r){return typeof r=="function"},cPt=function(r){return!aPt||!Moe?!1:(r instanceof(Moe.ReadStream||YM)||r instanceof(Moe.WriteStream||YM))&&i$(r.close)},uPt=function(r){return r.setHeader&&i$(r.abort)},lPt=function(r,e,t,n){n=oPt(n);var i=!1;r.on("close",function(){i=!0}),sPt(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,cPt(r))return r.close(YM);if(uPt(r))return r.abort();if(i$(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},zNe=function(r){r()},dPt=function(r,e){return r.pipe(e)},fPt=function(){var r=Array.prototype.slice.call(arguments),e=i$(r[r.length-1]||YM)&&r.pop()||YM;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return lPt(i,s,a,function(c){t||(t=c),c&&n.forEach(zNe),!s&&(n.forEach(zNe),e(t))})});return r.reduce(dPt)};UNe.exports=fPt});var WNe=P((pYt,BNe)=>{"use strict";var{PassThrough:hPt}=require("stream");BNe.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new hPt({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var $Ne=P((mYt,IR)=>{"use strict";var{constants:pPt}=require("buffer"),mPt=HNe(),gPt=WNe(),o$=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function s$(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=pPt.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=mPt(r,gPt(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new o$)})}),n.getBufferedValue()}IR.exports=s$;IR.exports.default=s$;IR.exports.buffer=(r,e)=>s$(r,{...e,encoding:"buffer"});IR.exports.array=(r,e)=>s$(r,{...e,array:!0});IR.exports.MaxBufferError=o$});var GNe=P((gYt,VNe)=>{"use strict";var{PassThrough:vPt}=require("stream");VNe.exports=function(){var r=[],e=new vPt({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var XNe=P((vYt,JNe)=>{"use strict";var YNe=INe(),KNe=$Ne(),_Pt=GNe(),yPt=(r,e)=>{e===void 0||r.stdin===void 0||(YNe(e)?e.pipe(r.stdin):r.stdin.end(e))},bPt=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=_Pt();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},Loe=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},Noe=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?KNe(r,{encoding:e,maxBuffer:n}):KNe.buffer(r,{maxBuffer:n})},wPt=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=Noe(r,{encoding:n,buffer:i,maxBuffer:o}),c=Noe(e,{encoding:n,buffer:i,maxBuffer:o}),u=Noe(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Loe(r,a),Loe(e,c),Loe(t,u)])}},SPt=({input:r})=>{if(YNe(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};JNe.exports={handleInput:yPt,makeAllStream:bPt,getSpawnedResult:wPt,validateInputSync:SPt}});var ZNe=P((_Yt,QNe)=>{"use strict";var qoe=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},CPt=(r,e)=>(qoe(r,e,"then"),qoe(r,e,"catch"),qoe(r,e,"finally"),r),TPt=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});QNe.exports={mergePromise:CPt,getSpawnedPromise:TPt}});var tqe=P((yYt,eqe)=>{"use strict";var DPt=/ +/g,PPt=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,EPt=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},xPt=r=>r.trim().split(DPt).reduce(EPt,[]);eqe.exports={joinCommand:PPt,parseCommand:xPt}});var cqe=P((bYt,kR)=>{"use strict";var RPt=require("path"),Foe=require("child_process"),nqe=eNe(),OPt=rNe(),IPt=aNe(),kPt=dNe(),a$=yNe(),iqe=wNe(),{spawnedKill:APt,spawnedCancel:MPt,setupTimeout:LPt,setExitHandler:NPt}=RNe(),{handleInput:qPt,getSpawnedResult:FPt,makeAllStream:jPt,validateInputSync:zPt}=XNe(),{mergePromise:rqe,getSpawnedPromise:UPt}=ZNe(),{joinCommand:oqe,parseCommand:sqe}=tqe(),HPt=1e3*1e3*100,BPt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?IPt.env({env:o,cwd:n,execPath:i}):o},aqe=(r,e,t={})=>{let n=nqe._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:HPt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=BPt(t),t.stdio=iqe(t),process.platform==="win32"&&RPt.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},JM=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?OPt(e):e,c$=(r,e,t)=>{let n=aqe(r,e,t),i=oqe(r,e),o;try{o=Foe.spawn(n.file,n.args,n.options)}catch(f){let _=new Foe.ChildProcess,y=Promise.reject(a$({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return rqe(_,y)}let s=UPt(o),a=LPt(o,n.options,s),c=NPt(o,n.options,a),u={isCanceled:!1};o.kill=APt.bind(null,o.kill.bind(o)),o.cancel=MPt.bind(null,o,u);let d=kPt(async()=>{let[{error:f,exitCode:_,signal:y,timedOut:D},k,H,M]=await FPt(o,n.options,c),z=JM(n.options,k),re=JM(n.options,H),ce=JM(n.options,M);if(f||_!==0||y!==null){let _e=a$({error:f,exitCode:_,signal:y,stdout:z,stderr:re,all:ce,command:i,parsed:n,timedOut:D,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return _e;throw _e}return{command:i,exitCode:0,stdout:z,stderr:re,all:ce,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return nqe._enoent.hookChildProcess(o,n.parsed),qPt(o,n.options.input),o.all=jPt(o,n.options),rqe(o,d)};kR.exports=c$;kR.exports.sync=(r,e,t)=>{let n=aqe(r,e,t),i=oqe(r,e);zPt(n.options);let o;try{o=Foe.spawnSync(n.file,n.args,n.options)}catch(c){throw a$({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=JM(n.options,o.stdout,o.error),a=JM(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=a$({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};kR.exports.command=(r,e)=>{let[t,...n]=sqe(r);return c$(t,n,e)};kR.exports.commandSync=(r,e)=>{let[t,...n]=sqe(r);return c$.sync(t,n,e)};kR.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=iqe.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return c$(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Jw=P(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.findWindowsCandidates=Wf.sort=Wf.preferredEdgePath=Wf.preferredFirefoxPath=Wf.preferredChromePath=Wf.escapeRegexSpecialChars=Wf.canAccess=void 0;var WPt=require("path");async function XM({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}Wf.canAccess=XM;var $Pt="/\\.?*()^${}|[]+";function VPt(r,e){let t=$Pt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}Wf.escapeRegexSpecialChars=VPt;async function GPt(r,e){if(await XM(r,e.CHROME_PATH))return e.CHROME_PATH}Wf.preferredChromePath=GPt;async function KPt(r,e){if(await XM(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}Wf.preferredFirefoxPath=KPt;async function YPt(r,e){if(await XM(r,e.EDGE_PATH))return e.EDGE_PATH}Wf.preferredEdgePath=YPt;function JPt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}Wf.sort=JPt;async function XPt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=WPt.win32.join(o,s.name);i.push(XM(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}Wf.findWindowsCandidates=XPt});var l$=P(u$=>{"use strict";Object.defineProperty(u$,"__esModule",{value:!0});u$.DarwinFinderBase=void 0;var QPt=require("path"),ZPt=require("fs"),joe=Jw(),uqe=/( \(0x[a-f0-9]+\))/,zoe=class{constructor(e=process.env,t=ZPt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,joe.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${uqe.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(uqe,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=QPt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,joe.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,joe.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};u$.DarwinFinderBase=zoe});var lqe=P(d$=>{"use strict";Object.defineProperty(d$,"__esModule",{value:!0});d$.DarwinChromeBrowserFinder=void 0;var eEt=Jw(),tEt=l$(),Uoe=class extends tEt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,eEt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};d$.DarwinChromeBrowserFinder=Uoe});var dqe=P(f$=>{"use strict";Object.defineProperty(f$,"__esModule",{value:!0});f$.DarwinEdgeBrowserFinder=void 0;var rEt=Jw(),nEt=l$(),Hoe=class extends nEt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,rEt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};f$.DarwinEdgeBrowserFinder=Hoe});var fqe=P(h$=>{"use strict";Object.defineProperty(h$,"__esModule",{value:!0});h$.DarwinFirefoxBrowserFinder=void 0;var iEt=Jw(),oEt=l$(),Boe=class extends oEt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,iEt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};h$.DarwinFirefoxBrowserFinder=Boe});var m$=P(p$=>{"use strict";Object.defineProperty(p$,"__esModule",{value:!0});p$.LinuxChromeBrowserFinder=void 0;var sEt=require("path"),AR=Jw(),Woe=require("child_process"),aEt=require("os"),cEt=require("fs"),hqe=/\r?\n/,$oe=class{constructor(e=process.env,t=cEt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,AR.canAccess)(this.fs,t)&&e.add(t),[sEt.posix.join((0,aEt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,Woe.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(hqe)[0];await(0,AR.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,AR.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,AR.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,AR.canAccess)(this.fs,e)){let o;try{o=(0,Woe.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,Woe.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(hqe).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,AR.canAccess)(this.fs,a)&&i.push(a)}))}return i}};p$.LinuxChromeBrowserFinder=$oe});var pqe=P(g$=>{"use strict";Object.defineProperty(g$,"__esModule",{value:!0});g$.LinuxEdgeBrowserFinder=void 0;var uEt=m$(),Voe=class extends uEt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};g$.LinuxEdgeBrowserFinder=Voe});var mqe=P(v$=>{"use strict";Object.defineProperty(v$,"__esModule",{value:!0});v$.LinuxFirefoxBrowserFinder=void 0;var lEt=m$(),Goe=class extends lEt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};v$.LinuxFirefoxBrowserFinder=Goe});var vqe=P(_$=>{"use strict";Object.defineProperty(_$,"__esModule",{value:!0});_$.WindowsChromeBrowserFinder=void 0;var dEt=require("path"),gqe=Jw(),fEt=require("fs"),Koe=class{constructor(e=process.env,t=fEt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=dEt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,gqe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,gqe.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};_$.WindowsChromeBrowserFinder=Koe});var yqe=P(y$=>{"use strict";Object.defineProperty(y$,"__esModule",{value:!0});y$.WindowsEdgeBrowserFinder=void 0;var $f=require("path"),hEt=require("fs"),_qe=Jw(),Yoe=class{constructor(e=process.env,t=hEt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${$f.sep}Microsoft${$f.sep}Edge SxS${$f.sep}Application${$f.sep}msedge.exe`,type:"canary"},{name:`${$f.sep}Microsoft${$f.sep}Edge Dev${$f.sep}Application${$f.sep}msedge.exe`,type:"dev"},{name:`${$f.sep}Microsoft${$f.sep}Edge Beta${$f.sep}Application${$f.sep}msedge.exe`,type:"beta"},{name:`${$f.sep}Microsoft${$f.sep}Edge${$f.sep}Application${$f.sep}msedge.exe`,type:"stable"}],t=await(0,_qe.findWindowsCandidates)(this.env,this.fs,e),n=await(0,_qe.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};y$.WindowsEdgeBrowserFinder=Yoe});var wqe=P(b$=>{"use strict";Object.defineProperty(b$,"__esModule",{value:!0});b$.WindowsFirefoxBrowserFinder=void 0;var pEt=require("path"),bqe=Jw(),mEt=require("fs"),Joe=class{constructor(e=process.env,t=mEt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=pEt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,bqe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,bqe.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};b$.WindowsFirefoxBrowserFinder=Joe});var Sqe=P(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.FirefoxBrowserFinder=eg.EdgeBrowserFinder=eg.ChromeBrowserFinder=eg.isQuality=eg.allQualities=void 0;var gEt=lqe(),vEt=dqe(),_Et=fqe(),yEt=m$(),bEt=pqe(),wEt=mqe(),SEt=vqe(),CEt=yqe(),TEt=wqe(),DEt={canary:null,stable:null,beta:null,dev:null,custom:null};eg.allQualities=new Set(Object.keys(DEt));var PEt=r=>eg.allQualities.has(r);eg.isQuality=PEt;eg.ChromeBrowserFinder=process.platform==="win32"?SEt.WindowsChromeBrowserFinder:process.platform==="darwin"?gEt.DarwinChromeBrowserFinder:yEt.LinuxChromeBrowserFinder;eg.EdgeBrowserFinder=process.platform==="win32"?CEt.WindowsEdgeBrowserFinder:process.platform==="darwin"?vEt.DarwinEdgeBrowserFinder:bEt.LinuxEdgeBrowserFinder;eg.FirefoxBrowserFinder=process.platform==="win32"?TEt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?_Et.DarwinFirefoxBrowserFinder:wEt.LinuxFirefoxBrowserFinder});var zEt={};BR(zEt,{activate:()=>jEt});module.exports=vS(zEt);var CN=Me(require("path")),Ui=Me(require("vscode"));var N$=Me(require("child_process")),Mb=Me(require("fs")),gse=Me(require("os")),iy=Me(require("path")),L$;function vse(r){L$=r}function d0(){if(!L$)throw new Error("Failed to set extension path");return L$}function _se(){let r=process.env.TMPDIR;return r||"/tmp/"}function WR(r,e){return r.reduce((t,n)=>t+e(n),0)}async function q$(r,e){return Promise.all(r.map(e))}async function yse(r,e){let t=await q$(r,e);return r.filter((n,i)=>t[i])}function F$(r){return r?r.length:0}async function Bv(r,e,t){return new Promise((n,i)=>{N$.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function bse(r){return new Promise((e,t)=>{N$.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(gse.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function sD(r){return new Promise(e=>{Mb.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function wse(r){return sD(r).then(async e=>new Promise((t,n)=>{if(!e)return t();Mb.unlink(r,i=>{if(i)return n(i);t()})}))}var $R=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))($R||{});function VR(r,e){let t="install."+$R[e];return iy.resolve(r.value,t)}async function cL(r,e){return sD(VR(r,e))}async function j$(r,e){return new Promise((t,n)=>{Mb.writeFile(VR(r,e),"",i=>{if(i){n(i);return}t()})})}async function Sse(r,e){return new Promise((t,n)=>{Mb.unlink(VR(r,e),i=>{if(i){n(i);return}t()})})}function Lb(r){return r.split(iy.sep).join(iy.posix.sep)}function Cse(r,e){let t=r.split(iy.sep),n=e.split(iy.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function Tse(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,iy.join(o,t)],[]);for(let i of n)try{if(Mb.statSync(i).isFile())return t}catch{}}}var jb=Me(require("vscode")),c3=Me(require("path")),fD=Me(require("fs")),tO=Me(bS()),Dce=Me(require("os"));var a3=Me(bS()),Sce=require("path");var Cce=require("os");async function Ep(r){let e=dze(r),t=await fze(e);return await hze(t,e)}function dze(r){let e=`dotnet${Id.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,Sce.join)(n,e);if(Id.existsSync(i)){t=i;break}}return t}async function fze(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await Bv(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function hze(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await Bv(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let _=f[1],y=f[2];_ in c?c[_].push({Version:a3.parse(y),Path:f[3]}):c[_]=[{Version:a3.parse(y),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${Cce.EOL}${r}`)}}var Tce="1.0.0",pze="22.0.0",Pce="macOS 13 (Ventura)",Id=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=c3.join(this._extensionDir,".debugger"),this._installCompleteFilePath=c3.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(jb.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(jb.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(jb.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{fD.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await Ep(e);if(tO.lt(t.Version,Tce))throw new Error(jb.l10n.t("The .NET SDK located on the path is too old. .NET debugging will not be enabled. The minimum supported version is {0}.",Tce))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(jb.l10n.t("The .NET SDK cannot be located: {0}. .NET debugging will not be enabled. Make sure the .NET SDK is installed and is on the path.",n))}}static isMacOSSupported(){return tO.gte(Dce.release(),pze)}static existsSync(e){try{return fD.accessSync(e,fD.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}},mze="6.0.0";function Ece(r,e,t){if(!r.isMacOS()&&!r.isWindows())return"";if(e){if(e!=="x86_64"&&e!=="arm64")throw new Error(jb.l10n.t("The value '{0}' for 'targetArchitecture' in launch configuraiton is invalid. Expected 'x86_64' or 'arm64'.",e));return e}if(tO.lt(t.Version,mze))return"x86_64";if(!t.RuntimeId)throw new Error(jb.l10n.t("Unable to determine RuntimeId. Please set 'targetArchitecture' in your launch.json configuration."));if(t.RuntimeId.includes("arm64"))return"arm64";if(t.RuntimeId.includes("x64"))return"x86_64";throw new Error(jb.l10n.t("Unexpected RuntimeId '{0}'.",t.RuntimeId))}var kd=class{constructor(e){this.message=e}type=24},bL=class{type=54},m0=class extends kd{type=41},rO=class extends kd{type=67},g0=class{type=52},wL=class{type=6},wS=class{constructor(e){this.packageInfo=e}type=7},SS=class{constructor(e){this.info=e}type=8},SL=class{constructor(e){this.packageDescription=e}type=9},CS=class{type=50},v0=class{constructor(e,t){this.stage=e;this.error=t}type=10},CL=class{constructor(e){this.packageDescription=e}type=25},TL=class{constructor(e){this.fallbackUrl=e}type=26},nO=class extends kd{type=65},hD=class extends kd{type=64},DL=class{constructor(e){this.packageSize=e}type=27},PL=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},EL=class{type=43},xL=class{constructor(e){this.message=e}type=28},RL=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},OL=class{type=38};var IL=Me(require("path")),_0=class r{constructor(e){this.value=e;if(!IL.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(IL.resolve(...e))}};var pD=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,xce(e,t),vze(e,t),gze(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function gze(r,e){if(r.installTestPath!==void 0)return _0.getAbsolutePath(e,r.installTestPath)}function vze(r,e){let t=xce(r,e).value;return r.binaries?.map(n=>_0.getAbsolutePath(t,n))}function xce(r,e){return r.installPath!==void 0?_0.getAbsolutePath(e,r.installPath):new _0(e)}var Rce="neutral";async function Oce(r,e){let t=u3(r,e);return _ze(t)}function u3(r,e){return r.filter(t=>(t.architectures.includes(Rce)||t.architectures.includes(e.architecture))&&(t.platforms.includes(Rce)||t.platforms.includes(e.platform)))}async function _ze(r){return yse(r,async e=>{let t=VR(e.installPath,1);return!await sD(t)})}function Ice(r,e,t,n){let o=y0(e).map(a=>pD.getAbsolutePathPackage(a,n));return u3(o,t).find(a=>a.id===r)}function y0(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var I3=Me(require("child_process")),D3=Me(xS()),OS=Me(require("os")),BL=Me(require("path")),xh=Me(require("vscode"));var Dle=Me(require("crypto")),Ple=Me(require("fs")),HL=Me(require("os"));var S0="unknown",T3=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(S0,S0)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===S0||e.indexOf(this.name)>=0)return this.toString();{let t=Dle.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{Ple.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=HL.EOL){let n=S0,i=S0,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==S0&&i!==S0)break}}return new r(n,i)}},bD=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=HL.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),T3.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await Bv("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await Bv("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var WL=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return xh.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},RS=class r{static get commColumnTitle(){return Array(fO.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return bD.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=BL.join(n,"System32"),o=BL.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!D3.existsSync(e)&&D3.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(xh.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=xh.window.createOutputChannel(xh.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(xh.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(xh.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,OS.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return xh.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:xh.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=BL.join(d0(),"scripts","remoteProcessPickerScript");return wHe(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(xh.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(xh.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(xh.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return Ele(fO.parseProcessFromPsArray(u),c)}}})}},$L=class{static Get(){if(OS.platform()==="win32"){let e=Tse();return e?new E3(e):new R3}else return new P3}},dO=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>Ele(e,OS.platform()))}};function Ele(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var P3=class extends dO{async getInternalProcessEntries(){let e=OS.platform()==="darwin"?RS.osxPsCommand:RS.linuxPsCommand;return k3(e).then(t=>fO.parseProcessFromPs(t))}},fO=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(OS.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},E3=class extends dO{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await k3(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return x3.ParseProcessFromCim(i)}},x3=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},R3=class extends dO{async getInternalProcessEntries(){return k3("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>O3.parseProcessFromWmic(t))}},O3=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(OS.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function k3(r){return new Promise((e,t)=>{I3.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function bHe(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function wHe(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{bHe(n).then(s=>{I3.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(xh.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(xh.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var yfe=Me(NS());var _fe=Me(NS()),Wl=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof _fe.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var co=class extends Wl{disposables=new yfe.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var _s=Me(require("vscode"));var bfe=Me(require("vscode")),wfe=Me(require("fs")),yN=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=wfe.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=bfe.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var y4=Me(require("vscode")),b4=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=y4.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=y4.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},KO=new b4;var Dfe=Me(require("child_process"));var R0=Me(require("vscode")),bN=Me(require("path")),w4=class{get waitForDebugger(){return Yr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Yr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Yr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return Q4e()}get defaultSolution(){let e="",t=Yr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(R0.workspace.workspaceFolders!==void 0&&(R0.workspace.workspaceFolders.length>1&&bN.isAbsolute(t)&&(e=t),e==""))for(let n of R0.workspace.workspaceFolders){let i=R0.workspace.getConfiguration(void 0,n.uri),o=Sfe(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=bN.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Yr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Yr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Yr("dotnet.formatting.organizeImportsOnFormat",!1)}},S4=class{get useModernNet(){return Yr("omnisharp.useModernNet",!0)}get monoPath(){return Yr("omnisharp.monoPath","")}get loggingLevel(){let e=Yr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Yr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Yr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Yr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Yr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Yr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Yr("omnisharp.enableRoslynAnalyzers",!1),n=Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",rs.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Yr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Yr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Yr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Yr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Yr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",rs.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Yr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Yr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Yr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Yr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Yr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Yr("omnisharp.sdkPath","")}get sdkVersion(){return Yr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Yr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Yr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Yr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Yr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Yr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Yr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Yr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Yr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Yr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Yr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Yr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Yr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Yr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Yr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Yr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Yr("omnisharp.dotnetPath","")}},C4=class{get documentSelector(){return Yr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Yr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Yr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Yr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Yr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Yr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Yr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Yr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Yr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Yr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Yr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Yr("dotnet.diagnostics.reportInformationAsHint",!0)}},T4=class{get razorDevMode(){return Yr("razor.devmode",!1)}get razorPluginPath(){return Yr("razor.plugin.path","")}},rs=new w4,Lr=new S4,po=new C4,qS=new T4;function Q4e(){let r=R0.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function Sfe(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Yr(r,e,...t){return Sfe(R0.workspace.getConfiguration(),r,e,...t)}var wN=["waitForDebugger","serverPath","useOmnisharpServer"],Cfe=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],Tfe=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function Pfe(){return await xfe(`${Rfe()} dev-certs https --check --trust`,process.cwd(),process.env)}async function Efe(){return await xfe(`${Rfe()} dev-certs https --trust`,process.cwd(),process.env)}async function xfe(r,e=d0(),t={}){return new Promise(n=>{Dfe.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function Rfe(){return rs.useOmnisharpServer?Lr.dotnetPath??"dotnet":"dotnet"}var Ofe=Me(require("vscode"));var LD="ms-dotnettools.csdevkit",SN="ms-dotnettools.vscodeintellicode-csharp";function ca(){if(!po.preferCSharpExtension)return Ofe.extensions.getExtension(LD)}function Po(r,e,...t){YO(r,e,void 0,...t)}function YO(r,e,t,...n){D4(r,r.window.showErrorMessage,e,t,...n)}function Ih(r,e,...t){D4(r,r.window.showWarningMessage,e,void 0,...t)}function $c(r,e,...t){D4(r,r.window.showInformationMessage,e,void 0,...t)}function D4(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var O0=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?ca()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=KO.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await RS.ShowAttachEntries(t,this.platformInformation);else{let s=$L.Get();o=await new WL(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{YO(_s,_s.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!_s.env.remoteName&&_s.env.uiKind!=_s.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=yN.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(_s.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:_s.l10n.t("Open envFile"),action:async()=>{let i=await _s.workspace.openTextDocument(t);await _s.window.showTextDocument(i)}};Ih(_s,e,n)}loadSettingDebugOptions(e){let t=_s.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await Pfe()).error?.code;if(n===7||n===6){let i=_s.l10n.t("Yes"),o=_s.l10n.t("More Information"),s=await _s.window.showWarningMessage(_s.l10n.t("Security Warning"),{modal:!0,detail:_s.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await Efe();if(a.error===null){let c=n===7?"trusted":"created";$c(_s,_s.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(_s.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:_s.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};Ih(_s,_s.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await _s.env.openExternal(_s.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function Ife(r,e,t,n,i,o){let s=new co,a=new Id(e.extensionPath);Id.existsSync(a.debugAdapterDir())?Id.existsSync(a.installCompleteFilePath())||await Afe(a,t,n):await kfe(t,n)&&(n.post(new m0(Ui.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),Z4e(n)),s.add(Ui.commands.registerCommand("csharp.listProcess",()=>"")),s.add(Ui.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add(Ui.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await RS.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error(Ui.l10n.t("Could not find a process id to attach.")))})),s.add(Ui.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error(Ui.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await Ui.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new P4(a,t,n,r.packageJSON,r.extensionPath);e.subscriptions.push(Ui.debug.registerDebugConfigurationProvider("clr",new O0(t,i))),e.subscriptions.push(Ui.debug.registerDebugConfigurationProvider("monovsdbg",new O0(t,i))),s.add(Ui.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add(Ui.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add(Ui.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function kfe(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new m0(Ui.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):Id.isMacOSSupported()?!0:(e.post(new m0(Ui.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",Pce))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new rO(Ui.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new m0(Ui.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function Afe(r,e,t){try{return await r.checkDotNetCli(Lr.dotNetCliPaths),await kfe(e,t)?(await Id.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new g0),Po(Ui,Ui.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return e6e(i.message),t.post(new rO(i.message)),!1}}function Z4e(r){r.post(new g0),Po(Ui,Ui.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function e6e(r){if(!Ui.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t=ca()!==void 0?{title:Ui.l10n.t("Get the SDK"),command:"csdevkit.installDotnetSdk"}:{title:Ui.l10n.t("Get the SDK"),action:async()=>{await Ui.env.openExternal(Ui.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:Ui.l10n.t("Disable message in settings"),action:async()=>{await Ui.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:Ui.l10n.t("Help"),action:async()=>{await Ui.env.openExternal(Ui.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Po(Ui,r,n,t,i)}}var P4=class{constructor(e,t,n,i,o){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o}async createDebugAdapterDescriptor(e,t){let n=new Id(d0());if(!Id.existsSync(n.debugAdapterDir())){let i=!1,o=Ice("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(o?.installPath&&(i=await cL(o.installPath,1)),i){if(!Id.existsSync(n.installCompleteFilePath())&&!await Afe(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new g0),new Error(Ui.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new g0),new Error(Ui.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}if(!t){let i=await Ep(Lr.dotNetCliPaths),o=Ece(this.platformInfo,e.configuration.targetArchitecture,i),s=CN.join(d0(),".debugger",o,"vsdbg-ui"+Id.getPlatformExeExtension()),a=process.env.DOTNET_ROOT??(i.CliPath?CN.dirname(i.CliPath):""),c;a&&(c={env:{DOTNET_ROOT:a}}),t=new Ui.DebugAdapterExecutable(s,[],c)}return t}};var D_=Me(require("vscode"));var sy=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var TN=class extends sy{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var Mfe;var JO=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),Mfe&&Mfe(e)}};var wf=class{logger;constructor(e){e instanceof JO?this.logger=e:this.logger=new JO(t=>e.append(t))}};var ku=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var ay=class extends ku{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var DN=class extends wf{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof ay?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var Lfe=Me(NS()),PN=class{sink;constructor(){this.sink=new Lfe.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var qqe=Me(Qfe());var MN=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function Zfe(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new MN(t,n)}}var _me=Me(NS()),yme=Me(XI());function V6(r){return _me.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,yme.publishBehavior)(()=>{})).refCount()}var Gme=Me(require("https"));var Kme=require("url");var Wme=Me(qme()),$me=Me(Bme());function GQe(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function Vme(r,e,t){let n=e.length>0?e:GQe(r);if(n===void 0||n.length===0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new Wme.HttpProxyAgent(i,o):new $me.HttpsProxyAgent(i,o)}async function JN(r,e,t,n,i,o){e.post(new CL(r));try{let s=await Z6(r,n,e,t,o);return e.post(new nO(" Done!")),s}catch(s){if(i!==void 0){e.post(new TL(i));try{let a=await Z6(r,i,e,t);return e.post(new nO(" Done!")),a}catch{throw s}}else throw s}}async function Z6(r,e,t,n,i){let o=(0,Kme.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:Vme(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new ku(`Cancelled downloading ${e}.`)));let _=Gme.request(u,y=>{if(y.statusCode===301||y.statusCode===302)return y.headers.location===void 0?(t.post(new hD(`Failed to download from ${e}. Redirected without location header`)),f(new ku("Missing location"))):d(Z6(r,y.headers.location,t,n,i));if(y.statusCode!==200)return t.post(new hD(`Failed to download from ${e}. Error code '${y.statusCode}')`)),f(new ku(y.statusCode.toString()));if(y.headers["content-length"]===void 0)return t.post(new hD(`Failed to download from ${e}. No content-length header`)),f(new ku("Missing content-length"));let D=parseInt(y.headers["content-length"],10),k=0,H=0;t.post(new DL(D)),y.on("data",M=>{k+=M.length,l.push(M);let z=Math.ceil(100*(k/D));z!==H&&(H=z,t.post(new PL(H,r)))}),y.on("end",()=>{d(Buffer.concat(l))}),y.on("error",M=>{f(new ku(`Failed to download from ${e}. Error Message: ${M.message} || 'NONE'}`,M))})});_.on("error",y=>{f(new ku(`Request error: ${y.message||"NONE"}`,y))}),_.end()})}var dge=Me(require("fs")),c5=Me(xS()),aq=Me(require("path")),fge=Me(lge());async function hge(r,e,t,n,i){return i.post(new SL(e)),new Promise((o,s)=>{fge.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new xL(u)),s(new ku(u))}c.readEntry(),c.on("entry",async u=>{let l=aq.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,c5.ensureDir)(l,509),c.readEntry()}catch(d){let f=d;return s(new ku("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new ku("Error reading zip stream",d));try{await(0,c5.ensureDir)(aq.dirname(l),509);let y=n?.map(D=>D.value)?.includes(l)?493:436;f.pipe(dge.createWriteStream(l,{mode:y})),f.on("end",()=>c.readEntry())}catch(_){return s(new ku("Error creating directory for zip file entry",_))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new ku("Zip File Error:"+u.code||"",u))})})})}var pge=Me(xS());async function VD(r,e,t,n,i,o){t.post(new wL);let s={};for(let c of r){let u="touchBeginFile";try{(0,pge.mkdirpSync)(c.installPath.value),await j$(c.installPath,0);let l=1,d=()=>l<=2;for(;d();){l=l+1,u="downloadPackage";let f=await JN(c.description,t,e,c.url,c.fallbackUrl,o);if(n(f,c.integrity,t)){u="installPackage",await hge(f,c.description,c.installPath,c.binaries,t),u="touchLockFile",await j$(c.installPath,1),s[c.id]=!0;break}else t.post(new RL(c.description,c.url,d())),s[c.id]=!1}}catch(l){if(s[c.id]=!1,l instanceof ku){let d=new ay(l.message,c,l.err);t.post(new v0(u,d))}else t.post(new v0(u,l));a(c,u,l)}finally{try{await cL(c.installPath,0)&&await Sse(c.installPath,0)}catch{}}}return s;function a(c,u,l){if(!i)return;let d={installStage:u,packageId:c.id};l instanceof ku&&l.err instanceof ay?(d["error.message"]=l.err.message,d["error.packageUrl"]=l.err.pkg.url):l instanceof ay&&(d["error.message"]=l.message,d["error.packageUrl"]=l.pkg.url),i.sendTelemetryEvent("PackageInstallationFailed",d)}}async function GD(r,e,t){let n=r.map(i=>pD.getAbsolutePathPackage(i,t));return Oce(n,e)}async function mge(r,e,t,n,i,o,s){let a=y0(r),c=await GD(a,i,e),l=s.filter(D=>c.find(k=>k.id===D)===void 0).reduce((D,k)=>({...D,[k]:!0}),{}),d=oZe(c,o),f=sZe(s,d);if(f.length===0)return l;n.post(new wS("C# dependencies")),n.post(new SS(i));let _=await t(f);return Object.entries(_).filter(([,D])=>!D).map(([D])=>D).length===0&&n.post(new CS),{...l,..._}}function oZe(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function sZe(r,e){return e.filter(t=>r.includes(t.id))}var gge=Me(require("crypto"));function KD(r,e,t){return e!==void 0&&e.length>0?(t.post(new EL),aZe(r)===e.toUpperCase()?(t.post(new OL),!0):!1):!0}function aZe(r){let e=gge.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var vge=Me(require("fs")),_ge=Me(require("path")),yge=require("util");var hy="ms-dotnettools.csharp";var ik="dotnet.dotnetPath",cq="dotnetAcquisitionExtension.existingDotnetPath",cZe=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function bge(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of cZe){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&lZe(o,i.defaultValue)&&await wge(t,n,e)}await uZe(r)}async function uZe(r){let e=r.workspace.getConfiguration();if(rs.useOmnisharpServer)await wge(ik,"omnisharp.dotnetPath",e);else{let t=e.inspect(ik);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(cq);t.globalValue&&await u5(ik,t.globalValue,cq,n?.globalValue,e,1),t.workspaceValue&&await u5(ik,t.workspaceValue,cq,n?.workspaceValue,e,2),t.workspaceFolderValue&&await u5(ik,t.workspaceFolderValue,cq,n?.workspaceFolderValue,e,3)}}async function u5(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=_ge.join(e,`dotnet${s}`);if(!vge.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===hy).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:hy,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function lZe(r,e){return r==e?!0:yge.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function wge(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var Jv=Me(require("vscode")),Sge=Me(bS()),YD="ms-dotnettools.vscode-dotnet-runtime",l5="2.2.3";async function Cge(r){let t=Jv.extensions.getExtension(YD)?.packageJSON.version;if((0,Sge.lt)(t,l5)){let n=Jv.l10n.t("Update and reload"),i=Jv.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,l5,YD);if(await Jv.window.showErrorMessage(i,n)===n)await Jv.commands.executeCommand("workbench.extensions.installExtension",YD),await Jv.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(Jv.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",l5,YD,r.extension.packageJSON.displayName))}}var Ug=Me(require("vscode"));function Tge(r,e){if(!dZe(e)){if(r.extension.extensionKind===Ug.ExtensionKind.Workspace){let t={title:Ug.l10n.t("How to setup Remote Debugging"),action:async()=>{await Ug.env.openExternal(Ug.Uri.parse("https://aka.ms/VSCode-DotNet-RemoteDebuggingOnLinuxArm"))}},n=Ug.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Po(Ug,n,t)}else{let t=Ug.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Po(Ug,t)}return!1}return!0}function dZe(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var Ax=Me(require("vscode"));var ta=Me(require("vscode"));var XD=Me(require("path"));var ok=Me(xS()),uq=Me(require("path"));function Dge(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function JD(r){return fZe(r)??hZe(r)}function fZe(r){return r.find(e=>e.startsWith("netcoreapp"))}function hZe(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function Pge(r){return r.find(e=>e.startsWith("netstandard"))}function lq(r){return ok.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function dq(r){let e=uq.dirname(r),t=uq.join(e,"Properties","launchSettings.json");try{if(!ok.pathExistsSync(t))return!1;let n=ok.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function fq(r,e,t,n){return!(!t||!r||!e||n)}var Ii;(Le=>(Le.AddToProject="/addtoproject",Le.CodeCheck="/codecheck",Le.CodeFormat="/codeformat",Le.ChangeBuffer="/changebuffer",Le.FilesChanged="/filesChanged",Le.FindSymbols="/findsymbols",Le.FindUsages="/findusages",Le.FormatAfterKeystroke="/formatAfterKeystroke",Le.FormatRange="/formatRange",Le.GetCodeActions="/getcodeactions",Le.GoToTypeDefinition="/gototypedefinition",Le.FindImplementations="/findimplementations",Le.Project="/project",Le.Projects="/projects",Le.RemoveFromProject="/removefromproject",Le.Rename="/rename",Le.RunCodeAction="/runcodeaction",Le.SignatureHelp="/signatureHelp",Le.TypeLookup="/typelookup",Le.UpdateBuffer="/updatebuffer",Le.Metadata="/metadata",Le.RunFixAll="/runfixall",Le.GetFixAll="/getfixall",Le.ReAnalyze="/reanalyze",Le.QuickInfo="/quickinfo",Le.Completion="/completion",Le.CompletionResolve="/completion/resolve",Le.CompletionAfterInsert="/completion/afterInsert",Le.SourceGeneratedFile="/sourcegeneratedfile",Le.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Le.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Le.InlayHint="/inlayHint",Le.InlayHintResolve="/inlayHint/resolve",Le.FileOpen="/open",Le.FileClose="/close"))(Ii||={});var ys;(a=>{let r;($=>($.GetCodeActions="/v2/getcodeactions",$.RunCodeAction="/v2/runcodeaction",$.GetTestStartInfo="/v2/getteststartinfo",$.RunTest="/v2/runtest",$.RunAllTestsInClass="/v2/runtestsinclass",$.RunTestsInContext="/v2/runtestsincontext",$.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",$.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",$.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",$.DebugTestLaunch="/v2/debugtest/launch",$.DebugTestStop="/v2/debugtest/stop",$.DiscoverTests="/v2/discovertests",$.BlockStructure="/v2/blockstructure",$.CodeStructure="/v2/codestructure",$.Highlight="/v2/highlight",$.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(_=>(_.None="none",_.Passed="passed",_.Failed="failed",_.Skipped="skipped",_.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(te=>(te.Class="class",te.Delegate="delegate",te.Enum="enum",te.Interface="interface",te.Struct="struct",te.Constant="constant",te.Constructor="constructor",te.Destructor="destructor",te.EnumMember="enummember",te.Event="event",te.Field="field",te.Indexer="indexer",te.Method="method",te.Operator="operator",te.Property="property",te.Namespace="namespace",te.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(y=>(y.Internal="internal",y.Private="private",y.PrivateProtected="private protected",y.Protected="protected",y.ProtectedInternal="protected internal",y.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(_,y){for(let D of _)d(D,y),D.Children&&f(D.Children,D)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(ys||={});function pZe(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return JD(e)!==void 0||Pge(e)!==void 0||Dge(e)!==void 0}function Ege(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:XD.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)pZe(t)&&e.push({Name:XD.basename(t.Path),Directory:XD.dirname(t.Path),FilePath:t.Path});return e}async function d5(r,e,t){return r.makeRequest(Ii.CodeCheck,e,t)}async function xge(r,e,t){return r.makeRequest(ys.Requests.BlockStructure,e,t)}async function hq(r,e,t){return r.makeRequest(ys.Requests.CodeStructure,e,t)}async function Rge(r,e){return r.makeRequest(ys.Requests.DiscoverTests,e)}async function QD(r,e){return r.makeRequest(Ii.FilesChanged,e)}async function Oge(r,e,t){return r.makeRequest(Ii.FindImplementations,e,t)}async function Ige(r,e,t){return r.makeRequest(Ii.FindSymbols,e,t)}async function kge(r,e){return r.makeRequest(Ii.RunFixAll,e)}async function Age(r,e){return r.makeRequest(Ii.GetFixAll,e)}async function ZD(r,e,t){return r.makeRequest(Ii.FindUsages,e,t)}async function Mge(r,e,t){return r.makeRequest(Ii.FormatAfterKeystroke,e,t)}async function Lge(r,e,t){return r.makeRequest(Ii.FormatRange,e,t)}async function Nge(r,e,t){return r.makeRequest(ys.Requests.GetCodeActions,e,t)}async function qge(r,e,t){return r.makeRequest(ys.Requests.GoToDefinition,e,t)}async function Fge(r,e,t){return r.makeRequest(Ii.GoToTypeDefinition,e,t)}async function jge(r,e,t){return r.makeRequest(Ii.SourceGeneratedFile,e,t)}async function zge(r,e){return r.makeRequest(Ii.UpdateSourceGeneratedFile,e)}async function Uge(r,e){return r.makeRequest(Ii.SourceGeneratedFileClosed,e)}async function Hge(r,e,t){return r.makeRequest(Ii.Rename,e,t)}async function sk(r,e){return r.makeRequest(Ii.Project,e)}async function Gb(r){let e=await r.makeRequest(Ii.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=lq(t.Path);let n=await dq(t.Path),i=JD(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=fq(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function Bge(r,e){return r.makeRequest(ys.Requests.RunCodeAction,e)}async function Wge(r,e,t){return r.makeRequest(Ii.SignatureHelp,e,t)}async function eP(r,e){return r.makeRequest(Ii.UpdateBuffer,e)}async function $ge(r,e){return r.makeRequest(Ii.Metadata,e)}async function f5(r,e){return r.makeRequest(Ii.ReAnalyze,e)}async function Vge(r,e){return r.makeRequest(ys.Requests.RunTest,e)}async function Gge(r,e){return r.makeRequest(ys.Requests.RunAllTestsInClass,e)}async function Kge(r,e){return r.makeRequest(ys.Requests.RunTestsInContext,e)}async function Yge(r,e){return r.makeRequest(ys.Requests.DebugTestGetStartInfo,e)}async function Jge(r,e){return r.makeRequest(ys.Requests.DebugTestsInClassGetStartInfo,e)}async function Xge(r,e){return r.makeRequest(ys.Requests.DebugTestsInContextGetStartInfo,e)}async function Qge(r,e){return r.makeRequest0(ys.Requests.DebugTestLaunch,e)}async function Zge(r,e){return r.makeRequest0(ys.Requests.DebugTestStop,e)}async function eve(r,e){return r.makeRequest(ys.Requests.Highlight,e)}async function tve(r,e,t){return r.makeRequest(Ii.QuickInfo,e,t)}async function rve(r,e,t){return r.makeRequest(Ii.Completion,e,t)}async function nve(r,e,t){return r.makeRequest(Ii.CompletionResolve,e,t)}async function ive(r,e){return r.makeRequest(Ii.CompletionAfterInsert,e)}async function ove(r,e){return r.makeRequest(Ii.FileOpen,e)}async function sve(r,e){return r.makeRequest(Ii.FileClose,e)}function ave(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function cve(r,e,t){return r.makeRequest(Ii.InlayHint,e,t)}async function uve(r,e,t){return r.makeRequest(Ii.InlayHintResolve,e,t)}var pq=class extends sy{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var mq=class extends wf{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var ak=class extends wf{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case ys.TestOutcomes.Failed:o+=1;break;case ys.TestOutcomes.Passed:i+=1;break;case ys.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${mZe(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function mZe(r){return r.charAt(0).toUpperCase()+r.slice(1)}var ck=class extends sy{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var gq=Me(require("os"));var vq=class extends wf{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${gq.EOL}${t.message}`,i=gq.EOL+"        ";n=n.replace(gq.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var _q=class extends sy{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){Lr.showOmnisharpLogOnError&&this.showChannel(!0)}};var lve=Me(XI()),dve=Me(NS());var h5=require("vscode");var yq=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new dve.Subject,this.warningMessageDebouncer.pipe((0,lve.debounceTime)(1500,n)).subscribe(i=>{let o=h5.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:h5.l10n.t("Show Output"),command:"o.showOutput"};Ih(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var p5=require("vscode");var bq=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!Lr.suppressDotnetRestoreNotification){let e=p5.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:p5.l10n.t("Restore"),command:"dotnet.restore.all"};$c(this.vscode,e,t)}}};var wq=require("vscode");var Sq=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Po(this.vscode,wq.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Po(this.vscode,e.message)}handleDotnetTestRunFailure(e){Po(this.vscode,wq.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Po(this.vscode,wq.l10n.t("Failed to start debugger: {0}",e.message))}};var tP=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var BS=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var Cq=class extends BS{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var fve=Me(require("vscode")),hve=require("path");var Tq=class extends BS{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+fve.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,hve.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var Dq=class extends BS{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var Pq=Me(require("os"));var Eq=class extends wf{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${Pq.EOL}${e.message}`,n=Pq.EOL+"        ";t=t.replace(Pq.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var xq=class extends wf{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var Rq=class{constructor(e,t,n,i,o,s){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o;this.reporter=s}async DownloadAndInstallRazorOmnisharp(e){let n=y0(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await GD(n,this.platformInfo,this.extensionPath);if(i.length>0){this.eventStream.post(new wS(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new SS(this.platformInfo));let o=await VD(i,this.networkSettingsProvider,this.eventStream,KD,this.reporter);if(Object.entries(o).filter(([,a])=>!a).map(([a])=>a).length===0)return this.eventStream.post(new CS),!0}return!1}};var pve=Me(bS()),Oq=Me(require("path"));var rP=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=Lr.monoPath;t.length>0&&(e.PATH=Oq.join(t,"bin")+Oq.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(pve.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var mve=require("child_process"),gve=Me(require("path")),kq=Me(bS()),vve=require("util");var Iq=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=Lr.dotnetPath;n.length>0&&(t.PATH=n+gve.delimiter+t.PATH);let i=await(0,vve.promisify)(mve.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=kq.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(kq.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var _ve=Me(require("vscode")),Aq=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=_ve.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var WY=Me(require("fs")),eE=Me(require("path"));var Mq=Me(require("path")),yve=Me(require("vscode"));function Lq(r){let e=Mq.dirname(r.fsPath),t=yve.workspace.asRelativePath(e);return{label:Mq.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var Nq=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var I0e=require("events");var WS=Me(require("path")),wve=Me(bS());var m5="6.0";function bve(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>vZe(o,e,n,r,i))}function vZe(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",_Ze(r,e,t,n,i,o)}function _Ze(r,e,t,n,i,o){let s=e?"":`-net${m5}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var qq=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(WS.isAbsolute(t)){if(!await sD(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(wve.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=WS.resolve(i,this.installPath,e+(n?"":`-net${m5}`));if(n){if(t.isWindows())return WS.join(o,"OmniSharp.exe")}else return WS.join(o,"OmniSharp.dll");return WS.join(o,"omnisharp","OmniSharp.exe")}};var Fq=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},jq=class extends Fq{type=3},zq=class extends Fq{type=0},Uq=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},nP=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},Hq=class{constructor(e,t){this.message=e;this.error=t}type=12},Bq=class{constructor(e,t){this.request=e;this.id=t}type=13},Wq=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},$q=class{constructor(e){this.errorMessage=e}type=15},Vq=class{constructor(e){this.message=e}type=80},Gq=class{constructor(e){this.diagnostics=e}type=16},Kq=class{constructor(e){this.unresolvedDependencies=e}type=17},Yq=class{constructor(e,t){this.queueName=e;this.command=t}type=18},uk=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var Jq=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},iP=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},j0=class{constructor(e){this.err=e}type=21},Xq=class{constructor(e){this.targets=e}type=22},Qq=class{constructor(e){this.projectConfiguration=e}type=74},Zq=class{constructor(e){this.info=e}type=23},oP=class{constructor(e){this.results=e}type=29},eF=class{constructor(e){this.testMethod=e}type=30},tF=class{constructor(e){this.testMethod=e}type=31},rF=class{constructor(e){this.targetProcessId=e}type=32},nF=class{constructor(e){this.className=e}type=33},iF=class{constructor(e){this.className=e}type=34},oF=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},sF=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},aF=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},cF=class{constructor(e){this.path=e}type=39},uF=class{constructor(e){this.path=e}type=40},lk=class extends kd{type=42},lF=class extends kd{type=66},dF=class extends kd{type=68},fF=class extends kd{type=63},Kb=class extends kd{type=62},hF=class extends kd{type=61},Op=class extends kd{type=60},Yb=class extends kd{type=59},dk=class extends kd{type=58},fk=class extends kd{type=57},pF=class{type=56},mF=class{type=55},gF=class{type=53},hk=class{type=51},vF=class{type=49},_F=class{type=48},yF=class{type=47},bF=class{type=73},wF=class{type=46},SF=class{type=71},CF=class{type=72},TF=class{type=45},DF=class{type=69},PF=class{type=44};var EF=class{constructor(e,t,n,i,o,s){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o;this.reporter=s}async DownloadAndInstallOmnisharp(e,t,n,i){let o=y0(this.packageJSON),s=bve(e,t,o,n,i),a=await GD(s,this.platformInfo,this.extensionPath);if(a.length>0){this.eventStream.post(new wS(`OmniSharp Version = ${e}`)),this.eventStream.post(new SS(this.platformInfo));let c=await VD(a,this.networkSettingsProvider,this.eventStream,KD,this.reporter);if(Object.entries(c).filter(([,l])=>!l).map(([l])=>l).length===0)return this.eventStream.post(new CS),!0}return!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new TF),(await JN(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new v0("getLatestVersionInfoFile",o)),o}}};var k0e=Me(NS()),A0e=Me(XI());var xF=require("child_process"),$S=Me(require("path")),Jb=Me(require("vscode"));var bZe={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},wZe="vsls",SZe=new Set([wZe]);async function RF(){if(!Jb.workspace.workspaceFolders)return Promise.resolve([]);let r=await Jb.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${Lr.projectFilesExcludePattern}}`),e=await Jb.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return CZe(r.concat(e),Jb.workspace.workspaceFolders,Lr.maxProjectResults)}function CZe(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!SZe.has(o.scheme));if(n.length===0)return[bZe];let i=new Map;for(let o of n){let s=Jb.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return TZe(r,e,i,t)}function TZe(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,_=!1,y=!1,k=e[d].uri.fsPath;l.forEach(z=>{if(PZe(z))i.push(Lq(z));else if(DZe(z)){let re=$S.dirname(z.fsPath);a.push({label:$S.basename(z.fsPath),description:Jb.workspace.asRelativePath(re),target:re,directory:re,workspaceKind:1})}else f||=EZe(z),_||=xZe(z),y||=RZe(z)});let H=a.length>0,M=i.length>0;H&&!M&&s.push({label:$S.basename(k),description:"All contained projects",target:k,directory:k,workspaceKind:3}),f&&c.push({label:"CSX",description:$S.basename(k),target:k,directory:k,workspaceKind:4}),_&&c.push({label:"Cake",description:$S.basename(k),target:k,directory:k,workspaceKind:5}),y&&!M&&!H&&c.push({label:$S.basename(k),description:"",target:k,directory:k,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function DZe(r){return/\.csproj$/i.test(r.fsPath)}function PZe(r){return/\.slnf?$/i.test(r.fsPath)}function EZe(r){return/\.csx$/i.test(r.fsPath)}function xZe(r){return/\.cake$/i.test(r.fsPath)}function RZe(r){return/\.cs$/i.test(r.fsPath)}async function Sve(r,e,t,n,i,o){return new Promise((s,a)=>{OZe(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function _5(r,e,t,n,i,o){if(Lr.useEditorFormattingSettings){let a=Jb.workspace.getConfiguration("",null),c=Jb.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!v5(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${v5(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${v5(a,c,"editor.tabSize",4)}`)}if(Lr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),rs.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function OZe(r,e,t,n,i,o){let s=await _5(r,e,t,n,i,o);return IZe(n,s)}function IZe(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,xF.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return kZe(i,t,n);case"Mono .NET Framework":return{command:o,process:AZe(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function v5(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function kZe(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,xF.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function AZe(r,e,t,n){return(0,xF.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var xCe=require("timers");var fC=require("vscode");var RCe=Me(gn()),hj=Me(Df()),OCe=Me(dC()),ICe=Me(e7()),kCe=Me(IK()),ACe=Me(y7()),MCe=Me(JK()),LCe=Me(BK()),NCe=Me(p7()),qCe=Me(R2()),FCe=Me(Y9()),jCe=Me(f7()),zCe=Me(i7()),fj=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await _5(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(_,y,D,k){let H=await k(_,y,D);return H&&a.remap("remapLocations",Array.isArray(H)?H:[H],D)},async provideTypeDefinition(_,y,D,k){let H=await k(_,y,D);return H&&a.remap("remapLocations",Array.isArray(H)?H:[H],D)},async provideReferences(_,y,D,k,H){let M=await H(_,y,D,k);return a.remap("remapLocations",M,k)},async provideImplementation(_,y,D,k){let H=await k(_,y,D);return H&&a.remap("remapLocations",Array.isArray(H)?H:[H],D)},async provideRenameEdits(_,y,D,k,H){let M=await H(_,y,D,k);return M&&a.remap("remapWorkspaceEdit",M,k)},async provideCodeLenses(_,y,D){let k=await D(_,y);if(!k)return k;let H=k.map(z=>new fC.Location(_.uri,z.range)),M=await a.remap("remapLocations",H,y);return k.filter((z,re)=>M[re].uri===_.uri)},async resolveCodeLens(_,y,D){let k=await D(_,y);return!k||k.command===void 0?k:new fC.CodeLens(k.range,RCe.Command.create(k.command.title,"editor.action.findReferences",fC.Uri.parse(_.data),k.range.start))},async provideFoldingRanges(_,y,D,k){return await k(_,y,D)},async provideHover(_,y,D,k){return await k(_,y,D)},async provideSignatureHelp(_,y,D,k,H){return await H(_,y,D,k)},async provideCompletionItem(_,y,D,k,H){return await H(_,y,D,k)},async provideWorkspaceSymbols(_,y,D){return await D(_,y)},async provideDocumentSymbols(_,y,D){return await D(_,y)},async provideCodeActions(_,y,D,k,H){return await H(_,y,D,k)},async provideDocumentFormattingEdits(_,y,D,k){return await k(_,y,D)},async provideDocumentRangeFormattingEdits(_,y,D,k,H){return await H(_,y,D,k)},async provideOnTypeFormattingEdits(_,y,D,k,H,M){return await M(_,y,D,k,H)},async provideDocumentSemanticTokens(_,y,D){return await D(_,y)},async provideDocumentRangeSemanticTokens(_,y,D,k){return await k(_,y,D)},async provideDocumentHighlights(_,y,D,k){return await k(_,y,D)},async provideInlayHints(_,y,D,k){return await k(_,y,D)}}},u=new OCe.LanguageClient("Omnisharp Server",s,c);await u.setTrace(hj.Trace.Verbose);let l=u._features;function d(_){let y=l.findIndex(D=>D instanceof _);y>-1&&l.splice(y,1)}d(zCe.CallHierarchyFeature),d(kCe.ColorProviderFeature),d(MCe.DeclarationFeature),d(qCe.DiagnosticFeature),d(LCe.DocumentLinkFeature),d(NCe.InlineValueFeature),d(FCe.NotebookDocumentSyncFeature),d(ICe.SelectionRangeFeature),d(jCe.TypeHierarchyFeature),d(ACe.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new nP(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new co}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new hj.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,xCe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new fC.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new Wl(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new iP(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Bo)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var d0e=require("child_process"),f0e=require("readline");var UCe=[Ii.ChangeBuffer,Ii.FormatAfterKeystroke,Ii.FormatRange,Ii.UpdateBuffer],HCe=[Ii.Completion,Ii.CompletionResolve,Ii.FilesChanged,Ii.FindSymbols,Ii.FindUsages,Ii.GetCodeActions,ys.Requests.GoToDefinition,Ii.RunCodeAction,Ii.SignatureHelp,Ii.TypeLookup,Ii.GoToTypeDefinition],vct=new Set(UCe),_ct=new Set(HCe);var BCe=new Set;for(let r of UCe)BCe.add(r);for(let r of HCe)BCe.add(r);function WCe(r){return vct.has(r)}function $Ce(r){return _ct.has(r)}var s1=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new Yq(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new uk(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new uk(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new Jq(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new vF)}},pj=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new s1("Priority",1,e,n),this._normalQueue=new s1("Normal",t,e,n),this._deferredQueue=new s1("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return WCe(e)?this._priorityQueue:$Ce(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var MY=require("timers");var VCe=Me(require("node:buffer"));function GCe(r){return r[0]===239&&r[1]===187&&r[2]===191&&VCe.isUtf8(r)?r.subarray(3):r}function KCe(r){return r=r.trim(),r.charCodeAt(0)===65279?r.slice(1):r}var a1=require("vscode"),c1=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=a1.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=a1.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return a1.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var _w=require("vscode");var u1=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=_w.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=_w.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new _w.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await Uge(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await zge(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=_w.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await jge(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return _w.Uri.parse(this.scheme+":///"+e)}};var Ia=Me(require("vscode"));var $P=Me(require("vscode"));var If=Me(require("vscode"));function BP(r){let e=If.Uri.file(r.FileName);return bY(e,r)}function bY(r,e){let t=new If.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new If.Position(n,i);return new If.Location(r,new If.Range(t,o))}return new If.Location(r,t)}function JCe(r){return new If.Location(If.Uri.file(r.FileName),hC(r.Range))}function WP(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return wY(e,t,n,i)}function l1(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return wY(e,t,n,i)}function hC(r){return wY(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function wY(r,e,t,n){return new If.Range(r,e,t,n)}function XCe(r){return{Start:YCe(r.start),End:YCe(r.end)}}function YCe(r){return{Line:r.line,Column:r.character}}function QCe(r){return new If.Position(r.Line,r.Column)}function ZCe(r){return new If.TextEdit(l1(r),r.NewText)}function ul(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Wi=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new co}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var bct=ys.Structure,d1=ys.SymbolKinds,e0e=ys.SymbolPropertyNames,SY=ys.SymbolRangeNames,mj=class extends $P.CodeLens{constructor(t,n){super(new $P.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},gj=class extends mj{constructor(e,t){super(e,t)}},vj=class extends mj{constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},f1=class extends vj{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},h1=class extends vj{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},p1=class extends Wi{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!Lr.showReferencesCodeLens&&!Lr.showTestsCodeLens)return[];try{let n=await hq(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return wct(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof gj)return this.resolveReferencesCodeLens(e,t);if(e instanceof f1)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof h1)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await ZD(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(BP),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[$P.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await sk(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function wct(r,e){let t=[];return bct.walkCodeElements(r,n=>{let i=Sct(n,e);t.push(...i)}),t}function Sct(r,e){let t=[];if(Lr.showReferencesCodeLens&&Tct(r)){let n=r.Ranges[SY.Name];n&&t.push(new gj(n,e))}if(Lr.showTestsCodeLens){if(r.Kind===d1.Method){let n=t0e(r);if(n!==void 0){let i=r.Ranges[SY.Name];i!==void 0&&(t.push(new f1(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new h1(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===d1.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===d1.Method).map(s=>t0e(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[SY.Name];t.push(new f1(a,e,r.DisplayName,!0,o,s)),t.push(new h1(a,e,r.DisplayName,!0,o,s))}}}return t}var Cct={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function Tct(r){return!(r.Kind===d1.Namespace||r.Kind===d1.Method&&Cct[r.Name]||Lr.filteredSymbolsCodeLens.includes(r.Name))}function t0e(r){if(r.Properties===void 0)return;let e=r.Properties[e0e.TestFramework],t=r.Properties[e0e.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var _j=require("vscode"),m1=class r extends Wi{async provideDocumentHighlights(e,t,n){let i=ul(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await ZD(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new _j.DocumentHighlight(WP(e),_j.DocumentHighlightKind.Read)}};var Nu=Me(require("vscode"));var Wo=ys.SymbolKinds,r0e=ys.SymbolRangeNames,g1=class extends Wi{async provideDocumentSymbols(e,t){try{let n=await hq(this._server,{FileName:e.fileName},t);return n&&n.Elements?n0e(n.Elements):[]}catch{return[]}}};function n0e(r,e){let t=[];return r.forEach(n=>{let i=Pct(n,e);n.Children&&(i.children=n0e(n.Children,n)),t.push(i)}),t}function Dct(r,e){switch(r.Kind){case Wo.Class:case Wo.Delegate:case Wo.Enum:case Wo.Interface:case Wo.Struct:return r.Name;case Wo.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case Wo.Constant:case Wo.Constructor:case Wo.Destructor:case Wo.EnumMember:case Wo.Event:case Wo.Field:case Wo.Indexer:case Wo.Method:case Wo.Operator:case Wo.Property:case Wo.Unknown:default:return r.DisplayName}}function Pct(r,e){let t=r.Ranges[r0e.Full],n=r.Ranges[r0e.Name],i=Dct(r,e),o=i===r.DisplayName?"":r.DisplayName;return new Nu.DocumentSymbol(i,o,Ect(r.Kind),hC(t),hC(n))}var Md={};Md[Wo.Class]=Nu.SymbolKind.Class;Md[Wo.Delegate]=Nu.SymbolKind.Class;Md[Wo.Enum]=Nu.SymbolKind.Enum;Md[Wo.Interface]=Nu.SymbolKind.Interface;Md[Wo.Struct]=Nu.SymbolKind.Struct;Md[Wo.Constant]=Nu.SymbolKind.Constant;Md[Wo.Destructor]=Nu.SymbolKind.Method;Md[Wo.EnumMember]=Nu.SymbolKind.EnumMember;Md[Wo.Event]=Nu.SymbolKind.Event;Md[Wo.Field]=Nu.SymbolKind.Field;Md[Wo.Indexer]=Nu.SymbolKind.Property;Md[Wo.Method]=Nu.SymbolKind.Method;Md[Wo.Operator]=Nu.SymbolKind.Operator;Md[Wo.Property]=Nu.SymbolKind.Property;Md[Wo.Namespace]=Nu.SymbolKind.Namespace;Md[Wo.Unknown]=Nu.SymbolKind.Class;function Ect(r){return r==="constructor"?Nu.SymbolKind.Constructor:Md[r]}var yj=require("vscode"),v1=class extends Wi{async provideHover(e,t,n){let i=ul(e,t);try{let o=await tve(this._server,i,n);if(!o||!o.Markdown)return;let s=new yj.MarkdownString;return s.appendMarkdown(o.Markdown),new yj.Hover(s)}catch{return}}};var VP=require("vscode"),_1=class extends Wi{async provideRenameEdits(e,t,n,i){let o=ul(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await Hge(this._server,o,i);if(!s)return;let a=new VP.WorkspaceEdit;return s.Changes.forEach(u=>{let l=VP.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new VP.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var bj=require("vscode"),GP=class r extends Wi{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await Lge(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await Mge(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new bj.TextEdit(new bj.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var Ld=require("vscode");var y1=class r extends Wi{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=Lr.minFindSymbolsFilterLength,o=Lr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Ige(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=Ld.Uri.file(t.FileName);let i=new Ld.Location(n,WP(t));return new Ld.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return Ld.SymbolKind.Method;case"Field":return Ld.SymbolKind.Field;case"Property":return Ld.SymbolKind.Property;case"Interface":return Ld.SymbolKind.Interface;case"Enum":return Ld.SymbolKind.Enum;case"Struct":return Ld.SymbolKind.Struct;case"Event":return Ld.SymbolKind.Event;case"EnumMember":return Ld.SymbolKind.EnumMember;case"Class":return Ld.SymbolKind.Class;default:return Ld.SymbolKind.Class}}};var KP=require("vscode"),i0e=require("vscode"),b1=class extends Wi{async provideSignatureHelp(e,t,n){let i=ul(e,t);try{let o=await Wge(this._server,i,n);if(!o)return;let s=new KP.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new KP.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new KP.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new i0e.MarkdownString(n)}return""}};var qp=Me(require("vscode"));var jm=Me(require("vscode"));async function wj(r,e,t){let n=new jm.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=jm.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=jm.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(jm.TextEdit.replace(l1(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(jm.Uri.file(a.FileName),jm.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=jm.workspace.applyEdit(n);return i!==void 0?o.then(s=>jm.commands.executeCommand("vscode.open",i)):o}var o0e=Me(Df());var w1=class r extends Wi{constructor(t,n){super(t,n);this.server=t;let i=new co;i.add(qp.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(qp.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(qp.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=qp.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=qp.window.activeTextEditor?.document.fileName;if(i===void 0){Ih(qp,qp.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await Age(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=qp.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await qp.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:qp.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await kge(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await wj(o.Changes,this._languageMiddlewareFeature,o0e.CancellationToken.None)}};var Ec=require("vscode");var c0e=Me(Df()),u0e=Me(gn());var YP=require("vscode");async function Oct(r,e){for(let t=0;t<YP.workspace.textDocuments.length;t++){let n=YP.workspace.textDocuments[t];Sj(n,r)||await s0e(n,r,e)}}function Ny(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function Ict(r,e){let t=YP.workspace.onDidOpenTextDocument(async o=>{Sj(o,r)||await s0e(o,r,e)}),n=YP.workspace.onDidChangeTextDocument(async o=>{let s=o.document;Sj(s,r)||await a0e(s,r,e)}),i=YP.workspace.onDidCloseTextDocument(async o=>{Sj(o,r)||await kct(o,r,e)});return new co(t,i,n)}function Sj(r,e){return!Ny(r)||!e.isRunning()}async function s0e(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await QD(e,[i]),await a0e(r,e,t)}catch(o){CY(r.uri,o,e,t)}}async function a0e(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await eP(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){CY(r.uri,i,e,t)}}async function kct(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await QD(e,[i])}catch(o){CY(r.uri,o,e,t)}}function CY(r,e,t,n){t.isRunning()&&n.post(new aF(r.path,e))}function TY(r,e){return Oct(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),Ict(r,e)}var DY="csharp.completion.afterInsert",S1=class extends Wi{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=ul(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await rve(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));Ny(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await nve(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await ive(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new Ec.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new Ec.Range(new Ec.Position(u.StartLine,u.StartColumn),new Ec.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,c0e.CancellationToken.None),!await Ec.workspace.applyEdit(o))return;let a=Ec.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new Ec.Position(i.Line,i.Column);a.selections=[new Ec.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new Ec.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new Ec.Position(l.StartLine,l.StartColumn),f=new Ec.Position(l.EndLine,l.EndColumn);return new Ec.Range(d,f)},o=function(l){return new Ec.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===u0e.InsertTextFormat.Snippet?new Ec.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:DY,title:"",arguments:[e,t]}:void 0}}};var C1=class extends Wi{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=ul(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await ZD(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return bY(n,t)}return BP(t)}};var T1=class extends Wi{async provideImplementation(e,t,n){let i=ul(e,t);try{let s=(await Oge(this._server,i,n))?.QuickFixes?.map(c=>BP(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var JP=Me(require("vscode")),rc=Me(gn());var D1=class extends Wi{constructor(e,t){super(e,t)}getLegend(){return new JP.SemanticTokensLegend(jn,pC)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!Lr.useSemanticHighlighting)return null;let i=ul(e,new JP.Position(0,0));i.Range=t;let o=e.version,s=await eve(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new JP.SemanticTokensBuilder;for(let u of s.Spans){let l=sn[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((_,y)=>_+l0e[y],0);u.Type===26&&(d+=2**6);let f=l1(u);for(let _=f.start.line;_<=f.end.line;_++){let y=_===f.start.line?f.start.character:0,D=_===f.end.line?f.end.character:e.lineAt(_).text.length;c.push(_,y,D-y,l,d)}}return c.build()}},jn=[];jn[0]=rc.SemanticTokenTypes.comment;jn[1]=rc.SemanticTokenTypes.string;jn[2]=rc.SemanticTokenTypes.keyword;jn[3]=rc.SemanticTokenTypes.number;jn[4]=rc.SemanticTokenTypes.regexp;jn[5]=rc.SemanticTokenTypes.operator;jn[6]=rc.SemanticTokenTypes.namespace;jn[7]=rc.SemanticTokenTypes.type;jn[8]=rc.SemanticTokenTypes.struct;jn[9]=rc.SemanticTokenTypes.class;jn[10]=rc.SemanticTokenTypes.interface;jn[11]=rc.SemanticTokenTypes.enum;jn[12]=rc.SemanticTokenTypes.typeParameter;jn[13]=rc.SemanticTokenTypes.function;jn[14]=rc.SemanticTokenTypes.method;jn[15]=rc.SemanticTokenTypes.macro;jn[16]=rc.SemanticTokenTypes.variable;jn[17]=rc.SemanticTokenTypes.parameter;jn[18]=rc.SemanticTokenTypes.property;jn[19]=rc.SemanticTokenTypes.enumMember;jn[20]=rc.SemanticTokenTypes.event;jn[21]="label";jn[22]="controlKeyword";jn[23]="operatorOverloaded";jn[24]=rc.SemanticTokenTypes.macro;jn[25]="preprocessorText";jn[26]="excludedCode";jn[27]="punctuation";jn[28]="stringVerbatim";jn[29]="stringEscapeCharacter";jn[30]="delegate";jn[31]="module";jn[32]="extensionMethod";jn[33]="field";jn[34]=rc.SemanticTokenTypes.variable;jn[35]="xmlDocCommentAttributeName";jn[36]="xmlDocCommentAttributeQuotes";jn[37]="xmlDocCommentAttributeValue";jn[38]="xmlDocCommentCDataSection";jn[39]="xmlDocCommentComment";jn[40]="xmlDocCommentDelimiter";jn[41]="xmlDocCommentEntityReference";jn[42]="xmlDocCommentName";jn[43]="xmlDocCommentProcessingInstruction";jn[44]="xmlDocCommentText";jn[45]="regexComment";jn[46]="regexCharacterClass";jn[47]="regexAnchor";jn[48]="regexQuantifier";jn[49]="regexGrouping";jn[50]="regexAlternation";jn[51]="regexText";jn[52]="regexSelfEscapedCharacter";var pC=[];pC[0]="declaration";pC[1]="static";pC[2]="abstract";pC[3]="deprecated";pC[4]="modification";pC[5]="async";pC[6]="readonly";var sn=[];sn[0]=0;sn[1]=26;sn[2]=16;sn[3]=2;sn[4]=22;sn[5]=3;sn[6]=5;sn[7]=23;sn[8]=24;sn[9]=1;sn[10]=void 0;sn[11]=void 0;sn[12]=void 0;sn[13]=25;sn[14]=27;sn[15]=28;sn[16]=29;sn[17]=9;sn[18]=30;sn[19]=11;sn[20]=10;sn[21]=31;sn[22]=8;sn[23]=12;sn[24]=33;sn[25]=19;sn[26]=16;sn[27]=34;sn[28]=17;sn[29]=14;sn[30]=32;sn[31]=18;sn[32]=20;sn[33]=6;sn[34]=21;sn[35]=35;sn[36]=36;sn[37]=37;sn[38]=38;sn[39]=39;sn[40]=40;sn[41]=41;sn[42]=42;sn[43]=43;sn[44]=44;sn[45]=void 0;sn[46]=void 0;sn[47]=void 0;sn[48]=void 0;sn[49]=void 0;sn[50]=void 0;sn[51]=void 0;sn[52]=void 0;sn[53]=void 0;sn[54]=void 0;sn[55]=void 0;sn[56]=45;sn[57]=46;sn[58]=47;sn[59]=48;sn[60]=49;sn[61]=50;sn[62]=4;sn[63]=51;sn[64]=52;var l0e=[];l0e[0]=2**1;var XP=Me(require("vscode"));var P1=class extends Wi{_onDidChangeInlayHints=new XP.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new co(this._onDidChangeInlayHints,XP.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(Ny(e))return[];let i={Location:{FileName:e.fileName,Range:XCe(t)}};try{return(await cve(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await uve(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:QCe(e.Position),tooltip:new XP.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(ZCe)??void 0}}};var mC=Me(require("vscode"));function xY(r){return new EY(r)}var EY=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=mC.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of mC.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new co(this._diagnostics,mC.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),mC.workspace.onDidCloseTextDocument(this._onDocumentClose,this),mC.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){PY(e)||await ove(this._server,{FileName:e.fileName})}async _onDocumentClose(e){PY(e)||await sve(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||PY(e.document)||await eP(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function PY(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!Ny(r)}var qy=Me(require("vscode"));var E1=class extends Wi{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=qy.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new co(n))}async provideCodeActions(e,t,n,i){if(Lr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof qy.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await Nge(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return qy.CodeActionKind.QuickFix;case"Refactor":return qy.CodeActionKind.Refactor;case"RefactorExtract":return qy.CodeActionKind.RefactorExtract;case"RefactorInline":return qy.CodeActionKind.RefactorInline;default:return qy.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await Bge(this._server,e);if(n)return wj(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var Cj=require("vscode");function Act(r){return Cj.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&eP(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function Mct(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};QD(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];QD(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=Cj.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=Cj.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new co(n,i,o,s,a,c)}function RY(r){return new co(Act(r),Mct(r))}var Tj=require("vscode");var x1=class extends Wi{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=ul(t,n);o.WantMetadata=!0;try{let s=await qge(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=ul(t,n);o.WantMetadata=!0;try{let s=await Fge(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=hC(o.Location.Range);i.push(new Tj.Location(l,d));continue}let a=await $ge(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=hC(o.Location.Range);i.push(new Tj.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new Tj.Location(s,hC(o.Location.Range)))}else i.push(JCe(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var as=Me(require("vscode"));var OY=Me(NS()),IY=Me(XI());var Dj=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new co(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=Lr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function AY(r,e,t){return new kY(r,e,t)}var kY=class extends Wi{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new OY.Subject;_validateAllPipe=new OY.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=as.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=as.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=as.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=as.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=as.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),Lr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,IY.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,IY.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new co(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),as.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),as.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),as.workspace.onDidCloseTextDocument(this._onDocumentClose,this),as.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),as.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!Ny(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(as.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||Ny(e))return;let t=new as.CancellationTokenSource;try{let i=(await d5(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&as.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of as.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await d5(this._server,{},new as.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=as.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new as.Diagnostic(WP(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[as.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:as.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return as.DiagnosticSeverity.Error;case"warning":return as.DiagnosticSeverity.Warning;case"info":return as.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":as.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var QP=require("vscode");var Pj=class extends Wi{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await xge(this._server,i,n),s=[];for(let a of o.Spans)s.push(new QP.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return QP.FoldingRangeKind.Comment;case"Imports":return QP.FoldingRangeKind.Imports;case"Region":return QP.FoldingRangeKind.Region;default:return}}};var Ej=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new pj(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new co,c=new c1;c.register(),a.add(c);let u=new u1(e);u.register(),a.add(u),a.add(Ia.languages.registerCodeLensProvider(s,new p1(e,o,t))),a.add(Ia.languages.registerDocumentHighlightProvider(s,new m1(e,t))),a.add(Ia.languages.registerDocumentSymbolProvider(s,new g1(e,t))),a.add(Ia.languages.registerHoverProvider(s,new v1(e,t))),a.add(Ia.languages.registerRenameProvider(s,new _1(e,t))),Lr.useFormatting&&(a.add(Ia.languages.registerDocumentRangeFormattingEditProvider(s,new GP(e,t))),a.add(Ia.languages.registerOnTypeFormattingEditProvider(s,new GP(e,t),"}","/",`
`,";")));let l=new S1(e,t);a.add(Ia.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Ia.commands.registerCommand(DY,async(k,H)=>l.afterInsert(k,H))),a.add(Ia.languages.registerWorkspaceSymbolProvider(new y1(e,t,u))),a.add(Ia.languages.registerSignatureHelpProvider(s,new b1(e,t),"(",","));let d=new w1(e,t);a.add(d),a.add(Ia.languages.registerCodeActionsProvider(s,d,w1.metadata)),a.add(AY(e,i,t));let f=new x1(e,c,u,t);a.add(Ia.languages.registerTypeDefinitionProvider(s,f)),a.add(Ia.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Ia.languages.registerDefinitionProvider(s,f)),a.add(Ia.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Ia.languages.registerReferenceProvider(s,new C1(e,t,u))),a.add(Ia.languages.registerImplementationProvider(s,new T1(e,t))),a.add(RY(e));let _=new E1(e,t);a.add(_),a.add(Ia.languages.registerCodeActionsProvider(s,_)),a.add(TY(e,n)),a.add(Ia.languages.registerFoldingRangeProvider(s,new Pj(e,t))),a.add(xY(e));let y=new D1(e,t);a.add(Ia.languages.registerDocumentSemanticTokensProvider(s,y,y.getLegend())),a.add(Ia.languages.registerDocumentRangeSemanticTokensProvider(s,y,y.getLegend()));let D=new P1(e,t);return a.add(Ia.languages.registerInlayHintsProvider(s,D)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,d0e.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=bse(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Bo.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,MY.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new Wl(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await Sve(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new nP(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=GCe(c);u.length>0&&this._fireEvent(Bo.StdErr,u.toString())}),this._readLine=(0,f0e.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=Lr.projectLoadTimeout*1e3,f=(0,MY.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Bo.Started,_=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new Wl(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=KCe(e),e[0]!=="{"){this.eventStream.post(new Kb(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new Kb(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new Kb(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new hF(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new iP(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new Bq(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var S0e=Me(require("child_process")),C0e=Me(require("fs")),Nj=Me(require("path"));var Fp=Me(require("vscode"));var vu=Me(xS());function O1(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(z,re){for(var ce=0,_e=0;ce<z||!re;){var G=r.charCodeAt(n);if(G>=48&&G<=57)_e=_e*16+G-48;else if(G>=65&&G<=70)_e=_e*16+G-65+10;else if(G>=97&&G<=102)_e=_e*16+G-97+10;else break;n++,ce++}return ce<z&&(_e=-1),_e}function _(z){n=z,i="",o=0,s=16,d=0}function y(){var z=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&ZP(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&ZP(r.charCodeAt(n)))for(n++;n<r.length&&ZP(r.charCodeAt(n));)n++;else return d=3,r.substring(z,n);var re=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&ZP(r.charCodeAt(n))){for(n++;n<r.length&&ZP(r.charCodeAt(n));)n++;re=n}else d=3;return r.substring(z,re)}function D(){for(var z="",re=n;;){if(n>=t){z+=r.substring(re,n),d=2;break}var ce=r.charCodeAt(n);if(ce===34){z+=r.substring(re,n),n++;break}if(ce===92){if(z+=r.substring(re,n),n++,n>=t){d=2;break}var _e=r.charCodeAt(n++);switch(_e){case 34:z+='"';break;case 92:z+="\\";break;case 47:z+="/";break;case 98:z+="\b";break;case 102:z+="\f";break;case 110:z+=`
`;break;case 114:z+="\r";break;case 116:z+="	";break;case 117:var G=f(4,!0);G>=0?z+=String.fromCharCode(G):d=4;break;default:d=5}re=n;continue}if(ce>=0&&ce<=31)if(R1(ce)){z+=r.substring(re,n),d=2;break}else d=6;n++}return z}function k(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var z=r.charCodeAt(n);if(LY(z)){do n++,i+=String.fromCharCode(z),z=r.charCodeAt(n);while(LY(z));return s=15}if(R1(z))return n++,i+=String.fromCharCode(z),z===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(z){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=D(),s=10;case 47:var re=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!R1(r.charCodeAt(n));)n++;return i=r.substring(re,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var ce=t-1,_e=!1;n<ce;){var G=r.charCodeAt(n);if(G===42&&r.charCodeAt(n+1)===47){n+=2,_e=!0;break}n++,R1(G)&&(G===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return _e||(n++,d=1),i=r.substring(re,n),s=13}return i+=String.fromCharCode(z),n++,s=16;case 45:if(i+=String.fromCharCode(z),n++,n===t||!ZP(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=y(),s=11;default:for(;n<t&&H(z);)n++,z=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(z),n++,s=16}}function H(z){if(LY(z)||R1(z))return!1;switch(z){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function M(){var z;do z=k();while(z>=12&&z<=15);return z}return{setPosition:_,getPosition:function(){return n},scan:e?M:k,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function LY(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function R1(r){return r===10||r===13||r===8232||r===8233}function ZP(r){return r>=48&&r<=57}function xj(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!I1(r,o-1);)o--;for(var c=a;c<r.length&&!I1(r,c);)c++;i=r.substring(o,c),n=Nct(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=qct(t,r),l=!1,d=0,f;t.insertSpaces?f=NY(" ",t.tabSize||4):f="	";var _=O1(i,!1),y=!1;function D(){return u+NY(f,n+d)}function k(){var ue=_.scan();for(l=!1;ue===15||ue===14;)l=l||ue===14,ue=_.scan();return y=ue===16||_.getTokenError()!==0,ue}var H=[];function M(ue,Fe,qe){!y&&(!e||Fe<a&&qe>s)&&r.substring(Fe,qe)!==ue&&H.push({offset:Fe,length:qe-Fe,content:ue})}var z=k();if(z!==17){var re=_.getTokenOffset()+o,ce=NY(f,n);M(ce,o,re)}for(;z!==17;){for(var _e=_.getTokenOffset()+_.getTokenLength()+o,G=k(),$="",te=!1;!l&&(G===12||G===13);){var Te=_.getTokenOffset()+o;M(" ",_e,Te),_e=_.getTokenOffset()+_.getTokenLength()+o,te=G===12,$=te?D():"",G=k()}if(G===2)z!==1&&(d--,$=D());else if(G===4)z!==3&&(d--,$=D());else{switch(z){case 3:case 1:d++,$=D();break;case 5:case 12:$=D();break;case 13:l?$=D():te||($=" ");break;case 6:te||($=" ");break;case 10:if(G===6){te||($="");break}case 7:case 8:case 9:case 11:case 2:case 4:G===12||G===13?te||($=" "):G!==5&&G!==17&&(y=!0);break;case 16:y=!0;break}l&&(G===12||G===13)&&($=D())}G===17&&($=t.insertFinalNewline?u:"");var ae=_.getTokenOffset()+o;M($,_e,ae),z=G}return H}function NY(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function Nct(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function qct(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function I1(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var k1;(function(r){r.DEFAULT={allowTrailingComma:!1}})(k1||(k1={}));function h0e(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=k1.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return FY(r,a,t),i[0]}function qY(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=k1.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:jct(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};FY(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function Rj(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function FY(r,e,t){t===void 0&&(t=k1.DEFAULT);var n=O1(r,!1);function i(te){return te?function(){return te(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(te){return te?function(Te){return te(Te,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),_=i(e.onComment),y=o(e.onError),D=t&&t.disallowComments,k=t&&t.allowTrailingComma;function H(){for(;;){var te=n.scan();switch(n.getTokenError()){case 4:M(14);break;case 5:M(15);break;case 3:M(13);break;case 1:D||M(11);break;case 2:M(12);break;case 6:M(16);break}switch(te){case 12:case 13:D?M(10):_();break;case 16:M(1);break;case 15:case 14:break;default:return te}}}function M(te,Te,ae){if(Te===void 0&&(Te=[]),ae===void 0&&(ae=[]),y(te),Te.length+ae.length>0)for(var ue=n.getToken();ue!==17;){if(Te.indexOf(ue)!==-1){H();break}else if(ae.indexOf(ue)!==-1)break;ue=H()}}function z(te){var Te=n.getTokenValue();return te?d(Te):a(Te),H(),!0}function re(){switch(n.getToken()){case 11:var te=n.getTokenValue(),Te=Number(te);isNaN(Te)&&(M(2),Te=0),d(Te);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return H(),!0}function ce(){return n.getToken()!==10?(M(3,[],[2,5]),!1):(z(!1),n.getToken()===6?(f(":"),H(),$()||M(4,[],[2,5])):M(5,[],[2,5]),!0)}function _e(){s(),H();for(var te=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(te||M(4,[],[]),f(","),H(),n.getToken()===2&&k)break}else te&&M(6,[],[]);ce()||M(4,[],[2,5]),te=!0}return c(),n.getToken()!==2?M(7,[2],[]):H(),!0}function G(){u(),H();for(var te=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(te||M(4,[],[]),f(","),H(),n.getToken()===4&&k)break}else te&&M(6,[],[]);$()||M(4,[],[4,5]),te=!0}return l(),n.getToken()!==4?M(8,[4],[]):H(),!0}function $(){switch(n.getToken()){case 3:return G();case 1:return _e();case 10:return z(!0);default:return re()}}return H(),n.getToken()===17?t.allowEmptyContent?!0:(M(4,[],[]),!1):$()?(n.getToken()!==17&&M(9,[],[]),!0):(M(4,[],[]),!1)}function jct(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function p0e(r,e,t,n){for(var i,o=e.slice(),s=[],a=qY(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=Rj(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=Rj(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,_=l.parent.offset+l.parent.length;if(d>0){var y=c.children[d-1];f=y.offset+y.length}else if(f=c.offset+1,c.children.length>1){var D=c.children[1];_=D.offset}return iT(r,{offset:f,length:_-f,content:""},n)}else return iT(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var k=JSON.stringify(u)+": "+JSON.stringify(t),H=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(te){return te.children[0].value})):c.children.length,M=void 0;if(H>0){var y=c.children[H-1];M={offset:y.offset+y.length,length:0,content:","+k}}else c.children.length===0?M={offset:c.offset+1,length:0,content:k}:M={offset:c.offset+1,length:0,content:k+","};return iT(r,M,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var z=u;if(z===-1){var k=""+JSON.stringify(t),M=void 0;if(c.children.length===0)M={offset:c.offset+1,length:0,content:k};else{var y=c.children[c.children.length-1];M={offset:y.offset+y.length,length:0,content:","+k}}return iT(r,M,n)}else if(t===void 0&&c.children.length>=0){var re=u,ce=c.children[re],M=void 0;if(c.children.length===1)M={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===re){var y=c.children[re-1],_e=y.offset+y.length,G=c.offset+c.length;M={offset:_e,length:G-2-_e,content:""}}else M={offset:ce.offset,length:c.children[re+1].offset-ce.offset,content:""};return iT(r,M,n)}else if(t!==void 0){var M=void 0,k=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var $=c.children[u];M={offset:$.offset,length:$.length,content:k}}else if(c.children.length===0||u===0)M={offset:c.offset+1,length:0,content:c.children.length===0?k:k+","};else{var H=u>c.children.length?c.children.length:u,y=c.children[H-1];M={offset:y.offset+y.length,length:0,content:","+k}}return iT(r,M,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+z+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return iT(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function iT(r,e,t){if(!t.formattingOptions)return[e];var n=Oj(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!I1(n,i-1);)i--;for(;o<n.length&&!I1(n,o);)o++}for(var s=xj(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Oj(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function Oj(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var yw=h0e;function jY(r,e,t){return xj(r,e,t)}function m0e(r,e,t,n){return p0e(r,e,t,n)}function Ij(r,e){for(var t=e.length-1;t>=0;t--)r=Oj(r,e[t]);return r}var v0e=Me(require("os")),Lh=Me(require("path"));var li=Me(require("vscode"));function g0e(r){return yw(r)}var gC=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=Lh.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=Lh.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=Lh.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(li.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await li.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:li.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(li.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));let e=Lh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:Lh.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));let e=Lh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return Lh.join("${workspaceFolder}",Lh.dirname(e))}static getConsoleDebugOption(){let e=li.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=Vct(this.computeProgramPath(),this.computeWorkingDirectory()),n=kj();return`
[
    ${t},
    ${n}
]`}case 1:{let t=Bct(this.computeProgramPath(),this.computeWorkingDirectory()),n=kj();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${Wct(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${$ct(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=Lh.join("${workspaceFolder}",Lh.relative(this.workspaceFolder.uri.fsPath,e));return Lb(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function Bct(r,e){let t={"OS-COMMENT1":li.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":li.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":li.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Lb(r)}`,args:Array(0),cwd:`${Lb(e)}`,stopAtEntry:!1,"OS-COMMENT5":li.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function Wct(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Lb(r)}`,cwd:`${Lb(e)}`};return JSON.stringify(t)}function $ct(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${Lb(r)}`};return JSON.stringify(e)}function Vct(r,e){let t={"OS-COMMENT1":li.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":li.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":li.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Lb(r)}`,args:Array(0),cwd:`${Lb(e)}`,"OS-COMMENT5":li.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function Gct(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function zY(r,e){return`${r}${e.toString().padStart(2,"0")}`}function _0e(){let r=li.l10n.t("WARNING"),e=li.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=Gct(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[zY(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[zY(r,i+2)]=t[i];return n[zY(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function kj(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function Kct(r){return r.addTasksJson||r.addLaunchJson}async function Yct(r){return A1(r).then(async e=>Xct(r,e))}function Jct(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function A1(r){return new Promise((e,t)=>{vu.exists(r.tasksJsonPath,n=>{n?vu.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=g0e(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Po(li,li.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=Jct(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function Xct(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>vu.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function Qct(r){return new Promise((e,t)=>{let n={title:li.l10n.t("Yes"),result:0},i={title:li.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:li.l10n.t("Don't Ask Again"),result:2},s=Lh.basename(r.uri.fsPath);Zct()||li.window.showWarningMessage(li.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function Zct(){let r="suppressBuildAssetsNotification",e=li.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function y0e(){let r=li.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=li.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?v0e.EOL:`
`}}async function M1(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=y0e(),o=r.createTasksConfiguration(),s;if(vu.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=vu.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=w0e(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=Ij(c,jY(c,void 0,i))}let a=UY(s);vu.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function eut(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=y0e(),a;if(vu.pathExistsSync(r.launchJsonPath)){let u=yw(o)??[],l=vu.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=w0e(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=Ij(l,jY(l,void 0,s))}let c=UY(a);vu.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function b0e(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[M1(r,e),eut(r,e)];return Promise.all(t)}async function Aj(r,e){if(!li.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=li.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new gC(o,i);if(s.hasExecutableProjects()){let a=await Yct(s);if(!Kct(a))return 0;let c=await Qct(i);return c===2?2:c!==0?3:(await vu.ensureDir(s.vscodeFolder),await b0e(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function tut(r){return new Promise((e,t)=>{let n=[];if(vu.pathExistsSync(r.tasksJsonPath)){let i=vu.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=yw(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(vu.pathExistsSync(r.launchJsonPath)){let i=vu.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=yw(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function rut(r){return new Promise((e,t)=>{tut(r).then(n=>{if(n.length>0){let i={title:li.l10n.t("Yes")},o={title:li.l10n.t("Cancel"),isCloseAffordance:!0};li.window.showWarningMessage(li.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function Mj(r,e){try{if(!li.workspace.workspaceFolders)return;for(let t of li.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=li.workspace.getWorkspaceFolder(li.Uri.file(i));if(o===void 0)return;let s=new gC(n,o);if(!await rut(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await vu.ensureDir(s.vscodeFolder),await b0e(s,c)}else Po(li,li.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Po(li,li.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function UY(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function w0e(r,e,t,n,i){let o={formattingOptions:i},a=yw(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),y=f>=0?f:a.length+l++,D=m0e(u,[t,y],d,o);u=Ij(u,D)}),UY(u)}var zm=Me(require("vscode")),Lj=require("path");async function N1(r,e,t,n,i,o){let s="";try{let D=await i.getHostExecutableInfo();s=(await e([(0,Lj.dirname)(D.path)])).FullInfo}catch(D){s=D instanceof Error?D.message:`${D}`}let a="";t&&o&&(a=await sut(o));let c=r.extension.packageJSON.version,u=rs.useOmnisharpServer,l=iut(),d=out(),f=await aut(n,r),_=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

`,y=`### Logs ###

${f}

## Environment Information ##
**VSCode version**: ${zm.version}
**C# Extension**: ${c}
**Using OmniSharp**: ${u}

${a}
<details><summary>Dotnet Information</summary>
${s}</details>
<details><summary>Visual Studio Code Extensions</summary>
${l}
</details>
<details><summary>C# Settings</summary>
${d}
</details>
`;await zm.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:hy,issueBody:_,data:y})}function nut(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function iut(){let r=uut();if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,Lj.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}function out(){let r=`|Setting|Value|
|---|---|`,t=[L1("preferCSharpExtension"),L1("compilerDiagnosticScope"),L1("analyzerDiagnosticScope"),L1("enableXamlTools"),L1("useServerGC")].map(i=>`|${i.name}|${i.value}|`).join(`
`);return`
${r}
${t};
`}function L1(r){return{name:r,value:po[r]?.toString()}}async function sut(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}async function aut(r,e){let t=`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, use trace logging, see https://github.com/dotnet/vscode-csharp/blob/main/SUPPORT.md#c-lsp-trace-logs and then report the issue.
-->
`;for(let n of r){let i=await cut(e,n);t+=`### ${n.name} log ###
<details>

\`\`\`
${i}
\`\`\`
</details>

`}return t}async function cut(r,e){let t=zm.Uri.joinPath(r.logUri,e.name+".log");try{let n=await zm.workspace.fs.stat(t);if(n.type!==zm.FileType.File)return`Unable to find log file at ${t}, ${n.type}`;let i=await zm.workspace.fs.readFile(t);return Buffer.from(i).toString("utf8")}catch(n){return`Error reading log file: ${n instanceof Error?n.message:`${n}`}`}}function uut(){return zm.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(nut)}function HY(r,e,t,n,i,o,s,a){let c=new co;return c.add(Fp.commands.registerCommand("o.restart",async()=>dut(r,e))),c.add(Fp.commands.registerCommand("o.pickProjectAndStart",async()=>fut(e))),c.add(Fp.commands.registerCommand("o.showOutput",()=>n.post(new gF))),c.add(Fp.commands.registerCommand("dotnet.restore.project",async()=>put(e,n))),c.add(Fp.commands.registerCommand("dotnet.restore.all",async()=>vut(e,n))),c.add(Fp.commands.registerCommand("o.reanalyze.allProjects",async()=>mut(e))),c.add(Fp.commands.registerCommand("o.reanalyze.currentProject",async()=>gut(e))),c.add(Fp.commands.registerCommand("dotnet.generateAssets",async u=>Mj(s,u))),c.add(Fp.commands.registerCommand("csharp.reportIssue",async()=>{let u=lut(a);return N1(r,Ep,t.isValidPlatformForMono(),u?[u]:[],o,i)})),new co(c)}function lut(r){if(r.logLevel)return r}async function dut(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function fut(r){return RF().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return BY(r,e)})}async function BY(r,e){let t=await Fp.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function hut(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{C0e.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=Nj.dirname(n)),i({label:`dotnet restore - (${t.Name||Nj.basename(t.Directory)})`,description:n,async execute(){return D0e(n,e,t.Name)}})})})})}async function put(r,e){let t=await T0e(r);e.post(new hk);let n=await Promise.all(hut(t,e)),i=await Fp.window.showQuickPick(n);if(i)return i.execute()}async function mut(r){await f5(r,{})}async function gut(r){let e=Fp.window.activeTextEditor;e!==void 0&&await f5(r,{FileName:e.document.uri.fsPath})}async function vut(r,e){let t=await T0e(r);e.post(new hk);for(let n of t)await D0e(n.Directory,e,n.Name)}async function T0e(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await Gb(r),t=Ege(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function D0e(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=S0e.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new lk(l.toString()))}),u.on("err",l=>{e.post(new lk(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new lF(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new dF(`ERROR: ${u}`)),i(u)})})}var kf=Me(require("vscode")),R0e=Me(bS());var P0e=require("child_process"),qj=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,P0e.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var E0e=require("path");var Fj;async function x0e(){if(Fj!==void 0)return Fj;let r=(0,E0e.join)("msbuild",Id.getPlatformExeExtension());try{let e=await Bv(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&(Fj=t[1])}catch{}return Fj}async function O0e(){let r=await _ut();if(r.needsDotNetSdk){let e=await yut();return e===1?await kf.env.openExternal(kf.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await kf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await but();return e===1?await kf.env.openExternal(kf.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await kf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function _ut(){if(Lr.useModernNet){let r=await Ep(Lr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||R0e.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new rP(qj),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await x0e();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function yut(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};kf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function but(){return new Promise((r,e)=>{let t=kf.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:kf.l10n.t("Download Mono"),result:1},o={title:kf.l10n.t("Open settings"),result:2,isCloseAffordance:!0};kf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Bo;(ce=>(ce.StateChanged="stateChanged",ce.StdOut="stdout",ce.StdErr="stderr",ce.Error="Error",ce.ServerError="ServerError",ce.UnresolvedDependencies="UnresolvedDependencies",ce.PackageRestoreStarted="PackageRestoreStarted",ce.PackageRestoreFinished="PackageRestoreFinished",ce.ProjectChanged="ProjectChanged",ce.ProjectAdded="ProjectAdded",ce.ProjectRemoved="ProjectRemoved",ce.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",ce.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",ce.TestMessage="TestMessage",ce.BeforeServerInstall="BeforeServerInstall",ce.BeforeServerStart="BeforeServerStart",ce.ServerStart="ServerStart",ce.ServerStop="ServerStop",ce.MultipleLaunchTargets="server:MultipleLaunchTargets",ce.Started="started",ce.ProjectConfiguration="ProjectConfiguration"))(Bo||={});var wut=2*60*1e3,jj=class{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let _=new EF(t,this.eventStream,this.packageJSON,i,s,f);this._omnisharpManager=new qq(_,i),this.updateProjectDebouncer.pipe((0,A0e.debounceTime)(1500)).subscribe(async y=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new I0e.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new k0e.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Bo.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new Nq(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new jq(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Bo.StdOut,e,t)}onStderr(e,t){return this._addListener(Bo.StdErr,e,t)}onError(e,t){return this._addListener(Bo.Error,e,t)}onServerError(e,t){return this._addListener(Bo.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Bo.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Bo.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Bo.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Bo.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Bo.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Bo.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Bo.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Bo.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Bo.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Bo.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Bo.BeforeServerStart,e)}onServerStart(e){return this._addListener(Bo.ServerStart,e)}onServerStop(e){return this._addListener(Bo.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Bo.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Bo.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new Wl(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new j0("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new Kb("During Live Share sessions language services are provided by the Live Share server."));return}if(!await O0e()){this.eventStream.post(new Kb("OmniSharp failed to start because of missing requirements."));return}let t=new co,n;Lr.enableLspDriver?n=new fj(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new Ej(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(k=>this.eventStream.post(new j0(k)))),t.add(this.onError(k=>this.eventStream.post(new $q(k)))),t.add(this.onMsBuildProjectDiagnostics(k=>this.eventStream.post(new Gq(k)))),t.add(this.onUnresolvedDependencies(k=>this.eventStream.post(new Kq(k)))),t.add(this.onStderr(k=>this.eventStream.post(new fF(k)))),t.add(this.onMultipleLaunchTargets(k=>this.eventStream.post(new Xq(k)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new bF))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new yF)})),t.add(this.onServerStop(()=>this.eventStream.post(new SF))),t.add(this.onServerStart(()=>{this.eventStream.post(new CF)})),t.add(this.onBackgroundDiagnosticStatus(k=>this.eventStream.post(new Vq(k)))),t.add(this.onProjectConfigurationReceived(k=>{this.eventStream.post(new Qq(k))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=eE.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",Lr.loggingLevel],a=qS.razorPluginPath,c=a.length>0?a:eE.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");WY.existsSync(c)&&s.push("--plugin",c),rs.waitForDebugger===!0&&s.push("--debug");let u=rs.excludePaths;for(let k=0;k<u.length;k++)s.push(`FileOptions:SystemExcludeSearchPatterns:${k}=${u[k]}`);Lr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),Lr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),Lr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),rs.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),Lr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),Lr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),Lr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=Lr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=Lr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),Lr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=Lr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${Lr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${Lr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${Lr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${Lr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${Lr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${Lr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${Lr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let _=Lr.inlayHintsEnableForTypes;_===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${_.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${Lr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${Lr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${Lr.inlayHintsForImplicitObjectCreation.toString()}`)),Lr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let y=Lr.dotNetCliPaths;for(let k=0;k<y.length;k++)s.push(`DotNetCliOptions:LocationPaths:${k}=${y[k]}`);let D;try{D=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,rs.serverPath,!Lr.useModernNet,this.extensionPath)}catch(k){let H=k;this.eventStream.post(new Hq(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${H.toString()}`,H));return}this.eventStream.post(new Uq(y,new Date,i)),this._fireEvent(Bo.BeforeServerStart,i);try{await n.start(o,s,e,D),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),wut)}),this._delayTrackers={},c!==void 0&&qS.razorPluginPath&&(WY.existsSync(c)?this.eventStream.post(new cF(c)):this.eventStream.post(new uF(c))),this._fireEvent(Bo.ServerStart,i)}catch(k){return this._fireEvent(Bo.ServerError,k),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new j0("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Bo.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new mF)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await Gb(this);this.eventStream.post(new Zq(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Bo.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new j0("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new DF),await this.start(e))}async autoStart(e){let t=await RF();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=rs.defaultSolution,i=t.find(s=>eE.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Bo.MultipleLaunchTargets,t),BY(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var F0e=Me(require("net")),$Y=Me(require("os")),F1=Me(require("path"));var ka=Me(require("vscode"));var M0e=Me(require("vscode"));var L0e="processLaunched",N0e="debuggingStopped";function q0e(r){if(r[r.length-1]!=10)throw new Error(M0e.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var Cut=2*60*1e3,q1=class extends Wi{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=ka.commands.registerCommand("dotnet.test.run",async(d,f,_)=>this.runDotnetTest(d,f,_)),o=ka.commands.registerCommand("dotnet.test.debug",async(d,f,_)=>this.debugDotnetTest(d,f,_)),s=ka.commands.registerCommand("dotnet.classTests.run",async(d,f,_,y)=>this.runDotnetTestsInClass(d,f,_,y)),a=ka.commands.registerCommand("dotnet.classTests.debug",async(d,f,_,y)=>this.debugDotnetTestsInClass(d,f,_,y)),c=ka.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=ka.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),Cut);let l=new Wl(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new co(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new Wq(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(ka.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await Vge(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await sk(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await Rge(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=rs.runSettingsPath;if(t.length===0)return;if(F1.isAbsolute(t))return t;let n=ka.Uri.file(e),i=ka.workspace.getWorkspaceFolder(n);if(i!==void 0)return F1.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new eF(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new Op(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new oP(c))}catch(c){let u=c.message;this._eventStream.post(new Yb(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new nF(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new Op(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new oP(u))}catch(u){let l=u.message;this._eventStream.post(new Yb(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await Gge(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new Op(`${ka.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new oF(ka.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new Op(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await Kge(this._server,a);c.ContextHadNoTests?this._eventStream.post(new Op(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new Yb(c.Failure)):this._eventStream.post(new oP(c.Results))}catch(c){let u=c.message;this._eventStream.post(new Yb(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=rs.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Op(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await Yge(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await sk(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new VY(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new tF(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=ka.workspace.getWorkspaceFolder(ka.Uri.file(t));return ka.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new fk(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new iF(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=ka.workspace.getWorkspaceFolder(ka.Uri.file(n));return ka.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new fk(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new Op(`${ka.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new sF(ka.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=ka.workspace.getWorkspaceFolder(t);return ka.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new Yb(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Op(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await Jge(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new Op(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await Xge(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new Op(u.FailureReason)):this._eventStream.post(new Yb(u.FailureReason)),null)}finally{a.dispose()}}},VY=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,$Y.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=_se();this._pipePath=F1.join(i,"ms-dotnettools.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=F0e.createServer(t=>{t.on("data",async n=>{let i;try{i=q0e(n)}catch{this._eventStream.post(new dk("Invalid event received from debugger"));return}switch(i.eventType){case L0e:{let o=i;this._eventStream.post(new rF(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case N0e:this._eventStream.post(new PF),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new dk(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new Op(i.Message))});try{await Qge(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await Zge(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return $Y.platform()==="win32"?Promise.resolve():wse(this._pipePath)}};var tE=Me(require("path"));var zj=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await Gb(this.server)).MsBuild?.Projects.map(o=>{let s=JD(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${tE.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=tE.resolve(e.fsPath),a=tE.dirname(o.projectPath);return Cse(a,s)}):void 0}};var j0e=Me(xS()),vC=Me(require("vscode"));var rE=class extends O0{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Po(vC,vC.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Po(vC,vC.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Po(vC,vC.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new gC(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await j0e.ensureDir(o.vscodeFolder);let s=await A1(o);await M1(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(vC.l10n.t("Does not contain .NET Core projects."))}catch{return[_0e(),yw(kj())]}}};function Uj(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var Hj=Me(require("crypto")),U0e=Me(z0e());function Bj(r,e,t,n,i,o){let s="";i&&(s=Tut(i));let a=Uj(t);a.SolutionId=s,a.ProjectId=e.ProjectId,a.SessionId=e.SessionId,a.OutputType=e.OutputKind?.toString()??"",a.ProjectCapabilities=e.ProjectCapabilities?.join(" ")??"",a.TargetFrameworks=e.TargetFrameworks.join("|"),a.References=e.References.join("|"),a.FileExtensions=e.FileExtensions.join("|"),a.FileCounts=e.FileCounts?.join("|")??"",a.NetSdkVersion=n?.Version??"",a.sdkStyleProject=e.SdkStyleProject.toString(),e.HasSolutionFile!=null&&(a.HasSolutionFile=e.HasSolutionFile.toString()),e.IsFileBasedProgram!=null&&(a.IsFileBasedProgram=e.IsFileBasedProgram.toString()),e.IsMiscellaneousFile!=null&&(a.IsMiscellaneousFile=e.IsMiscellaneousFile.toString()),o&&(a.useModernNet=o.toString()),r.sendTelemetryEvent("ProjectConfiguration",a)}function Tut(r){let e=Hj.createHash("sha256").update(r).digest("hex"),t=(0,U0e.machineIdSync)(),n=Hj.createHash("sha256").update(t).digest("hex");return Hj.createHash("sha256").update(e+n).digest("hex")}var Wj=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=Uj(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await Ep(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof ay&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;Bj(this.reporter,t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var oT=Me(require("vscode"));var $j=require("util");function Vj(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=Dut(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,$j.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,$j.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,$j.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new Wl(n)}function Dut(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,rs[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,Lr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,po[e]]))}}function H0e(r){return Vj(r,{getRelevantOptions:()=>({changedCommonOptions:wN,changedLanguageServerOptions:[],changedOmnisharpOptions:Cfe}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:oT.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};$c(oT,oT.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=oT.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:oT.l10n.t("Restart Language Server"),command:"o.restart"};$c(oT,i,o)}})}var Gj=class extends wf{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function B0e(r,e,t,n,i,o,s,a,c){ta.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=Lr.useModernNet,l=new Wj(e,()=>c,u);i.subscribe(l.post);let d=new Gj(o);i.subscribe(d.post);let f=new pq(a),_=new mq(a);i.subscribe(f.post),i.subscribe(_.post);let y=new ck(s),D=new ak(s);i.subscribe(y.post),i.subscribe(D.post);let k=Lr.enableLspDriver?ta.window.createOutputChannel(ta.l10n.t("OmniSharp Log"),{log:!0}):ta.window.createOutputChannel(ta.l10n.t("OmniSharp Log")),H=new vq(k,e),M=new _q(k);i.subscribe(H.post),i.subscribe(M.post);let z=new yq(ta,()=>Lr.disableMSBuildDiagnosticWarning||!1);i.subscribe(z.post);let re=new bq(ta);i.subscribe(re.post);let ce=new Sq(ta);i.subscribe(ce.post);let _e=new tP(ta.window.createStatusBarItem("C#-Language-Service-Status",ta.StatusBarAlignment.Left,Number.MIN_VALUE+2));_e.name="C# Language Service Status";let G=new Cq(_e);i.subscribe(G.post);let $=new tP(ta.window.createStatusBarItem("C#-Project-Selector",ta.StatusBarAlignment.Left,Number.MIN_VALUE+1));$.name="C# Project Selector";let te=new Tq($);i.subscribe(te.post);let Te=new tP(ta.window.createStatusBarItem("C#-Code-Analysis",ta.StatusBarAlignment.Left,Number.MIN_VALUE));Te.name="C# Code Analysis";let ae=new Dq(Te);if(i.subscribe(ae.post),!1){let qe=new Eq(k);i.subscribe(qe.post)}let Fe=new xq(o);return i.subscribe(Fe.post),qS.razorDevMode||await new Rq(n,i,r.extension.packageJSON,e,r.extension.extensionPath,c).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),H0e(t),r.subscriptions.push(ta.window.onDidChangeActiveTextEditor(()=>{i.post(new wF)})),Put(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,k,c)}async function Put(r,e,t,n,i,o,s,a){let c=new co,u=new rP(qj),l=new Iq(t),d=new Aq;d.register(),c.add(d);let f=new jj(ta,n,e,t,i,o,u,l,r,s,d,a),_=new Dj(f),y=new q1(f,i,d),D=new zj(f),k;return c.add(f.onServerStart(async()=>{k=await f.registerProviders(i,_,y)})),c.add(f.onServerStop(()=>{k?.dispose(),k=void 0})),c.add(HY(r,f,t,i,u,l,D,s)),c.add(f.onServerStart(async()=>{await Aj(r,D)})),ta.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||c.add(f.onServerStart(async()=>{await Gb(f).then(M=>{if(M.DotNet&&M.DotNet.Projects.length>0){let z=ta.l10n.t("project.json is no longer a supported project format for .NET Core applications."),re=ta.l10n.t("More Detail");i.post(new _F),Ih(ta,z,re)}})})),c.add(f.onServerStart(async()=>{let M={};await Gb(f).then(z=>{z.DotNet&&z.DotNet.Projects.length>0&&(M["projectjson.projectcount"]=z.DotNet.Projects.length,M["projectjson.filecount"]=WR(z.DotNet.Projects,re=>F$(re.SourceFiles))),z.MsBuild&&z.MsBuild.Projects.length>0&&(M["msbuild.projectcount"]=z.MsBuild.Projects.length,M["msbuild.filecount"]=WR(z.MsBuild.Projects,re=>F$(re.SourceFiles)),M["msbuild.unityprojectcount"]=WR(z.MsBuild.Projects,re=>re.IsUnityProject?1:0),M["msbuild.netcoreprojectcount"]=WR(z.MsBuild.Projects,re=>ave(re)?1:0)),i.post(new zq("OmniSharp.Start",M))})})),c.add(f.onBeforeServerStart(async M=>{qS.razorDevMode&&i.post(new pF),await r.workspaceState.update("lastSolutionPathOrFolder",M)})),Lr.autoStart&&f.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(M=>{throw M}),c.add(new Wl(()=>{y.dispose(),_.dispose(),f.stop().catch(M=>console.error(M))})),c.add(ta.debug.registerDebugConfigurationProvider("coreclr",new rE(D,t,s))),r.subscriptions.push(c),new Promise(M=>f.onServerStart(z=>M({server:f,advisor:_,testManager:y})))}var QOe=Me(require("fs")),ZOe=Me(XOe()),eIe=Me(require("path")),kx=Me(require("vscode"));async function tIe(r,e,t){let i=kx.workspace.getConfiguration("razor").get("languageServer.directory",""),o=i.length>0?i:eIe.join(e,".razoromnisharp");QOe.existsSync(o)?await ZOe.activate(kx,r,o,t,!1):Ih(kx,kx.l10n.t("Cannot load Razor OmniSharp language server because the directory was not found: '{0}'",o))}function rIe(r,e,t,n,i,o,s,a){let c=Ax.window.createOutputChannel(Ax.l10n.t(".NET Test Log")),u=Ax.window.createOutputChannel(Ax.l10n.t(".NET NuGet Restore")),l=B0e(r,e,t,n,i,o,c,u,s),d;qS.razorDevMode||(d=tIe(r,r.extension.extensionPath,i));let f=a(l);return{isLimitedActivation:!1,initializationFinished:async()=>{await(await l).server.waitForInitialize(),await f,d&&await d},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var Lqe=Me(require("vscode"));var nIe=Me(require("vscode"));var WH=class{onServerStateChangeEmitter=new nIe.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var LR=Me(require("vscode")),tse=Me(require("fs")),rse=Me(require("path"));var jte=Me(require("vscode"));var Lw=Me(require("vscode"));function iIe(r,e){ca()||r.subscriptions.push(Lw.commands.registerCommand("dotnet.openSolution",async()=>Yyt(e)))}async function Yyt(r){if(!Lw.workspace.workspaceFolders)return;let t=(await Lw.workspace.findFiles("**/*.{sln,slnf}")).map(Lq),n=await Lw.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=Lw.Uri.file(n.target);return await r.openSolution(i),i}}var ic=Me(require("vscode"));var oIe=Me(require("vscode")),Bs=class{static serialize(e){return e.toString(!0)}static deserialize(e){return oIe.Uri.parse(e,!0)}};function sIe(r,e,t){r.subscriptions.push(ic.commands.registerCommand("roslyn.client.peekReferences",Jyt)),r.subscriptions.push(ic.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>Xyt(n,i,o,s,t))),r.subscriptions.push(ic.commands.registerCommand("dotnet.restartServer",async()=>Qyt(e)))}async function Jyt(r,e){let t=Bs.deserialize(r),n=new ic.Position(e.line,e.character),i=await ic.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await ic.commands.executeCommand("editor.action.showReferences",t,n,i)}async function Xyt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=Bs.deserialize(r.uri),a=await ic.workspace.openTextDocument(s);a===void 0&&Fte(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await ic.window.showTextDocument(a),c===void 0&&Fte(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new ic.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new ic.Selection(u.start,u.end),l=await c.insertSnippet(new ic.SnippetString(e.newText));else{let f=new ic.WorkspaceEdit,_=ic.TextEdit.replace(u,e.newText);if(f.set(a.uri,[_]),l=await ic.workspace.applyEdit(f),l&&n>=0){let y=a.positionAt(n);c.selections=[new ic.Selection(y,y)]}}if(l)return}l||Fte(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function Fte(r,e){throw r.show(),r.error(e),new Error(e)}async function Qyt(r){await r.restart()}function aIe(r,e,t,n,i){Zyt(r,t,n,i),iIe(r,e),sIe(r,e,n)}function Zyt(r,e,t,n){r.subscriptions.push(jte.commands.registerCommand("csharp.reportIssue",async()=>N1(r,Ep,!1,[t,n],e))),r.subscriptions.push(jte.commands.registerCommand("csharp.showOutputWindow",async()=>t.show()))}var ed=Me(require("vscode"));var cIe=Me(require("vscode"));var Hu=Me(gn()),fl=Me(Df()),zte;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(zte||={});var KA;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(KA||={});var Ute;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType0(n.method)))(Ute||={});var Hte;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(Hte||={});var Bte;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=Hu.MessageDirection.serverToClient,n.type=new fl.NotificationType(n.method)))(Bte||={});var Wte;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=Hu.MessageDirection.serverToClient,n.type=new fl.NotificationType(n.method)))(Wte||={});var $te;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=Hu.MessageDirection.serverToClient,n.type=new fl.NotificationType(n.method)))($te||={});var Vte;(n=>(n.method="textDocument/runTests",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new Hu.ProtocolRequestType(n.method)))(Vte||={});var Gte;(n=>(n.method="workspace/attachDebugger",n.messageDirection=Hu.MessageDirection.serverToClient,n.type=new fl.RequestType(n.method)))(Gte||={});var Kte;(n=>(n.method="solution/open",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.NotificationType(n.method)))(Kte||={});var Yte;(n=>(n.method="project/open",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.NotificationType(n.method)))(Yte||={});var Jte;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType0(n.method)))(Jte||={});var Xte;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(Xte||={});var Qte;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(Qte||={});var Zte;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType0(n.method)))(Zte||={});var ere;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=Hu.MessageDirection.clientToServer,n.type=new fl.RequestType(n.method)))(ere||={});var tre;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=Hu.MessageDirection.serverToClient,n.type=new fl.NotificationType(n.method)))(tre||={});var $H=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:Bs.serialize(e)},n;try{n=await this.server.sendRequest(zte.type,t,new cIe.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await q$(n,async o=>{let s=lq(o.projectPath),a=await dq(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:fq(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var tMe=Me(xS()),Bf=Me(require("vscode"));var hR=Me(noe());var Hf=Me(noe()),C_=class{static solutionSnapshotProviderRegistration=Object.freeze(new Hf.ServiceJsonRpcDescriptor(Hf.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),Hf.Formatters.MessagePack,Hf.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new Hf.ServiceJsonRpcDescriptor(Hf.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),Hf.Formatters.MessagePack,Hf.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new Hf.ServiceJsonRpcDescriptor(Hf.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),Hf.Formatters.MessagePack,Hf.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var ioe=class extends hR.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new hR.ServiceRegistration(hR.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},sW;function ooe(){return sW||(sW=new ioe,sW.registerExternalServices(C_.dotnetDebugConfigurationService.moniker)),sW}function ZAe(){return ooe().getFullAccessServiceBroker()}var pR=class extends Error{},aW=class extends Error{constructor(){super()}},MM=class extends Error{},cW=class extends Error{},eMe="${workspaceFolder}",mTt="${file}";function gTt(r,e){if(r===mTt)return Bf.window.activeTextEditor?.document.fileName??r;if(r.startsWith(eMe)){let t=r.substring(eMe.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var uW=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(Bf.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(Bf.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=gTt(i,e.uri.fsPath));let o=await ZAe()?.getProxy(C_.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new cW}catch(s){if(s instanceof cW){if(!i)throw new pR(Bf.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof aW)return;throw s}}finally{o?.dispose()}}else throw new Error(Bf.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new aW;case"internalError":case"userError":throw new pR(i.message);default:throw new MM(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new pR(Bf.l10n.t("No launchable target found for '{0}'",e)):new pR(Bf.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=Bf.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await Bf.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new MM("Multiple launch targets (>2) is not yet supported."):new MM("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(Bf.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new gC(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await tMe.ensureDir(a.vscodeFolder);let c=await A1(a);await M1(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(Bf.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(Bf.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(Bf.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function rMe(r,e,t,n,i){let o=new $H(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(ca()||await Aj(r,o))});r.subscriptions.push(s);let a=new rE(o,n,i);r.subscriptions.push(ed.debug.registerDebugConfigurationProvider("dotnet",new uW(o,a))),r.subscriptions.push(ed.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push(ed.commands.registerCommand("dotnet.generateAssets",async(c,u={})=>{await vTt(u)&&await Mj(o,c)}))}async function vTt(r){if(ca()){if(r.skipPrompt)return!0;let e;for(;e===void 0;){let t=ed.l10n.t("Yes"),n=ed.l10n.t("No"),i=ed.l10n.t("More Information"),o=ed.l10n.t(".NET: Generate Assets for Build and Debug"),s=await ed.window.showInformationMessage(o,{modal:!0,detail:ed.l10n.t("The '{0}' command is not recommended to be used when C# Dev Kit extension is installed. Would you like build and debug using a dynamic configuration instead?",o)},t,n,i);s===t?(await ed.commands.executeCommand("workbench.action.debug.selectandstart","dotnet"),e=!1):s===n?e=!0:s===i?await ed.env.openExternal(ed.Uri.parse("https://aka.ms/VSCode-CS-DynamicDebugConfig")):s===void 0&&(e=!1)}return e}return!0}var LM=Me(require("path")),gR=Me(require("vscode"));var nMe=require("fs");var iMe=require("fs/promises");var oMe="9",sMe="0",_Tt="1",soe=`${oMe}.${sMe}.${_Tt}`,lW=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;let t=ca()!==void 0?"aspnetcore":"runtime";this.channel.appendLine(`Locating .NET runtime version ${soe}`);let n=await this.getArchitectureFromTargetPlatform()??process.arch,i={acquireContext:{version:soe,requestingExtensionId:hy,architecture:n,mode:t},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},o=await gR.commands.executeCommand("dotnet.findPath",i);o===void 0&&(this.channel.appendLine(`Did not find .NET ${soe} on path, falling back to acquire runtime via ${YD}`),o=await this.acquireDotNetProcessDependencies(t));let s=o.dotnetPath,a={version:"",path:s,env:this.getEnvironmentVariables(s)};return this.hostInfo=a,a}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=LM.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",po.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="4",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=LM.join(po.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(e){let n={version:`${oMe}.${sMe}`,requestingExtensionId:hy,mode:e},i=await gR.commands.executeCommand("dotnet.acquireStatus",n);if(i===void 0&&(await gR.commands.executeCommand("dotnet.showAcquisitionLog"),i=await gR.commands.executeCommand("dotnet.acquire",n),!i))throw new Error("Could not resolve the dotnet path!");return i}async acquireDotNetProcessDependencies(e){let t=await this.acquireRuntime(e),n=[this.getServerPath(this.platformInfo)];return await gR.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:t.dotnetPath,arguments:n}),t}async getArchitectureFromTargetPlatform(){let e=LM.join(this.extensionPath,".vsixmanifest");if(!(0,nMe.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,iMe.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)throw new Error(`Could not find extension target platform in ${e}`);let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var cMe=Me(require("fs")),fW=Me(require("path")),hl=Me(require("vscode")),uMe=Me(dC());function lMe(r,e){if(ca())return;let t=hl.window.createOutputChannel(hl.l10n.t(".NET Test Log"));r.subscriptions.push(hl.commands.registerCommand("dotnet.test.run",async n=>dMe(n,e,t))),r.subscriptions.push(hl.commands.registerCommand("dotnet.test.runTestsInContext",async()=>aMe(!1,e,t))),r.subscriptions.push(hl.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>aMe(!0,e,t)))}async function aMe(r,e,t){let n=hl.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:uMe.TextDocumentIdentifier.create(Bs.serialize(n.document.uri)),range:i,attachDebugger:r};return dMe(s,e,t)}var dW=!1;async function dMe(r,e,t){if(dW){Po(hl,hl.l10n.t("Test run already in progress"));return}r.runSettingsPath=yTt(r.textDocument.uri,t),dW=!0,t.show(!0);let n;return await hl.window.withProgress({location:hl.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await hl.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(Vte.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{dW=!1},()=>{dW=!1}),n}function yTt(r,e){let t=rs.runSettingsPath;if(t.length===0)return;let n=t;if(!fW.isAbsolute(t)){let i=hl.workspace.getWorkspaceFolder(hl.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=fW.join(i.uri.fsPath,t)}if(!cMe.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var vR=Me(require("vscode"));function fMe(r){return Vj(r,{getRelevantOptions:()=>({changedCommonOptions:wN,changedLanguageServerOptions:Tfe,changedOmnisharpOptions:[]}),handleOptionChanges(n){bTt(n)}})}function bTt(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:vR.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){$c(vR,vR.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=vR.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");$c(vR,t,e)}var uv=Me(require("vscode"));var hMe=Me(_2());function pMe(r,e,t){r.subscriptions.push(uv.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>wTt(e,n,t)))}async function aoe(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await uv.window.showQuickPick(r.FixAllFlavors,{placeHolder:uv.l10n.t("Pick a fix all scope")});await uv.window.withProgress({location:uv.ProgressLocation.Notification,title:uv.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest(Xte.type,s,o);if(a.edit){let l=await(0,hMe.createConverter)(d=>Bs.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await uv.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function wTt(r,e,t){e&&await aoe(e,r,t)}var Qm=Me(require("vscode")),mMe=Me(gn()),gMe=Me(_2());function vMe(r,e,t){r.subscriptions.push(Qm.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>STt(e,n,t)))}async function STt(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=CTt(i),s=await Qm.window.showQuickPick(o,{placeHolder:Qm.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await aoe(a.data,r,t);return}await Qm.window.withProgress({location:Qm.ProgressLocation.Notification,title:Qm.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(mMe.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let y=await(0,gMe.createConverter)(D=>Bs.deserialize(D),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await Qm.workspace.applyEdit(y)){let D="[roslyn.client.nestedCodeAction]",k="Failed to make am edit for completion.";throw t.show(),t.error(`${D} ${k}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function CTt(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=Qm.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var Zm=Me(require("vscode"));var _Me=Me(require("path"));var yMe=Me(Df()),hW=!1;function bMe(r,e,t){ca()||(r.subscriptions.push(Zm.commands.registerCommand("dotnet.restore.project",async n=>TTt(e,t))),r.subscriptions.push(Zm.commands.registerCommand("dotnet.restore.all",async()=>wMe(e,t,[]))))}async function TTt(r,e){let t;try{t=await r.sendRequest0(Zte.type,new Zm.CancellationTokenSource().token)}catch(o){if(o instanceof Zm.CancellationError)return;throw o}let n=t.map(o=>{let s=_Me.default.basename(o);return{label:Zm.l10n.t("Restore {0}",s),description:o}}),i=await Zm.window.showQuickPick(n);i&&await wMe(r,e,[i.description])}async function wMe(r,e,t){if(hW){Po(Zm,Zm.l10n.t("Restore already in progress"));return}hW=!0,e.show(!0);let n={projectFilePaths:t};await r.sendRequest(Qte.type,n,yMe.CancellationToken.None).then(()=>{hW=!1},o=>{e.error(`[.NET Restore] ${o}`),hW=!1})}var Kw=Me(require("vscode"));var SMe=Me(gn());function CMe(r,e){r.subscriptions.push(Kw.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new coe(e)))}var coe=class{constructor(e){this.languageServer=e;e.registerOnNotification(tre.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),Kw.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new Kw.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new Kw.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??Kw.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(ere.type,{textDocument:SMe.TextDocumentIdentifier.create(Bs.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var NM=Me(require("vscode")),PMe=Me(require("crypto"));var TMe="dotnet.server.suppressMiscellaneousFilesToasts",DMe=new Set;function EMe(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.uri.scheme!=="file"||t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||po.suppressMiscellaneousFilesToasts||r.workspaceState.get(TMe,!1))return;let n=DTt(t.uri.toString(!0));if(DMe.has(n))return;DMe.add(n);let i=NM.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=NM.l10n.t("Dismiss"),s={title:NM.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(TMe,!0)}};Ih(NM,i,o,s)})}function DTt(r){return PMe.createHash("sha256").update(r).digest("hex")}var Qy=Me(require("vscode"));function _R(...r){return r.reduce((e,t)=>e.concat(t),[])}var pW=class{static createStatusItem(e,t){let n=_R(po.documentSelector),i={command:"dotnet.openSolution",title:Qy.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:Qy.l10n.t("Restart server")},s=Qy.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=Qy.l10n.t("C# Workspace Status"),s.severity=Qy.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?Qy.LanguageStatusSeverity.Error:Qy.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var T_=Me(require("vscode"));var lv=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var mW=class{static createStatusItem(e,t){let n=_R(po.documentSelector,lv.documentSelector),i=t._projectContextService,o=T_.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=T_.l10n.t("C# Project Context Status"),o.detail=T_.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?T_.LanguageStatusSeverity.Warning:T_.LanguageStatusSeverity.Information:o.severity=T_.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?T_.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):T_.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var Nn=Me(require("vscode")),zC=Me(require("path")),poe=Me(require("child_process")),iLe=Me(require("net")),Bu=Me(dC());var MMe=Me(require("vscode"));var xMe=Me(require("node:assert"));function RMe(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,xMe.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=PTt(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=uoe(o,"_"),l=uoe(c,"_");return a==""?u.concat(".",l):uoe(a,"_").concat(".",u,".",l)}return null}function PTt(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function uoe(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map(ETt);return n.concat(...i)}function ETt(r){return r.charAt(0).toUpperCase()+r.substring(1)}var IMe=require("vscode"),OMe=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",AMe],["codeStyle.formatting.indentationAndSpacing.indentSize",xTt],["codeStyle.formatting.indentationAndSpacing.indentStyle",RTt],["codeStyle.formatting.newLine.endOfLine",OTt],["codeStyle.formatting.newLine.insertFinalNewline",ITt]]);function kMe(r){if(!OMe.has(r))return;let e=OMe.get(r),t=IMe.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function AMe(r){return qM(r,"editor.tabSize")}function xTt(r){let e=qM(r,"editor.indentSize");return e=="tabSize"?AMe(r):e}function RTt(r){return qM(r,"editor.insertSpaces")?"space":"tab"}function OTt(r){let e=qM(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function ITt(r){return qM(r,"files.insertFinalNewline")}function qM(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function LMe(r){let e=[],t=MMe.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}if(i==="razor.language_server.cohosting_enabled"){e.push("true");continue}let o=RMe(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=kMe(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var gW=class{constructor(e){this.Id=e}};var DW=require("crypto");var NMe=Me(dC());var vW=class extends NMe.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new co}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return po.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var loe=Me(require("vscode")),qMe=Me(dC());async function FMe(r,e,t,n){let i=await n(r,e,t);return zMe(i),i}async function jMe(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(zMe),t(o)})}function zMe(r){r?.kind===qMe.vsdiag.DocumentDiagnosticReportKind.full&&po.reportInformationAsHint&&r.items.forEach(e=>{e.severity===loe.DiagnosticSeverity.Information&&(e.severity=loe.DiagnosticSeverity.Hint)})}var doe=Me(require("vscode")),foe=Me(gn());function UMe(r){r.onNotification($te.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case foe.MessageType.Error:{Po(doe,e.message,...t);break}case foe.MessageType.Warning:{Ih(doe,e.message,...t);break}default:{$c(doe,e.message,...t);break}}})}var ra=Me(require("vscode")),_W=Me(dC());function HMe(r,e){let t=new ra.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await ra.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(f.length===0||(f.trim()===""&&(f=`
`),!d.includes(f)))return;let _=s.end.character-s.start.character,y=s.start.translate(0,o.text.length-_),D=ATt(c);t.cancel(),t=new ra.CancellationTokenSource;try{await kTt(y,f,i.textDocument,a,D,r,t.token)}catch(k){if(k instanceof ra.CancellationError)return;throw k}})}async function kTt(r,e,t,n,i,o,s){let a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:i},c=await o.sendRequest(KA.type,a,s);if(c){let u=c._vs_textEdit,l=new ra.Position(u.range.start.line,u.range.start.character),d=new ra.Position(u.range.end.line,u.range.end.character),f=[];if(c._vs_textEditFormat===_W.InsertTextFormat.Snippet){let D=new ra.SnippetString(u.newText),k=ra.SnippetTextEdit.replace(new ra.Range(l,d),D);k.keepWhitespace=!0,f=[k]}else f=[ra.TextEdit.replace(new ra.Range(l,d),u.newText)];let _=new ra.WorkspaceEdit;if(_.set(n,f),!ra.workspace.applyEdit(_))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await ra.commands.executeCommand(c.command.command,c.command.arguments)}}function ATt(r){let e=ra.workspace.getConfiguration("editor",r),n=e.get("detectIndentation")?ra.window.visibleTextEditors.find(s=>s.document===r):void 0,i=n?.options.tabSize??e.get("tabSize")??4,o=n?.options.insertSpaces??e.get("insertSpaces")??!0;return _W.FormattingOptions.create(i,o)}var bW=Me(require("vscode"));var yW=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=bW.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=bW.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=po.analyzerDiagnosticScope,o=po.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var BMe=Me(require("fs")),hoe=Me(require("path")),WMe={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorExtension:{defaultFolderName:".razorExtension",optionName:"razorExtension",componentDllPaths:["Microsoft.VisualStudioCode.RazorExtension.dll"]},roslynCopilot:{defaultFolderName:".roslynCopilot",optionName:"roslynCopilot",componentDllPaths:["Microsoft.VisualStudio.Copilot.Roslyn.LanguageServer.dll"],isOptional:!0}};function FM(r,e,t){let n=WMe[r],i=VMe(n,e),o=n.componentDllPaths.map(s=>hoe.join(i,s));for(let s of o)if(!BMe.existsSync(s)){if(n.isOptional)return t&&t.warn(`Optional component '${r}' could not be found at '${s}'.`),[];throw new Error(`Component DLL not found: ${s}`)}return o}function $Me(r,e){let t=WMe[r];return VMe(t,e)}function VMe(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return hoe.join(__dirname,"..",r.defaultFolderName)}var jM=require("vscode"),GMe=Me(dC()),KMe=Me(gn());var YMe=require("crypto"),wW=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new KMe.ProtocolRequestType(KA.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of jM.workspace.textDocuments)if(jM.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,GMe.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:(0,YMe.randomUUID)(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&jM.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var Zy=Me(require("vscode"));var JMe=Me(gn());var MTt=2*1e3,zM,SW,CW=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),Zy.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new Zy.EventEmitter;_source=new Zy.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=Zy.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp"&&t!=="aspnetcorerazor")return;this._source.cancel(),this._source=new Zy.CancellationTokenSource;let n=e.document.uri,i=!1;if(zM&&(clearTimeout(zM),zM=void 0),SW&&(n.toString()===SW.toString()&&(i=!0),SW=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){zM=setTimeout(()=>{zM=void 0,SW=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},MTt);return}}async getProjectContexts(e,t){let n=Bs.serialize(e),i=JMe.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(Hte.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof Zy.CancellationError)return;throw o}}};var ZMe=Me(require("fs")),Vo=Me(require("vscode")),eLe=require("os");var XMe="dotnet-trace";function tLe(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${eLe.EOL}${JSON.stringify(e)}`)),e}function rLe(r,e,t){r.subscriptions.push(Vo.commands.registerCommand("csharp.recordLanguageServerTrace",async()=>{await Vo.window.withProgress({location:Vo.ProgressLocation.Notification,title:"dotnet-trace",cancellable:!0},async(n,i)=>{n.report({message:Vo.l10n.t({message:"Initializing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{await LTt(e,n,t,i)}catch(o){let s=o instanceof Error?o.message:String(o);YO(Vo,Vo.l10n.t({message:"Failed to execute dotnet-trace command: {0}",args:[s],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0})}})}))}async function LTt(r,e,t,n){let i=r.processId;if(!i)throw new Error(Vo.l10n.t("Language server process not found, ensure the server is running."));let o;Vo.workspace.workspaceFolders&&Vo.workspace.workspaceFolders?.length>=1&&(o=Vo.workspace.workspaceFolders[0].uri);let s=await Vo.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,defaultUri:o||void 0,openLabel:Vo.l10n.t("Select Trace Folder"),title:Vo.l10n.t("Select Folder to Save Trace File")});if(s===void 0||s.length===0)return;let a=s[0].fsPath;if(!ZMe.existsSync(a))throw new Error(Vo.l10n.t("Folder for trace file {0} does not exist",a));let c=`--process-id ${i} --clreventlevel informational --providers "Microsoft-DotNETCore-SampleProfiler,Microsoft-Windows-DotNETRuntime,Microsoft-CodeAnalysis-General:0xFFFFFFFF:5,Microsoft-CodeAnalysis-Workspaces:0xFFFFFFFF:5,RoslynEventSource:0xFFFFFFFF:5"`,u=await Vo.window.showInputBox({value:c,placeHolder:Vo.l10n.t({message:"Enter dotnet-trace arguments",comment:"dotnet-trace is a command name and should not be localized"}),prompt:Vo.l10n.t("You can modify the default arguments if needed")});if(u===void 0||!await NTt(a,e,t))return;let d=await FTt(a,t),f=["collect",...u.split(" ")];e.report({message:Vo.l10n.t("Recording trace...")}),await qTt(f,d,n)}async function NTt(r,e,t){try{return await Bv("dotnet-trace --version",r,process.env),!0}catch(s){t.debug(`Failed to execute dotnet-trace --version with error: ${s}`)}let n={title:Vo.l10n.t("Install")},i="dotnet tool install --global dotnet-trace";if(await Vo.window.showInformationMessage(Vo.l10n.t({message:'dotnet-trace not found, run "{0}" to install it?',args:[i],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0},n)!==n)return!1;e.report({message:Vo.l10n.t({message:"Installing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{return await Bv(i,r,process.env),!0}catch(s){return t.error(`Failed to install dotnet-trace with error: ${s}`),await Vo.window.showErrorMessage(Vo.l10n.t({message:"Failed to install dotnet-trace, it may need to be manually installed. See C# output for details.",comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0}),!1}}async function qTt(r,e,t){e.show();let n=`dotnet-trace ${r.join(" ")}`,i=e.shellIntegration;i?await new Promise((o,s)=>{let a=i.executeCommand(n),c=t.onCancellationRequested(()=>{e.sendText("^C")});Vo.window.onDidEndTerminalShellExecution(u=>{u.execution===a&&(c.dispose(),o(u.exitCode??1))})}):e.sendText(n)}async function FTt(r,e){let t=Vo.window.terminals.find(o=>o.name===XMe);if(t&&t.creationOptions.cwd===r)return await QMe(t,e);t?.dispose();let n={name:XMe,cwd:r},i=Vo.window.createTerminal(n);return await QMe(i,e)}async function QMe(r,e){let t=new Promise(o=>{Vo.window.onDidChangeTerminalShellIntegration(s=>{s.terminal===r&&o(!0)}),r.shellIntegration&&o(!0)}),n=new Promise(o=>{setTimeout(s=>o(!1),3e3)});return await Promise.race([t,n])||e.debug("The terminal shell integration is not available for the dotnet-trace terminal."),r}function TW(r){return typeof r=="string"||r instanceof String}var UM,PW=class r{constructor(e,t,n,i,o,s,a){this._languageClient=e;this._platformInfo=t;this._context=n;this._telemetryReporter=i;this._languageServerEvents=o;this._channel=s;this._traceChannel=a;this.registerOutputChannelsChangeHandlers(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let c=Nn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new yW(c),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new CW(this,this._languageServerEvents),this.registerDebuggerAttach(),UMe(this._languageClient),HMe(this,this._languageClient),this._onAutoInsertFeature=new wW(this._languageClient)}static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;static _processId;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}get processId(){return r._processId}registerOutputChannelsChangeHandlers(){this._languageClient.onDidChangeState(async e=>{e.newState===Bu.State.Running&&(await this.updateOutputChannelLogLevel(),await this.updateTraceChannelLogLevel())}),this._channel.onDidChangeLogLevel(async()=>{await this.updateOutputChannelLogLevel()}),this._traceChannel.onDidChangeLogLevel(async()=>{setTimeout(async()=>{await this.updateTraceChannelLogLevel()},1)})}async updateOutputChannelLogLevel(){this._languageClient.state===Bu.State.Running&&await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)})}async updateTraceChannelLogLevel(){this._languageClient.state===Bu.State.Running&&await this._languageClient.setTrace(this._traceChannel.logLevel==Nn.LogLevel.Trace?Bu.Trace.Verbose:Bu.Trace.Off)}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===Bu.State.Running?(this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}),this._telemetryReporter.sendTelemetryEvent("roslyn/clientServerReady")):e.newState===Bu.State.Stopped&&(this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:Nn.l10n.t("Server stopped")}),r._processId=void 0)})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===Bu.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(Bte.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(Wte.type,async t=>{e||(e=await Ep([])),Bj(this._telemetryReporter,t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a,c){let u=ca();u&&await u.activate();let l=async()=>await this.startServer(e,t,n,i,o,a),f={documentSelector:po.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:c,outputChannel:a,uriConverters:{code2Protocol:Bs.serialize,protocol2Code:Bs.deserialize},middleware:{provideDiagnostics:FMe,provideWorkspaceDiagnostics:jMe,workspace:{configuration:D=>LMe(D)}}},_=new vW("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",l,f);_.registerProposedFeatures();let y=new r(_,e,n,i,s,a,c);return _.registerFeature(y._onAutoInsertFeature),await _.start(),y}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?zC.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?Nn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=(0,DW.randomUUID)();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}registerOnNotificationWithParams(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(Ute.type,e);if(t)return new gW(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification(Kte.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification(Yte.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof Bu.ResponseError&&t.code===-32800?n=new Nn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof Nn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=rs.defaultSolution;if(!UM&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(Nn.Uri.file(e));else{let t=await Nn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await Nn.window.showInformationMessage(Nn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:Nn.l10n.t("Choose"),action:"open"},{title:Nn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:Nn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await Nn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await Nn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=Nn.workspace.asRelativePath(i);await Nn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await Nn.workspace.findFiles("**/*.csproj","**/node_modules/**",Lr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=ca();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o,s){i.sendTelemetryEvent("roslyn/clientServerInitialize");let a=moe(e),c=await t.getHostExecutableInfo(),u=c.path;s.info("Dotnet path: "+u),i.sendTelemetryEvent("roslyn/acquiredRuntime");let l=[];rs.waitForDebugger&&l.push("--debug");let d=this.GetServerLogLevel(s.logLevel);d&&l.push("--logLevel",d);let f="";FM("razorExtension",po,s).forEach(ce=>{o.push(ce),f=zC.dirname(ce)}),l.push("--razorSourceGenerator",zC.join(f,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),l.push("--razorDesignTimePath",zC.join(f,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets"));let _=ca();if(_){UM=!0;let ce=Nn.extensions.getExtension(SN);if(ce){s.info("Activating C# + C# Dev Kit + C# IntelliCode...");let G=await this.getCSharpDevkitIntelliCodeExportArgs(ce,n,s);l=l.concat(G)}else s.info("Activating C# + C# Dev Kit...");await Nn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let _e=this.getCSharpDevKitExportArgs(o,s);l=l.concat(_e),await this.setupDevKitEnvironment(c.env,_,o,s)}else s.info("Activating C# standalone..."),await Nn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),UM=!1,l.push("--csharpDesignTimePath",zC.join(f,"Targets","Microsoft.CSharpExtension.DesignTime.targets"));for(let ce of o)l.push("--extension",ce);s.debug(`Starting server at ${a}`),l.push("--telemetryLevel",i.telemetryLevel),l.push("--extensionLogDirectory",n.logUri.fsPath);let y=c.env;po.useServerGC||(y.DOTNET_gcServer="0",s.debug("ServerGC disabled"));let D=tLe(s);y={...y,...D},s.trace(`Profiling environment variables: ${JSON.stringify(D)}`);let k,H={detached:!0,windowsHide:!0,env:y};if(a.endsWith(".dll")){let ce=[a].concat(l);s.debug(`Server arguments ${ce.join(" ")}`),k=poe.spawn(u,ce,H)}else s.debug(`Server arguments ${l.join(" ")}`),k=poe.spawn(a,l,H);r._processId=k.pid,i.sendTelemetryEvent("roslyn/launchedServer"),k.stdout.on("data",ce=>{let _e=TW(ce)?ce:ce.toString(r.encoding);s.info("[stdout] "+_e)}),k.stderr.on("data",ce=>{let _e=TW(ce)?ce:ce.toString(r.encoding);s.error("[stderr] "+_e)}),k.on("exit",ce=>{s.info(`Language server process exited with ${ce}`)});let M=new Promise(ce=>{(0,Bu.RAL)().timer.setTimeout(ce,po.startTimeout)}),z=new Promise((ce,_e)=>{k.on("exit",te=>{te&&te!==0&&_e(new Error("Language server process exited unexpectedly"))}),new Promise(te=>{s.debug("waiting for named pipe information from server..."),k.stdout.on("data",Te=>{let ue=(TW(Te)?Te:Te.toString(r.encoding)).match(r.namedPipeKeyRegex);if(ue){let Fe=JSON.parse(ue[0]);s.info("received named pipe information from server"),te(Fe)}})}).then(async te=>new Promise((Te,ae)=>{s.debug("attempting to connect client to server...");let ue=iLe.createConnection(te.pipeName,()=>{s.info("client has connected to server"),Te(ue)});ue.on("error",Fe=>ae(Fe))})).then(ce,_e)}),re;if(rs.waitForDebugger?re=await z:re=await Promise.race([z,M]),re===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return i.sendTelemetryEvent("roslyn/clientConnected"),{reader:new Bu.SocketMessageReader(re,r.encoding),writer:new Bu.SocketMessageWriter(re,r.encoding)}}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=Nn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=Nn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(Gte.type,async e=>{let n={...rs.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,DW.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await Nn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(Nn.workspace.onDidOpenTextDocument(async e=>{if(e.languageId==="csharp")try{let t=await this.getBuildOnlyDiagnosticIds(Bu.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof Nn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(Nn.extensions.onDidChange(async()=>{let e=ca();if(UM===void 0)return;let t={title:Nn.l10n.t("Reload C# Extension"),command:"workbench.action.restartExtensionHost"};e&&!UM&&(this._channel.info(`Detected new installation of ${LD}`),$c(Nn,"Detected installation of C# Dev Kit. Please reload the C# extension to continue.",t))}))}registerTelemetryChanged(){this._languageClient.addDisposable(Nn.env.onDidChangeTelemetryEnabled(e=>{let t={title:Nn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=Nn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");$c(Nn,n,t)}))}static getCSharpDevKitExportArgs(e,t){let n=[],i=FM("roslynDevKit",po,t);if(i.length>1)throw new Error("Expected only one devkit deps path");return n.push("--devKitDependencyPath",i[0]),n.push("--sessionId",jTt()),po.enableXamlTools&&FM("xamlTools",po,t).forEach(o=>e.push(o)),n}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${SN} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=Nn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",SN),a={title:Nn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:Nn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Po(Nn,s,a,c),[]}}static async setupDevKitEnvironment(e,t,n,i){let o=await t.activate();o.setupTelemetryEnvironmentAsync&&await o.setupTelemetryEnvironmentAsync(e),FM("roslynCopilot",po,i).forEach(s=>{n.push(s)})}static GetServerLogLevel(e){switch(e){case Nn.LogLevel.Trace:return"Trace";case Nn.LogLevel.Debug:return"Debug";case Nn.LogLevel.Info:return"Information";case Nn.LogLevel.Warning:return"Warning";case Nn.LogLevel.Error:return"Error";case Nn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(Jte.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function jTt(){let r=Nn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,DW.randomUUID)():r}var eb=Me(require("vscode")),yR=Me(gn());var zTt="roslyn/resolveContext@2",UTt=new yR.RequestType(zTt,yR.ParameterStructures.auto);function HTt(r){let e;if(eb.window.activeTextEditor?.document.uri.toString()===r.documentContext.uri?e=eb.window.activeTextEditor.document:e=eb.workspace.textDocuments.find(s=>s.uri.toString()===r.documentContext.uri),e===void 0)return;let t=e.positionAt(r.documentContext.offset),n=eb.Uri.parse(r.documentContext.uri);return{documentContext:{textDocument:yR.TextDocumentIdentifier.create(n.fsPath),position:t},completionId:r.completionId,timeBudget:r.timeBudget,data:r.data,activeExperiments:Object.fromEntries(r.activeExperiments)}}function sLe(r,e,t){let n=ca();n&&n.activate().then(()=>{try{let i={id:hy,selector:[{language:"csharp"}],resolver:{resolve:async(o,s)=>{let a=HTt(o);if(!a)return[];let c=await e.sendRequest(UTt,a,s);return t.trace(`Copilot context provider resolved ${c.length} items`),c}}};BTt().then(async o=>{if(!o){t.debug("Failed to find compatible version of GitHub Copilot extension installed. Skip registration of Copilot context provider.");return}let s=await oLe(o,i);s?(r.subscriptions.push(s),t.debug("Registration of C# context provider for GitHub Copilot extension succeeded.")):t.debug("Incompatible GitHub Copilot extension installed. Skip registration of C# context providers.")}).catch(o=>{t.error("Failed to register Copilot context providers",o)}),WTt().then(async o=>{if(!o){t.debug("Failed to find compatible version of GitHub Copilot Chat extension installed. Skip registration of Copilot context provider.");return}let s=await oLe(o,i);s?(r.subscriptions.push(s),t.debug("Registration of C# context provider for GitHub Copilot Chat extension succeeded.")):t.debug("Incompatible GitHub Copilot Chat extension installed. Skip registration of C# context providers.")}).catch(o=>{t.error("Failed to register Copilot Chat context providers",o)})}catch(i){t.error("Failed to register Copilot context providers",i)}})}async function BTt(){let r=eb.extensions.getExtension("github.copilot");if(r)try{return await r.activate()}catch{return}}async function WTt(){let r=eb.extensions.getExtension("github.copilot-chat");if(!r)return;let e;try{e=await Promise.race([r.activate(),new Promise(t=>{setTimeout(()=>{t(void 0)},3e3)})])}catch{return}if(!(!e||typeof e.getAPI!="function"))return e.getAPI(1)}async function oLe(r,e){if(typeof r.getContextProviderAPI=="function"){let n=await r.getContextProviderAPI("v1");if(n)return n.registerContextProvider(e)}}var Vf=Me(require("vscode")),yo=Me(dY());var rb=Me(require("vscode"));function tb(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var aLe=Me(require("vscode"));var Yw=class{constructor(e,t){this.documentManager=e;this.logger=t}static scheme="razor-html";onDidChangeEmitter=new aLe.EventEmitter;get onDidChange(){return this.onDidChangeEmitter.event}fireDidChange(e){this.onDidChangeEmitter.fire(e)}provideTextDocumentContent(e){let t=this.findDocument(e);return t?t.getContent():(this.logger.logTrace(`Could not find document '${tb(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}findDocument(e){let t=tb(e);return this.documentManager.documents.find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var EW=class{constructor(e,t){this.uri=e;this.path=tb(e),this.checksum=t}path;content="";checksum="";getContent(){return this.content}getChecksum(){return this.checksum}setContent(e,t){this.checksum=e,this.content=t}};var RW=Me(gn());var cLe="__virtual.html",xW=class{constructor(e,t,n){this.platformInfo=e;this.roslynLanguageServer=t;this.logger=n;this.contentProvider=new Yw(this,this.logger)}htmlDocuments={};contentProvider;pendingUpdates={};razorDocumentClosedRequest=new RW.RequestType("razor/documentClosed");get documents(){return Object.values(this.htmlDocuments)}register(){let e=rb.workspace.onDidChangeTextDocument(i=>{if(i.document.uri.scheme===Yw.scheme){let o=tb(i.document.uri),s=this.pendingUpdates[o];s&&(s.resolve(),delete this.pendingUpdates[o])}}),t=rb.workspace.onDidCloseTextDocument(async i=>{if(i.uri.scheme===Yw.scheme){this.logger.logTrace(`Virtual document '${i.uri}' timed out.`);return}i.languageId==="aspnetcorerazor"&&(this.logger.logTrace(`Document '${i.uri}' was closed.`),await this.closeDocument(i.uri),await this.roslynLanguageServer.sendRequest(this.razorDocumentClosedRequest,RW.TextDocumentIdentifier.create(Bs.serialize(i.uri)),new rb.CancellationTokenSource().token))}),n=rb.workspace.registerTextDocumentContentProvider(Yw.scheme,this.contentProvider);return rb.Disposable.from(e,t,n)}async updateDocumentText(e,t,n){let i=await this.findDocument(e);i||(this.logger.logTrace(`File '${e}' didn't exist in the Razor document list, so adding it with checksum '${t}'.`),i=this.addDocument(e,t)),this.logger.logTrace(`New content for '${e}', updating '${i.path}', checksum '${t}'.`);let o,s,a=new Promise((c,u)=>{o=c,s=u});this.pendingUpdates[i.path]={promise:a,resolve:o,reject:s},await rb.workspace.openTextDocument(i.uri),i.setContent(t,n),this.contentProvider.fireDidChange(i.uri)}async closeDocument(e){let t=await this.findDocument(e);if(t){this.logger.logTrace(`Removing '${t.uri}' from the document manager.`);let n=this.pendingUpdates[t.path];n&&(n.reject(new Error("Document was closed before update completed")),delete this.pendingUpdates[t.path]),delete this.htmlDocuments[t.path]}}async getDocument(e,t){let n=this.findDocument(e);if(!n){this.logger.logTrace(`File '${e}' didn't exist in the Razor document list. Doing nothing.`);return}if(t&&n.getChecksum()!==t){this.logger.logInfo(`Found '${e}' in the Razor document list, but the checksum '${n.getChecksum()}' doesn't match '${t}'.`);return}if(await rb.workspace.openTextDocument(n.uri),t){let i=this.pendingUpdates[n.path];if(i)try{await Promise.race([i.promise,new Promise((o,s)=>setTimeout(()=>s(new Error("Document update timeout")),5e3))])}catch(o){this.logger.logWarning(`Failed to wait for document update: ${o}`)}finally{delete this.pendingUpdates[n.path]}}return n}addDocument(e,t){let n=this.findDocument(e);return n?(this.logger.logInfo(`Skipping document creation for '${n.path}' because it already exists.`),n):(n=this.createDocument(e,t),this.htmlDocuments[n.path]=n,n)}findDocument(e){let t=tb(e);return e.scheme!==Yw.scheme&&(t=`${t}${cLe}`),this.platformInfo.isLinux()?this.htmlDocuments[t]:Object.values(this.htmlDocuments).find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}createDocument(e,t){return e=e.with({scheme:Yw.scheme,path:`${e.path}${cLe}`}),new EW(e,t)}};var uLe=Me(require("vscode"));var VTt=Me(require("vscode"));var $Tt=Me(require("vscode"));function goe(r){return{line:r.line,character:r.character}}function UC(r){return{start:goe(r.start),end:goe(r.end)}}var OW=class{constructor(e,t){this.range=e;this.color=t}};var IW=class{constructor(){}static async doDocumentColorRequest(e){let t=await uLe.commands.executeCommand("vscode.executeDocumentColorProvider",e),n=new Array;for(let i of t){let o=UC(i.range),s=new OW(o,i.color);n.push(s)}return n}};var LW=Me(require("vscode"));var GTt=Me(require("vscode"));function HM(r){return{range:UC(r.range),newText:r.newText}}var kW=class{constructor(e,t){this.uri=e;this.range=t}};var AW=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var MW=class r{constructor(){}static async doColorPresentationRequest(e,t){let n=new LW.Color(t.color.red,t.color.green,t.color.blue,t.color.alpha),i=await LW.commands.executeCommand("vscode.executeColorPresentationProvider",n,new kW(e,t.range));return r.SerializeColorPresentations(i)}static SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=HM(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=HM(a);o.push(c)}let s=new AW(n.label,i,o);t.push(s)}return t}};var NW=Me(require("vscode")),qW=Me(gn()),FW=class r{constructor(){}static convertFoldingRanges(e,t){let n=new Array;return e.forEach(i=>{let o={startLine:i.start,startCharacter:0,endLine:i.end,endCharacter:0,kind:i.kind===void 0?void 0:r.convertFoldingRangeKind(i.kind,t)};n.push(o)}),n}static convertFoldingRangeKind(e,t){if(e===NW.FoldingRangeKind.Comment)return qW.FoldingRangeKind.Comment;if(e===NW.FoldingRangeKind.Imports)return qW.FoldingRangeKind.Imports;if(e===NW.FoldingRangeKind.Region)return qW.FoldingRangeKind.Region;t.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var zW=Me(require("vscode")),bR=Me(gn()),jW=class r{constructor(){}static async provideVscodeCompletions(e,t,n){let i=await zW.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof zW.SnippetString?bR.InsertTextFormat.Snippet:bR.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?bR.InsertTextMode.asIs:bR.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var dv=Me(require("vscode"));var wR=class{constructor(e){this.edits=e}};var BM=class r{static emptyFormattingResponse=new wR;constructor(){}static async getHtmlFormattingResult(e,t,n){let i=r.countLines(t),o=r.getLastLineLength(t),s=new dv.Range(new dv.Position(0,0),new dv.Position(i,o)),a=await dv.commands.executeCommand("vscode.executeFormatRangeProvider",e,s,n);if(a===void 0)return r.emptyFormattingResponse;let c=r.sanitizeTextEdits(t,a);return new wR(c)}static async getHtmlOnTypeFormattingResult(e,t,n,i,o){let s=await dv.commands.executeCommand("vscode.executeFormatOnTypeProvider",e,n,i,o);if(s===void 0)return r.emptyFormattingResponse;let a=r.sanitizeTextEdits(t,s);return new wR(a)}static sanitizeTextEdits(e,t){let n=r.countLines(e),i=Array();for(let o of t){if(o.range.end.line>n||o.range.start.line>n){let a=r.getLastLineLength(e),c=new dv.Position(n,a),u=o.range.start,l=o.range.end;o.range.start.line>n&&(u=c),o.range.end.line>n&&(l=c);let d=new dv.Range(u,l);o=new dv.TextEdit(d,o.newText)}let s=HM(o);i.push(s)}return i}static countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}static getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var dLe=Me(require("child_process")),HW=Me(require("os")),bs=Me(require("vscode"));var lLe="ms-dotnettools.csharp";var fv=Me(require("vscode"));var UW=class{constructor(e,t){this.textDocument=e;this.kind=t}};var CR=Me(gn());var SR=class r{static requestType=new CR.RequestType("razor/generatedDocumentContents");static register(e){return fv.Disposable.from(fv.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.show(e,0,".g.cs")),fv.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.show(e,1,".g.html")))}static async show(e,t,n){let i=await this.getActiveDocumentUri();if(!i)return;let o=`${tb(i)}${n}`,s=fv.window.createWebviewPanel("razorGeneratedDocument",o,fv.ViewColumn.Two,{enableScripts:!1,localResourceRoots:[]}),a=await this.getGeneratedDocumentContent(i,t,e);s.webview.html=await this.getWebViewContent(a,o)}static async getActiveDocumentUri(){return!fv.window.activeTextEditor||fv.window.activeTextEditor.document.languageId!==lv.id?null:fv.window.activeTextEditor.document.uri}static async getGeneratedDocumentContent(e,t,n){return n.sendRequest(r.requestType,new UW(CR.TextDocumentIdentifier.create(Bs.serialize(e)),t),CR.CancellationToken.None)}static async getWebViewContent(e,t){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
</head>
<body>
    <pre>${e.replace(/</g,"&lt;").replace(/</g,"&gt;")}</pre>
</body>
</html>`}};var BW=class{constructor(e,t,n){this.vscodeApi=e;this.cohostingDocumentManager=t;this.roslynLanguageServer=n}async create(e){let t,n,i;if(t=bs.l10n.t("Non Razor file as active document"),n=bs.l10n.t("Could not determine CSharp content"),i=bs.l10n.t("Could not determine Html content"),e.document){t=await this.getRazor(e.document);try{n=await SR.getGeneratedDocumentContent(e.document.uri,0,this.roslynLanguageServer)}catch(xe){n=bs.l10n.t("Could not determine CSharp content: {0}",xe.toString())}let be=await this.cohostingDocumentManager.getDocument(e.document.uri);be&&(i=be.getContent())}let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(be){s=bs.l10n.t("A valid dotnet installation could not be found: {0}",be?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),_=bs.l10n.t("Is this a Bug or Feature request?"),y=bs.l10n.t("Bug"),D=bs.l10n.t("Steps to reproduce"),k=bs.l10n.t("Please fill in this section"),H=bs.l10n.t("Description of the problem"),M=bs.l10n.t("Expected behavior"),z=bs.l10n.t("Actual behavior"),re=bs.l10n.t("Logs"),ce=bs.l10n.t("OmniSharp"),_e=bs.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),G=bs.l10n.t("Razor"),$=bs.l10n.t("Expand"),te=bs.l10n.t("Workspace information"),Te=bs.l10n.t("Razor document"),ae=bs.l10n.t("Projected CSharp document"),ue=bs.l10n.t("Projected Html document"),Fe=bs.l10n.t("Machine information"),qe=bs.l10n.t("Razor.VSCode version"),le=bs.l10n.t("VSCode version"),Ce=bs.l10n.t("Extensions");return`## ${_}:
${y}

## ${D}:
------------------- ${k} -------------------------

## ${H}:
------------------- ${k} -------------------------

${M}:

${z}:

## ${re}

#### ${ce}
------------------- ${k} -------------------------
${_e}

#### ${G}
<details><summary>${$}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${te}

#### ${Te}:
<details><summary>${$}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${ae}:
<details><summary>${$}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ue}:
<details><summary>${$}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${Fe}


**${le}**: ${this.vscodeApi.version}
**${qe}**: ${o}
#### \`dotnet --info\`

<details><summary>${$}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${Ce}
<details><summary>${$}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(lLe);return e?e.packageJSON.version:bs.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=bs.l10n.t("Extension"),n=bs.l10n.t("Author"),i=bs.l10n.t("Version"),o=`|${t}|${n}|${i}|${HW.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(HW.EOL);return`
${o}${HW.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{dLe.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var WM=Me(require("vscode"));var fLe=Me(require("os")),WW=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(fLe.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var $W=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new WM.EventEmitter}onRazorDocumentFocusedEmitter=new WM.EventEmitter;register(){return WM.window.onDidChangeActiveTextEditor(e=>{e&&lv.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new WW(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var eo=Me(require("vscode"));var $M=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(eo.ViewColumn.Two):(this.panel=eo.window.createWebviewPanel(r.viewType,eo.l10n.t("Report Razor Issue"),eo.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Po(eo,eo.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Po(eo,eo.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await eo.env.clipboard.writeText(this.issueContent),$c(eo,eo.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),$c(eo,eo.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Po(eo,eo.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),$c(eo,eo.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=eo.LogLevel.Debug&&this.logger.logLevel!=eo.LogLevel.Off){let i=`<button onclick="startIssue()">${eo.l10n.t("Start")}</button>`,o=eo.l10n.t("Press {0}",i),s=eo.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${eo.l10n.t("Stop")}</button>`,u=eo.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${eo.l10n.t("Go to GitHub")}</a>`,f=eo.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),_=eo.env.language,y=`<a href="https://privacy.microsoft.com/${_}/privacystatement">https://privacy.microsoft.com/${_}/privacystatement</a>`,D=eo.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),k=eo.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${D}
${y}
</em></p>

<button onclick="copyIssue()">${k}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${eo.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${eo.LogLevel[eo.LogLevel.Debug]}</em></strong>`;e="<p>"+eo.l10n.t('Cannot start collecting Razor logs when {0} is set to {1}. Please open the output window, choose the "Razor Log", and use the gear icon to ensure the log level is set to "Debug" or "Trace".',n,i,o)+"</p>"}let t=eo.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var VW=class{constructor(e,t,n,i){this.vscodeApi=e;this.dataCollectorFactory=new $W(i),this.issueCreator=new BW(this.vscodeApi,t,n),this.issuePanel=new $M(this.dataCollectorFactory,this.issueCreator,i)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer($M.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var Xoe=Me(cqe()),ZM=require("fs"),Eqe=require("path"),Qoe=require("url"),Xw=Me(require("vscode")),S$=Me(Sqe());var QM=".NET Application Server",w$="Debug Blazor Web Assembly in Browser";var Cqe=Me(JY());var Tqe=r=>r.startsWith(w$)||r===QM,Dqe=(r,e)=>{if(r)try{e.logTrace(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function Pqe(r,e,t){t&&(typeof t=="number"?EEt(r,e,t):await xEt(r,e,t))}function EEt(r,e,t){Tqe(r.name)&&Dqe(t,e)}async function xEt(r,e,t){if(!Tqe(r.name))return;let n=[];try{n=await(0,Cqe.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&Dqe(i.pid,e)}var MR=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=Xw.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";static register(e,t){let n=new r(e,t);return t.debug.registerDebugConfigurationProvider("blazorwasm",n)}async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,Qoe.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,Qoe.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,ZM.readFileSync)((0,Eqe.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:QM,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await Pqe(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:w$,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[QM]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=Xw.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:Xw.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=Xw.l10n.t("Ignore");Po(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new S$.EdgeBrowserFinder(process.env,ZM.promises,Xoe.default).findAll()).length>0)return $c(Xw,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new S$.ChromeBrowserFinder(process.env,ZM.promises,Xoe.default).findAll()).length>0)return $c(Xw,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Po(Xw,Xw.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};var eL=Me(require("vscode"));var xqe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],C$=class{register(){return eL.languages.setLanguageConfiguration(lv.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${xqe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:eL.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${xqe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:eL.IndentAction.Indent}}]})}};function Oqe(r,e,t,n){let i=new yo.NotificationType("razor/log");e.registerOnNotificationWithParams(i,u=>t.log(u.message,u.type)),s(),r.subscriptions.push(MR.register(t,Vf)),r.subscriptions.push(SR.register(e));let o=new C$;r.subscriptions.push(o.register());return;function s(){let u=new xW(n,e,t),l=new VW(Vf,u,e,t);r.subscriptions.push(u.register()),r.subscriptions.push(l.register()),c("razor/updateHtml",async d=>{let f=Bs.deserialize(d.textDocument.uri);await u.updateDocumentText(f,d.checksum,d.text)}),a(yo.DocumentColorRequest.type,u,async d=>await IW.doDocumentColorRequest(d.uri)),a(yo.ColorPresentationRequest.type,u,async(d,f)=>await MW.doColorPresentationRequest(d.uri,f)),a(yo.FoldingRangeRequest.type,u,async d=>{let f=await Vf.commands.executeCommand("vscode.executeFoldingRangeProvider",d.uri);return FW.convertFoldingRanges(f,t)}),a(yo.HoverRequest.type,u,async(d,f)=>{let y=(await Vf.commands.executeCommand("vscode.executeHoverProvider",d.uri,f.position)).filter(D=>D.range)[0];return REt(y)}),a(yo.DocumentHighlightRequest.type,u,async(d,f)=>{let _=await Vf.commands.executeCommand("vscode.executeDocumentHighlights",d.uri,f.position);return OEt(_)}),a(yo.CompletionRequest.type,u,async(d,f)=>jW.provideVscodeCompletions(d.uri,f.position,f.context?.triggerCharacter)),a(yo.ReferencesRequest.type,u,async(d,f)=>{let _=await Vf.commands.executeCommand("vscode.executeReferenceProvider",d.uri,f.position);return Zoe(_)}),a(yo.ImplementationRequest.type,u,async(d,f)=>{let _=await Vf.commands.executeCommand("vscode.executeImplementationProvider",d.uri,f.position);return Zoe(_)}),a(yo.DefinitionRequest.type,u,async(d,f)=>{let _=await Vf.commands.executeCommand("vscode.executeDefinitionProvider",d.uri,f.position);return Zoe(_)}),a(yo.SignatureHelpRequest.type,u,async(d,f)=>{let _=await Vf.commands.executeCommand("vscode.executeSignatureHelpProvider",d.uri,f.position);if(_)return kEt(_)}),a(yo.DocumentFormattingRequest.type,u,async(d,f)=>{let _=d.getContent(),y=f.options;return(await BM.getHtmlFormattingResult(d.uri,_,y))?.edits}),a(yo.DocumentOnTypeFormattingRequest.type,u,async(d,f)=>{let _=d.getContent(),y=f.options;return(await BM.getHtmlOnTypeFormattingResult(d.uri,_,f.position,f.ch,y))?.edits})}function a(u,l,d){return c(u.method,async f=>{let _=Bs.deserialize(f.textDocument.uri),y=await l.getDocument(_,f.checksum);if(y)return d(y,f.request)})}function c(u,l){let d=new yo.RequestType(u);e.registerOnRequest(d,async f=>{try{return await l(f)}catch(_){t.logError(`Error: ${_}`,_);return}})}}function REt(r){if(!r)return;let e=new Vf.MarkdownString;for(let t of r.contents)if(t.language){let n=t;e.appendCodeblock(n.value,n.language)}else{let n=t.value;e.appendMarkdown(n)}return{contents:{kind:yo.MarkupKind.Markdown,value:e.value},range:r.range?UC(r.range):void 0}}function OEt(r){return r.map(e=>({range:UC(e.range),kind:IEt(e.kind)}))}function IEt(r){switch(r){case Vf.DocumentHighlightKind.Text:return yo.DocumentHighlightKind.Text;case Vf.DocumentHighlightKind.Read:return yo.DocumentHighlightKind.Read;case Vf.DocumentHighlightKind.Write:return yo.DocumentHighlightKind.Write;default:return}}function Zoe(r){return r.map(e=>({uri:Bs.serialize(e.uri),range:UC(e.range)}))}function kEt(r){return{activeParameter:r.activeParameter??void 0,activeSignature:r.activeSignature??void 0,signatures:r.signatures.map(e=>({label:e.label,documentation:Rqe(e.documentation),parameters:e.parameters.map(t=>({label:t.label,documentation:Rqe(t.documentation)}))}))}}function Rqe(r){if(r){if(r.value){let e=r;return{kind:yo.MarkupKind.Markdown,value:e.value}}return{kind:yo.MarkupKind.PlainText,value:r}}}var hv,ese;async function Iqe(r,e,t,n,i,o,s){hv=n,ese=LR.window.createOutputChannel(LR.l10n.t("C# LSP Trace Logs"),{log:!0}),i.sendTelemetryEvent("roslyn/clientInitialize");let a=new lW(e,moe,n,r.extensionPath),c=l(),u=await PW.initializeAsync(e,a,r,i,c,o,hv,ese);return rLe(r,u,n),AEt(r,u,o),EMe(r,u),sLe(r,u,hv),aIe(r,u,a,hv,ese),vMe(r,u,hv),pMe(r,u,hv),Oqe(r,u,s,e),lMe(r,u),rMe(r,u,o,e,hv),bMe(r,u,hv),CMe(r,u),r.subscriptions.push(fMe(t)),u;function l(){let d=LR.extensions.all.flatMap(_=>{let y=_.packageJSON.contributes?.csharpExtensionLoadPaths;return y==null?(hv.debug(`Extension ${_.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(y)||y.some(D=>typeof D!="string")?(hv.warn(`Extension ${_.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${y}`),[]):(y=y.map(D=>rse.join(_.extensionPath,D)),hv.trace(`Extension ${_.id} contributes csharpExtensionLoadPaths: ${y}`),y)}),f=po.extensionsPaths??[];return d.concat(f)}}function AEt(r,e,t){ca()||pW.createStatusItem(r,t),mW.createStatusItem(r,e)}function moe(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?hv.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=rs.serverPath,e||(e=MEt(r))),!tse.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function MEt(r){let e=__dirname,t=rse.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return tse.existsSync(i)||(i=`${t}.dll`),i}var kqe=Me(Df()),Aqe=Me(gn()),T$=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new kqe.RequestType(e.method);return await i.sendRequest(o,t,n)}async sendRequestWithProgress(e,t,n,i){let o=await this._serverInitialized,s=new Aqe.ProtocolRequestType(e.method);return await o.sendRequestWithProgress(s,t,n,i)}};var D$=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var Mqe=Me(Df()),P$=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(Mqe.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};var x$=Me(require("fs")),R$=Me(require("path")),Xc=Me(require("vscode")),NR=Me(gn()),E$=class{static logName="Razor Log";traceEnabled;debugEnabled;infoEnabled;outputChannel;onLogEmitter;constructor(){this.outputChannel=Xc.window.createOutputChannel(Xc.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=new Xc.EventEmitter,this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case Xc.LogLevel.Off:return 0;case Xc.LogLevel.Trace:return 1;case Xc.LogLevel.Debug:return 2;case Xc.LogLevel.Info:return 3;case Xc.LogLevel.Warning:return 4;case Xc.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logInfo(e){this.infoEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logDebug(e){this.debugEnabled&&(this.outputChannel.debug(e),this.onLogEmitter.fire(e))}logTrace(e){this.traceEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}log(e,t){switch(t){case NR.MessageType.Error:this.logError(e,new Error(e));break;case NR.MessageType.Warning:this.logWarning(e);break;case NR.MessageType.Info:this.logInfo(e);break;case NR.MessageType.Debug:this.logDebug(e);break;case NR.MessageType.Log:default:this.logTrace(e)}}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel()}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=LEt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${Xc.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){Xc.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},Xc.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.traceEnabled=this.outputChannel.logLevel<=Xc.LogLevel.Trace,this.debugEnabled=this.outputChannel.logLevel<=Xc.LogLevel.Debug,this.infoEnabled=this.outputChannel.logLevel<=Xc.LogLevel.Info}};function LEt(){let r=NEt(__dirname,"package.json");return JSON.parse(x$.readFileSync(r).toString())}function NEt(r,e){let t=r;for(;t;){let n=R$.join(t,e);if(x$.existsSync(n))return n;let i=R$.dirname(t);t=i===r?void 0:i}throw new Error(Xc.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}function Nqe(r,e,t,n,i,o,s,a){let c=new WH;r.subscriptions.push(c);let u=new E$,l=new Promise((D,k)=>{c.onServerStateChange(async H=>{H.state===3&&D()})}),d=Iqe(r,e,t,i,o,c,u);KO.initializeDebugSessionHandlers(r),qEt(s,i);let f=a(d),_=new T$(d);return{isLimitedActivation:!1,initializationFinished:async()=>{await f,await d,await l},profferBrokeredServices:D=>FEt(r,D,d),logDirectory:r.logUri.fsPath,determineBrowserType:MR.determineBrowserType,experimental:{sendServerRequest:async(D,k,H)=>await _.sendRequest(D,k,H),sendServerRequestWithProgress:async(D,k,H,M)=>await _.sendRequestWithProgress(D,k,H,M),languageServerEvents:c},getComponentFolder:D=>$Me(D,po)}}function qEt(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(ooe().profferServiceBroker(t.serviceBroker,[C_.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await KO.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await Lqe.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${LD}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${LD}'`)})}function FEt(r,e,t){r.subscriptions.push(e.profferServiceFactory(C_.solutionSnapshotProviderRegistration,(n,i,o)=>new D$(t)),e.profferServiceFactory(C_.csharpExtensionBuildResultService,(n,i,o)=>new P$(t)))}var Qw=Me(require("vscode"));var O$=class{static createStatusItem(e){let t=_R(po.documentSelector,lv.documentSelector),n={command:"workbench.trust.manage",title:Qw.l10n.t("Manage")},i=Qw.languages.createLanguageStatusItem("csharp.limitedActivationStatus",t);i.name=Qw.l10n.t("C# Activation Status"),i.text=Qw.l10n.t("Limited Activation"),i.detail=Qw.l10n.t("The workspace is not trusted."),i.command=n,i.severity=Qw.LanguageStatusSeverity.Error,e.subscriptions.push(i)}};async function jEt(r){let e=process.hrtime(),t=D_.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension"),vse(r.extension.extensionPath);let n=r.extension.packageJSON.contributes.debuggers[0].aiKey,i=new qqe.default(n);r.subscriptions.push(i);let o=new PN,s=new TN(t),a=new DN(t);o.subscribe(s.post),o.subscribe(a.post);let c;try{c=await bD.GetCurrent()}catch(_e){throw o.post(new bL),_e}if(!Tge(r,c))return null;await Cge(r),await bge(D_);let u=V6(D_),l=["Debugger","Razor"],d=ca(),f=!d&&rs.useOmnisharpServer;f&&l.push("OmniSharp"),d&&l.push("RoslynCopilot");let _=Zfe(D_),y=f&&Lr.useModernNet!==!0,D=async _e=>VD(_e,_,o,KD,i),k=await mge(r.extension.packageJSON,r.extension.extensionPath,D,o,c,y,l),H="CSharpActivated",M;if(D_.workspace.isTrusted!==!0)H="CSharpLimitedActivation",await D_.commands.executeCommand("setContext","dotnet.server.activationContext","Limited"),M={isLimitedActivation:!0},t.info("C# Extension activated in limited mode due to workspace trust not being granted."),O$.createStatusItem(r),r.subscriptions.push(D_.workspace.onDidGrantWorkspaceTrust(()=>{D_.commands.executeCommand("workbench.action.restartExtensionHost")}));else{let _e=async G=>{let $=Promise.resolve();return k.Debugger&&($=Ife(r.extension,r,c,o,t,G)),$};f?M=rIe(r,c,u,_,o,t,i,_e):M=Nqe(r,c,u,o,t,i,d,_e)}let z=process.hrtime(e),re=(z[0]*1e3+z[1]/1e6).toFixed(3);t.trace("C# Extension activated in "+re+"ms.");let ce={serverKind:f?"OmniSharp":"Roslyn",timeTaken:re};return i.sendTelemetryEvent(H,ce),M}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/

// SIG // Begin signature block
// SIG // MIIpaAYJKoZIhvcNAQcCoIIpWTCCKVUCAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // eebGrgaLwXC858QaTpt7tP21x+a1jXG6KiHKfQ8bh2Kg
// SIG // gg3WMIIGvTCCBKWgAwIBAgITMwAAABxIn4HfobC3dwAA
// SIG // AAAAHDANBgkqhkiG9w0BAQwFADCBiDELMAkGA1UEBhMC
// SIG // VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
// SIG // B1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jw
// SIG // b3JhdGlvbjEyMDAGA1UEAxMpTWljcm9zb2Z0IFJvb3Qg
// SIG // Q2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTAwHhcNMjQw
// SIG // ODA4MjEzNjIzWhcNMzUwNjIzMjIwNDAxWjBfMQswCQYD
// SIG // VQQGEwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMTAwLgYDVQQDEydNaWNyb3NvZnQgV2luZG93
// SIG // cyBDb2RlIFNpZ25pbmcgUENBIDIwMjQwggIiMA0GCSqG
// SIG // SIb3DQEBAQUAA4ICDwAwggIKAoICAQCafWt9J8F2Ki6u
// SIG // 49U0/8wrbe78VPggo/uwZIn0vwdoFyhlOzlfUl0SRj9c
// SIG // hbOaeo6bGIuHGMxeegFdABJphI1fME9pbz1OQYTd8Fd9
// SIG // B6mDyGBI+T91l39JFw/X741H9RgLVxK4ifMOwCzWlRJv
// SIG // UbOHjwNGbGB2gm1OZAVCUA17++oWnznEIHRQgNyN82LX
// SIG // 819rzsMfO7gzmgrsijkWYofXN803/kywuUGC8oVTAZw1
// SIG // xBwzq72sPdg0siKqXYEVqbn86gxctXoFY5KF2YW/vaWf
// SIG // YXlMzV014TqF83sYemMwC+H5QVpvgXNYUMhEnpxLwSc5
// SIG // 1ftubt4e+444DFGOOPll0OLvanXQ3v1OUngGikb74m5o
// SIG // uM+0EaS72bJWtAj4jlBs9NA6ObH5AtBMJbEs3zN/vAPa
// SIG // 7MhVToFg1T87ffDiT9hKGhDqvBhPRgqDdou/+AthQsH3
// SIG // 9QUgkyVmTtVnK9jLXiROlMRlfooQPJzedWDyg9nWBqHs
// SIG // K170cwv9R6FHkr5WX9Jn/RhxLb75GyVUUaOjwX9Jnebf
// SIG // O1W9ZjP3yKdXsqcmsZl5IKXAcLspbDqtpElTiecAT6Gh
// SIG // LLCZHjHCpxLrrvvlCnQx5UtA7bGIzdEJzrnL03UrHb4c
// SIG // yjkoyRd11aq/X9gveOS10+a8SiB1CBAwXDWFOgSgwx+q
// SIG // 36SjjgkopQIDAQABo4IBRjCCAUIwDgYDVR0PAQH/BAQD
// SIG // AgGGMBAGCSsGAQQBgjcVAQQDAgEAMB0GA1UdDgQWBBQe
// SIG // gt8O14yz1wI0gw7aq61lua+47DAZBgkrBgEEAYI3FAIE
// SIG // DB4KAFMAdQBiAEMAQTAPBgNVHRMBAf8EBTADAQH/MB8G
// SIG // A1UdIwQYMBaAFNX2VsuP6KJcYmjRPZSQW9fOmhjEMFYG
// SIG // A1UdHwRPME0wS6BJoEeGRWh0dHA6Ly9jcmwubWljcm9z
// SIG // b2Z0LmNvbS9wa2kvY3JsL3Byb2R1Y3RzL01pY1Jvb0Nl
// SIG // ckF1dF8yMDEwLTA2LTIzLmNybDBaBggrBgEFBQcBAQRO
// SIG // MEwwSgYIKwYBBQUHMAKGPmh0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbS9wa2kvY2VydHMvTWljUm9vQ2VyQXV0XzIw
// SIG // MTAtMDYtMjMuY3J0MA0GCSqGSIb3DQEBDAUAA4ICAQBD
// SIG // X/jfP7vplIw7XPW7aAOdkQXNF1Q0gTEATKsbueoVxwcL
// SIG // nLVFrNVwagwzCBQh7vXOmP1BfkzfBCII57owKSmJhz+H
// SIG // +BDNwEUppc66ReaMzicdAQORVL9Y5qXX/9mW6qbwsZcb
// SIG // /xtUeCo60ppqjx87OooMN2+0U24+wcSEvHziJMGFkIQd
// SIG // ny45YPtx0qwxjxSIaSCVlWpjCEe2u9jhqJ43X+Oa7KcK
// SIG // iB7sp2VOGr8va7gf0YYW8JvnzG/ATHnCGk5pKIcfxGWe
// SIG // RjVnDeqE2FtxtgTNwd2M51pJfbeLIT+tHzLnvtpLHRxl
// SIG // khPBFU3UphlHY9I61HOOpRlRSSEhd/zMXMZ5TXj9Socq
// SIG // /mc0+BLbPyO5rn6Wi5y2pczEdsyLoRjgFlrMHrG47Rc5
// SIG // FVBYA0dklvdNyNFypWzxAOqvHqRxifa6MYfOZ7BCnATV
// SIG // MOEnKevCgqkqRQWiosldbJHfpfFOdFjXjzG/Qc89DnwE
// SIG // mpfL+bEBvg1tNZDfiPkSlCGzOSOdMCY4h8pkBTQ7G6Gx
// SIG // cfSPeZghBD1O31Gd1U/xzlFW5Jl+5bSAv3kALuRjvH7v
// SIG // nHhEzMm726MVDOHWDQvj86KFMX5gtA7ikcAdtW1/fmnL
// SIG // iAZMSJuBHdztfcNVS6AO1DTlLie8+jUNlv/qu3J3zj5d
// SIG // kFS+KpYAm5VE9r5kKZZVdzCCBxEwggT5oAMCAQICEzMA
// SIG // AACHvIJuhaGuU6gAAAAAAIcwDQYJKoZIhvcNAQEMBQAw
// SIG // XzELMAkGA1UEBhMCVVMxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEwMC4GA1UEAxMnTWljcm9zb2Z0
// SIG // IFdpbmRvd3MgQ29kZSBTaWduaW5nIFBDQSAyMDI0MB4X
// SIG // DTI1MDUwODE4MjQ1NFoXDTI2MDUwNjE4MjQ1NFowdDEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjEeMBwGA1UEAxMVTWljcm9z
// SIG // b2Z0IENvcnBvcmF0aW9uMIICIjANBgkqhkiG9w0BAQEF
// SIG // AAOCAg8AMIICCgKCAgEAtCb7zQqvXhNLC7dFnQK7CLbh
// SIG // GaW7kyNFtxFTEouj05GNcZ4mYbJvK7BM6/zYKu+x5Jyl
// SIG // fBmGDZFcYaacHaEIpYf0dChC12YttkKouIxFLDmIJAxz
// SIG // yG51BHEL22htUdoozpnv7hhPQ190QcfT5G4vE2HnNXdo
// SIG // g4cxf8aH8qGRz1E7y9j8w2nu53AI40QoRu5As6G0oZHD
// SIG // KVGT8mDFyragjAMeDgWHXgRejxn37eGdenK1gJkhBjAn
// SIG // F0OxFcVo9Vu0ebDqOE4pVkAUKfcmMrymFDm6YkMFIzWW
// SIG // +MAC3mOprJiaIKeywuTesGqy2E24cCSW5ZoWUCIWg/FA
// SIG // Abj9N9J1KH1ZBg6iusQv0RJzhCk57BPimkW/CQzgV1kr
// SIG // HDTEEke8G19jRfoSv0uHYOjVB869KdJNtMmPC2YNDjzn
// SIG // mx4OVnV1KpBRzQeApNmjk+K4bu2GImAXsH1WVxeP1xfw
// SIG // XppDCoJ0E6CbxSWCzD2TN7aLDdSFtDsNzct0b8EHxzxk
// SIG // NZEqqazpdeCRUyPQjvwmc4WW4HkQfWd3VnF7dUWKbjSA
// SIG // JDFpe4A00WMuIFoZIJsxNcdXM9YQPISmSLw9FZjYsKjd
// SIG // Rx0Qx59q8sZi4GYC4ZLYeCv4twkfsUoqbTZ2J6TJBNEa
// SIG // 3vPa+OTClB8rc9M9MqkrHsvwbCfUYZ076oja1wMtEwcC
// SIG // AwEAAaOCAa8wggGrMA4GA1UdDwEB/wQEAwIHgDAfBgNV
// SIG // HSUEGDAWBgorBgEEAYI3PQYBBggrBgEFBQcDAzAMBgNV
// SIG // HRMBAf8EAjAAMB0GA1UdDgQWBBQmBkeooj1VeFa1e/hy
// SIG // jZGQTX+kqDBFBgNVHREEPjA8pDowODEeMBwGA1UECxMV
// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMRYwFAYDVQQFEw0y
// SIG // MzA4NjUrNTA0NTgxMB8GA1UdIwQYMBaAFB6C3w7XjLPX
// SIG // AjSDDtqrrWW5r7jsMGoGA1UdHwRjMGEwX6BdoFuGWWh0
// SIG // dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY3Js
// SIG // L01pY3Jvc29mdCUyMFdpbmRvd3MlMjBDb2RlJTIwU2ln
// SIG // bmluZyUyMFBDQSUyMDIwMjQuY3JsMHcGCCsGAQUFBwEB
// SIG // BGswaTBnBggrBgEFBQcwAoZbaHR0cDovL3d3dy5taWNy
// SIG // b3NvZnQuY29tL3BraW9wcy9jZXJ0cy9NaWNyb3NvZnQl
// SIG // MjBXaW5kb3dzJTIwQ29kZSUyMFNpZ25pbmclMjBQQ0El
// SIG // MjAyMDI0LmNydDANBgkqhkiG9w0BAQwFAAOCAgEAfsvy
// SIG // zZE4Anv72F4x8SK0v+9/hU7oLTDhu5f37olRcN6aC2hh
// SIG // rXJ+yxebPP4erKM+Ek/NkHmQN8vwA75eVV3jteZkTnBC
// SIG // 5BWfJG3c6l058rlqQzk05ueA19l1cMUHxSMWCagYo/Kc
// SIG // L5TQAea9yTgTgH3oDmndTbgqD9P2gOYYLuHIt3dIvi2g
// SIG // VR5tkZRzOOLItSshIPEbPYP0kD0oo8ETLQ2u07Fps+xd
// SIG // SfT/lFd+sjpsEOI3qReYfIRVEqwid8e7RKgNK7ostsgk
// SIG // 9eRXGiXZ0N7WfEUVHaAif6cbQyN2MkjCwNl2C7OKh86B
// SIG // f0zzzbWlg076+GvqwW1GZufKVfkteI4bZEAKDvtu+f2v
// SIG // hEnkUhHj/fh3XtxM9OlNTESrvronEz3w4VIIEl83GgyJ
// SIG // p0UuohYxK8iRh4UcmWKDKYQoy5/jwSXufJ7y/x1rj+5A
// SIG // jG0iTmM9YIVVP5OXIE2Kqv1dxMsyKNitDLcKFEHGcoJE
// SIG // 3QkVL+hLahVm8bSun8jOpmwqEYLNrSnTJfBDeZ0jEV2R
// SIG // K7MemxujOwYE4kj+ehf/x73S8hinwEduOzbuP9Z8YHAw
// SIG // WVXLwico+hZmCp70BFosW2lxZabwjL2oVBVdW/9RSpNh
// SIG // BeJ7TEnAo8kylF0k7fHIJlX0vBQdWJGZuyLAowZLmhlm
// SIG // xmQSypcC8rO8KRYarzsxghrqMIIa5gIBATB2MF8xCzAJ
// SIG // BgNVBAYTAlVTMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y
// SIG // cG9yYXRpb24xMDAuBgNVBAMTJ01pY3Jvc29mdCBXaW5k
// SIG // b3dzIENvZGUgU2lnbmluZyBQQ0EgMjAyNAITMwAAAIe8
// SIG // gm6Foa5TqAAAAAAAhzANBglghkgBZQMEAgEFAKCBrjAZ
// SIG // BgkqhkiG9w0BCQMxDAYKKwYBBAGCNwIBBDAcBgorBgEE
// SIG // AYI3AgELMQ4wDAYKKwYBBAGCNwIBFTAvBgkqhkiG9w0B
// SIG // CQQxIgQgxwh3jZudGY31ZZokIpD17/VsSercPMrIo3RQ
// SIG // YEv0wXswQgYKKwYBBAGCNwIBDDE0MDKgFIASAE0AaQBj
// SIG // AHIAbwBzAG8AZgB0oRqAGGh0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbTANBgkqhkiG9w0BAQEFAASCAgCIQYEnw4oe
// SIG // nNzXCTKTFL1XIXW6hv+Ecmu1RzgIY16rNhxcy4qp9Ygc
// SIG // oZS5A6j32HcmHRsLbbYeYx3DnGDy/dwsBPzo1tekDi23
// SIG // vQaQcqdgimVZB+MoSVgCW49nhl5/3zRIJoLOVunT77zp
// SIG // 5kry81Gu/7hCe14KdTFM7f2fnqJvB2kFykArsroBw9fI
// SIG // 9D2lFffHjaIVgPJLgV1akqqGCBNOe7fJJ583CUK6igNs
// SIG // u9plo98zbZ56CC6wYRZzOJ+nax++8QH15qe97PFSi98J
// SIG // BEkuOu/bMYZfi2WxJ17TXd5fnb+WRZeN6dzYPlJohNRX
// SIG // cpe0xo53qarjVt4S2QqcEhM3E2T1VfvfTCsAvLU5eHEc
// SIG // f0eGGzeC22hax2gP6IJWuaH5CA4mmBbSvkQsjyL9a2bn
// SIG // vU4kvkScr7I3ABRbegGSnz3UtvgdjKBGjQv2AzvND6nH
// SIG // 1MMR1ckdgkBJlRYjoGf25t3zL93vNohmjntpBFfAtYyR
// SIG // m5eXilM7VApMc+JCvKe0NUBU7I03sY3ND4TfQp+0pzT0
// SIG // aByEvKSC3AtY+YEwo6sV7W1e4vuEHjp6tSem7OhsijNO
// SIG // xk2kAy6CLvMeUxTTnNkOMx3dElO2ElSECl3JrW5CCGJJ
// SIG // ihql3w/IJoOar7taia4SkVXIFQ6vdQznEaS5KoUpU1Sf
// SIG // AiYuBXUcgM7piKGCF5QwgheQBgorBgEEAYI3AwMBMYIX
// SIG // gDCCF3wGCSqGSIb3DQEHAqCCF20wghdpAgEDMQ8wDQYJ
// SIG // YIZIAWUDBAIBBQAwggFSBgsqhkiG9w0BCRABBKCCAUEE
// SIG // ggE9MIIBOQIBAQYKKwYBBAGEWQoDATAxMA0GCWCGSAFl
// SIG // AwQCAQUABCAdAokafg+ozyIBx5m1K3lpj3I9E8E+gRZG
// SIG // /GAfl1uoBgIGaSc7g2tnGBMyMDI1MTIxMDIxNDYxMC41
// SIG // NzhaMASAAgH0oIHRpIHOMIHLMQswCQYDVQQGEwJVUzET
// SIG // MBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVk
// SIG // bW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0
// SIG // aW9uMSUwIwYDVQQLExxNaWNyb3NvZnQgQW1lcmljYSBP
// SIG // cGVyYXRpb25zMScwJQYDVQQLEx5uU2hpZWxkIFRTUyBF
// SIG // U046N0YwMC0wNUUwLUQ5NDcxJTAjBgNVBAMTHE1pY3Jv
// SIG // c29mdCBUaW1lLVN0YW1wIFNlcnZpY2WgghHqMIIHIDCC
// SIG // BQigAwIBAgITMwAAAgbXvFE4mCPsLAABAAACBjANBgkq
// SIG // hkiG9w0BAQsFADB8MQswCQYDVQQGEwJVUzETMBEGA1UE
// SIG // CBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEe
// SIG // MBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSYw
// SIG // JAYDVQQDEx1NaWNyb3NvZnQgVGltZS1TdGFtcCBQQ0Eg
// SIG // MjAxMDAeFw0yNTAxMzAxOTQyNTBaFw0yNjA0MjIxOTQy
// SIG // NTBaMIHLMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2Fz
// SIG // aGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UE
// SIG // ChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSUwIwYDVQQL
// SIG // ExxNaWNyb3NvZnQgQW1lcmljYSBPcGVyYXRpb25zMScw
// SIG // JQYDVQQLEx5uU2hpZWxkIFRTUyBFU046N0YwMC0wNUUw
// SIG // LUQ5NDcxJTAjBgNVBAMTHE1pY3Jvc29mdCBUaW1lLVN0
// SIG // YW1wIFNlcnZpY2UwggIiMA0GCSqGSIb3DQEBAQUAA4IC
// SIG // DwAwggIKAoICAQDpRIWbIM3Rlr397cjHaYx85l7I+ZVW
// SIG // GMCBCM911BpU6+IGWCqksqgqefZFEjKzNVDYC9YcgITA
// SIG // z276NGgvECm4ZfNv/FPwcaSDz7xbDbsOoxbwQoHUNRro
// SIG // +x5ubZhT6WJeU97F06+vDjAw/Yt1vWOgRTqmP/dNr9oq
// SIG // IbE5oCLYdH3wI/noYmsJVc7966n+B7UAGAWU2se3Lz+x
// SIG // dxnNsNX4CR6zIMVJTSezP/2STNcxJTu9k2sl7/vzOhxJ
// SIG // hCQ38rdaEoqhGHrXrmVkEhSv+S00DMJc1OIXxqfbwPjM
// SIG // qEVp7K3kmczCkbum1BOIJ2wuDAbKuJelpteNZj/S58NS
// SIG // Qw6khfuJAluqHK3igkS/Oux49qTP+rU+PQeNuD+GtrCo
// SIG // pFucRmanQvxISGNoxnBq3UeDTqphm6aI7GMHtFD6DOjJ
// SIG // lllH1gVWXPTyivf+4tN8TmO6yIgB4uP00bH9jn/dyyxS
// SIG // jxPQ2nGvZtgtqnvq3h3TRjRnkc+e1XB1uatDa1zUcS7r
// SIG // 3iodTpyATe2hgkVX3m4DhRzI6A4SJ6fbJM9isLH8AGKc
// SIG // ymisKzYupAeFSTJ10JEFa6MjHQYYohoCF77R0CCwMNjv
// SIG // E4XfLHu+qKPY8GQfsZdigQ9clUAiydFmVt61hytoxZP7
// SIG // LmXbzjD0VecyzZoL4Equ1XszBsulAr5Ld2KwcwIDAQAB
// SIG // o4IBSTCCAUUwHQYDVR0OBBYEFO0wsLKdDGpT97cx3Iym
// SIG // yo/SBm4SMB8GA1UdIwQYMBaAFJ+nFV0AXmJdg/Tl0mWn
// SIG // G1M1GelyMF8GA1UdHwRYMFYwVKBSoFCGTmh0dHA6Ly93
// SIG // d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY3JsL01pY3Jv
// SIG // c29mdCUyMFRpbWUtU3RhbXAlMjBQQ0ElMjAyMDEwKDEp
// SIG // LmNybDBsBggrBgEFBQcBAQRgMF4wXAYIKwYBBQUHMAKG
// SIG // UGh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMv
// SIG // Y2VydHMvTWljcm9zb2Z0JTIwVGltZS1TdGFtcCUyMFBD
// SIG // QSUyMDIwMTAoMSkuY3J0MAwGA1UdEwEB/wQCMAAwFgYD
// SIG // VR0lAQH/BAwwCgYIKwYBBQUHAwgwDgYDVR0PAQH/BAQD
// SIG // AgeAMA0GCSqGSIb3DQEBCwUAA4ICAQB23GZOfe9ThTUv
// SIG // D29i4t6lDpxJhpVRMme+UbyZhBFCZhoGTtjDdphAArU2
// SIG // Q61WYg3YVcl2RdJm5PUbZ2bA77zk+qtLxC+3dNxVsTcd
// SIG // txPDSSWgwBHxTj6pCmoDNXolAYsWpvHQFCHDqEfAiBxX
// SIG // 1dmaXbiTP1d0XffvgR6dshUcqaH/mFfjDZAxLU1s6HcV
// SIG // gCvBQJlJ7xEG5jFKdtqapKWcbUHwTVqXQGbIlHVClNJ3
// SIG // yqW6Z3UJH/CFcYiLV/e68urTmGtiZxGSYb4SBSPArTrT
// SIG // YeHOlQIj/7loVWmfWX2y4AGV/D+MzyZMyvFw4VyL0Vgq
// SIG // 96EzQKyteiVeBaVEjxQKo3AcPULRF4Uzz98P2tCM5XbF
// SIG // Z3Qoj9PLg3rgFXr0oJEhfh2tqUrhTJd13+i4/fek9zWi
// SIG // coshlwXgFu002ZWBVzASEFuqED48qyulZ/2jGJBcta+F
// SIG // dk2loP2K3oSj4PQQe1MzzVZO52AXO42MHlhm3SHo3/Rh
// SIG // Q+I1A0Ny+9uAehkQH6LrxkrVNvZG4f0PAKMbqUcXG7xz
// SIG // nKJ0x0HYr5ayWGbHKZRcObU+/34ZpL9NrXOedVDXmSd2
// SIG // ylKSl/vvi1QwNJqXJl/+gJkQEetqmHAUFQkFtemi8MUX
// SIG // QG2w/RDHXXwWAjE+qIDZLQ/k4z2Z216tWaR6RDKHGkwe
// SIG // CoDtQtzkHTCCB3EwggVZoAMCAQICEzMAAAAVxedrngKb
// SIG // SZkAAAAAABUwDQYJKoZIhvcNAQELBQAwgYgxCzAJBgNV
// SIG // BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYD
// SIG // VQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQg
// SIG // Q29ycG9yYXRpb24xMjAwBgNVBAMTKU1pY3Jvc29mdCBS
// SIG // b290IENlcnRpZmljYXRlIEF1dGhvcml0eSAyMDEwMB4X
// SIG // DTIxMDkzMDE4MjIyNVoXDTMwMDkzMDE4MzIyNVowfDEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWljcm9z
// SIG // b2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAwggIiMA0GCSqG
// SIG // SIb3DQEBAQUAA4ICDwAwggIKAoICAQDk4aZM57RyIQt5
// SIG // osvXJHm9DtWC0/3unAcH0qlsTnXIyjVX9gF/bErg4r25
// SIG // PhdgM/9cT8dm95VTcVrifkpa/rg2Z4VGIwy1jRPPdzLA
// SIG // EBjoYH1qUoNEt6aORmsHFPPFdvWGUNzBRMhxXFExN6AK
// SIG // OG6N7dcP2CZTfDlhAnrEqv1yaa8dq6z2Nr41JmTamDu6
// SIG // GnszrYBbfowQHJ1S/rboYiXcag/PXfT+jlPP1uyFVk3v
// SIG // 3byNpOORj7I5LFGc6XBpDco2LXCOMcg1KL3jtIckw+DJ
// SIG // j361VI/c+gVVmG1oO5pGve2krnopN6zL64NF50ZuyjLV
// SIG // wIYwXE8s4mKyzbnijYjklqwBSru+cakXW2dg3viSkR4d
// SIG // Pf0gz3N9QZpGdc3EXzTdEonW/aUgfX782Z5F37ZyL9t9
// SIG // X4C626p+Nuw2TPYrbqgSUei/BQOj0XOmTTd0lBw0gg/w
// SIG // EPK3Rxjtp+iZfD9M269ewvPV2HM9Q07BMzlMjgK8Qmgu
// SIG // EOqEUUbi0b1qGFphAXPKZ6Je1yh2AuIzGHLXpyDwwvoS
// SIG // CtdjbwzJNmSLW6CmgyFdXzB0kZSU2LlQ+QuJYfM2BjUY
// SIG // hEfb3BvR/bLUHMVr9lxSUV0S2yW6r1AFemzFER1y7435
// SIG // UsSFF5PAPBXbGjfHCBUYP3irRbb1Hode2o+eFnJpxq57
// SIG // t7c+auIurQIDAQABo4IB3TCCAdkwEgYJKwYBBAGCNxUB
// SIG // BAUCAwEAATAjBgkrBgEEAYI3FQIEFgQUKqdS/mTEmr6C
// SIG // kTxGNSnPEP8vBO4wHQYDVR0OBBYEFJ+nFV0AXmJdg/Tl
// SIG // 0mWnG1M1GelyMFwGA1UdIARVMFMwUQYMKwYBBAGCN0yD
// SIG // fQEBMEEwPwYIKwYBBQUHAgEWM2h0dHA6Ly93d3cubWlj
// SIG // cm9zb2Z0LmNvbS9wa2lvcHMvRG9jcy9SZXBvc2l0b3J5
// SIG // Lmh0bTATBgNVHSUEDDAKBggrBgEFBQcDCDAZBgkrBgEE
// SIG // AYI3FAIEDB4KAFMAdQBiAEMAQTALBgNVHQ8EBAMCAYYw
// SIG // DwYDVR0TAQH/BAUwAwEB/zAfBgNVHSMEGDAWgBTV9lbL
// SIG // j+iiXGJo0T2UkFvXzpoYxDBWBgNVHR8ETzBNMEugSaBH
// SIG // hkVodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny
// SIG // bC9wcm9kdWN0cy9NaWNSb29DZXJBdXRfMjAxMC0wNi0y
// SIG // My5jcmwwWgYIKwYBBQUHAQEETjBMMEoGCCsGAQUFBzAC
// SIG // hj5odHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2Nl
// SIG // cnRzL01pY1Jvb0NlckF1dF8yMDEwLTA2LTIzLmNydDAN
// SIG // BgkqhkiG9w0BAQsFAAOCAgEAnVV9/Cqt4SwfZwExJFvh
// SIG // nnJL/Klv6lwUtj5OR2R4sQaTlz0xM7U518JxNj/aZGx8
// SIG // 0HU5bbsPMeTCj/ts0aGUGCLu6WZnOlNN3Zi6th542DYu
// SIG // nKmCVgADsAW+iehp4LoJ7nvfam++Kctu2D9IdQHZGN5t
// SIG // ggz1bSNU5HhTdSRXud2f8449xvNo32X2pFaq95W2KFUn
// SIG // 0CS9QKC/GbYSEhFdPSfgQJY4rPf5KYnDvBewVIVCs/wM
// SIG // nosZiefwC2qBwoEZQhlSdYo2wh3DYXMuLGt7bj8sCXgU
// SIG // 6ZGyqVvfSaN0DLzskYDSPeZKPmY7T7uG+jIa2Zb0j/aR
// SIG // AfbOxnT99kxybxCrdTDFNLB62FD+CljdQDzHVG2dY3RI
// SIG // LLFORy3BFARxv2T5JL5zbcqOCb2zAVdJVGTZc9d/HltE
// SIG // AY5aGZFrDZ+kKNxnGSgkujhLmm77IVRrakURR6nxt67I
// SIG // 6IleT53S0Ex2tVdUCbFpAUR+fKFhbHP+CrvsQWY9af3L
// SIG // wUFJfn6Tvsv4O+S3Fb+0zj6lMVGEvL8CwYKiexcdFYmN
// SIG // cP7ntdAoGokLjzbaukz5m/8K6TT4JDVnK+ANuOaMmdbh
// SIG // IurwJ0I9JZTmdHRbatGePu1+oDEzfbzL6Xu/OHBE0ZDx
// SIG // yKs6ijoIYn/ZcGNTTY3ugm2lBRDBcQZqELQdVTNYs6Fw
// SIG // ZvKhggNNMIICNQIBATCB+aGB0aSBzjCByzELMAkGA1UE
// SIG // BhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNV
// SIG // BAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBD
// SIG // b3Jwb3JhdGlvbjElMCMGA1UECxMcTWljcm9zb2Z0IEFt
// SIG // ZXJpY2EgT3BlcmF0aW9uczEnMCUGA1UECxMeblNoaWVs
// SIG // ZCBUU1MgRVNOOjdGMDAtMDVFMC1EOTQ3MSUwIwYDVQQD
// SIG // ExxNaWNyb3NvZnQgVGltZS1TdGFtcCBTZXJ2aWNloiMK
// SIG // AQEwBwYFKw4DAhoDFQAEa0f118XHM/VNdqKBs4QXxNnN
// SIG // 96CBgzCBgKR+MHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xJjAk
// SIG // BgNVBAMTHU1pY3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAy
// SIG // MDEwMA0GCSqGSIb3DQEBCwUAAgUA7OQtQDAiGA8yMDI1
// SIG // MTIxMDE3MzI0OFoYDzIwMjUxMjExMTczMjQ4WjB0MDoG
// SIG // CisGAQQBhFkKBAExLDAqMAoCBQDs5C1AAgEAMAcCAQAC
// SIG // Agj9MAcCAQACAhJYMAoCBQDs5X7AAgEAMDYGCisGAQQB
// SIG // hFkKBAIxKDAmMAwGCisGAQQBhFkKAwKgCjAIAgEAAgMH
// SIG // oSChCjAIAgEAAgMBhqAwDQYJKoZIhvcNAQELBQADggEB
// SIG // AGtM57lrXXKLBgE/H+Poe8COftaxcvyy56d/I1z93lJg
// SIG // 4HonSbAXJiXeVphfdgF3WcqnrQ+zt9IXSvUZWhO7K+Xb
// SIG // dsV80c+XOCo46tNr6qZniAcWwXJsXRmgSasWbZSw5/07
// SIG // Pqn9oX9OKlqL5Zo97fpswob64iHPduy4bGjYK7cpQGhv
// SIG // orkJcnjcVwjwLO3RWfZ32vD2KzLZ2rmmUKgwIGeRgCa2
// SIG // CEfcZFwhJkma29nOj44eX/gI9Jr7LljyTaGKDmGakYD3
// SIG // iTYq1zf88rEiCUSMEHRB9grKsvMQ3cfknrM+IaUkaSn+
// SIG // azWGRMcNeLkQ6fk5Kcvq3DbvaU5lO2GlvkIxggQNMIIE
// SIG // CQIBATCBkzB8MQswCQYDVQQGEwJVUzETMBEGA1UECBMK
// SIG // V2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwG
// SIG // A1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSYwJAYD
// SIG // VQQDEx1NaWNyb3NvZnQgVGltZS1TdGFtcCBQQ0EgMjAx
// SIG // MAITMwAAAgbXvFE4mCPsLAABAAACBjANBglghkgBZQME
// SIG // AgEFAKCCAUowGgYJKoZIhvcNAQkDMQ0GCyqGSIb3DQEJ
// SIG // EAEEMC8GCSqGSIb3DQEJBDEiBCD1caQVWX/kCadlM9Hz
// SIG // gcywIarfEn/JWV4Sbwpg04kcTTCB+gYLKoZIhvcNAQkQ
// SIG // Ai8xgeowgecwgeQwgb0EIODo9ZSIkZ6dVtKT+E/uZx2W
// SIG // Ay7KiXM5R1JIOhNJf0vSMIGYMIGApH4wfDELMAkGA1UE
// SIG // BhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNV
// SIG // BAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBD
// SIG // b3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWljcm9zb2Z0IFRp
// SIG // bWUtU3RhbXAgUENBIDIwMTACEzMAAAIG17xROJgj7CwA
// SIG // AQAAAgYwIgQgvrQ6NyzYWk+I28EH8mA/6CQXYtBP9adS
// SIG // kSxGlCUE5tUwDQYJKoZIhvcNAQELBQAEggIA0EQHe8c9
// SIG // BxMSU+7ANyKuDniLTULzQ1b3V9xtYkjqaqJSkAzcH3t8
// SIG // 9cnMRzTvTOXEt+bgjvc9dfJqKlyporu8u40ErGogKCgz
// SIG // 1uQntifEpJfJMEpJFMdUu/VUnj73/83ceBCujKkLL6Tf
// SIG // c1/mjRbcLbppHO8pJMJFrpIy9nEVBu9T46iRt/63vl3h
// SIG // JXbJZ3njQSFt27ocTu0CqmYGyrqPH3xAaVjPcWV2xAix
// SIG // p6XkA5gEtDU22IkG13g9jaW/Qr3e7FhLKQayy3AGi8wi
// SIG // g4o/0rMLwvlC53ORPztVqGGkesVwMccZ1Erh0mjQ9Y93
// SIG // IuNI9jVUTND0hWNjogTkJoQYgHWz+qq2DALGoURJ5Lm6
// SIG // KDHXlLppIhW1GvBksWNuRpFR+y2XVpIti37o41KdLDua
// SIG // wf0SkUJ5Tfy5p5wuwWx3+EP16SDdc5+0U7kuDAI1l1hs
// SIG // YTFesB+BDLoacUIJfWrTYDU0kr88II8kEsf98QVRlziv
// SIG // CtE8LVQDS/f6qIBUIQm79u97oeNXDDtBzbOCi0XhXahy
// SIG // dnnd/BSOWKMsgg+z+nuboKZXBJUAjStSmmA/guFuiJUa
// SIG // bPTMR9Rk1eOn3EbNTTRHrtMq7ll33RtVzesqYt17vw4u
// SIG // Lz0l4yXZOo5w6dO1pTzj6DVeqTmEeA6FvXwyjXvZ0J0C
// SIG // h0xtvYS7QrgQ9Aw=
// SIG // End signature block
